cscope 15 $HOME/clientbe/source/source -q 0000008290 0001625839
	@build-aux/snippet/_Noreturn.h

1 #i‚de‡
_N‹ëu∫


2 #i‡(3 <
__GNUC__
 || (__GNUC__ =2 && 8 <
__GNUC_MINOR__
) \

3 || 0x5110 <
__SUNPRO_C
)

4 
	#_N‹ëu∫
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

	)

5 #ñi‡1200 <
_MSC_VER


6 
	#_N‹ëu∫
 
	`__de˛•ec
 (
n‹ëu∫
)

	)

8 
	#_N‹ëu∫


	)

	@build-aux/snippet/arg-nonnull.h

22 #i‚de‡
_GL_ARG_NONNULL


23 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

24 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

26 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

	@build-aux/snippet/c++defs.h

19 #i‚de‡
_GL_CXXDEFS_H


20 
	#_GL_CXXDEFS_H


	)

83 #i‡
deföed
 
__˝lu•lus


84 
	#_GL_EXTERN_C
 "C"

	)

86 
	#_GL_EXTERN_C
 

	)

96 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

97 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

98 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

99 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

108 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

109 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

117 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

118 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

119 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


120 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

121 
«me•a˚
 
GNULIB_NAMESPACE
 \

123 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

125 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

127 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

128 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

136 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


137 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

138 
«me•a˚
 
GNULIB_NAMESPACE
 \

140 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

141 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

143 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

145 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

146 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

156 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


163 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

164 
«me•a˚
 
GNULIB_NAMESPACE
 \

166 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

168 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

170 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

171 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

179 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


180 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

181 
«me•a˚
 
GNULIB_NAMESPACE
 \

183 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

184 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

186 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

188 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

189 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

198 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


204 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

205 
«me•a˚
 
GNULIB_NAMESPACE
 \

207 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

208 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

209 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

211 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

213 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

214 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

221 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


222 
	#_GL_CXXALIASWARN
(
func
) \

223 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

224 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

225 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

228 #i‡!
__OPTIMIZE__


229 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

230 
	`_GL_WARN_ON_USE
 (
func
, \

232 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

233 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


234 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

235 
	`__ty≥of__
 (
func
Ë
	)
func

237 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

238 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

241 
	#_GL_CXXALIASWARN
(
func
) \

242 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

248 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


249 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

250 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

251 
GNULIB_NAMESPACE
)

	)

252 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

253 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

256 #i‡!
__OPTIMIZE__


257 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

258 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

260 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

261 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


262 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

263 
	`__ty≥of__
 (
func
Ë
	)
func

265 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

266 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

269 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

270 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

	@build-aux/snippet/warn-on-use.h

66 #i‚de‡
_GL_WARN_ON_USE


68 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

70 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

71 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

72 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


74 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

75 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

77 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

78 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

88 #i‚de‡
_GL_WARN_ON_USE_CXX


89 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

90 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

91 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

92 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

93 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


95 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

96 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

98 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

99 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

105 #i‚de‡
_GL_WARN_EXTERN_C


106 #i‡
deföed
 
__˝lu•lus


107 
	#_GL_WARN_EXTERN_C
 "C"

	)

109 
	#_GL_WARN_EXTERN_C
 

	)

	@lib/accept.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
ac˚±


32 
	$Ωl_ac˚±
 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

34 
SOCKET
 
fh
 = 
	`ac˚±
 (
	`FD_TO_SOCKET
 (
fd
), 
addr
, 
addæí
);

35 i‡(
fh
 =
INVALID_SOCKET
)

37 
	`£t_wösock_î∫o
 ();

41  
	`SOCKET_TO_FD
 (
fh
);

42 
	}
}

	@lib/alignof.h

20 #i‚de‡
_ALIGNOF_H


21 
	#_ALIGNOF_H


	)

23 
	~<°ddef.h
>

29 #i‡
deföed
 
__˝lu•lus


30 
	gãm∂©e
 <
˛ass
 
	gty≥
> 
	sÆignof_hñ≥r
 { 
	m__¶Ÿ1
; 
ty≥
 
	m__¶Ÿ2
; };

31 
	#Æignof_¶Ÿ
(
ty≥
Ë
	`off£tof
 (
Æignof_hñ≥r
<ty≥>, 
__¶Ÿ2
)

	)

33 
	#Æignof_¶Ÿ
(
ty≥
Ë
	`off£tof
 (°ru˘ { 
__¶Ÿ1
;Åy≥ 
__¶Ÿ2
; }, __¶Ÿ2)

	)

43 #i‡
deföed
 
__GNUC__


44 
	#Æignof_ty≥
 
__Æignof__


	)

46 
	#Æignof_ty≥
 
Æignof_¶Ÿ


	)

53 
	#Æignof
 
Æignof_¶Ÿ


	)

	@lib/alloca.c

26 
	~<c⁄fig.h
>

28 
	~<Æloˇ.h
>

30 
	~<°rög.h
>

31 
	~<°dlib.h
>

33 #ifde‡
emacs


34 
	~"li•.h
"

35 
	~"blocköput.h
"

36 #ifde‡
EMACS_FREE


37 #unde‡
‰ì


38 
	#‰ì
 
EMACS_FREE


	)

41 
	#mem‹y_fuŒ
(Ë
	`ab‹t
 ()

	)

45 #i‡!
deföed
 (
__GNUC__
) || __GNUC__ < 2

49 #i‚de‡
Æloˇ


51 #ifde‡
emacs


57 #i‚de‡
STACK_DIRECTION


58 
you


59 
	glo£


60 -- 
mu°
 
know
 
STACK_DIRECTION
 
©
 
	gcompûe
-
	gtime


70 #i‡
deföed
 (
CRAY
Ë&& deföed (
CRAY_STACKSEG_END
)

71 
i00afunc
 ();

72 
	#ADDRESS_FUNCTION
(
¨g
Ë(*Ë
	`i00afunc
 (&◊rg))

	)

74 
	#ADDRESS_FUNCTION
(
¨g
Ë&◊rg)

	)

85 #i‚de‡
STACK_DIRECTION


86 
	#STACK_DIRECTION
 0

	)

89 #i‡
STACK_DIRECTION
 != 0

91 
	#STACK_DIR
 
STACK_DIRECTION


	)

95 
	g°ack_dú
;

96 
	#STACK_DIR
 
°ack_dú


	)

99 
	$föd_°ack_dúe˘i⁄
 (*
addr
, 
dïth
)

101 
dú
, 
dummy
 = 0;

102 i‡(! 
addr
)

103 
addr
 = &
dummy
;

104 *
addr
 =ádd∏< &
dummy
 ? 1 :áddr == &dummy ? 0 : -1;

105 
dú
 = 
dïth
 ? 
	`föd_°ack_dúe˘i⁄
 (
addr
, depth - 1) : 0;

106  
dú
 + 
dummy
;

107 
	}
}

118 #i‚de‡ 
ALIGN_SIZE


119 
	#ALIGN_SIZE
 ()

	)

122 
	uhdr


124 
	mÆign
[
ALIGN_SIZE
];

127 
hdr
 *
	m√xt
;

128 *
	mdìp
;

129 } 
	mh
;

130 } 
	thódî
;

132 
hódî
 *
	gœ°_Æloˇ_hódî
 = 
NULL
;

142 
	$Æloˇ
 (
size_t
 
size
)

144 autÿ
¥obe
;

145 *
dïth
 = 
	`ADDRESS_FUNCTION
 (
¥obe
);

147 #i‡
STACK_DIRECTION
 == 0

148 i‡(
STACK_DIR
 == 0)

149 
STACK_DIR
 = 
	`föd_°ack_dúe˘i⁄
 (
NULL
, (
size
 & 1) + 20);

156 
hódî
 *
hp
;

158 #ifde‡
emacs


159 
BLOCK_INPUT
;

162 
hp
 = 
œ°_Æloˇ_hódî
; h∞!
NULL
;)

163 i‡((
STACK_DIR
 > 0 && 
hp
->
h
.
dìp
 > 
dïth
)

164 || (
STACK_DIR
 < 0 && 
hp
->
h
.
dìp
 < 
dïth
))

166 
hódî
 *
≈
 = 
hp
->
h
.
√xt
;

168 
	`‰ì
 (
hp
);

170 
hp
 = 
≈
;

175 
œ°_Æloˇ_hódî
 = 
hp
;

177 #ifde‡
emacs


178 
UNBLOCK_INPUT
;

182 i‡(
size
 == 0)

183  
NULL
;

189 
hódî
 *
√w
;

191 
size_t
 
comböed_size
 =  (
hódî
Ë+ 
size
;

192 i‡(
comböed_size
 <  (
hódî
))

193 
	`mem‹y_fuŒ
 ();

195 
√w
 = 
	`mÆloc
 (
comböed_size
);

197 i‡(! 
√w
)

198 
	`mem‹y_fuŒ
 ();

200 
√w
->
h
.
√xt
 = 
œ°_Æloˇ_hódî
;

201 
√w
->
h
.
dìp
 = 
dïth
;

203 
œ°_Æloˇ_hódî
 = 
√w
;

207  (*Ë(
√w
 + 1);

209 
	}
}

211 #i‡
deföed
 (
CRAY
Ë&& deföed (
CRAY_STACKSEG_END
)

213 #ifde‡
DEBUG_I00AFUNC


214 
	~<°dio.h
>

217 #i‚de‡
CRAY_STACK


218 
	#CRAY_STACK


	)

219 #i‚de‡
CRAY2


221 
	s°ack_c⁄åﬁ_hódî


223 
	mshgrow
:32;

224 
	msha£g
:32;

225 
	mshhwm
:32;

226 
	mshsize
:32;

236 
	s°ack_£gmít_lökage


238 
	mss
[0200];

239 
	msssize
:32;

240 
	mssba£
:32;

242 
	ms•£g
:32;

245 
	ms°˝t
:32;

246 
	mssc¢m
;

248 
	mssu§1
;

249 
	mssu§2
;

250 
	ms°pid
;

251 
	mssgvup
;

252 
	mss¸ay
[7];

253 
	msß0
;

254 
	msß1
;

255 
	msß2
;

256 
	msß3
;

257 
	msß4
;

258 
	msß5
;

259 
	msß6
;

260 
	msß7
;

261 
	msss0
;

262 
	msss1
;

263 
	msss2
;

264 
	msss3
;

265 
	msss4
;

266 
	msss5
;

267 
	msss6
;

268 
	msss7
;

274 
	s°k_°©


276 
	mnow
;

277 
	mmaxc
;

280 
	mhigh_w©î
;

281 
	movîÊows
;

282 
	mhôs
;

283 
	mexãnds
;

284 
	m°ko_mÆlocs
;

285 
	mundîÊows
;

286 
	m°ko_‰ì
;

287 
	m°km_‰ì
;

288 
	m£gmíts
;

289 
	mmaxs
;

290 
	m∑d_size
;

291 
	mcuºít_addªss
;

292 
	mcuºít_size
;

295 
	möôül_addªss
;

296 
	möôül_size
;

303 
	s°k_åaûî


305 
	mthis_addªss
;

306 
	mthis_size
;

308 
	munknown2
;

309 
	munknown3
;

310 
	mlök
;

312 
	munknown5
;

313 
	munknown6
;

314 
	munknown7
;

315 
	munknown8
;

316 
	munknown9
;

317 
	munknown10
;

318 
	munknown11
;

319 
	munknown12
;

320 
	munknown13
;

321 
	munknown14
;

327 #ifde‡
CRAY2


332 
	$i00afunc
 (*
addªss
)

334 
°k_°©
 
°©us
;

335 
°k_åaûî
 *
åaûî
;

336 *
block
, 
size
;

337 
ªsu…
 = 0;

344 
	`STKSTAT
 (&
°©us
);

348 
åaûî
 = (
°k_åaûî
 *Ë(
°©us
.
cuºít_addªss


349 + 
°©us
.
cuºít_size


355 i‡(
åaûî
 == 0)

356 
	`ab‹t
 ();

360 
åaûî
 != 0)

362 
block
 = (*Ë
åaûî
->
this_addªss
;

363 
size
 = 
åaûî
->
this_size
;

364 i‡(
block
 =0 || 
size
 == 0)

365 
	`ab‹t
 ();

366 
åaûî
 = (
°k_åaûî
 *Ëåaûî->
lök
;

367 i‡((
block
 <
addªss
Ë&& (addªs†< (block + 
size
)))

374 
ªsu…
 = 
addªss
 - 
block
;

376 i‡(
åaûî
 == 0)

378  
ªsu…
;

383 i‡(
åaûî
->
this_size
 <= 0)

384 
	`ab‹t
 ();

385 
ªsu…
 +
åaûî
->
this_size
;

386 
åaûî
 = (
°k_åaûî
 *Ëåaûî->
lök
;

388 
åaûî
 != 0);

395  (
ªsu…
);

396 
	}
}

406 
	$i00afunc
 (
addªss
)

408 
°kl
 = 0;

410 
size
, 
p£g
, 
this_£gmít
, 
°ack
;

411 
ªsu…
 = 0;

413 
°ack_£gmít_lökage
 *
s•å
;

423 
°kl
 = 
	`CRAY_STACKSEG_END
 ();

424 
s•å
 = (
°ack_£gmít_lökage
 *Ë
°kl
;

432 
p£g
 = 
s•å
->
s•£g
;

433 
size
 = 
s•å
->
sssize
;

435 
this_£gmít
 = 
°kl
 - 
size
;

441 !(
this_£gmít
 <
addªss
 &&áddªs†<
°kl
))

443 #ifde‡
DEBUG_I00AFUNC


444 
	`Ârötf
 (
°dîr
, "%011ÿ%011ÿ%011o\n", 
this_£gmít
, 
addªss
, 
°kl
);

446 i‡(
p£g
 == 0)

448 
°kl
 = stk»- 
p£g
;

449 
s•å
 = (
°ack_£gmít_lökage
 *Ë
°kl
;

450 
size
 = 
s•å
->
sssize
;

451 
p£g
 = 
s•å
->
s•£g
;

452 
this_£gmít
 = 
°kl
 - 
size
;

455 
ªsu…
 = 
addªss
 - 
this_£gmít
;

462 
p£g
 != 0)

464 #ifde‡
DEBUG_I00AFUNC


465 
	`Ârötf
 (
°dîr
, "%011ÿ%011o\n", 
p£g
, 
size
);

467 
°kl
 = stk»- 
p£g
;

468 
s•å
 = (
°ack_£gmít_lökage
 *Ë
°kl
;

469 
size
 = 
s•å
->
sssize
;

470 
p£g
 = 
s•å
->
s•£g
;

471 
ªsu…
 +
size
;

473  (
ªsu…
);

474 
	}
}

	@lib/alloca.h

26 #i‚de‡
_GL_ALLOCA_H


27 
	#_GL_ALLOCA_H


	)

40 #i‚de‡
Æloˇ


41 #ifde‡
__GNUC__


42 
	#Æloˇ
 
__buûtö_Æloˇ


	)

43 #ñi‡
deföed
 
_AIX


44 
	#Æloˇ
 
__Æloˇ


	)

45 #ñi‡
deföed
 
_MSC_VER


46 
	~<mÆloc.h
>

47 
	#Æloˇ
 
_Æloˇ


	)

48 #ñi‡
deföed
 
__DECC
 && deföed 
__VMS


49 
	#Æloˇ
 
__ALLOCA


	)

51 
	~<°ddef.h
>

52 #ifde‡ 
__˝lu•lus


55 *
Æloˇ
 (
size_t
);

	@lib/alloca.in.h

25 #i‚de‡
_GL_ALLOCA_H


26 
	#_GL_ALLOCA_H


	)

39 #i‚de‡
Æloˇ


40 #ifde‡
__GNUC__


41 
	#Æloˇ
 
__buûtö_Æloˇ


	)

42 #ñi‡
deföed
 
_AIX


43 
	#Æloˇ
 
__Æloˇ


	)

44 #ñi‡
deföed
 
_MSC_VER


45 
	~<mÆloc.h
>

46 
	#Æloˇ
 
_Æloˇ


	)

47 #ñi‡
deföed
 
__DECC
 && deföed 
__VMS


48 
	#Æloˇ
 
__ALLOCA


	)

50 
	~<°ddef.h
>

51 #ifde‡ 
__˝lu•lus


54 *
Æloˇ
 (
size_t
);

	@lib/arg-nonnull.h

4 #i‚de‡
_GL_ARG_NONNULL


5 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

6 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

8 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

	@lib/arpa/inet.h

22 #i‚de‡
_GL_ARPA_INET_H


24 #i‡
__GNUC__
 >= 3

25 #¥agm®
GCC
 
sy°em_hódî


30 
	~<„©uªs.h
>

36 #i‚de‡
__GLIBC__


37 
	~<sys/sockë.h
>

42 #i‡
deföed
 
__TANDEM
 && !deföed 
__GLIBC__


43 
	~<√tdb.h
>

49 #ö˛ude_√xà<
¨∑
/
öë
.
h
>

53 #i‚de‡
_GL_ARPA_INET_H


54 
	#_GL_ARPA_INET_H


	)

57 #i‚de‡
_GL_CXXDEFS_H


58 
	#_GL_CXXDEFS_H


	)

121 #i‡
deföed
 
__˝lu•lus


122 
	#_GL_EXTERN_C
 "C"

	)

124 
	#_GL_EXTERN_C
 

	)

134 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

135 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

136 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

137 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

146 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

147 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

155 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

156 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

157 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


158 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

159 
«me•a˚
 
GNULIB_NAMESPACE
 \

161 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

163 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

165 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

166 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

174 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


175 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

176 
«me•a˚
 
GNULIB_NAMESPACE
 \

178 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

179 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

181 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

183 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

184 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

194 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


201 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

202 
«me•a˚
 
GNULIB_NAMESPACE
 \

204 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

206 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

209 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

217 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


218 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

219 
«me•a˚
 
GNULIB_NAMESPACE
 \

221 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

222 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

224 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

226 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

227 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

236 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


242 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

243 
«me•a˚
 
GNULIB_NAMESPACE
 \

245 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

246 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

247 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

249 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

251 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

252 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

259 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


260 
	#_GL_CXXALIASWARN
(
func
) \

261 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

262 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

263 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

266 #i‡!
__OPTIMIZE__


267 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

268 
	`_GL_WARN_ON_USE
 (
func
, \

270 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

271 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


272 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

273 
	`__ty≥of__
 (
func
Ë
	)
func

275 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

276 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

279 
	#_GL_CXXALIASWARN
(
func
) \

280 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

286 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


287 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

288 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

289 
GNULIB_NAMESPACE
)

	)

290 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

291 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

294 #i‡!
__OPTIMIZE__


295 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

296 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

298 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

299 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


300 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

301 
	`__ty≥of__
 (
func
Ë
	)
func

303 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

304 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

307 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

308 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

317 #i‚de‡
_GL_ARG_NONNULL


318 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

319 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

321 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

326 #i‚de‡
_GL_WARN_ON_USE


328 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

330 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

331 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

332 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


334 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

335 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

337 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

338 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

348 #i‚de‡
_GL_WARN_ON_USE_CXX


349 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

350 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

351 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

352 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

353 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


355 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

356 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

358 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

359 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

365 #i‚de‡
_GL_WARN_EXTERN_C


366 #i‡
deföed
 
__˝lu•lus


367 
	#_GL_WARN_EXTERN_C
 "C"

	)

369 
	#_GL_WARN_EXTERN_C
 

	)

391 
_GL_FUNCDECL_SYS
 (
öë_¡›
, const *,

392 (
af
, c⁄° *
ª°ri˘
 
§c
,

393 *
ª°ri˘
 
d°
, 
sockÀn_t
 
˙t
)

394 
_GL_ARG_NONNULL
 ((2, 3)));

398 
_GL_CXXALIAS_SYS_CAST
 (
öë_¡›
, const *,

399 (
af
, c⁄° *
ª°ri˘
 
§c
,

400 *
ª°ri˘
 
d°
, 
sockÀn_t
 
˙t
));

401 
_GL_CXXALIASWARN
 (
öë_¡›
);

402 #ñi‡
deföed
 
GNULIB_POSIXCHECK


403 #unde‡
öë_¡›


404 #i‡
HAVE_RAW_DECL_INET_NTOP


405 
_GL_WARN_ON_USE
 (
öë_¡›
, "inet_ntop is unportable - "

412 
_GL_FUNCDECL_SYS
 (
öë_±⁄
, ,

413 (
af
, c⁄° *
ª°ri˘
 
§c
, *ª°ri˘ 
d°
)

414 
_GL_ARG_NONNULL
 ((2, 3)));

416 
_GL_CXXALIAS_SYS
 (
öë_±⁄
, ,

417 (
af
, c⁄° *
ª°ri˘
 
§c
, *ª°ri˘ 
d°
));

418 
_GL_CXXALIASWARN
 (
öë_±⁄
);

419 #ñi‡
deföed
 
GNULIB_POSIXCHECK


420 #unde‡
öë_±⁄


421 #i‡
HAVE_RAW_DECL_INET_PTON


422 
_GL_WARN_ON_USE
 (
öë_±⁄
, "inet_pton is unportable - "

	@lib/arpa_inet.in.h

21 #i‚de‡
_
@
GUARD_PREFIX
@
_ARPA_INET_H


23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

28 #i‡@
HAVE_FEATURES_H
@

29 
	~<„©uªs.h
>

35 #i‚de‡
__GLIBC__


36 
	~<sys/sockë.h
>

41 #i‡
deföed
 
__TANDEM
 && !deföed 
__GLIBC__


42 
	~<√tdb.h
>

45 #i‡@
HAVE_ARPA_INET_H
@

48 #@
INCLUDE_NEXT
@ @
NEXT_ARPA_INET_H
@

52 #i‚de‡
_
@
GUARD_PREFIX
@
_ARPA_INET_H


53 
	#_
@
GUARD_PREFIX
@
_ARPA_INET_H


	)

62 #i‡@
GNULIB_INET_NTOP
@

63 #i‡!@
HAVE_DECL_INET_NTOP
@

79 
_GL_FUNCDECL_SYS
 (
öë_¡›
, const *,

80 (
af
, c⁄° *
ª°ri˘
 
§c
,

81 *
ª°ri˘
 
d°
, 
sockÀn_t
 
˙t
)

82 
_GL_ARG_NONNULL
 ((2, 3)));

86 
_GL_CXXALIAS_SYS_CAST
 (
öë_¡›
, const *,

87 (
af
, c⁄° *
ª°ri˘
 
§c
,

88 *
ª°ri˘
 
d°
, 
sockÀn_t
 
˙t
));

89 
_GL_CXXALIASWARN
 (
öë_¡›
);

90 #ñi‡
deföed
 
GNULIB_POSIXCHECK


91 #unde‡
öë_¡›


92 #i‡
HAVE_RAW_DECL_INET_NTOP


93 
_GL_WARN_ON_USE
 (
öë_¡›
, "inet_ntop is unportable - "

98 #i‡@
GNULIB_INET_PTON
@

99 #i‡!@
HAVE_DECL_INET_PTON
@

100 
_GL_FUNCDECL_SYS
 (
öë_±⁄
, ,

101 (
af
, c⁄° *
ª°ri˘
 
§c
, *ª°ri˘ 
d°
)

102 
_GL_ARG_NONNULL
 ((2, 3)));

104 
_GL_CXXALIAS_SYS
 (
öë_±⁄
, ,

105 (
af
, c⁄° *
ª°ri˘
 
§c
, *ª°ri˘ 
d°
));

106 
_GL_CXXALIASWARN
 (
öë_±⁄
);

107 #ñi‡
deföed
 
GNULIB_POSIXCHECK


108 #unde‡
öë_±⁄


109 #i‡
HAVE_RAW_DECL_INET_PTON


110 
_GL_WARN_ON_USE
 (
öë_±⁄
, "inet_pton is unportable - "

	@lib/asnprintf.c

20 
	~<c⁄fig.h
>

23 
	~"va¢¥ötf.h
"

25 
	~<°d¨g.h
>

28 
	$a¢¥ötf
 (*
ªsu…buf
, 
size_t
 *
Àngthp
, c⁄° *
f‹m©
, ...)

30 
va_li°
 
¨gs
;

31 *
ªsu…
;

33 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

34 
ªsu…
 = 
	`va¢¥ötf
 (
ªsu…buf
, 
Àngthp
, 
f‹m©
, 
¨gs
);

35 
	`va_íd
 (
¨gs
);

36  
ªsu…
;

37 
	}
}

	@lib/asprintf.c

21 
	~<c⁄fig.h
>

24 #ifde‡
IN_LIBASPRINTF


25 
	~"va•rötf.h
"

27 
	~<°dio.h
>

30 
	~<°d¨g.h
>

33 
	$a•rötf
 (**
ªsu…p
, c⁄° *
f‹m©
, ...)

35 
va_li°
 
¨gs
;

36 
ªsu…
;

38 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

39 
ªsu…
 = 
	`va•rötf
 (
ªsu…p
, 
f‹m©
, 
¨gs
);

40 
	`va_íd
 (
¨gs
);

41  
ªsu…
;

42 
	}
}

	@lib/basename-lgpl.c

19 
	~<c⁄fig.h
>

21 
	~"dú«me.h
"

23 
	~<°rög.h
>

30 
	$œ°_comp⁄ít
 (c⁄° *
«me
)

32 c⁄° *
ba£
 = 
«me
 + 
	`FILE_SYSTEM_PREFIX_LEN
 (name);

33 c⁄° *
p
;

34 
boﬁ
 
ßw_¶ash
 = 
Ál£
;

36 
	`ISSLASH
 (*
ba£
))

37 
ba£
++;

39 
p
 = 
ba£
; *p;Ö++)

41 i‡(
	`ISSLASH
 (*
p
))

42 
ßw_¶ash
 = 
åue
;

43 i‡(
ßw_¶ash
)

45 
ba£
 = 
p
;

46 
ßw_¶ash
 = 
Ál£
;

50  (*Ë
ba£
;

51 
	}
}

57 
size_t


58 
	$ba£_Àn
 (c⁄° *
«me
)

60 
size_t
 
Àn
;

61 
size_t
 
¥efix_Àn
 = 
	`FILE_SYSTEM_PREFIX_LEN
 (
«me
);

63 
Àn
 = 
	`°æí
 (
«me
); 1 <Üí && 
	`ISSLASH
 (name[len - 1]);Üen--)

66 i‡(
DOUBLE_SLASH_IS_DISTINCT_ROOT
 && 
Àn
 == 1

67 && 
	`ISSLASH
 (
«me
[0]) && ISSLASH (name[1]) && !Çame[2])

70 i‡(
FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE
 && 
¥efix_Àn


71 && 
Àn
 =
¥efix_Àn
 && 
	`ISSLASH
 (
«me
[prefix_len]))

72  
¥efix_Àn
 + 1;

74  
Àn
;

75 
	}
}

	@lib/binary-io.h

17 #i‚de‡
_BINARY_H


18 
	#_BINARY_H


	)

22 
	~<f˙é.h
>

26 
	~<°dio.h
>

30 #i‡
O_BINARY


31 #i‡
deföed
 
__EMX__
 || deföed 
__DJGPP__
 || deföed 
__CYGWIN__


32 
	~<io.h
>

34 
	#£tmode
 
_£tmode


	)

35 #unde‡
fûío


36 
	#fûío
 
_fûío


	)

38 #ifde‡
__DJGPP__


39 
	~<uni°d.h
>

43 
	#SET_BINARY
(
fd
Ë((Ë(!
	`ißây
 (fdË? (
	`£tmode
 (fd, 
O_BINARY
), 0Ë: 0))

	)

45 
	#SET_BINARY
(
fd
Ë((Ë
	`£tmode
 (fd, 
O_BINARY
))

	)

49 
	#SET_BINARY
(
fd
Ë ((Ë0)

	)

	@lib/bind.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
böd


32 
	$Ωl_böd
 (
fd
, c⁄° 
sockaddr
 *sockaddr, 
sockÀn_t
 
Àn
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`böd
 (
sock
, 
sockaddr
, 
Àn
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/c++defs.h

1 #i‚de‡
_GL_CXXDEFS_H


2 
	#_GL_CXXDEFS_H


	)

65 #i‡
deföed
 
__˝lu•lus


66 
	#_GL_EXTERN_C
 "C"

	)

68 
	#_GL_EXTERN_C
 

	)

78 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

79 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

80 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

81 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

90 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

91 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

99 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

100 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

101 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


102 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

103 
«me•a˚
 
GNULIB_NAMESPACE
 \

105 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

107 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

109 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

110 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

118 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


119 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

120 
«me•a˚
 
GNULIB_NAMESPACE
 \

122 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

123 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

125 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

127 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

128 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

138 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


145 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

146 
«me•a˚
 
GNULIB_NAMESPACE
 \

148 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

150 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

152 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

153 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

161 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


162 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

163 
«me•a˚
 
GNULIB_NAMESPACE
 \

165 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

166 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

168 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

170 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

171 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

180 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


186 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

187 
«me•a˚
 
GNULIB_NAMESPACE
 \

189 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

190 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

191 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

193 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

195 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

196 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

203 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


204 
	#_GL_CXXALIASWARN
(
func
) \

205 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

206 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

207 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

210 #i‡!
__OPTIMIZE__


211 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

212 
	`_GL_WARN_ON_USE
 (
func
, \

214 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

215 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


216 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

217 
	`__ty≥of__
 (
func
Ë
	)
func

219 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

220 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

223 
	#_GL_CXXALIASWARN
(
func
) \

224 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

230 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


231 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

232 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

233 
GNULIB_NAMESPACE
)

	)

234 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

235 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

238 #i‡!
__OPTIMIZE__


239 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

240 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

242 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

243 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


244 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

245 
	`__ty≥of__
 (
func
Ë
	)
func

247 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

248 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

251 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

252 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

	@lib/c-ctype.c

21 
	~<c⁄fig.h
>

24 
	#NO_C_CTYPE_MACROS


	)

25 
	~"c-˘y≥.h
"

29 
boﬁ


30 
	$c_ißscii
 (
c
)

32  (
c
 >= 0x00 && c <= 0x7f);

33 
	}
}

35 
boﬁ


36 
	$c_iß um
 (
c
)

38 #i‡
C_CTYPE_CONSECUTIVE_DIGITS
 \

39 && 
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


40 #i‡
C_CTYPE_ASCII


41  ((
c
 >= '0' && c <= '9')

42 || ((
c
 & ~0x20) >= 'A' && (c & ~0x20) <= 'Z'));

44  ((
c
 >= '0' && c <= '9')

45 || (
c
 >= 'A' && c <= 'Z')

46 || (
c
 >= 'a' && c <= 'z'));

49 
c
)

68 
	}
}

70 
boﬁ


71 
	$c_ißÕha
 (
c
)

73 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


74 #i‡
C_CTYPE_ASCII


75  ((
c
 & ~0x20) >= 'A' && (c & ~0x20) <= 'Z');

77  ((
c
 >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z'));

80 
c
)

97 
	}
}

99 
boﬁ


100 
	$c_isbœnk
 (
c
)

102  (
c
 == ' ' || c == '\t');

103 
	}
}

105 
boﬁ


106 
	$c_is˙ål
 (
c
)

108 #i‡
C_CTYPE_ASCII


109  ((
c
 & ~0x1f) == 0 || c == 0x7f);

111 
c
)

137 
	}
}

139 
boﬁ


140 
	$c_isdigô
 (
c
)

142 #i‡
C_CTYPE_CONSECUTIVE_DIGITS


143  (
c
 >= '0' && c <= '9');

145 
c
)

154 
	}
}

156 
boﬁ


157 
	$c_i¶owî
 (
c
)

159 #i‡
C_CTYPE_CONSECUTIVE_LOWERCASE


160  (
c
 >= 'a' && c <= 'z');

162 
c
)

174 
	}
}

176 
boﬁ


177 
	$c_isgøph
 (
c
)

179 #i‡
C_CTYPE_ASCII


180  (
c
 >= '!' && c <= '~');

182 
c
)

208 
	}
}

210 
boﬁ


211 
	$c_i•röt
 (
c
)

213 #i‡
C_CTYPE_ASCII


214  (
c
 >= ' ' && c <= '~');

216 
c
)

242 
	}
}

244 
boﬁ


245 
	$c_i•un˘
 (
c
)

247 #i‡
C_CTYPE_ASCII


248  ((
c
 >= '!' && c <= '~')

249 && !((
c
 >= '0' && c <= '9')

250 || ((
c
 & ~0x20) >= 'A' && (c & ~0x20) <= 'Z')));

252 
c
)

266 
	}
}

268 
boﬁ


269 
	$c_is•a˚
 (
c
)

271  (
c
 == ' ' || c == '\t'

272 || 
c
 == '\n' || c == '\v' || c == '\f' || c == '\r');

273 
	}
}

275 
boﬁ


276 
	$c_isuµî
 (
c
)

278 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE


279  (
c
 >= 'A' && c <= 'Z');

281 
c
)

293 
	}
}

295 
boﬁ


296 
	$c_isxdigô
 (
c
)

298 #i‡
C_CTYPE_CONSECUTIVE_DIGITS
 \

299 && 
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


300 #i‡
C_CTYPE_ASCII


301  ((
c
 >= '0' && c <= '9')

302 || ((
c
 & ~0x20) >= 'A' && (c & ~0x20) <= 'F'));

304  ((
c
 >= '0' && c <= '9')

305 || (
c
 >= 'A' && c <= 'F')

306 || (
c
 >= 'a' && c <= 'f'));

309 
c
)

320 
	}
}

323 
	$c_tﬁowî
 (
c
)

325 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


326  (
c
 >= 'A' && c <= 'Z' ? c - 'A' + 'a' : c);

328 
c
)

356 :  
c
;

359 
	}
}

362 
	$c_touµî
 (
c
)

364 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


365  (
c
 >= 'a' && c <= 'z' ? c - 'a' + 'A' : c);

367 
c
)

395 :  
c
;

398 
	}
}

	@lib/c-ctype.h

26 #i‚de‡
C_CTYPE_H


27 
	#C_CTYPE_H


	)

29 
	~<°dboﬁ.h
>

32 #ifde‡
__˝lu•lus


49 
	#C_CTYPE_CONSECUTIVE_DIGITS
 1

	)

61 
	#C_CTYPE_CONSECUTIVE_UPPERCASE
 1

	)

74 
	#C_CTYPE_CONSECUTIVE_LOWERCASE
 1

	)

102 
	#C_CTYPE_ASCII
 1

	)

123 
boﬁ
 
c_ißscii
 (
c
);

125 
boﬁ
 
c_iß um
 (
c
);

126 
boﬁ
 
c_ißÕha
 (
c
);

127 
boﬁ
 
c_isbœnk
 (
c
);

128 
boﬁ
 
c_is˙ål
 (
c
);

129 
boﬁ
 
c_isdigô
 (
c
);

130 
boﬁ
 
c_i¶owî
 (
c
);

131 
boﬁ
 
c_isgøph
 (
c
);

132 
boﬁ
 
c_i•röt
 (
c
);

133 
boﬁ
 
c_i•un˘
 (
c
);

134 
boﬁ
 
c_is•a˚
 (
c
);

135 
boﬁ
 
c_isuµî
 (
c
);

136 
boﬁ
 
c_isxdigô
 (
c
);

138 
c_tﬁowî
 (
c
);

139 
c_touµî
 (
c
);

142 #i‡
deföed
 
__GNUC__
 && deföed 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 && !deföed 
NO_C_CTYPE_MACROS


146 #unde‡
c_ißscii


147 
	#c_ißscii
(
c
) \

148 ({ 
__c
 = (
c
); \

149 (
__c
 >= 0x00 && __c <= 0x7f); \

150 })

	)

152 #i‡
C_CTYPE_CONSECUTIVE_DIGITS
 \

153 && 
	gC_CTYPE_CONSECUTIVE_UPPERCASE
 && 
	gC_CTYPE_CONSECUTIVE_LOWERCASE


154 #i‡
C_CTYPE_ASCII


155 #unde‡
c_iß um


156 
	#c_iß um
(
c
) \

157 ({ 
__c
 = (
c
); \

158 ((
__c
 >= '0' && __c <= '9') \

159 || ((
__c
 & ~0x20) >= 'A' && (__c & ~0x20) <= 'Z')); \

160 })

	)

162 #unde‡
c_iß um


163 
	#c_iß um
(
c
) \

164 ({ 
__c
 = (
c
); \

165 ((
__c
 >= '0' && __c <= '9') \

166 || (
__c
 >= 'A' && __c <= 'Z') \

167 || (
__c
 >= 'a' && __c <= 'z')); \

168 })

	)

172 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


173 #i‡
C_CTYPE_ASCII


174 #unde‡
c_ißÕha


175 
	#c_ißÕha
(
c
) \

176 ({ 
__c
 = (
c
); \

177 ((
__c
 & ~0x20) >= 'A' && (__c & ~0x20) <= 'Z'); \

178 })

	)

180 #unde‡
c_ißÕha


181 
	#c_ißÕha
(
c
) \

182 ({ 
__c
 = (
c
); \

183 ((
__c
 >= 'A' && __c <= 'Z') || (__c >= 'a' && __c <= 'z')); \

184 })

	)

188 #unde‡
c_isbœnk


189 
	#c_isbœnk
(
c
) \

190 ({ 
__c
 = (
c
); \

191 (
__c
 == ' ' || __c == '\t'); \

192 })

	)

194 #i‡
C_CTYPE_ASCII


195 #unde‡
c_is˙ål


196 
	#c_is˙ål
(
c
) \

197 ({ 
__c
 = (
c
); \

198 ((
__c
 & ~0x1f) == 0 || __c == 0x7f); \

199 })

	)

202 #i‡
C_CTYPE_CONSECUTIVE_DIGITS


203 #unde‡
c_isdigô


204 
	#c_isdigô
(
c
) \

205 ({ 
__c
 = (
c
); \

206 (
__c
 >= '0' && __c <= '9'); \

207 })

	)

210 #i‡
C_CTYPE_CONSECUTIVE_LOWERCASE


211 #unde‡
c_i¶owî


212 
	#c_i¶owî
(
c
) \

213 ({ 
__c
 = (
c
); \

214 (
__c
 >= 'a' && __c <= 'z'); \

215 })

	)

218 #i‡
C_CTYPE_ASCII


219 #unde‡
c_isgøph


220 
	#c_isgøph
(
c
) \

221 ({ 
__c
 = (
c
); \

222 (
__c
 >= '!' && __c <= '~'); \

223 })

	)

226 #i‡
C_CTYPE_ASCII


227 #unde‡
c_i•röt


228 
	#c_i•röt
(
c
) \

229 ({ 
__c
 = (
c
); \

230 (
__c
 >= ' ' && __c <= '~'); \

231 })

	)

234 #i‡
C_CTYPE_ASCII


235 #unde‡
c_i•un˘


236 
	#c_i•un˘
(
c
) \

237 ({ 
_c
 = (
c
); \

238 (
	`c_isgøph
 (
_c
Ë&& ! 
	`c_iß um
 (_c)); \

239 })

	)

242 #unde‡
c_is•a˚


243 
	#c_is•a˚
(
c
) \

244 ({ 
__c
 = (
c
); \

245 (
__c
 == ' ' || __c == '\t' \

246 || 
__c
 == '\n' || __c == '\v' || __c == '\f' || __c == '\r'); \

247 })

	)

249 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE


250 #unde‡
c_isuµî


251 
	#c_isuµî
(
c
) \

252 ({ 
__c
 = (
c
); \

253 (
__c
 >= 'A' && __c <= 'Z'); \

254 })

	)

257 #i‡
C_CTYPE_CONSECUTIVE_DIGITS
 \

258 && 
	gC_CTYPE_CONSECUTIVE_UPPERCASE
 && 
	gC_CTYPE_CONSECUTIVE_LOWERCASE


259 #i‡
C_CTYPE_ASCII


260 #unde‡
c_isxdigô


261 
	#c_isxdigô
(
c
) \

262 ({ 
__c
 = (
c
); \

263 ((
__c
 >= '0' && __c <= '9') \

264 || ((
__c
 & ~0x20) >= 'A' && (__c & ~0x20) <= 'F')); \

265 })

	)

267 #unde‡
c_isxdigô


268 
	#c_isxdigô
(
c
) \

269 ({ 
__c
 = (
c
); \

270 ((
__c
 >= '0' && __c <= '9') \

271 || (
__c
 >= 'A' && __c <= 'F') \

272 || (
__c
 >= 'a' && __c <= 'f')); \

273 })

	)

277 #i‡
C_CTYPE_CONSECUTIVE_UPPERCASE
 && 
C_CTYPE_CONSECUTIVE_LOWERCASE


278 #unde‡
c_tﬁowî


279 
	#c_tﬁowî
(
c
) \

280 ({ 
__c
 = (
c
); \

281 (
__c
 >= 'A' && __c <= 'Z' ? __c - 'A' + 'a' : __c); \

282 })

	)

283 #unde‡
c_touµî


284 
	#c_touµî
(
c
) \

285 ({ 
__c
 = (
c
); \

286 (
__c
 >= 'a' && __c <= 'z' ? __c - 'a' + 'A' : __c); \

287 })

	)

293 #ifde‡
__˝lu•lus


	@lib/cloexec.c

20 
	~<c⁄fig.h
>

22 
	~"˛€xec.h
"

24 
	~<î∫o.h
>

25 
	~<f˙é.h
>

26 
	~<uni°d.h
>

39 
	$£t_˛€xec_Êag
 (
desc
, 
boﬁ
 
vÆue
)

41 #ifde‡
F_SETFD


43 
Êags
 = 
	`f˙é
 (
desc
, 
F_GETFD
, 0);

45 i‡(0 <
Êags
)

47 
√wÊags
 = (
vÆue
 ? 
Êags
 | 
FD_CLOEXEC
 : flags & ~FD_CLOEXEC);

49 i‡(
Êags
 =
√wÊags


50 || 
	`f˙é
 (
desc
, 
F_SETFD
, 
√wÊags
) != -1)

60 i‡(
desc
 < 0)

62 
î∫o
 = 
EBADF
;

65 i‡(
	`dup2
 (
desc
, desc) < 0)

72 
	}
}

80 
	$dup_˛€xec
 (
fd
)

82  
	`f˙é
 (
fd
, 
F_DUPFD_CLOEXEC
, 0);

83 
	}
}

	@lib/cloexec.h

20 
	~<°dboﬁ.h
>

32 
£t_˛€xec_Êag
 (
desc
, 
boﬁ
 
vÆue
);

38 
dup_˛€xec
 (
fd
);

	@lib/close.c

17 
	~<c⁄fig.h
>

20 
	~<uni°d.h
>

22 
	~"fd-hook.h
"

27 
	$Ωl_˛o£
 (
fd
)

28 #unde‡
˛o£


30 #i‡
WINDOWS_SOCKETS


31 
ªtvÆ
 = 
	`execuã_Æl_˛o£_hooks
 (
˛o£
, 
fd
);

33 
ªtvÆ
 = 
	`˛o£
 (
fd
);

36 #i‡
REPLACE_FCHDIR


37 i‡(
ªtvÆ
 >= 0)

38 
	`_gl_uƒegi°î_fd
 (
fd
);

41  
ªtvÆ
;

42 
	}
}

	@lib/configmake.h

2 
	#PREFIX
 "/home/liy™kun/loˇl/wgë"

	)

3 
	#EXEC_PREFIX
 "/home/liy™kun/loˇl/wgë"

	)

4 
	#BINDIR
 "/home/liy™kun/loˇl/wgë/bö"

	)

5 
	#SBINDIR
 "/home/liy™kun/loˇl/wgë/sbö"

	)

6 
	#LIBEXECDIR
 "/home/liy™kun/loˇl/wgë/libexec"

	)

7 
	#DATAROOTDIR
 "/home/liy™kun/loˇl/wgë/sh¨e"

	)

8 
	#DATADIR
 "/home/liy™kun/loˇl/wgë/sh¨e"

	)

9 
	#SYSCONFDIR
 "/home/liy™kun/loˇl/wgë/ëc"

	)

10 
	#SHAREDSTATEDIR
 "/home/liy™kun/loˇl/wgë/com"

	)

11 
	#LOCALSTATEDIR
 "/home/liy™kun/loˇl/wgë/v¨"

	)

12 
	#INCLUDEDIR
 "/home/liy™kun/loˇl/wgë/ö˛ude"

	)

13 
	#OLDINCLUDEDIR
 "/u§/ö˛ude"

	)

14 
	#DOCDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/doc/wgë"

	)

15 
	#INFODIR
 "/home/liy™kun/loˇl/wgë/sh¨e/öfo"

	)

16 
	#HTMLDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/doc/wgë"

	)

17 
	#DVIDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/doc/wgë"

	)

18 
	#PDFDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/doc/wgë"

	)

19 
	#PSDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/doc/wgë"

	)

20 
	#LIBDIR
 "/home/liy™kun/loˇl/wgë/lib"

	)

21 
	#LISPDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/emacs/sôe-li•"

	)

22 
	#LOCALEDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/loˇÀ"

	)

23 
	#MANDIR
 "/home/liy™kun/loˇl/wgë/sh¨e/m™"

	)

24 
	#PKGDATADIR
 "/home/liy™kun/loˇl/wgë/sh¨e/wgë"

	)

25 
	#PKGINCLUDEDIR
 "/home/liy™kun/loˇl/wgë/ö˛ude/wgë"

	)

26 
	#PKGLIBDIR
 "/home/liy™kun/loˇl/wgë/lib/wgë"

	)

27 
	#PKGLIBEXECDIR
 "/home/liy™kun/loˇl/wgë/libexec/wgë"

	)

	@lib/connect.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
c⁄√˘


32 
	$Ωl_c⁄√˘
 (
fd
, c⁄° 
sockaddr
 *sockaddr, 
sockÀn_t
 
Àn
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`c⁄√˘
 (
sock
, 
sockaddr
, 
Àn
);

36 i‡(
r
 < 0)

40 i‡(
	`WSAGëLa°Eº‹
 (Ë=
WSAEWOULDBLOCK
)

41 
	`WSASëLa°Eº‹
 (
WSAEINPROGRESS
);

43 
	`£t_wösock_î∫o
 ();

46  
r
;

47 
	}
}

	@lib/dirname-lgpl.c

19 
	~<c⁄fig.h
>

21 
	~"dú«me.h
"

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

31 
size_t


32 
	$dú_Àn
 (c⁄° *
fûe
)

34 
size_t
 
¥efix_Àngth
 = 
	`FILE_SYSTEM_PREFIX_LEN
 (
fûe
);

35 
size_t
 
Àngth
;

38 
¥efix_Àngth
 += (prefix_length != 0

39 ? (
FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE


40 && 
	`ISSLASH
 (
fûe
[
¥efix_Àngth
]))

41 : (
	`ISSLASH
 (
fûe
[0])

42 ? ((
DOUBLE_SLASH_IS_DISTINCT_ROOT


43 && 
	`ISSLASH
 (
fûe
[1]) && ! ISSLASH (file[2])

48 
Àngth
 = 
	`œ°_comp⁄ít
 (
fûe
) - file;

49 
¥efix_Àngth
 < 
Àngth
;Üength--)

50 i‡(! 
	`ISSLASH
 (
fûe
[
Àngth
 - 1]))

52  
Àngth
;

53 
	}
}

71 
	$mdú_«me
 (c⁄° *
fûe
)

73 
size_t
 
Àngth
 = 
	`dú_Àn
 (
fûe
);

74 
boﬁ
 
≠≥nd_dŸ
 = (
Àngth
 == 0

75 || (
FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE


76 && 
Àngth
 =
	`FILE_SYSTEM_PREFIX_LEN
 (
fûe
)

77 && 
fûe
[2] !'\0' && ! 
	`ISSLASH
 (file[2])));

78 *
dú
 = 
	`mÆloc
 (
Àngth
 + 
≠≥nd_dŸ
 + 1);

79 i‡(!
dú
)

80  
NULL
;

81 
	`mem˝y
 (
dú
, 
fûe
, 
Àngth
);

82 i‡(
≠≥nd_dŸ
)

83 
dú
[
Àngth
++] = '.';

84 
dú
[
Àngth
] = '\0';

85  
dú
;

86 
	}
}

	@lib/dirname.h

19 #i‚de‡
DIRNAME_H_


20 
	#DIRNAME_H_
 1

	)

22 
	~<°dboﬁ.h
>

23 
	~<°ddef.h
>

24 
	~"do¢ame.h
"

26 #i‚de‡
DIRECTORY_SEPARATOR


27 
	#DIRECTORY_SEPARATOR
 '/'

	)

30 #i‚de‡
DOUBLE_SLASH_IS_DISTINCT_ROOT


31 
	#DOUBLE_SLASH_IS_DISTINCT_ROOT
 0

	)

34 #i‡
GNULIB_DIRNAME


35 *
ba£_«me
 (c⁄° *
fûe
);

36 *
dú_«me
 (c⁄° *
fûe
);

39 *
mdú_«me
 (c⁄° *
fûe
);

40 
size_t
 
ba£_Àn
 (c⁄° *
fûe
);

41 
size_t
 
dú_Àn
 (c⁄° *
fûe
);

42 *
œ°_comp⁄ít
 (c⁄° *
fûe
);

44 
boﬁ
 
°rù_åaûög_¶ashes
 (*
fûe
);

	@lib/dosname.h

20 #i‚de‡
_DOSNAME_H


21 
	#_DOSNAME_H


	)

23 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
 || \

24 
deföed
 
	g__MSDOS__
 || deföed 
	g__CYGWIN__
 || \

25 
deföed
 
	g__EMX__
 || deföed 
	g__DJGPP__
)

28 
	#_IS_DRIVE_LETTER
(
C
) ((() (C) | ('a' - 'A')) - 'a' \

29 <'z' - 'a')

	)

30 
	#FILE_SYSTEM_PREFIX_LEN
(
Fûíame
) \

31 (
	`_IS_DRIVE_LETTER
 ((
Fûíame
)[0]Ë&& (Fûíame)[1] =':' ? 2 : 0)

	)

32 #i‚de‡
__CYGWIN__


33 
	#FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE
 1

	)

35 
	#ISSLASH
(
C
Ë((CË='/' || (CË='\\')

	)

37 
	#FILE_SYSTEM_PREFIX_LEN
(
Fûíame
Ë0

	)

38 
	#ISSLASH
(
C
Ë((CË='/')

	)

41 #i‚de‡
FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE


42 
	#FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE
 0

	)

45 #i‡
FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE


46 
	#IS_ABSOLUTE_FILE_NAME
(
F
Ë
	`ISSLASH
 ((F)[
	`FILE_SYSTEM_PREFIX_LEN
 (F)])

	)

48 
	#IS_ABSOLUTE_FILE_NAME
(
F
) \

49 (
	`ISSLASH
 ((
F
)[0]Ë|| 
	`FILE_SYSTEM_PREFIX_LEN
 (FË!0)

	)

51 
	#IS_RELATIVE_FILE_NAME
(
F
Ë(! 
	`IS_ABSOLUTE_FILE_NAME
 (F))

	)

	@lib/dup-safer-flag.c

21 
	~<c⁄fig.h
>

24 
	~"uni°d-ß„r.h
"

26 
	~<f˙é.h
>

27 
	~<uni°d.h
>

29 
	~"˛€xec.h
"

36 
	$dup_ß„r_Êag
 (
fd
, 
Êag
)

38  
	`f˙é
 (
fd
, (
Êag
 & 
O_CLOEXEC
Ë? 
F_DUPFD_CLOEXEC
 : 
F_DUPFD
,

39 
STDERR_FILENO
 + 1);

40 
	}
}

	@lib/dup-safer.c

20 
	~<c⁄fig.h
>

22 
	~"uni°d-ß„r.h
"

24 
	~<f˙é.h
>

25 
	~<uni°d.h
>

31 
	$dup_ß„r
 (
fd
)

33  
	`f˙é
 (
fd
, 
F_DUPFD
, 
STDERR_FILENO
 + 1);

34 
	}
}

	@lib/dup2.c

20 
	~<c⁄fig.h
>

23 
	~<uni°d.h
>

25 
	~<î∫o.h
>

26 
	~<f˙é.h
>

28 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


30 
	#WIN32_LEAN_AND_MEAN


	)

31 
	~<wödows.h
>

34 #i‡
HAVE_DUP2


36 #unde‡
dup2


39 
	$Ωl_dup2
 (
fd
, 
desúed_fd
)

41 
ªsu…
;

42 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


46 i‡(
fd
 =
desúed_fd
)

48 i‡((
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
Ë=
INVALID_HANDLE_VALUE
)

50 
î∫o
 = 
EBADF
;

53  
fd
;

57 i‡(
desúed_fd
 < 0)

59 
î∫o
 = 
EBADF
;

62 #ñi‡!
deföed
 
__löux__


64 i‡(
fd
 =
desúed_fd
)

65  
	`f˙é
 (
fd
, 
F_GETFL
) == -1 ? -1 : fd;

67 
ªsu…
 = 
	`dup2
 (
fd
, 
desúed_fd
);

68 #ifde‡
__löux__


72 i‡(
fd
 =
desúed_fd
 && 
ªsu…
 =(Ë-
EBADF
)

74 
î∫o
 = 
EBADF
;

75 
ªsu…
 = -1;

78 i‡(
ªsu…
 == 0)

79 
ªsu…
 = 
desúed_fd
;

81 i‡(
ªsu…
 =-1 && 
î∫o
 =
EMFILE
)

82 
î∫o
 = 
EBADF
;

83 #i‡
REPLACE_FCHDIR


84 i‡(
fd
 !
desúed_fd
 && 
ªsu…
 != -1)

85 
ªsu…
 = 
	`_gl_ªgi°î_dup
 (
fd
,Ñesult);

87  
ªsu…
;

88 
	}
}

94 #i‚de‡
F_DUPFD


96 
	$dupfd
 (
fd
, 
desúed_fd
)

98 
du∂iˇãd_fd
 = 
	`dup
 (
fd
);

99 i‡(
du∂iˇãd_fd
 < 0 || du∂iˇãd_fd =
desúed_fd
)

100  
du∂iˇãd_fd
;

103 
r
 = 
	`dupfd
 (
fd
, 
desúed_fd
);

104 
e
 = 
î∫o
;

105 
	`˛o£
 (
du∂iˇãd_fd
);

106 
î∫o
 = 
e
;

107  
r
;

109 
	}
}

113 
	$dup2
 (
fd
, 
desúed_fd
)

115 
ªsu…
 = 
	`f˙é
 (
fd
, 
F_GETFL
) < 0 ? -1 : fd;

116 i‡(
ªsu…
 =-1 || 
fd
 =
desúed_fd
)

117  
ªsu…
;

118 
	`˛o£
 (
desúed_fd
);

119 #ifde‡
F_DUPFD


120 
ªsu…
 = 
	`f˙é
 (
fd
, 
F_DUPFD
, 
desúed_fd
);

121 #i‡
REPLACE_FCHDIR


122 i‡(0 <
ªsu…
)

123 
ªsu…
 = 
	`_gl_ªgi°î_dup
 (
fd
,Ñesult);

126 
ªsu…
 = 
	`dupfd
 (
fd
, 
desúed_fd
);

128 i‡(
ªsu…
 =-1 && (
î∫o
 =
EMFILE
 ||Éºnÿ=
EINVAL
))

129 
î∫o
 = 
EBADF
;

130  
ªsu…
;

131 
	}
}

	@lib/errno.in.h

21 #i‚de‡
_
@
GUARD_PREFIX
@
_ERRNO_H


23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

29 #@
INCLUDE_NEXT
@ @
NEXT_ERRNO_H
@

31 #i‚de‡
_
@
GUARD_PREFIX
@
_ERRNO_H


32 
	#_
@
GUARD_PREFIX
@
_ERRNO_H


	)

36 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


39 
	#EWOULDBLOCK
 
EAGAIN


	)

42 
	#ETXTBSY
 100

	)

43 
	#GNULIB_deföed_ETXTBSY
 1

	)

47 
	#EINPROGRESS
 10036

	)

48 
	#EALREADY
 10037

	)

49 
	#ENOTSOCK
 10038

	)

50 
	#EDESTADDRREQ
 10039

	)

51 
	#EMSGSIZE
 10040

	)

52 
	#EPROTOTYPE
 10041

	)

53 
	#ENOPROTOOPT
 10042

	)

54 
	#EPROTONOSUPPORT
 10043

	)

55 
	#ESOCKTNOSUPPORT
 10044

	)

56 
	#EOPNOTSUPP
 10045

	)

57 
	#EPFNOSUPPORT
 10046

	)

58 
	#EAFNOSUPPORT
 10047

	)

59 
	#EADDRINUSE
 10048

	)

60 
	#EADDRNOTAVAIL
 10049

	)

61 
	#ENETDOWN
 10050

	)

62 
	#ENETUNREACH
 10051

	)

63 
	#ENETRESET
 10052

	)

64 
	#ECONNABORTED
 10053

	)

65 
	#ECONNRESET
 10054

	)

66 
	#ENOBUFS
 10055

	)

67 
	#EISCONN
 10056

	)

68 
	#ENOTCONN
 10057

	)

69 
	#ESHUTDOWN
 10058

	)

70 
	#ETOOMANYREFS
 10059

	)

71 
	#ETIMEDOUT
 10060

	)

72 
	#ECONNREFUSED
 10061

	)

73 
	#ELOOP
 10062

	)

74 
	#EHOSTDOWN
 10064

	)

75 
	#EHOSTUNREACH
 10065

	)

76 
	#EPROCLIM
 10067

	)

77 
	#EUSERS
 10068

	)

78 
	#EDQUOT
 10069

	)

79 
	#ESTALE
 10070

	)

80 
	#EREMOTE
 10071

	)

81 
	#GNULIB_deföed_ESOCK
 1

	)

88 #i‡@
EMULTIHOP_HIDDEN
@

89 
	#EMULTIHOP
 @
EMULTIHOP_VALUE
@

	)

90 
	#GNULIB_deföed_EMULTIHOP
 1

	)

92 #i‡@
ENOLINK_HIDDEN
@

93 
	#ENOLINK
 @
ENOLINK_VALUE
@

	)

94 
	#GNULIB_deföed_ENOLINK
 1

	)

96 #i‡@
EOVERFLOW_HIDDEN
@

97 
	#EOVERFLOW
 @
EOVERFLOW_VALUE
@

	)

98 
	#GNULIB_deföed_EOVERFLOW
 1

	)

112 #i‚de‡
ENOMSG


113 
	#ENOMSG
 2000

	)

114 
	#GNULIB_deföed_ENOMSG
 1

	)

117 #i‚de‡
EIDRM


118 
	#EIDRM
 2001

	)

119 
	#GNULIB_deföed_EIDRM
 1

	)

122 #i‚de‡
ENOLINK


123 
	#ENOLINK
 2002

	)

124 
	#GNULIB_deföed_ENOLINK
 1

	)

127 #i‚de‡
EPROTO


128 
	#EPROTO
 2003

	)

129 
	#GNULIB_deföed_EPROTO
 1

	)

132 #i‚de‡
EMULTIHOP


133 
	#EMULTIHOP
 2004

	)

134 
	#GNULIB_deföed_EMULTIHOP
 1

	)

137 #i‚de‡
EBADMSG


138 
	#EBADMSG
 2005

	)

139 
	#GNULIB_deföed_EBADMSG
 1

	)

142 #i‚de‡
EOVERFLOW


143 
	#EOVERFLOW
 2006

	)

144 
	#GNULIB_deföed_EOVERFLOW
 1

	)

147 #i‚de‡
ENOTSUP


148 
	#ENOTSUP
 2007

	)

149 
	#GNULIB_deföed_ENOTSUP
 1

	)

152 #i‚de‡
ENETRESET


153 
	#ENETRESET
 2011

	)

154 
	#GNULIB_deföed_ENETRESET
 1

	)

157 #i‚de‡
ECONNABORTED


158 
	#ECONNABORTED
 2012

	)

159 
	#GNULIB_deföed_ECONNABORTED
 1

	)

162 #i‚de‡
ESTALE


163 
	#ESTALE
 2009

	)

164 
	#GNULIB_deföed_ESTALE
 1

	)

167 #i‚de‡
EDQUOT


168 
	#EDQUOT
 2010

	)

169 
	#GNULIB_deföed_EDQUOT
 1

	)

172 #i‚de‡
ECANCELED


173 
	#ECANCELED
 2008

	)

174 
	#GNULIB_deföed_ECANCELED
 1

	)

	@lib/error.c

20 #i‡!
_LIBC


21 
	~<c⁄fig.h
>

24 
	~"îr‹.h
"

26 
	~<°d¨g.h
>

27 
	~<°dio.h
>

28 
	~<°dlib.h
>

29 
	~<°rög.h
>

31 #i‡!
_LIBC
 && 
ENABLE_NLS


32 
	~"gëãxt.h
"

33 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

36 #ifde‡
_LIBC


37 
	~<liböé.h
>

38 
	~<°dboﬁ.h
>

39 
	~<°döt.h
>

40 
	~<wch¨.h
>

41 
	#mb§towcs
 
__mb§towcs


	)

44 #i‡
USE_UNLOCKED_IO


45 
	~"u∆ocked-io.h
"

48 #i‚de‡
_


49 
	#_
(
Såög
Ë
	)
String

55 (*
îr‹_¥öt_¥og«me
) ();

58 
îr‹_mesßge_cou¡
;

60 #ifde‡
_LIBC


63 
	#¥ogøm_«me
 
¥ogøm_övoˇti⁄_«me


	)

64 
	~<î∫o.h
>

65 
	~<limôs.h
>

66 
	~<libio/libioP.h
>

70 
	$__îr‹
 (
°©us
, 
î∫um
, c⁄° *
mesßge
, ...)

71 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

72 
	$__îr‹_©_löe
 (
°©us
, 
î∫um
, c⁄° *
fûe_«me
,

73 
löe_numbî
, c⁄° *
mesßge
,

75 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 5, 6)));;

76 
	#îr‹
 
__îr‹


	)

77 
	#îr‹_©_löe
 
__îr‹_©_löe


	)

79 
	~<libio/iﬁibio.h
>

80 
	#fÊush
(
s
Ë
	`INTUSE
(
_IO_fÊush
Ë(s)

	)

81 #unde‡
putc


82 
	#putc
(
c
, 
Â
Ë
	`INTUSE
(
_IO_putc
Ë(c, fp)

	)

84 
	~<bôs/libc-lock.h
>

88 
	~<f˙é.h
>

89 
	~<uni°d.h
>

91 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


93 
	#WIN32_LEAN_AND_MEAN


	)

94 
	~<wödows.h
>

98 #unde‡
f˙é


100 #i‡!
HAVE_DECL_STRERROR_R


101 #i‚de‡
HAVE_DECL_STRERROR_R


104 #i‡
STRERROR_R_CHAR_P


105 *
	`°ªº‹_r
 ();

107 
	`°ªº‹_r
 ();

113 *
¥ogøm_«me
;

115 #i‡
HAVE_STRERROR_R
 || 
deföed
 
°ªº‹_r


116 
	#__°ªº‹_r
 
°ªº‹_r


	)

120 #i‡!
_LIBC


122 
ölöe
 

123 
	$is_›í
 (
fd
)

125 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


129  (
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
Ë!
INVALID_HANDLE_VALUE
;

131 #i‚de‡
F_GETFL


132 #îr‹ 
PÀa£
 
p‹t
 
f˙é
 
to
 
your
 
∂©f‹m


134  0 <
	`f˙é
 (
fd
, 
F_GETFL
);

136 
	}
}

139 
ölöe
 

140 
	$Êush_°dout
 ()

142 #i‡!
_LIBC


143 
°dout_fd
;

145 #i‡
GNULIB_FREOPEN_SAFER


149 
°dout_fd
 = 
STDOUT_FILENO
;

154 
°dout_fd
 = 
	`fûío
 (
°dout
);

159 i‡(0 <
°dout_fd
 && 
	`is_›í
 (stdout_fd))

161 
	`fÊush
 (
°dout
);

162 
	}
}

165 
	$¥öt_î∫o_mesßge
 (
î∫um
)

167 c⁄° *
s
;

169 #i‡
deföed
 
HAVE_STRERROR_R
 || 
_LIBC


170 
îrbuf
[1024];

171 #i‡
STRERROR_R_CHAR_P
 || 
_LIBC


172 
s
 = 
	`__°ªº‹_r
 (
î∫um
, 
îrbuf
, Érrbuf);

174 i‡(
	`__°ªº‹_r
 (
î∫um
, 
îrbuf
, Érrbuf) == 0)

175 
s
 = 
îrbuf
;

177 
s
 = 0;

180 
s
 = 
	`°ªº‹
 (
î∫um
);

183 #i‡!
_LIBC


184 i‡(! 
s
)

185 
s
 = 
	`_
("Unknown systemÉrror");

188 #i‡
_LIBC


189 
	`__fx¥ötf
 (
NULL
, ": %s", 
s
);

191 
	`Ârötf
 (
°dîr
, ": %s", 
s
);

193 
	}
}

196 
	$îr‹_èû
 (
°©us
, 
î∫um
, c⁄° *
mesßge
, 
va_li°
 
¨gs
)

198 #i‡
_LIBC


199 i‡(
	`_IO_fwide
 (
°dîr
, 0) > 0)

201 
	#ALLOCA_LIMIT
 2000

	)

202 
size_t
 
Àn
 = 
	`°æí
 (
mesßge
) + 1;

203 
wch¨_t
 *
wmesßge
 = 
NULL
;

204 
mb°©e_t
 
°
;

205 
size_t
 
ªs
;

206 c⁄° *
tmp
;

207 
boﬁ
 
u£_mÆloc
 = 
Ál£
;

211 i‡(
	`__libc_u£_Æloˇ
 (
Àn
 *  (
wch¨_t
)))

212 
wmesßge
 = (
wch¨_t
 *Ë
	`Æloˇ
 (
Àn
 *  (wchar_t));

215 i‡(!
u£_mÆloc
)

216 
wmesßge
 = 
NULL
;

218 
wch¨_t
 *
p
 = (wch¨_à*Ë
	`ªÆloc
 (
wmesßge
,

219 
Àn
 *  (
wch¨_t
));

220 i‡(
p
 =
NULL
)

222 
	`‰ì
 (
wmesßge
);

223 
	`Âutws_u∆ocked
 (
L
"ouào‡mem‹y\n", 
°dîr
);

226 
wmesßge
 = 
p
;

227 
u£_mÆloc
 = 
åue
;

230 
	`mem£t
 (&
°
, '\0',  (st));

231 
tmp
 = 
mesßge
;

233 
ªs
 = 
	`mb§towcs
 (
wmesßge
, &
tmp
, 
Àn
, &
°
);

234 i‡(
ªs
 !
Àn
)

237 i‡(
	`__buûtö_ex≥˘
 (
Àn
 >
SIZE_MAX
 / 2, 0))

240 
ªs
 = (
size_t
) -1;

244 
Àn
 *= 2;

247 i‡(
ªs
 =(
size_t
) -1)

250 i‡(
u£_mÆloc
)

252 
	`‰ì
 (
wmesßge
);

253 
u£_mÆloc
 = 
Ál£
;

255 
wmesßge
 = (
wch¨_t
 *Ë
L
"???";

258 
	`__vfw¥ötf
 (
°dîr
, 
wmesßge
, 
¨gs
);

260 i‡(
u£_mÆloc
)

261 
	`‰ì
 (
wmesßge
);

265 
	`vÂrötf
 (
°dîr
, 
mesßge
, 
¨gs
);

266 
	`va_íd
 (
¨gs
);

268 ++
îr‹_mesßge_cou¡
;

269 i‡(
î∫um
)

270 
	`¥öt_î∫o_mesßge
 (
î∫um
);

271 #i‡
_LIBC


272 
	`__fx¥ötf
 (
NULL
, "\n");

274 
	`putc
 ('\n', 
°dîr
);

276 
	`fÊush
 (
°dîr
);

277 i‡(
°©us
)

278 
	`exô
 (
°©us
);

279 
	}
}

287 
	$îr‹
 (
°©us
, 
î∫um
, c⁄° *
mesßge
, ...)

289 
va_li°
 
¨gs
;

291 #i‡
deföed
 
_LIBC
 && deföed 
__libc_±f_ˇŒ


294 
°©e
 = 
PTHREAD_CANCEL_ENABLE
;

295 
	`__libc_±f_ˇŒ
 (
±hªad_£tˇn˚l°©e
, (
PTHREAD_CANCEL_DISABLE
, &
°©e
),

299 
	`Êush_°dout
 ();

300 #ifde‡
_LIBC


301 
	`_IO_Êockfûe
 (
°dîr
);

303 i‡(
îr‹_¥öt_¥og«me
)

304 (*
îr‹_¥öt_¥og«me
) ();

307 #i‡
_LIBC


308 
	`__fx¥ötf
 (
NULL
, "%s: ", 
¥ogøm_«me
);

310 
	`Ârötf
 (
°dîr
, "%s: ", 
¥ogøm_«me
);

314 
	`va_°¨t
 (
¨gs
, 
mesßge
);

315 
	`îr‹_èû
 (
°©us
, 
î∫um
, 
mesßge
, 
¨gs
);

317 #ifde‡
_LIBC


318 
	`_IO_fu∆ockfûe
 (
°dîr
);

319 #ifde‡
__libc_±f_ˇŒ


320 
	`__libc_±f_ˇŒ
 (
±hªad_£tˇn˚l°©e
, (
°©e
, 
NULL
), 0);

323 
	}
}

327 
	gîr‹_⁄e_≥r_löe
;

330 
	$îr‹_©_löe
 (
°©us
, 
î∫um
, c⁄° *
fûe_«me
,

331 
löe_numbî
, c⁄° *
mesßge
, ...)

333 
va_li°
 
¨gs
;

335 i‡(
îr‹_⁄e_≥r_löe
)

337 c⁄° *
ﬁd_fûe_«me
;

338 
ﬁd_löe_numbî
;

340 i‡(
ﬁd_löe_numbî
 =
löe_numbî


341 && (
fûe_«me
 =
ﬁd_fûe_«me


342 || 
	`°rcmp
 (
ﬁd_fûe_«me
, 
fûe_«me
) == 0))

346 
ﬁd_fûe_«me
 = 
fûe_«me
;

347 
ﬁd_löe_numbî
 = 
löe_numbî
;

350 #i‡
deföed
 
_LIBC
 && deföed 
__libc_±f_ˇŒ


353 
°©e
 = 
PTHREAD_CANCEL_ENABLE
;

354 
	`__libc_±f_ˇŒ
 (
±hªad_£tˇn˚l°©e
, (
PTHREAD_CANCEL_DISABLE
, &
°©e
),

358 
	`Êush_°dout
 ();

359 #ifde‡
_LIBC


360 
	`_IO_Êockfûe
 (
°dîr
);

362 i‡(
îr‹_¥öt_¥og«me
)

363 (*
îr‹_¥öt_¥og«me
) ();

366 #i‡
_LIBC


367 
	`__fx¥ötf
 (
NULL
, "%s:", 
¥ogøm_«me
);

369 
	`Ârötf
 (
°dîr
, "%s:", 
¥ogøm_«me
);

373 #i‡
_LIBC


374 
	`__fx¥ötf
 (
NULL
, 
fûe_«me
 != NULL ? "%s:%d: " : " ",

375 
fûe_«me
, 
löe_numbî
);

377 
	`Ârötf
 (
°dîr
, 
fûe_«me
 !
NULL
 ? "%s:%d: " : " ",

378 
fûe_«me
, 
löe_numbî
);

381 
	`va_°¨t
 (
¨gs
, 
mesßge
);

382 
	`îr‹_èû
 (
°©us
, 
î∫um
, 
mesßge
, 
¨gs
);

384 #ifde‡
_LIBC


385 
	`_IO_fu∆ockfûe
 (
°dîr
);

386 #ifde‡
__libc_±f_ˇŒ


387 
	`__libc_±f_ˇŒ
 (
±hªad_£tˇn˚l°©e
, (
°©e
, 
NULL
), 0);

390 
	}
}

392 #ifde‡
_LIBC


394 #unde‡
îr‹


395 #unde‡
îr‹_©_löe


396 
	$wók_Æüs
 (
__îr‹
, 
îr‹
)

397 
	$wók_Æüs
 (
__îr‹_©_löe
, 
îr‹_©_löe
)

	@lib/error.h

19 #i‚de‡
_ERROR_H


20 
	#_ERROR_H
 1

	)

28 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 7)

29 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë
	`__©åibuã__
 ((
__f‹m©__
 s≥c))

	)

31 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë

	)

34 #ifde‡
__˝lu•lus


42 
îr‹
 (
__°©us
, 
__î∫um
, c⁄° *
__f‹m©
, ...)

43 
_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 3, 4));

45 
îr‹_©_löe
 (
__°©us
, 
__î∫um
, c⁄° *
__‚ame
,

46 
__löío
, c⁄° *
__f‹m©
, ...)

47 
_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 5, 6));

52 (*
îr‹_¥öt_¥og«me
) ();

55 
îr‹_mesßge_cou¡
;

59 
îr‹_⁄e_≥r_löe
;

61 #ifde‡
__˝lu•lus


	@lib/exitfail.c

18 
	~<c⁄fig.h
>

20 
	~"exôÁû.h
"

22 
	~<°dlib.h
>

24 vﬁ©ûê
	gexô_Áûuª
 = 
EXIT_FAILURE
;

	@lib/exitfail.h

18 vﬁ©ûê
exô_Áûuª
;

	@lib/fatal-signal.c

19 
	~<c⁄fig.h
>

22 
	~"Áèl-sig«l.h
"

24 
	~<°dboﬁ.h
>

25 
	~<°dlib.h
>

26 
	~<sig«l.h
>

27 
	~<uni°d.h
>

29 
	~"sig-h™dÀr.h
"

30 
	~"xÆloc.h
"

32 
	#SIZEOF
(
a
Ë(◊Ë/ ◊[0]))

	)

51 
	gÁèl_sig«ls
[] =

54 #ifde‡
SIGINT


55 
SIGINT
,

57 #ifde‡
SIGTERM


58 
SIGTERM
,

61 #ifde‡
SIGHUP


62 
SIGHUP
,

64 #ifde‡
SIGPIPE


65 
SIGPIPE
,

68 #ifde‡
SIGXCPU


69 
SIGXCPU
,

71 #ifde‡
SIGXFSZ


72 
SIGXFSZ
,

75 #ifde‡
SIGBREAK


76 
SIGBREAK
,

81 
	#num_Áèl_sig«ls
 (
	`SIZEOF
 (
Áèl_sig«ls
Ë- 1)

	)

86 
	$öô_Áèl_sig«ls
 ()

88 
boﬁ
 
Áèl_sig«ls_öôülized
 = 
Ál£
;

89 i‡(!
Áèl_sig«ls_öôülized
)

91 
size_t
 
i
;

93 
i
 = 0; i < 
num_Áèl_sig«ls
; i++)

95 
siga˘i⁄
 
a˘i⁄
;

97 i‡(
	`siga˘i⁄
 (
Áèl_sig«ls
[
i
], 
NULL
, &
a˘i⁄
) >= 0

98 && 
	`gë_h™dÀr
 (&
a˘i⁄
Ë=
SIG_IGN
)

99 
Áèl_sig«ls
[
i
] = -1;

102 
Áèl_sig«ls_öôülized
 = 
åue
;

104 
	}
}

110 (*
	ta˘i⁄_t
) ();

117 vﬁ©ûê
a˘i⁄_t
 
a˘i⁄
;

119 
	ta˘i⁄s_íåy_t
;

122 
a˘i⁄s_íåy_t
 
°©ic_a˘i⁄s
[32];

123 
a˘i⁄s_íåy_t
 * vﬁ©ûê
a˘i⁄s
 = 
°©ic_a˘i⁄s
;

124 
sig_©omic_t
 vﬁ©ûê
a˘i⁄s_cou¡
 = 0;

125 
size_t
 
a˘i⁄s_Æloˇãd
 = 
	`SIZEOF
 (
°©ic_a˘i⁄s
);

130 
siga˘i⁄
 
ßved_siga˘i⁄s
[64];

134 
ölöe
 

135 
	$unö°Æl_h™dÀrs
 ()

137 
size_t
 
i
;

139 
i
 = 0; i < 
num_Áèl_sig«ls
; i++)

140 i‡(
Áèl_sig«ls
[
i
] >= 0)

142 
sig
 = 
Áèl_sig«ls
[
i
];

143 i‡(
ßved_siga˘i⁄s
[
sig
].
ß_h™dÀr
 =
SIG_IGN
)

144 
ßved_siga˘i⁄s
[
sig
].
ß_h™dÀr
 = 
SIG_DFL
;

145 
	`siga˘i⁄
 (
sig
, &
ßved_siga˘i⁄s
[sig], 
NULL
);

147 
	}
}

152 
	$Áèl_sig«l_h™dÀr
 (
sig
)

157 
a˘i⁄_t
 
a˘i⁄
;

158 
size_t
 
n
 = 
a˘i⁄s_cou¡
;

159 i‡(
n
 == 0)

161 
n
--;

162 
a˘i⁄s_cou¡
 = 
n
;

163 
a˘i⁄
 = 
a˘i⁄s
[
n
].action;

165 
	`a˘i⁄
 ();

173 
	`unö°Æl_h™dÀrs
 ();

174 
	`øi£
 (
sig
);

175 
	}
}

179 
ölöe
 

180 
	$ö°Æl_h™dÀrs
 ()

182 
size_t
 
i
;

183 
siga˘i⁄
 
a˘i⁄
;

185 
a˘i⁄
.
ß_h™dÀr
 = &
Áèl_sig«l_h™dÀr
;

189 
a˘i⁄
.
ß_Êags
 = 
SA_NODEFER
;

190 
	`sigem±y£t
 (&
a˘i⁄
.
ß_mask
);

191 
i
 = 0; i < 
num_Áèl_sig«ls
; i++)

192 i‡(
Áèl_sig«ls
[
i
] >= 0)

194 
sig
 = 
Áèl_sig«ls
[
i
];

196 i‡(!(
sig
 <  (
ßved_siga˘i⁄s
) /  (saved_sigactions[0])))

197 
	`ab‹t
 ();

198 
	`siga˘i⁄
 (
sig
, &
a˘i⁄
, &
ßved_siga˘i⁄s
[sig]);

200 
	}
}

206 
	$©_Áèl_sig«l
 (
a˘i⁄_t
 
a˘i⁄
)

208 
boﬁ
 
˛ónup_öôülized
 = 
Ál£
;

209 i‡(!
˛ónup_öôülized
)

211 
	`öô_Áèl_sig«ls
 ();

212 
	`ö°Æl_h™dÀrs
 ();

213 
˛ónup_öôülized
 = 
åue
;

216 i‡(
a˘i⁄s_cou¡
 =
a˘i⁄s_Æloˇãd
)

221 
a˘i⁄s_íåy_t
 *
ﬁd_a˘i⁄s
 = 
a˘i⁄s
;

222 
size_t
 
ﬁd_a˘i⁄s_Æloˇãd
 = 
a˘i⁄s_Æloˇãd
;

223 
size_t
 
√w_a˘i⁄s_Æloˇãd
 = 2 * 
a˘i⁄s_Æloˇãd
;

224 
a˘i⁄s_íåy_t
 *
√w_a˘i⁄s
 =

225 
	`XNMALLOC
 (
√w_a˘i⁄s_Æloˇãd
, 
a˘i⁄s_íåy_t
);

226 
size_t
 
k
;

231 
k
 = 0; k < 
ﬁd_a˘i⁄s_Æloˇãd
; k++)

232 
√w_a˘i⁄s
[
k
] = 
ﬁd_a˘i⁄s
[k];

233 
a˘i⁄s
 = 
√w_a˘i⁄s
;

234 
a˘i⁄s_Æloˇãd
 = 
√w_a˘i⁄s_Æloˇãd
;

236 i‡(
ﬁd_a˘i⁄s
 !
°©ic_a˘i⁄s
)

237 
	`‰ì
 (
ﬁd_a˘i⁄s
);

243 
a˘i⁄s
[
a˘i⁄s_cou¡
].
a˘i⁄
 =áction;

244 
a˘i⁄s_cou¡
++;

245 
	}
}

251 
sig£t_t
 
	gÁèl_sig«l_£t
;

254 
	$öô_Áèl_sig«l_£t
 ()

256 
boﬁ
 
Áèl_sig«l_£t_öôülized
 = 
Ál£
;

257 i‡(!
Áèl_sig«l_£t_öôülized
)

259 
size_t
 
i
;

261 
	`öô_Áèl_sig«ls
 ();

263 
	`sigem±y£t
 (&
Áèl_sig«l_£t
);

264 
i
 = 0; i < 
num_Áèl_sig«ls
; i++)

265 i‡(
Áèl_sig«ls
[
i
] >= 0)

266 
	`sigadd£t
 (&
Áèl_sig«l_£t
, 
Áèl_sig«ls
[
i
]);

268 
Áèl_sig«l_£t_öôülized
 = 
åue
;

270 
	}
}

274 
	$block_Áèl_sig«ls
 ()

276 
	`öô_Áèl_sig«l_£t
 ();

277 
	`sig¥ocmask
 (
SIG_BLOCK
, &
Áèl_sig«l_£t
, 
NULL
);

278 
	}
}

282 
	$unblock_Áèl_sig«ls
 ()

284 
	`öô_Áèl_sig«l_£t
 ();

285 
	`sig¥ocmask
 (
SIG_UNBLOCK
, &
Áèl_sig«l_£t
, 
NULL
);

286 
	}
}

	@lib/fatal-signal.h

19 #ifde‡
__˝lu•lus


54 
©_Áèl_sig«l
 ((*
fun˘i⁄
) ());

68 
block_Áèl_sig«ls
 ();

71 
unblock_Áèl_sig«ls
 ();

74 #ifde‡
__˝lu•lus


	@lib/fcntl.c

20 
	~<c⁄fig.h
>

23 
	~<f˙é.h
>

25 
	~<î∫o.h
>

26 
	~<limôs.h
>

27 
	~<°d¨g.h
>

28 
	~<uni°d.h
>

30 #i‡!
HAVE_FCNTL


31 
	#Ωl_f˙é
 
f˙é


	)

33 #unde‡
f˙é


35 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


37 
	#WIN32_LEAN_AND_MEAN


	)

38 
	~<wödows.h
>

41 
	#OPEN_MAX_MAX
 0x10000

	)

47 
	$dupfd
 (
ﬁdfd
, 
√wfd
, 
Êags
)

51 
HANDLE
 
cuº_¥o˚ss
 = 
	`GëCuºítPro˚ss
 ();

52 
HANDLE
 
ﬁd_h™dÀ
 = (HANDLEË
	`_gë_osfh™dÀ
 (
ﬁdfd
);

53 
fds_to_˛o£
[
OPEN_MAX_MAX
 / 
CHAR_BIT
];

54 
fds_to_˛o£_bound
 = 0;

55 
ªsu…
;

56 
BOOL
 
öhîô
 = 
Êags
 & 
O_CLOEXEC
 ? 
FALSE
 : 
TRUE
;

57 
mode
;

59 i‡(
√wfd
 < 0 || 
	`gëdèbÀsize
 () <=Çewfd)

61 
î∫o
 = 
EINVAL
;

64 i‡(
ﬁd_h™dÀ
 =
INVALID_HANDLE_VALUE


65 || (
mode
 = 
	`£tmode
 (
ﬁdfd
, 
O_BINARY
)) == -1)

69 
î∫o
 = 
EBADF
;

72 
	`£tmode
 (
ﬁdfd
, 
mode
);

73 
Êags
 |
mode
;

77 
HANDLE
 
√w_h™dÀ
;

78 
du∂iˇãd_fd
;

79 
ödex
;

81 i‡(!
	`Du∂iˇãH™dÀ
 (
cuº_¥o˚ss
,

82 
ﬁd_h™dÀ
,

83 
cuº_¥o˚ss
,

84 (
PHANDLE
Ë&
√w_h™dÀ
,

85 (
DWORD
) 0,

86 
öhîô
,

87 
DUPLICATE_SAME_ACCESS
))

90 
î∫o
 = 
EMFILE
;

91 
ªsu…
 = -1;

94 
du∂iˇãd_fd
 = 
	`_›í_osfh™dÀ
 ((Ë
√w_h™dÀ
, 
Êags
);

95 i‡(
du∂iˇãd_fd
 < 0)

97 
	`Clo£H™dÀ
 (
√w_h™dÀ
);

98 
î∫o
 = 
EMFILE
;

99 
ªsu…
 = -1;

102 i‡(
√wfd
 <
du∂iˇãd_fd
)

104 
ªsu…
 = 
du∂iˇãd_fd
;

109 
ödex
 = (Ë
du∂iˇãd_fd
 / 
CHAR_BIT
;

110 i‡(
fds_to_˛o£_bound
 <
ödex
)

112 i‡( 
fds_to_˛o£
 <
ödex
)

114 
	`ab‹t
 ();

115 
	`mem£t
 (
fds_to_˛o£
 + 
fds_to_˛o£_bound
, '\0',

116 
ödex
 + 1 - 
fds_to_˛o£_bound
);

117 
fds_to_˛o£_bound
 = 
ödex
 + 1;

119 
fds_to_˛o£
[
ödex
] |1 << ((Ë
du∂iˇãd_fd
 % 
CHAR_BIT
);

124 
ßved_î∫o
 = 
î∫o
;

125 
du∂iˇãd_fd
;

127 
du∂iˇãd_fd
 = 0;

128 
du∂iˇãd_fd
 < 
fds_to_˛o£_bound
 * 
CHAR_BIT
;

129 
du∂iˇãd_fd
++)

130 i‡((
fds_to_˛o£
[
du∂iˇãd_fd
 / 
CHAR_BIT
]

131 >> (
du∂iˇãd_fd
 % 
CHAR_BIT
))

133 
	`˛o£
 (
du∂iˇãd_fd
);

135 
î∫o
 = 
ßved_î∫o
;

138 #i‡
REPLACE_FCHDIR


139 i‡(0 <
ªsu…
)

140 
ªsu…
 = 
	`_gl_ªgi°î_dup
 (
ﬁdfd
,Ñesult);

142  
ªsu…
;

143 
	}
}

166 
	$Ωl_f˙é
 (
fd
, 
a˘i⁄
, ...)

168 
va_li°
 
¨g
;

169 
ªsu…
 = -1;

170 
	`va_°¨t
 (
¨g
, 
a˘i⁄
);

171 
a˘i⁄
)

174 #i‡!
HAVE_FCNTL


175 
F_DUPFD
:

177 
èrgë
 = 
	`va_¨g
 (
¨g
, );

178 
ªsu…
 = 
	`dupfd
 (
fd
, 
èrgë
, 0);

181 #ñi‡
FCNTL_DUPFD_BUGGY
 || 
REPLACE_FCHDIR


182 
F_DUPFD
:

184 
èrgë
 = 
	`va_¨g
 (
¨g
, );

186 i‡(
èrgë
 < 0 || 
	`gëdèbÀsize
 () <=Åarget)

187 
î∫o
 = 
EINVAL
;

191 
Êags
 = 
	`f˙é
 (
fd
, 
F_GETFD
);

192 i‡(
Êags
 < 0)

194 
ªsu…
 = -1;

197 
ªsu…
 = 
	`f˙é
 (
fd
, 
a˘i⁄
, 
èrgë
);

198 i‡(0 <
ªsu…
 && 
	`f˙é
 (
fd
, 
F_SETFD
, 
Êags
) == -1)

200 
ßved_î∫o
 = 
î∫o
;

201 
	`˛o£
 (
ªsu…
);

202 
ªsu…
 = -1;

203 
î∫o
 = 
ßved_î∫o
;

205 #i‡
REPLACE_FCHDIR


206 i‡(0 <
ªsu…
)

207 
ªsu…
 = 
	`_gl_ªgi°î_dup
 (
fd
,Ñesult);

214 
F_DUPFD_CLOEXEC
:

216 
èrgë
 = 
	`va_¨g
 (
¨g
, );

218 #i‡!
HAVE_FCNTL


219 
ªsu…
 = 
	`dupfd
 (
fd
, 
èrgë
, 
O_CLOEXEC
);

229 
have_dupfd_˛€xec
 = 
GNULIB_deföed_F_DUPFD_CLOEXEC
 ? -1 : 0;

230 i‡(0 <
have_dupfd_˛€xec
)

232 
ªsu…
 = 
	`f˙é
 (
fd
, 
a˘i⁄
, 
èrgë
);

233 i‡(0 <
ªsu…
 || 
î∫o
 !
EINVAL
)

235 
have_dupfd_˛€xec
 = 1;

236 #i‡
REPLACE_FCHDIR


237 i‡(0 <
ªsu…
)

238 
ªsu…
 = 
	`_gl_ªgi°î_dup
 (
fd
,Ñesult);

243 
ªsu…
 = 
	`Ωl_f˙é
 (
fd
, 
F_DUPFD
, 
èrgë
);

244 i‡(
ªsu…
 < 0)

246 
have_dupfd_˛€xec
 = -1;

250 
ªsu…
 = 
	`Ωl_f˙é
 (
fd
, 
F_DUPFD
, 
èrgë
);

251 i‡(0 <
ªsu…
 && 
have_dupfd_˛€xec
 == -1)

253 
Êags
 = 
	`f˙é
 (
ªsu…
, 
F_GETFD
);

254 i‡(
Êags
 < 0 || 
	`f˙é
 (
ªsu…
, 
F_SETFD
, fœg†| 
FD_CLOEXEC
) == -1)

256 
ßved_î∫o
 = 
î∫o
;

257 
	`˛o£
 (
ªsu…
);

258 
î∫o
 = 
ßved_î∫o
;

259 
ªsu…
 = -1;

266 #i‡!
HAVE_FCNTL


267 
F_GETFD
:

269 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


270 
HANDLE
 
h™dÀ
 = (HANDLEË
	`_gë_osfh™dÀ
 (
fd
);

271 
DWORD
 
Êags
;

272 i‡(
h™dÀ
 =
INVALID_HANDLE_VALUE


273 || 
	`GëH™dÀInf‹m©i⁄
 (
h™dÀ
, &
Êags
) == 0)

274 
î∫o
 = 
EBADF
;

276 
ªsu…
 = (
Êags
 & 
HANDLE_FLAG_INHERIT
Ë? 0 : 
FD_CLOEXEC
;

280 i‡(0 <
	`dup2
 (
fd
, fd))

281 
ªsu…
 = 0;

297 #i‡
HAVE_FCNTL


298 *
p
 = 
	`va_¨g
 (
¨g
, *);

299 
ªsu…
 = 
	`f˙é
 (
fd
, 
a˘i⁄
, 
p
);

301 
î∫o
 = 
EINVAL
;

306 
	`va_íd
 (
¨g
);

307  
ªsu…
;

308 
	}
}

	@lib/fcntl.h

21 #i‡
__GNUC__
 >= 3

22 #¥agm®
GCC
 
sy°em_hódî


26 #i‡
deföed
 
__√ed_sy°em_f˙é_h


29 
	~<sys/ty≥s.h
>

36 #i‡!(
deföed
 
__GLIBC__
 || deföed 
__UCLIBC__
Ë|| (deföed 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && !(
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 3)))

37 
	~<sys/°©.h
>

39 #ö˛ude_√xà<
f˙é
.
h
>

44 #i‚de‡
_GL_FCNTL_H


46 
	~<sys/ty≥s.h
>

53 #i‡!(
deföed
 
__GLIBC__
 || deföed 
__UCLIBC__
Ë|| (deföed 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && !(
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 3)))

54 
	~<sys/°©.h
>

57 #ö˛ude_√xà<
f˙é
.
h
>

59 #i‚de‡
_GL_FCNTL_H


60 
	#_GL_FCNTL_H


	)

62 #i‚de‡
__GLIBC__


63 
	~<uni°d.h
>

68 #i‚de‡
_GL_CXXDEFS_H


69 
	#_GL_CXXDEFS_H


	)

132 #i‡
deföed
 
__˝lu•lus


133 
	#_GL_EXTERN_C
 "C"

	)

135 
	#_GL_EXTERN_C
 

	)

145 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

146 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

147 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

148 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

157 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

158 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

166 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

167 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

168 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


169 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

170 
«me•a˚
 
GNULIB_NAMESPACE
 \

172 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

174 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

176 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

177 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

185 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


186 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

187 
«me•a˚
 
GNULIB_NAMESPACE
 \

189 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

190 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

192 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

194 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

195 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

205 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


212 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

213 
«me•a˚
 
GNULIB_NAMESPACE
 \

215 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

217 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

219 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

220 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

228 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


229 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

230 
«me•a˚
 
GNULIB_NAMESPACE
 \

232 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

233 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

235 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

237 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

238 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

247 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


253 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

254 
«me•a˚
 
GNULIB_NAMESPACE
 \

256 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

257 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

258 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

260 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

262 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

263 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

270 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


271 
	#_GL_CXXALIASWARN
(
func
) \

272 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

273 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

274 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

277 #i‡!
__OPTIMIZE__


278 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

279 
	`_GL_WARN_ON_USE
 (
func
, \

281 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

282 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


283 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

284 
	`__ty≥of__
 (
func
Ë
	)
func

286 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

287 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

290 
	#_GL_CXXALIASWARN
(
func
) \

291 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

297 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


298 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

299 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

300 
GNULIB_NAMESPACE
)

	)

301 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

302 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

305 #i‡!
__OPTIMIZE__


306 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

307 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

309 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

310 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


311 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

312 
	`__ty≥of__
 (
func
Ë
	)
func

314 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

315 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

318 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

319 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

328 #i‚de‡
_GL_ARG_NONNULL


329 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

330 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

332 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

337 #i‚de‡
_GL_WARN_ON_USE


339 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

341 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

342 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

343 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


345 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

346 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

348 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

349 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

359 #i‚de‡
_GL_WARN_ON_USE_CXX


360 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

361 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

362 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

363 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

364 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


366 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

367 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

369 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

370 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

376 #i‚de‡
_GL_WARN_EXTERN_C


377 #i‡
deföed
 
__˝lu•lus


378 
	#_GL_WARN_EXTERN_C
 "C"

	)

380 
	#_GL_WARN_EXTERN_C
 

	)

389 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

390 #unde‡
f˙é


391 
	#f˙é
 
Ωl_f˙é


	)

393 
_GL_FUNCDECL_RPL
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

394 
_GL_CXXALIAS_RPL
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

397 
_GL_FUNCDECL_SYS
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

399 
_GL_CXXALIAS_SYS
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

401 
_GL_CXXALIASWARN
 (
f˙é
);

402 #ñi‡
deföed
 
GNULIB_POSIXCHECK


403 #unde‡
f˙é


404 #i‡
HAVE_RAW_DECL_FCNTL


405 
_GL_WARN_ON_USE
 (
f˙é
, "fcntl isÇotálways POSIX compliant - "

412 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

413 #unde‡
›í


414 
	#›í
 
Ωl_›í


	)

416 
_GL_FUNCDECL_RPL
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...)

417 
_GL_ARG_NONNULL
 ((1)));

418 
_GL_CXXALIAS_RPL
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...));

420 
_GL_CXXALIAS_SYS
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...));

424 #i‡!
deföed
 
__hpux


425 
_GL_CXXALIASWARN
 (
›í
);

427 #ñi‡
deföed
 
GNULIB_POSIXCHECK


428 #unde‡
›í


430 
_GL_WARN_ON_USE
 (
›í
, "open isÇotálways POSIX compliant - "

436 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

437 #unde‡
›í©


438 
	#›í©
 
Ωl_›í©


	)

440 
_GL_FUNCDECL_RPL
 (
›í©
, ,

441 (
fd
, c⁄° *
fûe
, 
Êags
, ...)

442 
_GL_ARG_NONNULL
 ((2)));

443 
_GL_CXXALIAS_RPL
 (
›í©
, ,

444 (
fd
, c⁄° *
fûe
, 
Êags
, ...));

447 
_GL_FUNCDECL_SYS
 (
›í©
, ,

448 (
fd
, c⁄° *
fûe
, 
Êags
, ...)

449 
_GL_ARG_NONNULL
 ((2)));

451 
_GL_CXXALIAS_SYS
 (
›í©
, ,

452 (
fd
, c⁄° *
fûe
, 
Êags
, ...));

454 
_GL_CXXALIASWARN
 (
›í©
);

455 #ñi‡
deföed
 
GNULIB_POSIXCHECK


456 #unde‡
›í©


457 #i‡
HAVE_RAW_DECL_OPENAT


458 
_GL_WARN_ON_USE
 (
›í©
, "openat isÇotÖortable - "

466 #i‚de‡
FD_CLOEXEC


467 
	#FD_CLOEXEC
 1

	)

473 #i‚de‡
F_DUPFD_CLOEXEC


474 
	#F_DUPFD_CLOEXEC
 0x40000000

	)

476 
	#GNULIB_deföed_F_DUPFD_CLOEXEC
 1

	)

478 
	#GNULIB_deföed_F_DUPFD_CLOEXEC
 0

	)

481 #i‚de‡
F_DUPFD


482 
	#F_DUPFD
 1

	)

485 #i‚de‡
F_GETFD


486 
	#F_GETFD
 2

	)

491 #i‡!
deföed
 
O_DIRECT
 && deföed 
O_DIRECTIO


493 
	#O_DIRECT
 
O_DIRECTIO


	)

496 #i‡!
deföed
 
O_CLOEXEC
 && deföed 
O_NOINHERIT


498 
	#O_CLOEXEC
 
O_NOINHERIT


	)

501 #i‚de‡
O_CLOEXEC


502 
	#O_CLOEXEC
 0

	)

505 #i‚de‡
O_DIRECT


506 
	#O_DIRECT
 0

	)

509 #i‚de‡
O_DIRECTORY


510 
	#O_DIRECTORY
 0

	)

513 #i‚de‡
O_DSYNC


514 
	#O_DSYNC
 0

	)

517 #i‚de‡
O_EXEC


518 
	#O_EXEC
 
O_RDONLY


	)

521 #i‚de‡
O_NDELAY


522 
	#O_NDELAY
 0

	)

525 #i‚de‡
O_NOATIME


526 
	#O_NOATIME
 0

	)

529 #i‚de‡
O_NONBLOCK


530 
	#O_NONBLOCK
 
O_NDELAY


	)

537 #i‡
O_NONBLOCK


538 
	#GNULIB_deföed_O_NONBLOCK
 0

	)

540 
	#GNULIB_deföed_O_NONBLOCK
 1

	)

541 #unde‡
O_NONBLOCK


542 
	#O_NONBLOCK
 0x40000000

	)

546 #i‚de‡
O_NOCTTY


547 
	#O_NOCTTY
 0

	)

550 #i‚de‡
O_NOFOLLOW


551 
	#O_NOFOLLOW
 0

	)

554 #i‚de‡
O_NOLINKS


555 
	#O_NOLINKS
 0

	)

558 #i‚de‡
O_RSYNC


559 
	#O_RSYNC
 0

	)

562 #i‚de‡
O_SEARCH


563 
	#O_SEARCH
 
O_RDONLY


	)

566 #i‚de‡
O_SYNC


567 
	#O_SYNC
 0

	)

570 #i‚de‡
O_TTY_INIT


571 
	#O_TTY_INIT
 0

	)

574 #i‡
O_ACCMODE
 !(
O_RDONLY
 | 
O_WRONLY
 | 
O_RDWR
 | 
O_EXEC
 | 
O_SEARCH
)

575 #unde‡
O_ACCMODE


576 
	#O_ACCMODE
 (
O_RDONLY
 | 
O_WRONLY
 | 
O_RDWR
 | 
O_EXEC
 | 
O_SEARCH
)

	)

581 #i‡!
deföed
 
O_BINARY
 && deföed 
_O_BINARY


583 
	#O_BINARY
 
_O_BINARY


	)

584 
	#O_TEXT
 
_O_TEXT


	)

587 #i‡
deföed
 
__BEOS__
 || deföed 
__HAIKU__


589 #unde‡
O_BINARY


590 #unde‡
O_TEXT


593 #i‚de‡
O_BINARY


594 
	#O_BINARY
 0

	)

595 
	#O_TEXT
 0

	)

604 #i‡0 < 
AT_FDCWD
 && AT_FDCWD == 0xffd19553

605 #unde‡
AT_FDCWD


611 #i‚de‡
AT_FDCWD


612 
	#AT_FDCWD
 (-3041965)

	)

617 #i‚de‡
AT_SYMLINK_NOFOLLOW


618 
	#AT_SYMLINK_NOFOLLOW
 4096

	)

621 #i‚de‡
AT_REMOVEDIR


622 
	#AT_REMOVEDIR
 1

	)

626 #i‚de‡
AT_SYMLINK_FOLLOW


627 
	#AT_SYMLINK_FOLLOW
 2

	)

630 #i‚de‡
AT_EACCESS


631 
	#AT_EACCESS
 4

	)

	@lib/fcntl.in.h

20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

25 #i‡
deföed
 
__√ed_sy°em_f˙é_h


28 
	~<sys/ty≥s.h
>

35 #i‡!(
deföed
 
__GLIBC__
 || deföed 
__UCLIBC__
Ë|| (deföed 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && !(
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 3)))

36 
	~<sys/°©.h
>

38 #@
INCLUDE_NEXT
@ @
NEXT_FCNTL_H
@

43 #i‚de‡
_
@
GUARD_PREFIX
@
_FCNTL_H


45 
	~<sys/ty≥s.h
>

52 #i‡!(
deföed
 
__GLIBC__
 || deföed 
__UCLIBC__
Ë|| (deföed 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && !(
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 3)))

53 
	~<sys/°©.h
>

56 #@
INCLUDE_NEXT
@ @
NEXT_FCNTL_H
@

58 #i‚de‡
_
@
GUARD_PREFIX
@
_FCNTL_H


59 
	#_
@
GUARD_PREFIX
@
_FCNTL_H


	)

61 #i‚de‡
__GLIBC__


62 
	~<uni°d.h
>

75 #i‡@
GNULIB_FCNTL
@

76 #i‡@
REPLACE_FCNTL
@

77 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

78 #unde‡
f˙é


79 
	#f˙é
 
Ωl_f˙é


	)

81 
_GL_FUNCDECL_RPL
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

82 
_GL_CXXALIAS_RPL
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

84 #i‡!@
HAVE_FCNTL
@

85 
_GL_FUNCDECL_SYS
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

87 
_GL_CXXALIAS_SYS
 (
f˙é
, , (
fd
, 
a˘i⁄
, ...));

89 
_GL_CXXALIASWARN
 (
f˙é
);

90 #ñi‡
deföed
 
GNULIB_POSIXCHECK


91 #unde‡
f˙é


92 #i‡
HAVE_RAW_DECL_FCNTL


93 
_GL_WARN_ON_USE
 (
f˙é
, "fcntl isÇotálways POSIX compliant - "

98 #i‡@
GNULIB_OPEN
@

99 #i‡@
REPLACE_OPEN
@

100 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

101 #unde‡
›í


102 
	#›í
 
Ωl_›í


	)

104 
_GL_FUNCDECL_RPL
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...)

105 
_GL_ARG_NONNULL
 ((1)));

106 
_GL_CXXALIAS_RPL
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...));

108 
_GL_CXXALIAS_SYS
 (
›í
, , (c⁄° *
fûíame
, 
Êags
, ...));

112 #i‡!
deföed
 
__hpux


113 
_GL_CXXALIASWARN
 (
›í
);

115 #ñi‡
deföed
 
GNULIB_POSIXCHECK


116 #unde‡
›í


118 
_GL_WARN_ON_USE
 (
›í
, "open isÇotálways POSIX compliant - "

122 #i‡@
GNULIB_OPENAT
@

123 #i‡@
REPLACE_OPENAT
@

124 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

125 #unde‡
›í©


126 
	#›í©
 
Ωl_›í©


	)

128 
_GL_FUNCDECL_RPL
 (
›í©
, ,

129 (
fd
, c⁄° *
fûe
, 
Êags
, ...)

130 
_GL_ARG_NONNULL
 ((2)));

131 
_GL_CXXALIAS_RPL
 (
›í©
, ,

132 (
fd
, c⁄° *
fûe
, 
Êags
, ...));

134 #i‡!@
HAVE_OPENAT
@

135 
_GL_FUNCDECL_SYS
 (
›í©
, ,

136 (
fd
, c⁄° *
fûe
, 
Êags
, ...)

137 
_GL_ARG_NONNULL
 ((2)));

139 
_GL_CXXALIAS_SYS
 (
›í©
, ,

140 (
fd
, c⁄° *
fûe
, 
Êags
, ...));

142 
_GL_CXXALIASWARN
 (
›í©
);

143 #ñi‡
deföed
 
GNULIB_POSIXCHECK


144 #unde‡
›í©


145 #i‡
HAVE_RAW_DECL_OPENAT


146 
_GL_WARN_ON_USE
 (
›í©
, "openat isÇotÖortable - "

154 #i‚de‡
FD_CLOEXEC


155 
	#FD_CLOEXEC
 1

	)

161 #i‚de‡
F_DUPFD_CLOEXEC


162 
	#F_DUPFD_CLOEXEC
 0x40000000

	)

164 
	#GNULIB_deföed_F_DUPFD_CLOEXEC
 1

	)

166 
	#GNULIB_deföed_F_DUPFD_CLOEXEC
 0

	)

169 #i‚de‡
F_DUPFD


170 
	#F_DUPFD
 1

	)

173 #i‚de‡
F_GETFD


174 
	#F_GETFD
 2

	)

179 #i‡!
deföed
 
O_DIRECT
 && deföed 
O_DIRECTIO


181 
	#O_DIRECT
 
O_DIRECTIO


	)

184 #i‡!
deföed
 
O_CLOEXEC
 && deföed 
O_NOINHERIT


186 
	#O_CLOEXEC
 
O_NOINHERIT


	)

189 #i‚de‡
O_CLOEXEC


190 
	#O_CLOEXEC
 0

	)

193 #i‚de‡
O_DIRECT


194 
	#O_DIRECT
 0

	)

197 #i‚de‡
O_DIRECTORY


198 
	#O_DIRECTORY
 0

	)

201 #i‚de‡
O_DSYNC


202 
	#O_DSYNC
 0

	)

205 #i‚de‡
O_EXEC


206 
	#O_EXEC
 
O_RDONLY


	)

209 #i‚de‡
O_NDELAY


210 
	#O_NDELAY
 0

	)

213 #i‚de‡
O_NOATIME


214 
	#O_NOATIME
 0

	)

217 #i‚de‡
O_NONBLOCK


218 
	#O_NONBLOCK
 
O_NDELAY


	)

224 #i‡@
GNULIB_NONBLOCKING
@

225 #i‡
O_NONBLOCK


226 
	#GNULIB_deföed_O_NONBLOCK
 0

	)

228 
	#GNULIB_deföed_O_NONBLOCK
 1

	)

229 #unde‡
O_NONBLOCK


230 
	#O_NONBLOCK
 0x40000000

	)

234 #i‚de‡
O_NOCTTY


235 
	#O_NOCTTY
 0

	)

238 #i‚de‡
O_NOFOLLOW


239 
	#O_NOFOLLOW
 0

	)

242 #i‚de‡
O_NOLINKS


243 
	#O_NOLINKS
 0

	)

246 #i‚de‡
O_RSYNC


247 
	#O_RSYNC
 0

	)

250 #i‚de‡
O_SEARCH


251 
	#O_SEARCH
 
O_RDONLY


	)

254 #i‚de‡
O_SYNC


255 
	#O_SYNC
 0

	)

258 #i‚de‡
O_TTY_INIT


259 
	#O_TTY_INIT
 0

	)

262 #i‡
O_ACCMODE
 !(
O_RDONLY
 | 
O_WRONLY
 | 
O_RDWR
 | 
O_EXEC
 | 
O_SEARCH
)

263 #unde‡
O_ACCMODE


264 
	#O_ACCMODE
 (
O_RDONLY
 | 
O_WRONLY
 | 
O_RDWR
 | 
O_EXEC
 | 
O_SEARCH
)

	)

269 #i‡!
deföed
 
O_BINARY
 && deföed 
_O_BINARY


271 
	#O_BINARY
 
_O_BINARY


	)

272 
	#O_TEXT
 
_O_TEXT


	)

275 #i‡
deföed
 
__BEOS__
 || deföed 
__HAIKU__


277 #unde‡
O_BINARY


278 #unde‡
O_TEXT


281 #i‚de‡
O_BINARY


282 
	#O_BINARY
 0

	)

283 
	#O_TEXT
 0

	)

292 #i‡0 < 
AT_FDCWD
 && AT_FDCWD == 0xffd19553

293 #unde‡
AT_FDCWD


299 #i‚de‡
AT_FDCWD


300 
	#AT_FDCWD
 (-3041965)

	)

305 #i‚de‡
AT_SYMLINK_NOFOLLOW


306 
	#AT_SYMLINK_NOFOLLOW
 4096

	)

309 #i‚de‡
AT_REMOVEDIR


310 
	#AT_REMOVEDIR
 1

	)

314 #i‚de‡
AT_SYMLINK_FOLLOW


315 
	#AT_SYMLINK_FOLLOW
 2

	)

318 #i‚de‡
AT_EACCESS


319 
	#AT_EACCESS
 4

	)

	@lib/fd-hook.c

20 
	~<c⁄fig.h
>

23 
	~"fd-hook.h
"

25 
	~<°dlib.h
>

29 #i‡
WINDOWS_SOCKETS


33 
fd_hook
 
	g™ch‹
 = { &
™ch‹
, &™ch‹, 
NULL
, NULL };

36 
	$execuã_˛o£_hooks
 (c⁄° 
fd_hook
 *
ªmaöög_li°
, 
gl_˛o£_‚
 
¥im¨y
,

37 
fd
)

39 i‡(
ªmaöög_li°
 =&
™ch‹
)

41  
	`¥im¨y
 (
fd
);

43  
ªmaöög_li°
->
	`¥iv©e_˛o£_‚
 (ªmaöög_li°->
¥iv©e_√xt
,

44 
¥im¨y
, 
fd
);

45 
	}
}

48 
	$execuã_Æl_˛o£_hooks
 (
gl_˛o£_‚
 
¥im¨y
, 
fd
)

50  
	`execuã_˛o£_hooks
 (
™ch‹
.
¥iv©e_√xt
, 
¥im¨y
, 
fd
);

51 
	}
}

54 
	$execuã_io˘l_hooks
 (c⁄° 
fd_hook
 *
ªmaöög_li°
, 
gl_io˘l_‚
 
¥im¨y
,

55 
fd
, 
ªque°
, *
¨g
)

57 i‡(
ªmaöög_li°
 =&
™ch‹
)

59  
	`¥im¨y
 (
fd
, 
ªque°
, 
¨g
);

61  
ªmaöög_li°
->
	`¥iv©e_io˘l_‚
 (ªmaöög_li°->
¥iv©e_√xt
,

62 
¥im¨y
, 
fd
, 
ªque°
, 
¨g
);

63 
	}
}

66 
	$execuã_Æl_io˘l_hooks
 (
gl_io˘l_‚
 
¥im¨y
,

67 
fd
, 
ªque°
, *
¨g
)

69  
	`execuã_io˘l_hooks
 (
™ch‹
.
¥iv©e_√xt
, 
¥im¨y
, 
fd
, 
ªque°
, 
¨g
);

70 
	}
}

73 
	$ªgi°î_fd_hook
 (
˛o£_hook_‚
 
˛o£_hook
, 
io˘l_hook_‚
 
io˘l_hook
, 
fd_hook
 *
lök
)

75 i‡(
˛o£_hook
 =
NULL
)

76 
˛o£_hook
 = 
execuã_˛o£_hooks
;

77 i‡(
io˘l_hook
 =
NULL
)

78 
io˘l_hook
 = 
execuã_io˘l_hooks
;

80 i‡(
lök
->
¥iv©e_√xt
 =
NULL
 &&Üök->
¥iv©e_¥ev
 == NULL)

83 
lök
->
¥iv©e_√xt
 = 
™ch‹
.private_next;

84 
lök
->
¥iv©e_¥ev
 = &
™ch‹
;

85 
lök
->
¥iv©e_˛o£_‚
 = 
˛o£_hook
;

86 
lök
->
¥iv©e_io˘l_‚
 = 
io˘l_hook
;

87 
™ch‹
.
¥iv©e_√xt
->
¥iv©e_¥ev
 = 
lök
;

88 
™ch‹
.
¥iv©e_√xt
 = 
lök
;

93 i‡(
lök
->
¥iv©e_˛o£_‚
 !
˛o£_hook


94 || 
lök
->
¥iv©e_io˘l_‚
 !
io˘l_hook
)

95 
	`ab‹t
 ();

97 
	}
}

100 
	$uƒegi°î_fd_hook
 (
fd_hook
 *
lök
)

102 
fd_hook
 *
√xt
 = 
lök
->
¥iv©e_√xt
;

103 
fd_hook
 *
¥ev
 = 
lök
->
¥iv©e_¥ev
;

105 i‡(
√xt
 !
NULL
 && 
¥ev
 != NULL)

108 
¥ev
->
¥iv©e_√xt
 = 
√xt
;

109 
√xt
->
¥iv©e_¥ev
 = 
¥ev
;

111 
lök
->
¥iv©e_√xt
 = 
NULL
;

112 
lök
->
¥iv©e_¥ev
 = 
NULL
;

113 
lök
->
¥iv©e_˛o£_‚
 = 
NULL
;

114 
lök
->
¥iv©e_io˘l_‚
 = 
NULL
;

116 
	}
}

	@lib/fd-hook.h

20 #i‚de‡
FD_HOOK_H


21 
	#FD_HOOK_H


	)

23 #ifde‡
__˝lu•lus


30 #i‡
WINDOWS_SOCKETS


34 (*
	tgl_˛o£_‚
Ë(
	tfd
);

37 (*
	tgl_io˘l_‚
Ë(
	tfd
, 
	tªque°
, *
	t¨g
);

44 
	sfd_hook


47 
fd_hook
 *
¥iv©e_√xt
;

48 
fd_hook
 *
¥iv©e_¥ev
;

51 (*
¥iv©e_˛o£_‚
Ë(c⁄° 
fd_hook
 *
ªmaöög_li°
,

52 
gl_˛o£_‚
 
¥im¨y
,

53 
fd
);

57 (*
¥iv©e_io˘l_‚
Ë(c⁄° 
fd_hook
 *
ªmaöög_li°
,

58 
gl_io˘l_‚
 
¥im¨y
,

59 
fd
, 
ªque°
, *
¨g
);

68 (*
	t˛o£_hook_‚
Ë(c⁄° 
	tfd_hook
 *
	tªmaöög_li°
,

69 
	tgl_˛o£_‚
 
	t¥im¨y
,

70 
	tfd
);

74 
	`execuã_˛o£_hooks
 (c⁄° 
fd_hook
 *
ªmaöög_li°
,

75 
gl_˛o£_‚
 
¥im¨y
,

76 
fd
);

80 
	`execuã_Æl_˛o£_hooks
 (
gl_˛o£_‚
 
¥im¨y
, 
fd
);

88 (*
	tio˘l_hook_‚
Ë(c⁄° 
	tfd_hook
 *
	tªmaöög_li°
,

89 
	tgl_io˘l_‚
 
	t¥im¨y
,

90 
	tfd
, 
	tªque°
, *
	t¨g
);

94 
	`execuã_io˘l_hooks
 (c⁄° 
fd_hook
 *
ªmaöög_li°
,

95 
gl_io˘l_‚
 
¥im¨y
,

96 
fd
, 
ªque°
, *
¨g
);

100 
	`execuã_Æl_io˘l_hooks
 (
gl_io˘l_‚
 
¥im¨y
,

101 
fd
, 
ªque°
, *
¨g
);

107 
	`ªgi°î_fd_hook
 (
˛o£_hook_‚
 
˛o£_hook
, 
io˘l_hook_‚
 
io˘l_hook
,

108 
fd_hook
 *
lök
);

111 
	`uƒegi°î_fd_hook
 (
fd_hook
 *
lök
);

117 #ifde‡
__˝lu•lus


118 
	}
}

	@lib/fd-safer-flag.c

21 
	~<c⁄fig.h
>

24 
	~"uni°d-ß„r.h
"

26 
	~<î∫o.h
>

27 
	~<uni°d.h
>

40 
	$fd_ß„r_Êag
 (
fd
, 
Êag
)

42 i‡(
STDIN_FILENO
 <
fd
 && fd <
STDERR_FILENO
)

44 
f
 = 
	`dup_ß„r_Êag
 (
fd
, 
Êag
);

45 
e
 = 
î∫o
;

46 
	`˛o£
 (
fd
);

47 
î∫o
 = 
e
;

48 
fd
 = 
f
;

51  
fd
;

52 
	}
}

	@lib/fd-safer.c

20 
	~<c⁄fig.h
>

22 
	~"uni°d-ß„r.h
"

24 
	~<î∫o.h
>

25 
	~<uni°d.h
>

37 
	$fd_ß„r
 (
fd
)

39 i‡(
STDIN_FILENO
 <
fd
 && fd <
STDERR_FILENO
)

41 
f
 = 
	`dup_ß„r
 (
fd
);

42 
e
 = 
î∫o
;

43 
	`˛o£
 (
fd
);

44 
î∫o
 = 
e
;

45 
fd
 = 
f
;

48  
fd
;

49 
	}
}

	@lib/float+.h

21 #i‚de‡
_FLOATPLUS_H


22 
	#_FLOATPLUS_H


	)

24 
	~<Êﬂt.h
>

25 
	~<limôs.h
>

29 #i‡
FLT_RADIX
 == 2

30 
	#FLT_MANT_BIT
 
FLT_MANT_DIG


	)

31 
	#DBL_MANT_BIT
 
DBL_MANT_DIG


	)

32 
	#LDBL_MANT_BIT
 
LDBL_MANT_DIG


	)

33 #ñi‡
FLT_RADIX
 == 4

34 
	#FLT_MANT_BIT
 (
FLT_MANT_DIG
 * 2)

	)

35 
	#DBL_MANT_BIT
 (
DBL_MANT_DIG
 * 2)

	)

36 
	#LDBL_MANT_BIT
 (
LDBL_MANT_DIG
 * 2)

	)

37 #ñi‡
FLT_RADIX
 == 16

38 
	#FLT_MANT_BIT
 (
FLT_MANT_DIG
 * 4)

	)

39 
	#DBL_MANT_BIT
 (
DBL_MANT_DIG
 * 4)

	)

40 
	#LDBL_MANT_BIT
 (
LDBL_MANT_DIG
 * 4)

	)

44 
	#FLT_EXP_MASK
 ((
FLT_MAX_EXP
 - 
FLT_MIN_EXP
Ë| 7)

	)

45 
	#DBL_EXP_MASK
 ((
DBL_MAX_EXP
 - 
DBL_MIN_EXP
Ë| 7)

	)

46 
	#LDBL_EXP_MASK
 ((
LDBL_MAX_EXP
 - 
LDBL_MIN_EXP
Ë| 7)

	)

50 
	#FLT_EXP_BIT
 \

51 (
FLT_EXP_MASK
 < 0x100 ? 8 : \

52 
FLT_EXP_MASK
 < 0x200 ? 9 : \

53 
FLT_EXP_MASK
 < 0x400 ? 10 : \

54 
FLT_EXP_MASK
 < 0x800 ? 11 : \

55 
FLT_EXP_MASK
 < 0x1000 ? 12 : \

56 
FLT_EXP_MASK
 < 0x2000 ? 13 : \

57 
FLT_EXP_MASK
 < 0x4000 ? 14 : \

58 
FLT_EXP_MASK
 < 0x8000 ? 15 : \

59 
FLT_EXP_MASK
 < 0x10000 ? 16 : \

60 
FLT_EXP_MASK
 < 0x20000 ? 17 : \

61 
FLT_EXP_MASK
 < 0x40000 ? 18 : \

62 
FLT_EXP_MASK
 < 0x80000 ? 19 : \

63 
FLT_EXP_MASK
 < 0x100000 ? 20 : \

64 
FLT_EXP_MASK
 < 0x200000 ? 21 : \

65 
FLT_EXP_MASK
 < 0x400000 ? 22 : \

66 
FLT_EXP_MASK
 < 0x800000 ? 23 : \

67 
FLT_EXP_MASK
 < 0x1000000 ? 24 : \

68 
FLT_EXP_MASK
 < 0x2000000 ? 25 : \

69 
FLT_EXP_MASK
 < 0x4000000 ? 26 : \

70 
FLT_EXP_MASK
 < 0x8000000 ? 27 : \

71 
FLT_EXP_MASK
 < 0x10000000 ? 28 : \

72 
FLT_EXP_MASK
 < 0x20000000 ? 29 : \

73 
FLT_EXP_MASK
 < 0x40000000 ? 30 : \

74 
FLT_EXP_MASK
 <= 0x7fffffff ? 31 : \

75 32)

	)

76 
	#DBL_EXP_BIT
 \

77 (
DBL_EXP_MASK
 < 0x100 ? 8 : \

78 
DBL_EXP_MASK
 < 0x200 ? 9 : \

79 
DBL_EXP_MASK
 < 0x400 ? 10 : \

80 
DBL_EXP_MASK
 < 0x800 ? 11 : \

81 
DBL_EXP_MASK
 < 0x1000 ? 12 : \

82 
DBL_EXP_MASK
 < 0x2000 ? 13 : \

83 
DBL_EXP_MASK
 < 0x4000 ? 14 : \

84 
DBL_EXP_MASK
 < 0x8000 ? 15 : \

85 
DBL_EXP_MASK
 < 0x10000 ? 16 : \

86 
DBL_EXP_MASK
 < 0x20000 ? 17 : \

87 
DBL_EXP_MASK
 < 0x40000 ? 18 : \

88 
DBL_EXP_MASK
 < 0x80000 ? 19 : \

89 
DBL_EXP_MASK
 < 0x100000 ? 20 : \

90 
DBL_EXP_MASK
 < 0x200000 ? 21 : \

91 
DBL_EXP_MASK
 < 0x400000 ? 22 : \

92 
DBL_EXP_MASK
 < 0x800000 ? 23 : \

93 
DBL_EXP_MASK
 < 0x1000000 ? 24 : \

94 
DBL_EXP_MASK
 < 0x2000000 ? 25 : \

95 
DBL_EXP_MASK
 < 0x4000000 ? 26 : \

96 
DBL_EXP_MASK
 < 0x8000000 ? 27 : \

97 
DBL_EXP_MASK
 < 0x10000000 ? 28 : \

98 
DBL_EXP_MASK
 < 0x20000000 ? 29 : \

99 
DBL_EXP_MASK
 < 0x40000000 ? 30 : \

100 
DBL_EXP_MASK
 <= 0x7fffffff ? 31 : \

101 32)

	)

102 
	#LDBL_EXP_BIT
 \

103 (
LDBL_EXP_MASK
 < 0x100 ? 8 : \

104 
LDBL_EXP_MASK
 < 0x200 ? 9 : \

105 
LDBL_EXP_MASK
 < 0x400 ? 10 : \

106 
LDBL_EXP_MASK
 < 0x800 ? 11 : \

107 
LDBL_EXP_MASK
 < 0x1000 ? 12 : \

108 
LDBL_EXP_MASK
 < 0x2000 ? 13 : \

109 
LDBL_EXP_MASK
 < 0x4000 ? 14 : \

110 
LDBL_EXP_MASK
 < 0x8000 ? 15 : \

111 
LDBL_EXP_MASK
 < 0x10000 ? 16 : \

112 
LDBL_EXP_MASK
 < 0x20000 ? 17 : \

113 
LDBL_EXP_MASK
 < 0x40000 ? 18 : \

114 
LDBL_EXP_MASK
 < 0x80000 ? 19 : \

115 
LDBL_EXP_MASK
 < 0x100000 ? 20 : \

116 
LDBL_EXP_MASK
 < 0x200000 ? 21 : \

117 
LDBL_EXP_MASK
 < 0x400000 ? 22 : \

118 
LDBL_EXP_MASK
 < 0x800000 ? 23 : \

119 
LDBL_EXP_MASK
 < 0x1000000 ? 24 : \

120 
LDBL_EXP_MASK
 < 0x2000000 ? 25 : \

121 
LDBL_EXP_MASK
 < 0x4000000 ? 26 : \

122 
LDBL_EXP_MASK
 < 0x8000000 ? 27 : \

123 
LDBL_EXP_MASK
 < 0x10000000 ? 28 : \

124 
LDBL_EXP_MASK
 < 0x20000000 ? 29 : \

125 
LDBL_EXP_MASK
 < 0x40000000 ? 30 : \

126 
LDBL_EXP_MASK
 <= 0x7fffffff ? 31 : \

127 32)

	)

132 
	#FLT_TOTAL_BIT
 ((
FLT_MANT_BIT
 - 1Ë+ 
FLT_EXP_BIT
 + 1)

	)

133 
	#DBL_TOTAL_BIT
 ((
DBL_MANT_BIT
 - 1Ë+ 
DBL_EXP_BIT
 + 1)

	)

134 
	#LDBL_TOTAL_BIT
 ((
LDBL_MANT_BIT
 - 1Ë+ 
LDBL_EXP_BIT
 + 1)

	)

141 
	#SIZEOF_FLT
 ((
FLT_TOTAL_BIT
 + 
CHAR_BIT
 - 1Ë/ CHAR_BIT)

	)

142 
	#SIZEOF_DBL
 ((
DBL_TOTAL_BIT
 + 
CHAR_BIT
 - 1Ë/ CHAR_BIT)

	)

143 
	#SIZEOF_LDBL
 ((
LDBL_TOTAL_BIT
 + 
CHAR_BIT
 - 1Ë/ CHAR_BIT)

	)

146 
	tvîify_sizeof_Êt
[
SIZEOF_FLT
 <=  () ? 1 : -1];

147 
	tvîify_sizeof_dbl
[
SIZEOF_DBL
 <=  () ? 1 : - 1];

148 
	tvîify_sizeof_ldbl
[
SIZEOF_LDBL
 <=  () ? 1 : - 1];

	@lib/float.c

18 
	~<c⁄fig.h
>

21 
	~<Êﬂt.h
>

23 #i‡(
deföed
 
_ARCH_PPC
 || deföed 
_POWER
Ë&& deföed 
_AIX
 && (
LDBL_MANT_DIG
 =106Ë&& deföed 
__GNUC__


24 c⁄° 
gl_l⁄g_doubÀ_uni⁄
 
	ggl_LDBL_MAX
 =

25 { { 
DBL_MAX
, DBL_MAX / ()134217728UL / ()134217728UL } };

26 #ñi‡
deföed
 
__i386__


27 c⁄° 
gl_l⁄g_doubÀ_uni⁄
 
	ggl_LDBL_MAX
 =

32 
	tdummy
;

	@lib/float.in.h

18 #i‚de‡
_
@
GUARD_PREFIX
@
_FLOAT_H


20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

26 #@
INCLUDE_NEXT
@ @
NEXT_FLOAT_H
@

28 #i‚de‡
_
@
GUARD_PREFIX
@
_FLOAT_H


29 
	#_
@
GUARD_PREFIX
@
_FLOAT_H


	)

33 #i‡
deföed
 
__i386__
 && (deföed 
__BEOS__
 || deföed 
__O≥nBSD__
)

35 #unde‡
LDBL_MANT_DIG


36 
	#LDBL_MANT_DIG
 64

	)

38 #unde‡
LDBL_DIG


39 
	#LDBL_DIG
 18

	)

41 #unde‡
LDBL_EPSILON


42 
	#LDBL_EPSILON
 1.0842021724855044340E-19L

	)

44 #unde‡
LDBL_MIN_EXP


45 
	#LDBL_MIN_EXP
 (-16381)

	)

47 #unde‡
LDBL_MAX_EXP


48 
	#LDBL_MAX_EXP
 16384

	)

50 #unde‡
LDBL_MIN


51 
	#LDBL_MIN
 3.3621031431120935063E-4932L

	)

53 #unde‡
LDBL_MAX


54 
	#LDBL_MAX
 1.1897314953572317650E+4932L

	)

56 #unde‡
LDBL_MIN_10_EXP


57 
	#LDBL_MIN_10_EXP
 (-4931)

	)

59 #unde‡
LDBL_MAX_10_EXP


60 
	#LDBL_MAX_10_EXP
 4932

	)

66 #i‡
deföed
 
__i386__
 && deföed 
__FªeBSD__


68 #unde‡
LDBL_MANT_DIG


69 
	#LDBL_MANT_DIG
 64

	)

71 #unde‡
LDBL_DIG


72 
	#LDBL_DIG
 18

	)

74 #unde‡
LDBL_EPSILON


75 
	#LDBL_EPSILON
 1.084202172485504434007452800869941711426e-19L

	)

77 #unde‡
LDBL_MIN_EXP


78 
	#LDBL_MIN_EXP
 (-16381)

	)

80 #unde‡
LDBL_MAX_EXP


81 
	#LDBL_MAX_EXP
 16384

	)

83 #unde‡
LDBL_MIN


84 
	#LDBL_MIN
 3.3621031431120935E-4932L

	)

86 #unde‡
LDBL_MAX


96 
	ugl_l⁄g_doubÀ_uni⁄


98 °ru˘ { 
	mlo
; 
	mhi
; 
	mexp⁄ít
; } 
	mxd
;

99 
	mld
;

101 c⁄° 
gl_l⁄g_doubÀ_uni⁄
 
gl_LDBL_MAX
;

102 
	#LDBL_MAX
 (
gl_LDBL_MAX
.
ld
)

	)

104 #unde‡
LDBL_MIN_10_EXP


105 
	#LDBL_MIN_10_EXP
 (-4931)

	)

107 #unde‡
LDBL_MAX_10_EXP


108 
	#LDBL_MAX_10_EXP
 4932

	)

113 #i‡(
deföed
 
_ARCH_PPC
 || deföed 
_POWER
Ë&& deföed 
_AIX
 && (
LDBL_MANT_DIG
 =106Ë&& deföed 
__GNUC__


114 #unde‡
LDBL_MIN_EXP


115 
	#LDBL_MIN_EXP
 
DBL_MIN_EXP


	)

116 #unde‡
LDBL_MIN_10_EXP


117 
	#LDBL_MIN_10_EXP
 
DBL_MIN_10_EXP


	)

118 #unde‡
LDBL_MIN


119 
	#LDBL_MIN
 2.22507385850720138309023271733240406422e-308L

	)

120 #unde‡
LDBL_MAX


146 
	ugl_l⁄g_doubÀ_uni⁄


148 °ru˘ { 
	mhi
; 
	mlo
; } 
	mdd
;

149 
	mld
;

151 c⁄° 
gl_l⁄g_doubÀ_uni⁄
 
gl_LDBL_MAX
;

152 
	#LDBL_MAX
 (
gl_LDBL_MAX
.
ld
)

	)

158 #i‡
deföed
 
__sgi
 && (
LDBL_MANT_DIG
 >= 106)

159 #unde‡
LDBL_MANT_DIG


160 
	#LDBL_MANT_DIG
 106

	)

161 #i‡
deföed
 
__GNUC__


162 #unde‡
LDBL_MIN_EXP


163 
	#LDBL_MIN_EXP
 
DBL_MIN_EXP


	)

164 #unde‡
LDBL_MIN_10_EXP


165 
	#LDBL_MIN_10_EXP
 
DBL_MIN_10_EXP


	)

166 #unde‡
LDBL_MIN


167 
	#LDBL_MIN
 2.22507385850720138309023271733240406422e-308L

	)

168 #unde‡
LDBL_EPSILON


169 
	#LDBL_EPSILON
 2.46519032881566189191165176650870696773e-32L

	)

	@lib/fseek.c

17 
	~<c⁄fig.h
>

20 
	~<°dio.h
>

23 
	~<uni°d.h
>

26 
	$f£ek
 (
FILE
 *
Â
, 
off£t
, 
whí˚
)

29  
	`f£eko
 (
Â
, (
off_t
)
off£t
, 
whí˚
);

30 
	}
}

	@lib/fseeko.c

20 
	~<c⁄fig.h
>

23 
	~<°dio.h
>

26 
	~<uni°d.h
>

28 
	~"°dio-im∂.h
"

31 
	$f£eko
 (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
)

32 #unde‡
f£eko


33 #i‡!
HAVE_FSEEKO


34 #unde‡
f£ek


35 
	#f£eko
 
f£ek


	)

38 #i‡
LSEEK_PIPE_BROKEN


40 i‡(
	`l£ek
 (
	`fûío
 (
Â
), 0, 
SEEK_CUR
) == -1)

41  
EOF
;

45 #i‡
deföed
 
_IO_·rylockfûe
 || 
__GNU_LIBRARY__
 == 1

46 i‡(
Â
->
_IO_ªad_íd
 =Â->
_IO_ªad_±r


47 && 
Â
->
_IO_wrôe_±r
 =Â->
_IO_wrôe_ba£


48 && 
Â
->
_IO_ßve_ba£
 =
NULL
)

49 #ñi‡
deföed
 
__s„º‹
 || deföed 
__Døg⁄Fly__


50 #i‡
deföed
 
__SL64
 && deföed 
__SCLE


51 i‡((
Â
->
_Êags
 & 
__SL64
) == 0)

55 
FILE
 *
tmp
 = 
	`f›í
 ("/dev/null", "r");

56 i‡(!
tmp
)

58 
Â
->
_Êags
 |
__SL64
;

59 
Â
->
_£ek64
 = 
tmp
->_seek64;

60 
	`f˛o£
 (
tmp
);

63 i‡(
Â_
->
_p
 =Â_->
_bf
.
_ba£


64 && 
Â_
->
_r
 == 0

65 && 
Â_
->
_w
 =((Â_->
_Êags
 & (
__SLBF
 | 
__SNBF
 | 
__SRD
)) == 0

66 ? 
Â_
->
_bf
.
_size


68 && 
Â_ub
.
_ba£
 =
NULL
)

69 #ñi‡
deföed
 
__EMX__


70 i‡(
Â
->
_±r
 =Â->
_buf„r


71 && 
Â
->
_rcou¡
 == 0

72 && 
Â
->
_wcou¡
 == 0

73 && 
Â
->
_ungëc_cou¡
 == 0)

74 #ñi‡
deföed
 
__möix


75 i‡(
Â_
->
_±r
 =Â_->
_buf


76 && (
Â_
->
_±r
 =
NULL
 || fp_->
_cou¡
 == 0))

77 #ñi‡
deföed
 
_IOERR


78 i‡(
Â_
->
_±r
 =Â_->
_ba£


79 && (
Â_
->
_±r
 =
NULL
 || fp_->
_˙t
 == 0))

80 #ñi‡
deföed
 
__UCLIBC__


81 i‡(((
Â
->
__modeÊags
 & 
__FLAG_WRITING
) == 0

82 || 
Â
->
__buÂos
 =Â->
__buf°¨t
)

83 && ((
Â
->
__modeÊags
 & (
__FLAG_READONLY
 | 
__FLAG_READING
)) == 0

84 || 
Â
->
__buÂos
 =Â->
__bu‰ód
))

85 #ñi‡
deföed
 
__QNX__


86 i‡((
Â
->
_Mode
 & 0x2000 ? fp->
_Next
 =Â->
_Buf
 : fp->_Nexà=Â->
_Ríd
)

87 && 
Â
->
_Rback
 =Â->
_Back
 +  (fp->_Back)

88 && 
Â
->
_Rßve
 =
NULL
)

89 #ñi‡
deföed
 
__MINT__


90 i‡(
Â
->
__buÂ
 =Â->
__buf„r


91 && 
Â
->
__gë_limô
 =Â->
__buÂ


92 && 
Â
->
__put_limô
 =Â->
__buÂ


93 && !
Â
->
__pushed_back
)

102 
off_t
 
pos
 =

103 
	`l£ek
 (
	`fûío
 (
Â
),

104 
whí˚
 =
SEEK_END
 && 
off£t
 > 0 ? 0 : offset,

105 
whí˚
);

106 i‡(
pos
 == -1)

108 #i‡
deföed
 
__s„º‹
 || deföed 
__Døg⁄Fly__


109 
Â_
->
_Êags
 &~
__SOFF
;

114 #i‡
deföed
 
_IO_·rylockfûe
 || 
__GNU_LIBRARY__
 == 1

115 
Â
->
_Êags
 &~
_IO_EOF_SEEN
;

116 #ñi‡
deföed
 
__s„º‹
 || deföed 
__Døg⁄Fly__


117 #i‡
deföed
 
__CYGWIN__


119 
Â_
->
_off£t
 = 
pos
;

128 
Âos_t
 
f
;

129 
off_t
 
o
;

130 } 
u
;

131 
u
.
o
 = 
pos
;

132 
Â_
->
_off£t
 = 
u
.
f
;

135 
Â_
->
_Êags
 |
__SOFF
;

136 
Â_
->
_Êags
 &~
__SEOF
;

137 #ñi‡
deföed
 
__EMX__


138 
Â
->
_Êags
 &~
_IOEOF
;

139 #ñi‡
deföed
 
_IOERR


140 
Â
->
_Êag
 &~
_IOEOF
;

141 #ñi‡
deföed
 
__MINT__


142 
Â
->
__off£t
 = 
pos
;

143 
Â
->
__eof
 = 0;

147 i‡(!(
whí˚
 =
SEEK_END
 && 
off£t
 > 0))

150  
	`f£eko
 (
Â
, 
off£t
, 
whí˚
);

151 
	}
}

	@lib/futimens.c

19 
	~<c⁄fig.h
>

21 
	~<sys/°©.h
>

23 
	~"utimís.h
"

31 
	$futimís
 (
fd
, 
time•ec
 c⁄° 
times
[2])

36  
	`fdutimís
 (
fd
, 
NULL
, 
times
);

37 
	}
}

	@lib/gai_strerror.c

22 #i‚de‡
_LIBC


23 
	~<c⁄fig.h
>

26 
	~<°dio.h
>

27 
	~<√tdb.h
>

29 #ifde‡
_LIBC


30 
	~<liböé.h
>

32 
	~"gëãxt.h
"

33 
	#_
(
Såög
Ë
	`gëãxt
 (Såög)

	)

34 
	#N_
(
Såög
Ë
	)
String

37 #i‡
HAVE_DECL_GAI_STRERROR


39 
	~<sys/sockë.h
>

40 #unde‡
gai_°ªº‹


41 #i‡
HAVE_DECL_GAI_STRERRORA


42 
	#gai_°ªº‹
 
gai_°ªº‹A


	)

46 
	$Ωl_gai_°ªº‹
 (
code
)

48  
	`gai_°ªº‹
 (
code
);

49 
	}
}

55 
	mcode
;

56 c⁄° *
	mmsg
;

58 
	gvÆues
[] =

60 { 
EAI_ADDRFAMILY
, 
N_
("Address family for hostnameÇot supported") },

61 { 
EAI_AGAIN
, 
N_
("Temporary failure inÇameÑesolution") },

62 { 
EAI_BADFLAGS
, 
N_
("Bad value forái_flags") },

63 { 
EAI_FAIL
, 
N_
("Non-recoverable failure inÇameÑesolution") },

64 { 
EAI_FAMILY
, 
N_
("ai_familyÇot supported") },

65 { 
EAI_MEMORY
, 
N_
("Memoryállocation failure") },

66 { 
EAI_NODATA
, 
N_
("Noáddressássociated with hostname") },

67 { 
EAI_NONAME
, 
N_
("Name or serviceÇot known") },

68 { 
EAI_SERVICE
, 
N_
("ServnameÇot supported forái_socktype") },

69 { 
EAI_SOCKTYPE
, 
N_
("ai_socktypeÇot supported") },

70 { 
EAI_SYSTEM
, 
N_
("SystemÉrror") },

71 { 
EAI_OVERFLOW
, 
N_
("Argument bufferÅoo small") },

72 #ifde‡
EAI_INPROGRESS


73 { 
EAI_INPROGRESS
, 
N_
("ProcessingÑequest inÖrogress") },

74 { 
EAI_CANCELED
, 
N_
("Request canceled") },

75 { 
EAI_NOTCANCELED
, 
N_
("RequestÇot canceled") },

76 { 
EAI_ALLDONE
, 
N_
("AllÑequests done") },

77 { 
EAI_INTR
, 
N_
("Interrupted byá signal") },

78 { 
EAI_IDN_ENCODE
, 
N_
("Parameter stringÇot correctlyÉncoded") }

83 
	$gai_°ªº‹
 (
code
)

85 
size_t
 
i
;

86 
i
 = 0; i <  (
vÆues
) /  (values[0]); ++i)

87 i‡(
vÆues
[
i
].
code
 == code)

88  
	`_
(
vÆues
[
i
].
msg
);

90  
	`_
("UnknownÉrror");

91 
	}
}

92 #ifde‡
_LIBC


93 
	$libc_hiddí_def
 (
gai_°ªº‹
)

	@lib/getaddrinfo.c

21 
	~<c⁄fig.h
>

25 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

27 
	~<√tdb.h
>

29 #i‡
HAVE_NETINET_IN_H


30 
	~<√töë/ö.h
>

34 
	~<¨∑/öë.h
>

37 
	~<°dlib.h
>

40 
	~<°rög.h
>

43 
	~<°dio.h
>

45 
	~<°dboﬁ.h
>

47 
	~"gëãxt.h
"

48 
	#_
(
Såög
Ë
	`gëãxt
 (Såög)

	)

49 
	#N_
(
Såög
Ë
	)
String

52 #i‚de‡
PF_INET


53 
	#PF_INET
 
AF_INET


	)

56 #i‚de‡
PF_UNSPEC


57 
	#PF_UNSPEC
 0

	)

60 #i‡
deföed
 
_WIN32
 || deföed 
__WIN32__


61 
	#WIN32_NATIVE


	)

65 
	~"sockës.h
"

67 #ifde‡
WIN32_NATIVE


68 (
	tWSAAPI
 *
	tgëaddröfo_func
) (const *, const *,

69 c⁄° 
	taddröfo
*,

70 
	taddröfo
**);

71 (
	tWSAAPI
 *
	t‰ìaddröfo_func
Ë(
	taddröfo
*);

72 (
	tWSAAPI
 *
	tgë«meöfo_func
Ë(c⁄° 
	tsockaddr
*,

73 
	tsockÀn_t
, *, 
	tDWORD
,

74 *, 
	tDWORD
, );

76 
gëaddröfo_func
 
gëaddröfo_±r
 = 
NULL
;

77 
‰ìaddröfo_func
 
‰ìaddröfo_±r
 = 
NULL
;

78 
gë«meöfo_func
 
gë«meöfo_±r
 = 
NULL
;

81 
	$u£_wö32_p
 ()

83 
d⁄e
 = 0;

84 
HMODULE
 
h
;

86 i‡(
d⁄e
)

87  
gëaddröfo_±r
 ? 1 : 0;

89 
d⁄e
 = 1;

91 
h
 = 
	`GëModuÀH™dÀ
 ("ws2_32.dll");

93 i‡(
h
)

95 
gëaddröfo_±r
 = (
gëaddröfo_func
Ë
	`GëProcAddªss
 (
h
, "getaddrinfo");

96 
‰ìaddröfo_±r
 = (
‰ìaddröfo_func
Ë
	`GëProcAddªss
 (
h
, "freeaddrinfo");

97 
gë«meöfo_±r
 = (
gë«meöfo_func
Ë
	`GëProcAddªss
 (
h
, "getnameinfo");

101 i‡(!
gëaddröfo_±r
 || !
‰ìaddröfo_±r
 || !
gë«meöfo_±r
)

103 
gëaddröfo_±r
 = 
NULL
;

104 
‰ìaddröfo_±r
 = 
NULL
;

105 
gë«meöfo_±r
 = 
NULL
;

109 
	`gl_sockës_°¨tup
 (
SOCKETS_1_1
);

112 
	}
}

115 
ölöe
 
boﬁ


116 
	$vÆid©e_Ámûy
 (
Ámûy
)

119 #i‡
HAVE_IPV4


120 i‡(
Ámûy
 =
PF_INET
)

121  
åue
;

123 #i‡
HAVE_IPV6


124 i‡(
Ámûy
 =
PF_INET6
)

125  
åue
;

127 i‡(
Ámûy
 =
PF_UNSPEC
)

128  
åue
;

129  
Ál£
;

130 
	}
}

135 
	$gëaddröfo
 (c⁄° *
ª°ri˘
 
nodíame
,

136 c⁄° *
ª°ri˘
 
£rv«me
,

137 c⁄° 
addröfo
 *
ª°ri˘
 
höts
,

138 
addröfo
 **
ª°ri˘
 
ªs
)

140 
addröfo
 *
tmp
;

141 
p‹t
 = 0;

142 
ho°ít
 *
he
;

143 *
°‹age
;

144 
size_t
 
size
;

145 #i‡
HAVE_IPV6


146 
	sv6_∑ú
 {

147 
addröfo
áddrinfo;

148 
sockaddr_ö6
 sockaddr_in6;

151 #i‡
HAVE_IPV4


152 
	sv4_∑ú
 {

153 
addröfo
áddrinfo;

154 
sockaddr_ö
 sockaddr_in;

158 #ifde‡
WIN32_NATIVE


159 i‡(
	`u£_wö32_p
 ())

160  
	`gëaddröfo_±r
 (
nodíame
, 
£rv«me
, 
höts
, 
ªs
);

163 i‡(
höts
 && (höts->
ai_Êags
 & ~(
AI_CANONNAME
|
AI_PASSIVE
)))

165  
EAI_BADFLAGS
;

167 i‡(
höts
 && !
	`vÆid©e_Ámûy
 (höts->
ai_Ámûy
))

168  
EAI_FAMILY
;

170 i‡(
höts
 &&

171 
höts
->
ai_sockty≥
 !
SOCK_STREAM
 && höts->ai_sockty≥ !
SOCK_DGRAM
)

173  
EAI_SOCKTYPE
;

175 i‡(!
nodíame
)

177 i‡(!(
höts
->
ai_Êags
 & 
AI_PASSIVE
))

178  
EAI_NONAME
;

180 #ifde‡
HAVE_IPV6


181 
nodíame
 = (
höts
->
ai_Ámûy
 =
AF_INET6
) ? "::" : "0.0.0.0";

183 
nodíame
 = "0.0.0.0";

187 i‡(
£rv«me
)

189 
£rvít
 *
£
 = 
NULL
;

190 c⁄° *
¥Ÿo
 =

191 (
höts
 && höts->
ai_sockty≥
 =
SOCK_DGRAM
) ? "udp" : "tcp";

193 i‡(
höts
 =
NULL
 || !(höts->
ai_Êags
 & 
AI_NUMERICSERV
))

195 
£
 = 
	`gë£rvby«me
 (
£rv«me
, 
¥Ÿo
);

197 i‡(!
£
)

199 *
c
;

200 i‡(!(*
£rv«me
 >= '0' && *servname <= '9'))

201  
EAI_NONAME
;

202 
p‹t
 = 
	`°πoul
 (
£rv«me
, &
c
, 10);

203 i‡(*
c
 || 
p‹t
 > 0xffff)

204  
EAI_NONAME
;

205 
p‹t
 = 
	`ht⁄s
 (port);

208 
p‹t
 = 
£
->
s_p‹t
;

212 
he
 = 
	`gëho°by«me
 (
nodíame
);

213 i‡(!
he
 || he->
h_addr_li°
[0] =
NULL
)

214  
EAI_NONAME
;

216 
he
->
h_addπy≥
)

218 #i‡
HAVE_IPV6


219 
PF_INET6
:

220 
size
 =  (
v6_∑ú
);

224 #i‡
HAVE_IPV4


225 
PF_INET
:

226 
size
 =  (
v4_∑ú
);

231  
EAI_NODATA
;

234 
°‹age
 = 
	`ˇŒoc
 (1, 
size
);

235 i‡(!
°‹age
)

236  
EAI_MEMORY
;

238 
he
->
h_addπy≥
)

240 #i‡
HAVE_IPV6


241 
PF_INET6
:

243 
v6_∑ú
 *
p
 = 
°‹age
;

244 
sockaddr_ö6
 *
söp
 = &
p
->sockaddr_in6;

245 
tmp
 = &
p
->
addröfo
;

247 i‡(
p‹t
)

248 
söp
->
sö6_p‹t
 = 
p‹t
;

250 i‡(
he
->
h_Àngth
 ! (
söp
->
sö6_addr
))

252 
	`‰ì
 (
°‹age
);

253  
EAI_SYSTEM
;

256 
	`mem˝y
 (&
söp
->
sö6_addr
, 
he
->
h_addr_li°
[0],  sinp->sin6_addr);

258 
tmp
->
ai_addr
 = (
sockaddr
 *Ë
söp
;

259 
tmp
->
ai_addæí
 =  *
söp
;

264 #i‡
HAVE_IPV4


265 
PF_INET
:

267 
v4_∑ú
 *
p
 = 
°‹age
;

268 
sockaddr_ö
 *
söp
 = &
p
->sockaddr_in;

269 
tmp
 = &
p
->
addröfo
;

271 i‡(
p‹t
)

272 
söp
->
sö_p‹t
 = 
p‹t
;

274 i‡(
he
->
h_Àngth
 ! (
söp
->
sö_addr
))

276 
	`‰ì
 (
°‹age
);

277  
EAI_SYSTEM
;

280 
	`mem˝y
 (&
söp
->
sö_addr
, 
he
->
h_addr_li°
[0],  sinp->sin_addr);

282 
tmp
->
ai_addr
 = (
sockaddr
 *Ë
söp
;

283 
tmp
->
ai_addæí
 =  *
söp
;

289 
	`‰ì
 (
°‹age
);

290  
EAI_NODATA
;

293 i‡(
höts
 && höts->
ai_Êags
 & 
AI_CANONNAME
)

295 c⁄° *
˙
;

296 i‡(
he
->
h_«me
)

297 
˙
 = 
he
->
h_«me
;

299 
˙
 = 
nodíame
;

301 
tmp
->
ai_ˇn⁄«me
 = 
	`°rdup
 (
˙
);

302 i‡(!
tmp
->
ai_ˇn⁄«me
)

304 
	`‰ì
 (
°‹age
);

305  
EAI_MEMORY
;

309 
tmp
->
ai_¥Ÿocﬁ
 = (
höts
) ? hints->ai_protocol : 0;

310 
tmp
->
ai_sockty≥
 = (
höts
) ? hints->ai_socktype : 0;

311 
tmp
->
ai_addr
->
ß_Ámûy
 = 
he
->
h_addπy≥
;

312 
tmp
->
ai_Ámûy
 = 
he
->
h_addπy≥
;

314 #ifde‡
HAVE_STRUCT_SOCKADDR_SA_LEN


315 
he
->
h_addπy≥
)

317 #i‡
HAVE_IPV4


318 
AF_INET
:

319 
tmp
->
ai_addr
->
ß_Àn
 =  (
sockaddr_ö
);

322 #i‡
HAVE_IPV6


323 
AF_INET6
:

324 
tmp
->
ai_addr
->
ß_Àn
 =  (
sockaddr_ö6
);

332 *
ªs
 = 
tmp
;

335 
	}
}

339 
	$‰ìaddröfo
 (
addröfo
 *
ai
)

341 #ifde‡
WIN32_NATIVE


342 i‡(
	`u£_wö32_p
 ())

344 
	`‰ìaddröfo_±r
 (
ai
);

349 
ai
)

351 
addröfo
 *
cur
;

353 
cur
 = 
ai
;

354 
ai
 =ái->
ai_√xt
;

356 
	`‰ì
 (
cur
->
ai_ˇn⁄«me
);

357 
	`‰ì
 (
cur
);

359 
	}
}

362 
	$gë«meöfo
 (c⁄° 
sockaddr
 *
ª°ri˘
 
ß
, 
sockÀn_t
 
ßÀn
,

363 *
ª°ri˘
 
node
, 
sockÀn_t
 
nodñí
,

364 *
ª°ri˘
 
£rvi˚
, 
sockÀn_t
 
£rvi˚Àn
,

365 
Êags
)

367 #ifde‡
WIN32_NATIVE


368 i‡(
	`u£_wö32_p
 ())

369  
	`gë«meöfo_±r
 (
ß
, 
ßÀn
, 
node
, 
nodñí
,

370 
£rvi˚
, 
£rvi˚Àn
, 
Êags
);

374 i‡((
node
 && 
nodñí
 > 0 && !(
Êags
 & 
NI_NUMERICHOST
)) ||

375 (
£rvi˚
 && 
£rvi˚Àn
 > 0 && !(
Êags
 & 
NI_NUMERICHOST
)) ||

376 (
Êags
 & ~(
NI_NUMERICHOST
|
NI_NUMERICSERV
)))

377  
EAI_BADFLAGS
;

379 i‡(
ß
 =
NULL
 || 
ßÀn
 <  (ß->
ß_Ámûy
))

380  
EAI_FAMILY
;

382 
ß
->
ß_Ámûy
)

384 #i‡
HAVE_IPV4


385 
AF_INET
:

386 i‡(
ßÀn
 <  (
sockaddr_ö
))

387  
EAI_FAMILY
;

390 #i‡
HAVE_IPV6


391 
AF_INET6
:

392 i‡(
ßÀn
 <  (
sockaddr_ö6
))

393  
EAI_FAMILY
;

397  
EAI_FAMILY
;

400 i‡(
node
 && 
nodñí
 > 0 && 
Êags
 & 
NI_NUMERICHOST
)

402 
ß
->
ß_Ámûy
)

404 #i‡
HAVE_IPV4


405 
AF_INET
:

406 i‡(!
	`öë_¡›
 (
AF_INET
,

407 &(((c⁄° 
sockaddr_ö
 *Ë
ß
)->
sö_addr
),

408 
node
, 
nodñí
))

409  
EAI_SYSTEM
;

413 #i‡
HAVE_IPV6


414 
AF_INET6
:

415 i‡(!
	`öë_¡›
 (
AF_INET6
,

416 &(((c⁄° 
sockaddr_ö6
 *Ë
ß
)->
sö6_addr
),

417 
node
, 
nodñí
))

418  
EAI_SYSTEM
;

423  
EAI_FAMILY
;

427 i‡(
£rvi˚
 && 
£rvi˚Àn
 > 0 && 
Êags
 & 
NI_NUMERICSERV
)

428 
ß
->
ß_Ámûy
)

430 #i‡
HAVE_IPV4


431 
AF_INET
:

433 #i‡
HAVE_IPV6


434 
AF_INET6
:

437 
p‹t


438 
	`¡ohs
 (((c⁄° 
sockaddr_ö
 *Ë
ß
)->
sö_p‹t
);

439 i‡(
£rvi˚Àn
 <
	`¢¥ötf
 (
£rvi˚
, sîvi˚Àn, "%u", 
p‹t
))

440  
EAI_OVERFLOW
;

446 
	}
}

	@lib/getdelim.c

24 
	~<c⁄fig.h
>

28 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

30 
	~<°dio.h
>

32 
	~<limôs.h
>

33 
	~<°döt.h
>

34 
	~<°dlib.h
>

35 
	~<î∫o.h
>

37 #i‚de‡
SSIZE_MAX


38 
	#SSIZE_MAX
 ((
ssize_t
Ë(
SIZE_MAX
 / 2))

	)

41 #i‡
USE_UNLOCKED_IO


42 
	~"u∆ocked-io.h
"

43 
	#gëc_maybe_u∆ocked
(
Â
Ë
	`gëc
(Â)

	)

44 #ñi‡!
HAVE_FLOCKFILE
 || !
HAVE_FUNLOCKFILE
 || !
HAVE_DECL_GETC_UNLOCKED


45 #unde‡
Êockfûe


46 #unde‡
fu∆ockfûe


47 
	#Êockfûe
(
x
Ë((Ë0)

	)

48 
	#fu∆ockfûe
(
x
Ë((Ë0)

	)

49 
	#gëc_maybe_u∆ocked
(
Â
Ë
	`gëc
(Â)

	)

51 
	#gëc_maybe_u∆ocked
(
Â
Ë
	`gëc_u∆ocked
(Â)

	)

60 
ssize_t


61 
	$gëdñim
 (**
löïå
, 
size_t
 *
n
, 
dñimôî
, 
FILE
 *
Â
)

63 
ssize_t
 
ªsu…
;

64 
size_t
 
cur_Àn
 = 0;

66 i‡(
löïå
 =
NULL
 || 
n
 =NULL || 
Â
 == NULL)

68 
î∫o
 = 
EINVAL
;

72 
	`Êockfûe
 (
Â
);

74 i‡(*
löïå
 =
NULL
 || *
n
 == 0)

76 *
√w_löïå
;

77 *
n
 = 120;

78 
√w_löïå
 = (*Ë
	`ªÆloc
 (*
löïå
, *
n
);

79 i‡(
√w_löïå
 =
NULL
)

81 
ªsu…
 = -1;

82 
u∆ock_ªtu∫
;

84 *
löïå
 = 
√w_löïå
;

89 
i
;

91 
i
 = 
	`gëc_maybe_u∆ocked
 (
Â
);

92 i‡(
i
 =
EOF
)

94 
ªsu…
 = -1;

99 i‡(
cur_Àn
 + 1 >*
n
)

101 
size_t
 
√eded_max
 =

102 
SSIZE_MAX
 < 
SIZE_MAX
 ? (
size_t
) SSIZE_MAX + 1 : SIZE_MAX;

103 
size_t
 
√eded
 = 2 * *
n
 + 1;

104 *
√w_löïå
;

106 i‡(
√eded_max
 < 
√eded
)

107 
√eded
 = 
√eded_max
;

108 i‡(
cur_Àn
 + 1 >
√eded
)

110 
ªsu…
 = -1;

111 
î∫o
 = 
EOVERFLOW
;

112 
u∆ock_ªtu∫
;

115 
√w_löïå
 = (*Ë
	`ªÆloc
 (*
löïå
, 
√eded
);

116 i‡(
√w_löïå
 =
NULL
)

118 
ªsu…
 = -1;

119 
u∆ock_ªtu∫
;

122 *
löïå
 = 
√w_löïå
;

123 *
n
 = 
√eded
;

126 (*
löïå
)[
cur_Àn
] = 
i
;

127 
cur_Àn
++;

129 i‡(
i
 =
dñimôî
)

132 (*
löïå
)[
cur_Àn
] = '\0';

133 
ªsu…
 = 
cur_Àn
 ? cur_len :Ñesult;

135 
u∆ock_ªtu∫
:

136 
	`fu∆ockfûe
 (
Â
);

138  
ªsu…
;

139 
	}
}

	@lib/getdtablesize.c

18 
	~<c⁄fig.h
>

21 
	~<uni°d.h
>

23 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


25 
	~<°dio.h
>

28 
	gdèbÀsize
;

31 
	$gëdèbÀsize
 ()

33 i‡(
dèbÀsize
 == 0)

53 
‹ig_max_°dio
 = 
	`_gëmax°dio
 ();

54 
bound
;

55 
bound
 = 0x10000; 
	`_£tmax°dio
 (bound) < 0; bound = bound / 2)

57 
	`_£tmax°dio
 (
‹ig_max_°dio
);

58 
dèbÀsize
 = 
bound
;

60  
dèbÀsize
;

61 
	}
}

	@lib/getline.c

23 
	~<c⁄fig.h
>

25 
	~<°dio.h
>

27 
ssize_t


28 
	$gëlöe
 (**
löïå
, 
size_t
 *
n
, 
FILE
 *
°ªam
)

30  
	`gëdñim
 (
löïå
, 
n
, '\n', 
°ªam
);

31 
	}
}

	@lib/getopt.c

22 #i‚de‡
_LIBC


23 
	~<c⁄fig.h
>

26 
	~"gë›t.h
"

28 
	~<°dio.h
>

29 
	~<°dlib.h
>

30 
	~<°rög.h
>

31 
	~<uni°d.h
>

33 #ifde‡
_LIBC


34 
	~<liböé.h
>

36 
	~"gëãxt.h
"

37 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

40 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


41 
	~<wch¨.h
>

59 
	~"gë›t_öt.h
"

67 *
	g›èrg
;

82 
	g›töd
 = 1;

87 
	g›ãº
 = 1;

93 
	g›t›t
 = '?';

97 
_gë›t_d©a
 
	ggë›t_d©a
;

100 #i‡
deföed
 
HAVE_DECL_GETENV
 && !HAVE_DECL_GETENV

101 *
gëív
 ();

104 #ifde‡
_LIBC


108 
__libc_¨gc
;

109 **
__libc_¨gv
;

114 #ifde‡
USE_NONOPTION_FLAGS


116 *
__gë›t_n⁄›ti⁄_Êags
;

119 #ifde‡
USE_NONOPTION_FLAGS


120 
	#SWAP_FLAGS
(
ch1
, 
ch2
) \

121 i‡(
d
->
__n⁄›ti⁄_Êags_Àn
 > 0) \

123 
__tmp
 = 
__gë›t_n⁄›ti⁄_Êags
[
ch1
]; \

124 
__gë›t_n⁄›ti⁄_Êags
[
ch1
] = __gë›t_n⁄›ti⁄_Êags[
ch2
]; \

125 
__gë›t_n⁄›ti⁄_Êags
[
ch2
] = 
__tmp
; \

126 }

	)

128 
	#SWAP_FLAGS
(
ch1
, 
ch2
)

	)

131 
	#SWAP_FLAGS
(
ch1
, 
ch2
)

	)

144 
	$exch™ge
 (**
¨gv
, 
_gë›t_d©a
 *
d
)

146 
bŸtom
 = 
d
->
__fú°_n⁄›t
;

147 
middÀ
 = 
d
->
__œ°_n⁄›t
;

148 
t›
 = 
d
->
›töd
;

149 *
ãm
;

156 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


160 i‡(
d
->
__n⁄›ti⁄_Êags_Àn
 > 0 && 
t›
 >d->
__n⁄›ti⁄_Êags_max_Àn
)

164 *
√w_°r
 = 
	`mÆloc
 (
t›
 + 1);

165 i‡(
√w_°r
 =
NULL
)

166 
d
->
__n⁄›ti⁄_Êags_Àn
 = d->
__n⁄›ti⁄_Êags_max_Àn
 = 0;

169 
	`mem£t
 (
	`__memp˝y
 (
√w_°r
, 
__gë›t_n⁄›ti⁄_Êags
,

170 
d
->
__n⁄›ti⁄_Êags_max_Àn
),

171 '\0', 
t›
 + 1 - 
d
->
__n⁄›ti⁄_Êags_max_Àn
);

172 
d
->
__n⁄›ti⁄_Êags_max_Àn
 = 
t›
 + 1;

173 
__gë›t_n⁄›ti⁄_Êags
 = 
√w_°r
;

178 
t›
 > 
middÀ
 && middÀ > 
bŸtom
)

180 i‡(
t›
 - 
middÀ
 > middÀ - 
bŸtom
)

183 
Àn
 = 
middÀ
 - 
bŸtom
;

184 
i
;

187 
i
 = 0; i < 
Àn
; i++)

189 
ãm
 = 
¨gv
[
bŸtom
 + 
i
];

190 
¨gv
[
bŸtom
 + 
i
] =árgv[
t›
 - (
middÀ
 - bottom) + i];

191 
¨gv
[
t›
 - (
middÀ
 - 
bŸtom
Ë+ 
i
] = 
ãm
;

192 
	`SWAP_FLAGS
 (
bŸtom
 + 
i
, 
t›
 - (
middÀ
 - bottom) + i);

195 
t›
 -
Àn
;

200 
Àn
 = 
t›
 - 
middÀ
;

201 
i
;

204 
i
 = 0; i < 
Àn
; i++)

206 
ãm
 = 
¨gv
[
bŸtom
 + 
i
];

207 
¨gv
[
bŸtom
 + 
i
] =árgv[
middÀ
 + i];

208 
¨gv
[
middÀ
 + 
i
] = 
ãm
;

209 
	`SWAP_FLAGS
 (
bŸtom
 + 
i
, 
middÀ
 + i);

212 
bŸtom
 +
Àn
;

218 
d
->
__fú°_n⁄›t
 +(d->
›töd
 - d->
__œ°_n⁄›t
);

219 
d
->
__œ°_n⁄›t
 = d->
›töd
;

220 
	}
}

225 
	$_gë›t_öôülize
 (
¨gc
 
_GL_UNUSED
,

226 **
¨gv
 
_GL_UNUSED
, c⁄° *
›t°rög
,

227 
_gë›t_d©a
 *
d
, 
posixly_c‹ª˘
)

233 
d
->
__fú°_n⁄›t
 = d->
__œ°_n⁄›t
 = d->
›töd
;

235 
d
->
__√xtch¨
 = 
NULL
;

237 
d
->
__posixly_c‹ª˘
 = 
posixly_c‹ª˘
 || !!
	`gëív
 ("POSIXLY_CORRECT");

241 i‡(
›t°rög
[0] == '-')

243 
d
->
__‹dîög
 = 
RETURN_IN_ORDER
;

244 ++
›t°rög
;

246 i‡(
›t°rög
[0] == '+')

248 
d
->
__‹dîög
 = 
REQUIRE_ORDER
;

249 ++
›t°rög
;

251 i‡(
d
->
__posixly_c‹ª˘
)

252 
d
->
__‹dîög
 = 
REQUIRE_ORDER
;

254 
d
->
__‹dîög
 = 
PERMUTE
;

256 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


257 i‡(!
d
->
__posixly_c‹ª˘


258 && 
¨gc
 =
__libc_¨gc
 && 
¨gv
 =
__libc_¨gv
)

260 i‡(
d
->
__n⁄›ti⁄_Êags_max_Àn
 == 0)

262 i‡(
__gë›t_n⁄›ti⁄_Êags
 =
NULL


263 || 
__gë›t_n⁄›ti⁄_Êags
[0] == '\0')

264 
d
->
__n⁄›ti⁄_Êags_max_Àn
 = -1;

267 c⁄° *
‹ig_°r
 = 
__gë›t_n⁄›ti⁄_Êags
;

268 
Àn
 = 
d
->
__n⁄›ti⁄_Êags_max_Àn
 = 
	`°æí
 (
‹ig_°r
);

269 i‡(
d
->
__n⁄›ti⁄_Êags_max_Àn
 < 
¨gc
)

270 
d
->
__n⁄›ti⁄_Êags_max_Àn
 = 
¨gc
;

271 
__gë›t_n⁄›ti⁄_Êags
 =

272 (*Ë
	`mÆloc
 (
d
->
__n⁄›ti⁄_Êags_max_Àn
);

273 i‡(
__gë›t_n⁄›ti⁄_Êags
 =
NULL
)

274 
d
->
__n⁄›ti⁄_Êags_max_Àn
 = -1;

276 
	`mem£t
 (
	`__memp˝y
 (
__gë›t_n⁄›ti⁄_Êags
, 
‹ig_°r
, 
Àn
),

277 '\0', 
d
->
__n⁄›ti⁄_Êags_max_Àn
 - 
Àn
);

280 
d
->
__n⁄›ti⁄_Êags_Àn
 = d->
__n⁄›ti⁄_Êags_max_Àn
;

283 
d
->
__n⁄›ti⁄_Êags_Àn
 = 0;

286  
›t°rög
;

287 
	}
}

346 
	$_gë›t_öã∫Æ_r
 (
¨gc
, **
¨gv
, c⁄° *
›t°rög
,

347 c⁄° 
›ti⁄
 *
l⁄g›ts
, *
l⁄göd
,

348 
l⁄g_⁄ly
, 
_gë›t_d©a
 *
d
, 
posixly_c‹ª˘
)

350 
¥öt_îr‹s
 = 
d
->
›ãº
;

352 i‡(
¨gc
 < 1)

355 
d
->
›èrg
 = 
NULL
;

357 i‡(
d
->
›töd
 =0 || !d->
__öôülized
)

359 i‡(
d
->
›töd
 == 0)

360 
d
->
›töd
 = 1;

361 
›t°rög
 = 
	`_gë›t_öôülize
 (
¨gc
, 
¨gv
, o±°rög, 
d
,

362 
posixly_c‹ª˘
);

363 
d
->
__öôülized
 = 1;

365 i‡(
›t°rög
[0] == '-' || optstring[0] == '+')

366 
›t°rög
++;

367 i‡(
›t°rög
[0] == ':')

368 
¥öt_îr‹s
 = 0;

374 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


375 
	#NONOPTION_P
 (
¨gv
[
d
->
›töd
][0] != '-' ||árgv[d->optind][1] == '\0' \

376 || (
d
->
›töd
 < d->
__n⁄›ti⁄_Êags_Àn
 \

377 && 
__gë›t_n⁄›ti⁄_Êags
[
d
->
›töd
] ='1'))

	)

379 
	#NONOPTION_P
 (
¨gv
[
d
->
›töd
][0] !'-' ||árgv[d->›töd][1] ='\0')

	)

382 i‡(
d
->
__√xtch¨
 =
NULL
 || *d->__nextchar == '\0')

388 i‡(
d
->
__œ°_n⁄›t
 > d->
›töd
)

389 
d
->
__œ°_n⁄›t
 = d->
›töd
;

390 i‡(
d
->
__fú°_n⁄›t
 > d->
›töd
)

391 
d
->
__fú°_n⁄›t
 = d->
›töd
;

393 i‡(
d
->
__‹dîög
 =
PERMUTE
)

398 i‡(
d
->
__fú°_n⁄›t
 !d->
__œ°_n⁄›t


399 && 
d
->
__œ°_n⁄›t
 !d->
›töd
)

400 
	`exch™ge
 ((**Ë
¨gv
, 
d
);

401 i‡(
d
->
__œ°_n⁄›t
 !d->
›töd
)

402 
d
->
__fú°_n⁄›t
 = d->
›töd
;

407 
d
->
›töd
 < 
¨gc
 && 
NONOPTION_P
)

408 
d
->
›töd
++;

409 
d
->
__œ°_n⁄›t
 = d->
›töd
;

417 i‡(
d
->
›töd
 !
¨gc
 && !
	`°rcmp
 (
¨gv
[d->optind], "--"))

419 
d
->
›töd
++;

421 i‡(
d
->
__fú°_n⁄›t
 !d->
__œ°_n⁄›t


422 && 
d
->
__œ°_n⁄›t
 !d->
›töd
)

423 
	`exch™ge
 ((**Ë
¨gv
, 
d
);

424 i‡(
d
->
__fú°_n⁄›t
 =d->
__œ°_n⁄›t
)

425 
d
->
__fú°_n⁄›t
 = d->
›töd
;

426 
d
->
__œ°_n⁄›t
 = 
¨gc
;

428 
d
->
›töd
 = 
¨gc
;

434 i‡(
d
->
›töd
 =
¨gc
)

438 i‡(
d
->
__fú°_n⁄›t
 !d->
__œ°_n⁄›t
)

439 
d
->
›töd
 = d->
__fú°_n⁄›t
;

446 i‡(
NONOPTION_P
)

448 i‡(
d
->
__‹dîög
 =
REQUIRE_ORDER
)

450 
d
->
›èrg
 = 
¨gv
[d->
›töd
++];

457 
d
->
__√xtch¨
 = (
¨gv
[d->
›töd
] + 1

458 + (
l⁄g›ts
 !
NULL
 && 
¨gv
[
d
->
›töd
][1] == '-'));

476 i‡(
l⁄g›ts
 !
NULL


477 && (
¨gv
[
d
->
›töd
][1] == '-'

478 || (
l⁄g_⁄ly
 && (
¨gv
[
d
->
›töd
][2]

479 || !
	`°rchr
 (
›t°rög
, 
¨gv
[
d
->
›töd
][1])))))

481 *
«mìnd
;

482 
«mñí
;

483 c⁄° 
›ti⁄
 *
p
;

484 c⁄° 
›ti⁄
 *
pfound
 = 
NULL
;

485 
	s›ti⁄_li°


487 c⁄° 
›ti⁄
 *
p
;

488 
›ti⁄_li°
 *
√xt
;

489 } *
ambig_li°
 = 
NULL
;

490 
exa˘
 = 0;

491 
ödfound
 = -1;

492 
›ti⁄_ödex
;

494 
«mìnd
 = 
d
->
__√xtch¨
; *nameend && *nameend != '=';Çameend++)

496 
«mñí
 = 
«mìnd
 - 
d
->
__√xtch¨
;

500 
p
 = 
l⁄g›ts
, 
›ti⁄_ödex
 = 0;Ö->
«me
;Ö++, option_index++)

501 i‡(!
	`°∫cmp
 (
p
->
«me
, 
d
->
__√xtch¨
, 
«mñí
))

503 i‡(
«mñí
 =(Ë
	`°æí
 (
p
->
«me
))

506 
pfound
 = 
p
;

507 
ödfound
 = 
›ti⁄_ödex
;

508 
exa˘
 = 1;

511 i‡(
pfound
 =
NULL
)

514 
pfound
 = 
p
;

515 
ödfound
 = 
›ti⁄_ödex
;

517 i‡(
l⁄g_⁄ly


518 || 
pfound
->
has_¨g
 !
p
->has_arg

519 || 
pfound
->
Êag
 !
p
->flag

520 || 
pfound
->
vÆ
 !
p
->val)

523 
›ti⁄_li°
 *
√wp
 = 
	`mÆloc
 ( (*newp));

524 
√wp
->
p
 =Ö;

525 
√wp
->
√xt
 = 
ambig_li°
;

526 
ambig_li°
 = 
√wp
;

530 i‡(
ambig_li°
 !
NULL
 && !
exa˘
)

532 i‡(
¥öt_îr‹s
)

534 
›ti⁄_li°
 
fú°
;

535 
fú°
.
p
 = 
pfound
;

536 
fú°
.
√xt
 = 
ambig_li°
;

537 
ambig_li°
 = &
fú°
;

539 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


540 *
buf
 = 
NULL
;

541 
size_t
 
buÊí
 = 0;

543 
FILE
 *
Â
 = 
	`›í_mem°ªam
 (&
buf
, &
buÊí
);

544 i‡(
Â
 !
NULL
)

546 
	`Ârötf
 (
Â
,

547 
	`_
("%s: option '%s' isámbiguous;Öossibilities:"),

548 
¨gv
[0],árgv[
d
->
›töd
]);

552 
	`Ârötf
 (
Â
, " '--%s'", 
ambig_li°
->
p
->
«me
);

553 
ambig_li°
 =ámbig_li°->
√xt
;

555 
ambig_li°
 !
NULL
);

557 
	`Âutc_u∆ocked
 ('\n', 
Â
);

559 i‡(
	`__buûtö_ex≥˘
 (
	`f˛o£
 (
Â
Ë!
EOF
, 1))

561 
	`_IO_Êockfûe
 (
°dîr
);

563 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

564 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

566 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

568 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

569 
	`_IO_fu∆ockfûe
 (
°dîr
);

571 
	`‰ì
 (
buf
);

575 
	`Ârötf
 (
°dîr
,

576 
	`_
("%s: option '%s' isámbiguous;Öossibilities:"),

577 
¨gv
[0],árgv[
d
->
›töd
]);

580 
	`Ârötf
 (
°dîr
, " '--%s'", 
ambig_li°
->
p
->
«me
);

581 
ambig_li°
 =ámbig_li°->
√xt
;

583 
ambig_li°
 !
NULL
);

585 
	`Âutc
 ('\n', 
°dîr
);

588 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

589 
d
->
›töd
++;

590 
d
->
›t›t
 = 0;

594 
ambig_li°
 !
NULL
)

596 
›ti⁄_li°
 *
≤
 = 
ambig_li°
->
√xt
;

597 
	`‰ì
 (
ambig_li°
);

598 
ambig_li°
 = 
≤
;

601 i‡(
pfound
 !
NULL
)

603 
›ti⁄_ödex
 = 
ödfound
;

604 
d
->
›töd
++;

605 i‡(*
«mìnd
)

609 i‡(
pfound
->
has_¨g
)

610 
d
->
›èrg
 = 
«mìnd
 + 1;

613 i‡(
¥öt_îr‹s
)

615 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


616 *
buf
;

617 
n
;

620 i‡(
¨gv
[
d
->
›töd
 - 1][1] == '-')

623 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


624 
n
 = 
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: option '--%s' doesn'tállowánárgument\n"),

626 
¨gv
[0], 
pfound
->
«me
);

628 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: option '--%s' doesn'tállowánárgument\n"),

630 
¨gv
[0], 
pfound
->
«me
);

636 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


637 
n
 = 
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: option '%c%s' doesn'tállowánárgument\n"),

639 
¨gv
[0],árgv[
d
->
›töd
 - 1][0],

640 
pfound
->
«me
);

642 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: option '%c%s' doesn'tállowánárgument\n"),

644 
¨gv
[0],árgv[
d
->
›töd
 - 1][0],

645 
pfound
->
«me
);

649 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


650 i‡(
n
 >= 0)

652 
	`_IO_Êockfûe
 (
°dîr
);

654 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

655 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2


656 |
_IO_FLAGS2_NOTCANCEL
;

658 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

660 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

661 
	`_IO_fu∆ockfûe
 (
°dîr
);

663 
	`‰ì
 (
buf
);

668 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

670 
d
->
›t›t
 = 
pfound
->
vÆ
;

674 i‡(
pfound
->
has_¨g
 == 1)

676 i‡(
d
->
›töd
 < 
¨gc
)

677 
d
->
›èrg
 = 
¨gv
[d->
›töd
++];

680 i‡(
¥öt_îr‹s
)

682 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


683 *
buf
;

685 i‡(
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: option '--%s'Ñequiresánárgument\n"),

687 
¨gv
[0], 
pfound
->
«me
) >= 0)

689 
	`_IO_Êockfûe
 (
°dîr
);

691 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

692 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2


693 |
_IO_FLAGS2_NOTCANCEL
;

695 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

697 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

698 
	`_IO_fu∆ockfûe
 (
°dîr
);

700 
	`‰ì
 (
buf
);

703 
	`Ârötf
 (
°dîr
,

704 
	`_
("%s: option '--%s'Ñequiresánárgument\n"),

705 
¨gv
[0], 
pfound
->
«me
);

708 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

709 
d
->
›t›t
 = 
pfound
->
vÆ
;

710  
›t°rög
[0] == ':' ? ':' : '?';

713 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

714 i‡(
l⁄göd
 !
NULL
)

715 *
l⁄göd
 = 
›ti⁄_ödex
;

716 i‡(
pfound
->
Êag
)

718 *(
pfound
->
Êag
Ëpfound->
vÆ
;

721  
pfound
->
vÆ
;

728 i‡(!
l⁄g_⁄ly
 || 
¨gv
[
d
->
›töd
][1] == '-'

729 || 
	`°rchr
 (
›t°rög
, *
d
->
__√xtch¨
Ë=
NULL
)

731 i‡(
¥öt_îr‹s
)

733 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


734 *
buf
;

735 
n
;

738 i‡(
¨gv
[
d
->
›töd
][1] == '-')

741 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


742 
n
 = 
	`__a•rötf
 (&
buf
, 
	`_
("%s: unrecognized option '--%s'\n"),

743 
¨gv
[0], 
d
->
__√xtch¨
);

745 
	`Ârötf
 (
°dîr
, 
	`_
("%s: unrecognized option '--%s'\n"),

746 
¨gv
[0], 
d
->
__√xtch¨
);

752 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


753 
n
 = 
	`__a•rötf
 (&
buf
, 
	`_
("%s: unrecognized option '%c%s'\n"),

754 
¨gv
[0],árgv[
d
->
›töd
][0], d->
__√xtch¨
);

756 
	`Ârötf
 (
°dîr
, 
	`_
("%s: unrecognized option '%c%s'\n"),

757 
¨gv
[0],árgv[
d
->
›töd
][0], d->
__√xtch¨
);

761 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


762 i‡(
n
 >= 0)

764 
	`_IO_Êockfûe
 (
°dîr
);

766 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

767 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

769 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

771 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

772 
	`_IO_fu∆ockfûe
 (
°dîr
);

774 
	`‰ì
 (
buf
);

778 
d
->
__√xtch¨
 = (*) "";

779 
d
->
›töd
++;

780 
d
->
›t›t
 = 0;

788 
c
 = *
d
->
__√xtch¨
++;

789 c⁄° *
ãmp
 = 
	`°rchr
 (
›t°rög
, 
c
);

792 i‡(*
d
->
__√xtch¨
 == '\0')

793 ++
d
->
›töd
;

795 i‡(
ãmp
 =
NULL
 || 
c
 == ':' || c == ';')

797 i‡(
¥öt_îr‹s
)

799 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


800 *
buf
;

801 
n
;

804 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


805 
n
 = 
	`__a•rötf
 (&
buf
, 
	`_
("%s: invalid option -- '%c'\n"),

806 
¨gv
[0], 
c
);

808 
	`Ârötf
 (
°dîr
, 
	`_
("%s: invÆid o±i⁄ -- '%c'\n"), 
¨gv
[0], 
c
);

811 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


812 i‡(
n
 >= 0)

814 
	`_IO_Êockfûe
 (
°dîr
);

816 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

817 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

819 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

821 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

822 
	`_IO_fu∆ockfûe
 (
°dîr
);

824 
	`‰ì
 (
buf
);

828 
d
->
›t›t
 = 
c
;

832 i‡(
ãmp
[0] == 'W' &&Åemp[1] == ';')

834 *
«mìnd
;

835 c⁄° 
›ti⁄
 *
p
;

836 c⁄° 
›ti⁄
 *
pfound
 = 
NULL
;

837 
exa˘
 = 0;

838 
ambig
 = 0;

839 
ödfound
 = 0;

840 
›ti⁄_ödex
;

842 i‡(
l⁄g›ts
 =
NULL
)

843 
no_l⁄gs
;

846 i‡(*
d
->
__√xtch¨
 != '\0')

848 
d
->
›èrg
 = d->
__√xtch¨
;

851 
d
->
›töd
++;

853 i‡(
d
->
›töd
 =
¨gc
)

855 i‡(
¥öt_îr‹s
)

857 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


858 *
buf
;

860 i‡(
	`__a•rötf
 (&
buf
,

861 
	`_
("%s: optionÑequiresánárgument -- '%c'\n"),

862 
¨gv
[0], 
c
) >= 0)

864 
	`_IO_Êockfûe
 (
°dîr
);

866 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

867 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

869 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

871 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

872 
	`_IO_fu∆ockfûe
 (
°dîr
);

874 
	`‰ì
 (
buf
);

877 
	`Ârötf
 (
°dîr
,

878 
	`_
("%s: optionÑequiresánárgument -- '%c'\n"),

879 
¨gv
[0], 
c
);

882 
d
->
›t›t
 = 
c
;

883 i‡(
›t°rög
[0] == ':')

884 
c
 = ':';

886 
c
 = '?';

887  
c
;

892 
d
->
›èrg
 = 
¨gv
[d->
›töd
++];

897 
d
->
__√xtch¨
 = 
«mìnd
 = d->
›èrg
; *nameend && *nameend != '=';

898 
«mìnd
++)

903 
p
 = 
l⁄g›ts
, 
›ti⁄_ödex
 = 0;Ö->
«me
;Ö++, option_index++)

904 i‡(!
	`°∫cmp
 (
p
->
«me
, 
d
->
__√xtch¨
, 
«mìnd
 - d->__nextchar))

906 i‡((Ë(
«mìnd
 - 
d
->
__√xtch¨
Ë=
	`°æí
 (
p
->
«me
))

909 
pfound
 = 
p
;

910 
ödfound
 = 
›ti⁄_ödex
;

911 
exa˘
 = 1;

914 i‡(
pfound
 =
NULL
)

917 
pfound
 = 
p
;

918 
ödfound
 = 
›ti⁄_ödex
;

920 i‡(
l⁄g_⁄ly


921 || 
pfound
->
has_¨g
 !
p
->has_arg

922 || 
pfound
->
Êag
 !
p
->flag

923 || 
pfound
->
vÆ
 !
p
->val)

925 
ambig
 = 1;

927 i‡(
ambig
 && !
exa˘
)

929 i‡(
¥öt_îr‹s
)

931 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


932 *
buf
;

934 i‡(
	`__a•rötf
 (&
buf
, 
	`_
("%s: option '-W %s' isámbiguous\n"),

935 
¨gv
[0], 
d
->
›èrg
) >= 0)

937 
	`_IO_Êockfûe
 (
°dîr
);

939 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

940 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

942 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

944 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

945 
	`_IO_fu∆ockfûe
 (
°dîr
);

947 
	`‰ì
 (
buf
);

950 
	`Ârötf
 (
°dîr
, 
	`_
("%s: option '-W %s' isámbiguous\n"),

951 
¨gv
[0], 
d
->
›èrg
);

954 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

955 
d
->
›töd
++;

958 i‡(
pfound
 !
NULL
)

960 
›ti⁄_ödex
 = 
ödfound
;

961 i‡(*
«mìnd
)

965 i‡(
pfound
->
has_¨g
)

966 
d
->
›èrg
 = 
«mìnd
 + 1;

969 i‡(
¥öt_îr‹s
)

971 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


972 *
buf
;

974 i‡(
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: option '-W %s' doesn'tállowánárgument\n"),

976 
¨gv
[0], 
pfound
->
«me
) >= 0)

978 
	`_IO_Êockfûe
 (
°dîr
);

980 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

981 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2


982 |
_IO_FLAGS2_NOTCANCEL
;

984 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

986 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

987 
	`_IO_fu∆ockfûe
 (
°dîr
);

989 
	`‰ì
 (
buf
);

992 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: option '-W %s' doesn'tállowánárgument\n"),

994 
¨gv
[0], 
pfound
->
«me
);

998 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

1002 i‡(
pfound
->
has_¨g
 == 1)

1004 i‡(
d
->
›töd
 < 
¨gc
)

1005 
d
->
›èrg
 = 
¨gv
[d->
›töd
++];

1008 i‡(
¥öt_îr‹s
)

1010 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


1011 *
buf
;

1013 i‡(
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: option '-W %s'Ñequiresánárgument\n"),

1015 
¨gv
[0], 
pfound
->
«me
) >= 0)

1017 
	`_IO_Êockfûe
 (
°dîr
);

1019 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

1020 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2


1021 |
_IO_FLAGS2_NOTCANCEL
;

1023 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

1025 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

1026 
	`_IO_fu∆ockfûe
 (
°dîr
);

1028 
	`‰ì
 (
buf
);

1031 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: option '-W %s'Ñequiresánárgument\n"),

1033 
¨gv
[0], 
pfound
->
«me
);

1036 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

1037  
›t°rög
[0] == ':' ? ':' : '?';

1041 
d
->
›èrg
 = 
NULL
;

1042 
d
->
__√xtch¨
 +
	`°æí
 (d->__nextchar);

1043 i‡(
l⁄göd
 !
NULL
)

1044 *
l⁄göd
 = 
›ti⁄_ödex
;

1045 i‡(
pfound
->
Êag
)

1047 *(
pfound
->
Êag
Ëpfound->
vÆ
;

1050  
pfound
->
vÆ
;

1053 
no_l⁄gs
:

1054 
d
->
__√xtch¨
 = 
NULL
;

1057 i‡(
ãmp
[1] == ':')

1059 i‡(
ãmp
[2] == ':')

1062 i‡(*
d
->
__√xtch¨
 != '\0')

1064 
d
->
›èrg
 = d->
__√xtch¨
;

1065 
d
->
›töd
++;

1068 
d
->
›èrg
 = 
NULL
;

1069 
d
->
__√xtch¨
 = 
NULL
;

1074 i‡(*
d
->
__√xtch¨
 != '\0')

1076 
d
->
›èrg
 = d->
__√xtch¨
;

1079 
d
->
›töd
++;

1081 i‡(
d
->
›töd
 =
¨gc
)

1083 i‡(
¥öt_îr‹s
)

1085 #i‡
deföed
 
_LIBC
 && deföed 
USE_IN_LIBIO


1086 *
buf
;

1088 i‡(
	`__a•rötf
 (&
buf
, 
	`_
("\
%s: optionÑequiresánárgument -- '%c'\n"),

1090 
¨gv
[0], 
c
) >= 0)

1092 
	`_IO_Êockfûe
 (
°dîr
);

1094 
ﬁd_Êags2
 = ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
;

1095 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 |
_IO_FLAGS2_NOTCANCEL
;

1097 
	`__fx¥ötf
 (
NULL
, "%s", 
buf
);

1099 ((
_IO_FILE
 *Ë
°dîr
)->
_Êags2
 = 
ﬁd_Êags2
;

1100 
	`_IO_fu∆ockfûe
 (
°dîr
);

1102 
	`‰ì
 (
buf
);

1105 
	`Ârötf
 (
°dîr
,

1106 
	`_
("%s: optionÑequiresánárgument -- '%c'\n"),

1107 
¨gv
[0], 
c
);

1110 
d
->
›t›t
 = 
c
;

1111 i‡(
›t°rög
[0] == ':')

1112 
c
 = ':';

1114 
c
 = '?';

1119 
d
->
›èrg
 = 
¨gv
[d->
›töd
++];

1120 
d
->
__√xtch¨
 = 
NULL
;

1123  
c
;

1125 
	}
}

1128 
	$_gë›t_öã∫Æ
 (
¨gc
, **
¨gv
, c⁄° *
›t°rög
,

1129 c⁄° 
›ti⁄
 *
l⁄g›ts
, *
l⁄göd
, 
l⁄g_⁄ly
,

1130 
posixly_c‹ª˘
)

1132 
ªsu…
;

1134 
gë›t_d©a
.
›töd
 = optind;

1135 
gë›t_d©a
.
›ãº
 = opterr;

1137 
ªsu…
 = 
	`_gë›t_öã∫Æ_r
 (
¨gc
, 
¨gv
, 
›t°rög
, 
l⁄g›ts
,

1138 
l⁄göd
, 
l⁄g_⁄ly
, &
gë›t_d©a
,

1139 
posixly_c‹ª˘
);

1141 
›töd
 = 
gë›t_d©a
.optind;

1142 
›èrg
 = 
gë›t_d©a
.optarg;

1143 
›t›t
 = 
gë›t_d©a
.optopt;

1145  
ªsu…
;

1146 
	}
}

1150 #i‡
_LIBC


1151 íum { 
	mPOSIXLY_CORRECT
 = 0 };

1153 íum { 
	mPOSIXLY_CORRECT
 = 1 };

1157 
	$gë›t
 (
¨gc
, *c⁄° *
¨gv
, c⁄° *
›t°rög
)

1159  
	`_gë›t_öã∫Æ
 (
¨gc
, (**Ë
¨gv
, 
›t°rög
,

1160 (c⁄° 
›ti⁄
 *) 0,

1162 0, 
POSIXLY_CORRECT
);

1163 
	}
}

1165 #ifde‡
_LIBC


1167 
	$__posix_gë›t
 (
¨gc
, *c⁄° *
¨gv
, c⁄° *
›t°rög
)

1169  
	`_gë›t_öã∫Æ
 (
¨gc
, 
¨gv
, 
›t°rög
,

1170 (c⁄° 
›ti⁄
 *) 0,

1173 
	}
}

1177 #ifde‡
TEST


1183 
	$maö
 (
¨gc
, **
¨gv
)

1185 
c
;

1186 
digô_›töd
 = 0;

1190 
this_›ti⁄_›töd
 = 
›töd
 ? optind : 1;

1192 
c
 = 
	`gë›t
 (
¨gc
, 
¨gv
, "abc:d:0123456789");

1193 i‡(
c
 == -1)

1196 
c
)

1208 i‡(
digô_›töd
 !0 && digô_›töd !
this_›ti⁄_›töd
)

1209 
	`¥ötf
 ("digits occur inÅwo differentárgv-elements.\n");

1210 
digô_›töd
 = 
this_›ti⁄_›töd
;

1211 
	`¥ötf
 ("›ti⁄ %c\n", 
c
);

1215 
	`¥ötf
 ("optioná\n");

1219 
	`¥ötf
 ("option b\n");

1223 
	`¥ötf
 ("›ti⁄ c wôh vÆuê'%s'\n", 
›èrg
);

1230 
	`¥ötf
 ("?? gë›àªtu∫ed ch¨a˘î codê0%ÿ??\n", 
c
);

1234 i‡(
›töd
 < 
¨gc
)

1236 
	`¥ötf
 ("non-option ARGV-elements: ");

1237 
›töd
 < 
¨gc
)

1238 
	`¥ötf
 ("%†", 
¨gv
[
›töd
++]);

1239 
	`¥ötf
 ("\n");

1242 
	`exô
 (0);

1243 
	}
}

	@lib/getopt.h

20 #i‚de‡
_GL_GETOPT_H


22 #i‡
__GNUC__
 >= 3

23 #¥agm®
GCC
 
sy°em_hódî


31 
	#_GL_SYSTEM_GETOPT


	)

32 #ö˛ude_√xà<
gë›t
.
h
>

33 #unde‡
_GL_SYSTEM_GETOPT


36 #i‚de‡
_GL_GETOPT_H


38 #i‚de‡
__√ed_gë›t


39 
	#_GL_GETOPT_H
 1

	)

51 #i‡
deföed
 
__GETOPT_PREFIX
 && !deföed 
__√ed_gë›t


53 
	~<°dlib.h
>

54 
	~<°dio.h
>

55 
	~<uni°d.h
>

57 #unde‡
__√ed_gë›t


58 #unde‡
gë›t


59 #unde‡
gë›t_l⁄g


60 #unde‡
gë›t_l⁄g_⁄ly


61 #unde‡
›èrg


62 #unde‡
›ãº


63 #unde‡
›töd


64 #unde‡
›t›t


65 #unde‡
›ti⁄


66 
	#__GETOPT_CONCAT
(
x
, 
y
Ëx ## 
	)
y

67 
	#__GETOPT_XCONCAT
(
x
, 
y
Ë
	`__GETOPT_CONCAT
 (x, y)

	)

68 
	#__GETOPT_ID
(
y
Ë
	`__GETOPT_XCONCAT
 (
__GETOPT_PREFIX
, y)

	)

69 
	#gë›t
 
	`__GETOPT_ID
 (
gë›t
)

	)

70 
	#gë›t_l⁄g
 
	`__GETOPT_ID
 (
gë›t_l⁄g
)

	)

71 
	#gë›t_l⁄g_⁄ly
 
	`__GETOPT_ID
 (
gë›t_l⁄g_⁄ly
)

	)

72 
	#›èrg
 
	`__GETOPT_ID
 (
›èrg
)

	)

73 
	#›ãº
 
	`__GETOPT_ID
 (
›ãº
)

	)

74 
	#›töd
 
	`__GETOPT_ID
 (
›töd
)

	)

75 
	#›t›t
 
	`__GETOPT_ID
 (
›t›t
)

	)

76 
	#›ti⁄
 
	`__GETOPT_ID
 (
›ti⁄
)

	)

77 
	#_gë›t_öã∫Æ
 
	`__GETOPT_ID
 (
gë›t_öã∫Æ
)

	)

96 #i‡!
deföed
 
__√ed_gë›t


97 #i‡
deföed
 
__GETOPT_PREFIX


98 
	#__gë›t_¨gv_c⁄°


	)

100 
	#__gë›t_¨gv_c⁄°
 c⁄°

	)

111 #i‡!
deföed
 
__GNU_LIBRARY__


112 
	~<˘y≥.h
>

115 #i‚de‡
__THROW


116 #i‚de‡
__GNUC_PREREQ


117 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

119 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

120 
	#__THROW
 
	`throw
 ()

	)

122 
	#__THROW


	)

130 #i‚de‡
_GL_ARG_NONNULL


131 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

132 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

134 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

138 #ifde‡
__˝lu•lus


148 *
›èrg
;

162 
›töd
;

167 
›ãº
;

171 
›t›t
;

173 #i‚de‡
__√ed_gë›t


195 #i‡!
GNULIB_deföed_°ru˘_›ti⁄


196 
	s›ti⁄


198 c⁄° *
	g«me
;

201 
	ghas_¨g
;

202 *
	gÊag
;

203 
	gvÆ
;

205 
	#GNULIB_deföed_°ru˘_›ti⁄
 1

	)

210 
	#no_¨gumít
 0

	)

211 
	#ªquúed_¨gumít
 1

	)

212 
	#›ti⁄Æ_¨gumít
 2

	)

241 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

242 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

244 #i‚de‡
__√ed_gë›t


245 
gë›t_l⁄g
 (
___¨gc
, *
__gë›t_¨gv_c⁄°
 *
___¨gv
,

246 c⁄° *
__sh‹t›ts
,

247 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

248 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

249 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *
__gë›t_¨gv_c⁄°
 *
___¨gv
,

250 c⁄° *
__sh‹t›ts
,

251 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

252 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

256 #ifde‡
__˝lu•lus


261 #unde‡
__√ed_gë›t


	@lib/getopt.in.h

19 #i‚de‡
_
@
GUARD_PREFIX
@
_GETOPT_H


21 #i‡
__GNUC__
 >= 3

22 @
	gPRAGMA_SYSTEM_HEADER
@

24 @
	gPRAGMA_COLUMNS
@

29 #i‡@
HAVE_GETOPT_H
@

30 
	#_GL_SYSTEM_GETOPT


	)

31 #@
INCLUDE_NEXT
@ @
NEXT_GETOPT_H
@

32 #unde‡
_GL_SYSTEM_GETOPT


35 #i‚de‡
_
@
GUARD_PREFIX
@
_GETOPT_H


37 #i‚de‡
__√ed_gë›t


38 
	#_
@
GUARD_PREFIX
@
_GETOPT_H
 1

	)

50 #i‡
deföed
 
__GETOPT_PREFIX
 && !deföed 
__√ed_gë›t


51 #i‡!@
HAVE_GETOPT_H
@

52 
	~<°dlib.h
>

53 
	~<°dio.h
>

54 
	~<uni°d.h
>

56 #unde‡
__√ed_gë›t


57 #unde‡
gë›t


58 #unde‡
gë›t_l⁄g


59 #unde‡
gë›t_l⁄g_⁄ly


60 #unde‡
›èrg


61 #unde‡
›ãº


62 #unde‡
›töd


63 #unde‡
›t›t


64 #unde‡
›ti⁄


65 
	#__GETOPT_CONCAT
(
x
, 
y
Ëx ## 
	)
y

66 
	#__GETOPT_XCONCAT
(
x
, 
y
Ë
	`__GETOPT_CONCAT
 (x, y)

	)

67 
	#__GETOPT_ID
(
y
Ë
	`__GETOPT_XCONCAT
 (
__GETOPT_PREFIX
, y)

	)

68 
	#gë›t
 
	`__GETOPT_ID
 (
gë›t
)

	)

69 
	#gë›t_l⁄g
 
	`__GETOPT_ID
 (
gë›t_l⁄g
)

	)

70 
	#gë›t_l⁄g_⁄ly
 
	`__GETOPT_ID
 (
gë›t_l⁄g_⁄ly
)

	)

71 
	#›èrg
 
	`__GETOPT_ID
 (
›èrg
)

	)

72 
	#›ãº
 
	`__GETOPT_ID
 (
›ãº
)

	)

73 
	#›töd
 
	`__GETOPT_ID
 (
›töd
)

	)

74 
	#›t›t
 
	`__GETOPT_ID
 (
›t›t
)

	)

75 
	#›ti⁄
 
	`__GETOPT_ID
 (
›ti⁄
)

	)

76 
	#_gë›t_öã∫Æ
 
	`__GETOPT_ID
 (
gë›t_öã∫Æ
)

	)

95 #i‡!
deföed
 
__√ed_gë›t


96 #i‡
deföed
 
__GETOPT_PREFIX


97 
	#__gë›t_¨gv_c⁄°


	)

99 
	#__gë›t_¨gv_c⁄°
 c⁄°

	)

110 #i‡!
deföed
 
__GNU_LIBRARY__


111 
	~<˘y≥.h
>

114 #i‚de‡
__THROW


115 #i‚de‡
__GNUC_PREREQ


116 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

118 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

119 
	#__THROW
 
	`throw
 ()

	)

121 
	#__THROW


	)

127 #ifde‡
__˝lu•lus


137 *
›èrg
;

151 
›töd
;

156 
›ãº
;

160 
›t›t
;

162 #i‚de‡
__√ed_gë›t


184 #i‡!
GNULIB_deföed_°ru˘_›ti⁄


185 
	s›ti⁄


187 c⁄° *
	g«me
;

190 
	ghas_¨g
;

191 *
	gÊag
;

192 
	gvÆ
;

194 
	#GNULIB_deföed_°ru˘_›ti⁄
 1

	)

199 
	#no_¨gumít
 0

	)

200 
	#ªquúed_¨gumít
 1

	)

201 
	#›ti⁄Æ_¨gumít
 2

	)

230 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

231 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

233 #i‚de‡
__√ed_gë›t


234 
gë›t_l⁄g
 (
___¨gc
, *
__gë›t_¨gv_c⁄°
 *
___¨gv
,

235 c⁄° *
__sh‹t›ts
,

236 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

237 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

238 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *
__gë›t_¨gv_c⁄°
 *
___¨gv
,

239 c⁄° *
__sh‹t›ts
,

240 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

241 
__THROW
 
_GL_ARG_NONNULL
 ((2, 3));

245 #ifde‡
__˝lu•lus


250 #unde‡
__√ed_gë›t


	@lib/getopt1.c

19 #ifde‡
_LIBC


20 
	~<gë›t.h
>

22 
	~<c⁄fig.h
>

23 
	~"gë›t.h
"

25 
	~"gë›t_öt.h
"

27 
	~<°dio.h
>

31 #ifde‡
__GNU_LIBRARY__


32 
	~<°dlib.h
>

35 #i‚de‡
NULL


36 
	#NULL
 0

	)

40 
	$gë›t_l⁄g
 (
¨gc
, *
__gë›t_¨gv_c⁄°
 *
¨gv
, c⁄° *
›ti⁄s
,

41 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
, *
›t_ödex
)

43  
	`_gë›t_öã∫Æ
 (
¨gc
, (**Ë
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
,

44 
›t_ödex
, 0, 0);

45 
	}
}

48 
	$_gë›t_l⁄g_r
 (
¨gc
, **
¨gv
, c⁄° *
›ti⁄s
,

49 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
, *
›t_ödex
,

50 
_gë›t_d©a
 *
d
)

52  
	`_gë›t_öã∫Æ_r
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
,

53 0, 
d
, 0);

54 
	}
}

62 
	$gë›t_l⁄g_⁄ly
 (
¨gc
, *
__gë›t_¨gv_c⁄°
 *
¨gv
,

63 c⁄° *
›ti⁄s
,

64 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
, *
›t_ödex
)

66  
	`_gë›t_öã∫Æ
 (
¨gc
, (**Ë
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
,

67 
›t_ödex
, 1, 0);

68 
	}
}

71 
	$_gë›t_l⁄g_⁄ly_r
 (
¨gc
, **
¨gv
, c⁄° *
›ti⁄s
,

72 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
, *
›t_ödex
,

73 
_gë›t_d©a
 *
d
)

75  
	`_gë›t_öã∫Æ_r
 (
¨gc
, 
¨gv
, 
›ti⁄s
, 
l⁄g_›ti⁄s
, 
›t_ödex
,

76 1, 
d
, 0);

77 
	}
}

80 #ifde‡
TEST


82 
	~<°dio.h
>

85 
	$maö
 (
¨gc
, **
¨gv
)

87 
c
;

88 
digô_›töd
 = 0;

92 
this_›ti⁄_›töd
 = 
›töd
 ? optind : 1;

93 
›ti⁄_ödex
 = 0;

94 c⁄° 
›ti⁄
 
l⁄g_›ti⁄s
[] =

105 
c
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
, "abc:d:0123456789",

106 
l⁄g_›ti⁄s
, &
›ti⁄_ödex
);

107 i‡(
c
 == -1)

110 
c
)

113 
	`¥ötf
 ("›ti⁄ %s", 
l⁄g_›ti⁄s
[
›ti⁄_ödex
].
«me
);

114 i‡(
›èrg
)

115 
	`¥ötf
 (" wôhárg %s", 
›èrg
);

116 
	`¥ötf
 ("\n");

129 i‡(
digô_›töd
 !0 && digô_›töd !
this_›ti⁄_›töd
)

130 
	`¥ötf
 ("digits occur inÅwo differentárgv-elements.\n");

131 
digô_›töd
 = 
this_›ti⁄_›töd
;

132 
	`¥ötf
 ("›ti⁄ %c\n", 
c
);

136 
	`¥ötf
 ("optioná\n");

140 
	`¥ötf
 ("option b\n");

144 
	`¥ötf
 ("›ti⁄ c wôh vÆuê`%s'\n", 
›èrg
);

148 
	`¥ötf
 ("›ti⁄ d wôh vÆuê`%s'\n", 
›èrg
);

155 
	`¥ötf
 ("?? gë›àªtu∫ed ch¨a˘î codê0%ÿ??\n", 
c
);

159 i‡(
›töd
 < 
¨gc
)

161 
	`¥ötf
 ("non-option ARGV-elements: ");

162 
›töd
 < 
¨gc
)

163 
	`¥ötf
 ("%†", 
¨gv
[
›töd
++]);

164 
	`¥ötf
 ("\n");

167 
	`exô
 (0);

168 
	}
}

	@lib/getopt_int.h

19 #i‚de‡
_GETOPT_INT_H


20 
	#_GETOPT_INT_H
 1

	)

22 
	~<gë›t.h
>

24 
_gë›t_öã∫Æ
 (
___¨gc
, **
___¨gv
,

25 c⁄° *
__sh‹t›ts
,

26 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
,

27 
__l⁄g_⁄ly
, 
__posixly_c‹ª˘
);

62 
	e__‹d


64 
	mREQUIRE_ORDER
, 
	mPERMUTE
, 
	mRETURN_IN_ORDER


68 
	s_gë›t_d©a


73 
	m›töd
;

74 
	m›ãº
;

75 
	m›t›t
;

76 *
	m›èrg
;

81 
	m__öôülized
;

89 *
	m__√xtch¨
;

92 
__‹d
 
	m__‹dîög
;

96 
	m__posixly_c‹ª˘
;

105 
	m__fú°_n⁄›t
;

106 
	m__œ°_n⁄›t
;

108 #i‡
deföed
 
_LIBC
 && deföed 
USE_NONOPTION_FLAGS


109 
	m__n⁄›ti⁄_Êags_max_Àn
;

110 
	m__n⁄›ti⁄_Êags_Àn
;

116 
	#_GETOPT_DATA_INITIALIZER
 { 1, 1 }

	)

118 
_gë›t_öã∫Æ_r
 (
___¨gc
, **
___¨gv
,

119 c⁄° *
__sh‹t›ts
,

120 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
,

121 
__l⁄g_⁄ly
, 
_gë›t_d©a
 *
__d©a
,

122 
__posixly_c‹ª˘
);

124 
_gë›t_l⁄g_r
 (
___¨gc
, **
___¨gv
,

125 c⁄° *
__sh‹t›ts
,

126 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
,

127 
_gë›t_d©a
 *
__d©a
);

129 
_gë›t_l⁄g_⁄ly_r
 (
___¨gc
, **
___¨gv
,

130 c⁄° *
__sh‹t›ts
,

131 c⁄° 
›ti⁄
 *
__l⁄g›ts
,

132 *
__l⁄göd
,

133 
_gë›t_d©a
 *
__d©a
);

	@lib/getpass.c

21 #i‚de‡
_LIBC


22 
	~<c⁄fig.h
>

25 
	~"gë∑ss.h
"

27 
	~<°dio.h
>

29 #i‡!((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& !deföed 
__CYGWIN__
)

31 
	~<°dboﬁ.h
>

33 #i‡
HAVE_DECL___FSETLOCKING
 && 
HAVE___FSETLOCKING


34 #i‡
HAVE_STDIO_EXT_H


35 
	~<°dio_ext.h
>

38 
	#__f£éockög
(
°ªam
, 
ty≥
Ë

	)

41 #i‡
HAVE_TERMIOS_H


42 
	~<ãrmios.h
>

45 #i‡
USE_UNLOCKED_IO


46 
	~"u∆ocked-io.h
"

48 #i‡!
HAVE_DECL_FFLUSH_UNLOCKED


49 #unde‡
fÊush_u∆ocked


50 
	#fÊush_u∆ocked
(
x
Ë
	`fÊush
 (x)

	)

52 #i‡!
HAVE_DECL_FLOCKFILE


53 #unde‡
Êockfûe


54 
	#Êockfûe
(
x
Ë((Ë0)

	)

56 #i‡!
HAVE_DECL_FUNLOCKFILE


57 #unde‡
fu∆ockfûe


58 
	#fu∆ockfûe
(
x
Ë((Ë0)

	)

60 #i‡!
HAVE_DECL_FPUTS_UNLOCKED


61 #unde‡
Âuts_u∆ocked


62 
	#Âuts_u∆ocked
(
°r
,
°ªam
Ë
	`Âuts
 (°r, såóm)

	)

64 #i‡!
HAVE_DECL_PUTC_UNLOCKED


65 #unde‡
putc_u∆ocked


66 
	#putc_u∆ocked
(
c
,
°ªam
Ë
	`putc
 (c, såóm)

	)

75 #i‚de‡
TCSASOFT


76 
	#TCSASOFT
 0

	)

80 
	$ˇŒ_f˛o£
 (*
¨g
)

82 i‡(
¨g
 !
NULL
)

83 
	`f˛o£
 (
¨g
);

84 
	}
}

87 
	$gë∑ss
 (c⁄° *
¥om±
)

89 
FILE
 *
ây
;

90 
FILE
 *
ö
, *
out
;

91 
ãrmios
 
s
, 
t
;

92 
boﬁ
 
ây_ch™ged
 = 
Ál£
;

93 *
buf
;

94 
size_t
 
bufsize
;

95 
ssize_t
 
ƒód
;

100 
ây
 = 
	`f›í
 ("/dev/tty", "w+");

101 i‡(
ây
 =
NULL
)

103 
ö
 = 
°dö
;

104 
out
 = 
°dîr
;

109 
	`__f£éockög
 (
ây
, 
FSETLOCKING_BYCALLER
);

111 
out
 = 
ö
 = 
ây
;

114 
	`Êockfûe
 (
out
);

117 #i‡
HAVE_TCGETATTR


118 i‡(
	`tcgë©å
 (
	`fûío
 (
ö
), &
t
) == 0)

121 
s
 = 
t
;

123 
t
.
c_lÊag
 &~(
ECHO
 | 
ISIG
);

124 
ây_ch™ged
 = (
	`tc£èâr
 (
	`fûío
 (
ö
), 
TCSAFLUSH
 | 
TCSASOFT
, &
t
) == 0);

129 
	`Âuts_u∆ocked
 (
¥om±
, 
out
);

130 
	`fÊush_u∆ocked
 (
out
);

133 
ƒód
 = 
	`gëlöe
 (&
buf
, &
bufsize
, 
ö
);

144 
	`f£eko
 (
out
, 0, 
SEEK_CUR
);

146 i‡(
buf
 !
NULL
)

148 i‡(
ƒód
 < 0)

149 
buf
[0] = '\0';

150 i‡(
buf
[
ƒód
 - 1] == '\n')

153 
buf
[
ƒód
 - 1] = '\0';

154 i‡(
ây_ch™ged
)

157 
	`putc_u∆ocked
 ('\n', 
out
);

163 #i‡
HAVE_TCSETATTR


164 i‡(
ây_ch™ged
)

165 
	`tc£èâr
 (
	`fûío
 (
ö
), 
TCSAFLUSH
 | 
TCSASOFT
, &
s
);

168 
	`fu∆ockfûe
 (
out
);

170 
	`ˇŒ_f˛o£
 (
ây
);

172  
buf
;

173 
	}
}

181 
	~<limôs.h
>

183 
	~<c⁄io.h
>

185 
	~<°rög.h
>

187 #i‚de‡
PASS_MAX


188 
	#PASS_MAX
 512

	)

192 
	$gë∑ss
 (c⁄° *
¥om±
)

194 
gë∑ssbuf
[
PASS_MAX
 + 1];

195 
size_t
 
i
 = 0;

196 
c
;

198 i‡(
¥om±
)

200 
	`Âuts
 (
¥om±
, 
°dîr
);

201 
	`fÊush
 (
°dîr
);

206 
c
 = 
	`_gëch
 ();

207 i‡(
c
 == '\r')

209 
gë∑ssbuf
[
i
] = '\0';

212 i‡(
i
 < 
PASS_MAX
)

214 
gë∑ssbuf
[
i
++] = 
c
;

217 i‡(
i
 >
PASS_MAX
)

219 
gë∑ssbuf
[
i
] = '\0';

224 i‡(
¥om±
)

226 
	`Âuts
 ("\r\n", 
°dîr
);

227 
	`fÊush
 (
°dîr
);

230  
	`°rdup
 (
gë∑ssbuf
);

231 
	}
}

	@lib/getpass.h

21 #i‚de‡
GETPASS_H


22 
	#GETPASS_H


	)

25 
	~<uni°d.h
>

27 #i‡
deföed
 
HAVE_DECL_GETPASS
 && !HAVE_DECL_GETPASS

29 *
gë∑ss
 (c⁄° *
¥om±
);

	@lib/getpeername.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
gë≥î«me


32 
	$Ωl_gë≥î«me
 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`gë≥î«me
 (
sock
, 
addr
, 
addæí
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/getsockname.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
gësock«me


32 
	$Ωl_gësock«me
 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`gësock«me
 (
sock
, 
addr
, 
addæí
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/gettext.h

21 #i‚de‡
_LIBGETTEXT_H


22 
	#_LIBGETTEXT_H
 1

	)

25 #i‡
ENABLE_NLS


28 
	~<liböé.h
>

33 #ifde‡
DEFAULT_TEXT_DOMAIN


34 #unde‡
gëãxt


35 
	#gëãxt
(
Msgid
) \

36 
	`dgëãxt
 (
DEFAULT_TEXT_DOMAIN
, 
Msgid
)

	)

37 #unde‡
ngëãxt


38 
	#ngëãxt
(
Msgid1
, 
Msgid2
, 
N
) \

39 
	`dngëãxt
 (
DEFAULT_TEXT_DOMAIN
, 
Msgid1
, 
Msgid2
, 
N
)

	)

50 #i‡
deföed
(
__sun
)

51 
	~<loˇÀ.h
>

57 #i‡
deföed
(
__˝lu•lus
Ë&& deföed(
__GNUG__
Ë&& (
__GNUC__
 >= 3)

58 
	~<c°dlib
>

59 #i‡(
__GLIBC__
 >2 && !
deföed
 
__UCLIBC__
Ë|| 
_GLIBCXX_HAVE_LIBINTL_H


60 
	~<liböé.h
>

69 #unde‡
gëãxt


70 
	#gëãxt
(
Msgid
Ë((c⁄° *Ë(Msgid))

	)

71 #unde‡
dgëãxt


72 
	#dgëãxt
(
Domaö«me
, 
Msgid
Ë((Ë(Domaö«me), 
	`gëãxt
 (Msgid))

	)

73 #unde‡
dcgëãxt


74 
	#dcgëãxt
(
Domaö«me
, 
Msgid
, 
C©eg‹y
) \

75 ((Ë(
C©eg‹y
), 
	`dgëãxt
 (
Domaö«me
, 
Msgid
))

	)

76 #unde‡
ngëãxt


77 
	#ngëãxt
(
Msgid1
, 
Msgid2
, 
N
) \

78 ((
N
) == 1 \

79 ? ((Ë(
Msgid2
), (c⁄° *Ë(
Msgid1
)) \

80 : ((Ë(
Msgid1
), (c⁄° *Ë(
Msgid2
)))

	)

81 #unde‡
dngëãxt


82 
	#dngëãxt
(
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
) \

83 ((Ë(
Domaö«me
), 
	`ngëãxt
 (
Msgid1
, 
Msgid2
, 
N
))

	)

84 #unde‡
d˙gëãxt


85 
	#d˙gëãxt
(
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
, 
C©eg‹y
) \

86 ((Ë(
C©eg‹y
), 
	`dngëãxt
 (
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
))

	)

87 #unde‡
ãxtdomaö


88 
	#ãxtdomaö
(
Domaö«me
Ë((c⁄° *Ë(Domaö«me))

	)

89 #unde‡
bödãxtdomaö


90 
	#bödãxtdomaö
(
Domaö«me
, 
Dú«me
) \

91 ((Ë(
Domaö«me
), (c⁄° *Ë(
Dú«me
))

	)

92 #unde‡
böd_ãxtdomaö_code£t


93 
	#böd_ãxtdomaö_code£t
(
Domaö«me
, 
Code£t
) \

94 ((Ë(
Domaö«me
), (c⁄° *Ë(
Code£t
))

	)

99 #ifde‡
GNULIB_deföed_£éoˇÀ


100 #unde‡
£éoˇÀ


101 
	#£éoˇÀ
 
Ωl_£éoˇÀ


	)

111 
	#gëãxt_no›
(
Såög
Ë
	)
String

114 
	#GETTEXT_CONTEXT_GLUE
 "\004"

	)

120 #ifde‡
DEFAULT_TEXT_DOMAIN


121 
	#pgëãxt
(
Msg˘xt
, 
Msgid
) \

122 
	`pgëãxt_aux
 (
DEFAULT_TEXT_DOMAIN
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

124 
	#pgëãxt
(
Msg˘xt
, 
Msgid
) \

125 
	`pgëãxt_aux
 (
NULL
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

127 
	#dpgëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
) \

128 
	`pgëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

129 
	#d˝gëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
C©eg‹y
) \

130 
	`pgëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
C©eg‹y
)

	)

131 #ifde‡
DEFAULT_TEXT_DOMAIN


132 
	#≈gëãxt
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

133 
	`≈gëãxt_aux
 (
DEFAULT_TEXT_DOMAIN
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

135 
	#≈gëãxt
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

136 
	`≈gëãxt_aux
 (
NULL
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

138 
	#d≈gëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

139 
	`≈gëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

140 
	#d˙pgëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
C©eg‹y
) \

141 
	`≈gëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
C©eg‹y
)

	)

143 #ifde‡
__GNUC__


144 
	g__ölöe


146 #ifde‡
__˝lu•lus


147 
	gölöe


151 
	$pgëãxt_aux
 (c⁄° *
domaö
,

152 c⁄° *
msg_˘xt_id
, c⁄° *
msgid
,

153 
ˇãg‹y
)

155 c⁄° *
å™¶©i⁄
 = 
	`dcgëãxt
 (
domaö
, 
msg_˘xt_id
, 
ˇãg‹y
);

156 i‡(
å™¶©i⁄
 =
msg_˘xt_id
)

157  
msgid
;

159  
å™¶©i⁄
;

160 
	}
}

162 #ifde‡
__GNUC__


163 
	g__ölöe


165 #ifde‡
__˝lu•lus


166 
	gölöe


170 
	$≈gëãxt_aux
 (c⁄° *
domaö
,

171 c⁄° *
msg_˘xt_id
, c⁄° *
msgid
,

172 c⁄° *
msgid_∂uøl
, 
n
,

173 
ˇãg‹y
)

175 c⁄° *
å™¶©i⁄
 =

176 
	`d˙gëãxt
 (
domaö
, 
msg_˘xt_id
, 
msgid_∂uøl
, 
n
, 
ˇãg‹y
);

177 i‡(
å™¶©i⁄
 =
msg_˘xt_id
 ||Åøn¶©i⁄ =
msgid_∂uøl
)

178  (
n
 =1 ? 
msgid
 : 
msgid_∂uøl
);

180  
å™¶©i⁄
;

181 
	}
}

187 
	~<°rög.h
>

189 
	#_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS
 \

190 (((
__GNUC__
 >3 || 
__GNUG__
 >2Ë&& !
__STRICT_ANSI__
) \

191  )

	)

193 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


194 
	~<°dlib.h
>

197 
	#pgëãxt_ex¥
(
Msg˘xt
, 
Msgid
) \

198 
	`d˝gëãxt_ex¥
 (
NULL
, 
Msg˘xt
, 
Msgid
, 
LC_MESSAGES
)

	)

199 
	#dpgëãxt_ex¥
(
Domaö«me
, 
Msg˘xt
, 
Msgid
) \

200 
	`d˝gëãxt_ex¥
 (
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
LC_MESSAGES
)

	)

202 #ifde‡
__GNUC__


203 
	g__ölöe


205 #ifde‡
__˝lu•lus


206 
	gölöe


210 
	$d˝gëãxt_ex¥
 (c⁄° *
domaö
,

211 c⁄° *
msg˘xt
, c⁄° *
msgid
,

212 
ˇãg‹y
)

214 
size_t
 
msg˘xt_Àn
 = 
	`°æí
 (
msg˘xt
) + 1;

215 
size_t
 
msgid_Àn
 = 
	`°æí
 (
msgid
) + 1;

216 c⁄° *
å™¶©i⁄
;

217 #i‡
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


218 
msg_˘xt_id
[
msg˘xt_Àn
 + 
msgid_Àn
];

220 
buf
[1024];

221 *
msg_˘xt_id
 =

222 (
msg˘xt_Àn
 + 
msgid_Àn
 < (
buf
)

223 ? 
buf


224 : (*Ë
	`mÆloc
 (
msg˘xt_Àn
 + 
msgid_Àn
));

225 i‡(
msg_˘xt_id
 !
NULL
)

228 
	`mem˝y
 (
msg_˘xt_id
, 
msg˘xt
, 
msg˘xt_Àn
 - 1);

229 
msg_˘xt_id
[
msg˘xt_Àn
 - 1] = '\004';

230 
	`mem˝y
 (
msg_˘xt_id
 + 
msg˘xt_Àn
, 
msgid
, 
msgid_Àn
);

231 
å™¶©i⁄
 = 
	`dcgëãxt
 (
domaö
, 
msg_˘xt_id
, 
ˇãg‹y
);

232 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


233 i‡(
msg_˘xt_id
 !
buf
)

234 
	`‰ì
 (
msg_˘xt_id
);

236 i‡(
å™¶©i⁄
 !
msg_˘xt_id
)

237  
å™¶©i⁄
;

239  
msgid
;

240 
	}
}

242 
	#≈gëãxt_ex¥
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

243 
	`d˙pgëãxt_ex¥
 (
NULL
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

244 
	#d≈gëãxt_ex¥
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

245 
	`d˙pgëãxt_ex¥
 (
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

247 #ifde‡
__GNUC__


248 
	g__ölöe


250 #ifde‡
__˝lu•lus


251 
	gölöe


255 
	$d˙pgëãxt_ex¥
 (c⁄° *
domaö
,

256 c⁄° *
msg˘xt
, c⁄° *
msgid
,

257 c⁄° *
msgid_∂uøl
, 
n
,

258 
ˇãg‹y
)

260 
size_t
 
msg˘xt_Àn
 = 
	`°æí
 (
msg˘xt
) + 1;

261 
size_t
 
msgid_Àn
 = 
	`°æí
 (
msgid
) + 1;

262 c⁄° *
å™¶©i⁄
;

263 #i‡
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


264 
msg_˘xt_id
[
msg˘xt_Àn
 + 
msgid_Àn
];

266 
buf
[1024];

267 *
msg_˘xt_id
 =

268 (
msg˘xt_Àn
 + 
msgid_Àn
 < (
buf
)

269 ? 
buf


270 : (*Ë
	`mÆloc
 (
msg˘xt_Àn
 + 
msgid_Àn
));

271 i‡(
msg_˘xt_id
 !
NULL
)

274 
	`mem˝y
 (
msg_˘xt_id
, 
msg˘xt
, 
msg˘xt_Àn
 - 1);

275 
msg_˘xt_id
[
msg˘xt_Àn
 - 1] = '\004';

276 
	`mem˝y
 (
msg_˘xt_id
 + 
msg˘xt_Àn
, 
msgid
, 
msgid_Àn
);

277 
å™¶©i⁄
 = 
	`d˙gëãxt
 (
domaö
, 
msg_˘xt_id
, 
msgid_∂uøl
, 
n
, 
ˇãg‹y
);

278 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


279 i‡(
msg_˘xt_id
 !
buf
)

280 
	`‰ì
 (
msg_˘xt_id
);

282 i‡(!(
å™¶©i⁄
 =
msg_˘xt_id
 ||Åøn¶©i⁄ =
msgid_∂uøl
))

283  
å™¶©i⁄
;

285  (
n
 =1 ? 
msgid
 : 
msgid_∂uøl
);

286 
	}
}

	@lib/gettime.c

20 
	~<c⁄fig.h
>

22 
	~"time•ec.h
"

24 
	~<sys/time.h
>

29 
	$gëtime
 (
time•ec
 *
ts
)

31 #i‡
HAVE_NANOTIME


32 
	`«nŸime
 (
ts
);

35 #i‡
deföed
 
CLOCK_REALTIME
 && 
HAVE_CLOCK_GETTIME


36 i‡(
	`˛ock_gëtime
 (
CLOCK_REALTIME
, 
ts
) == 0)

41 
timevÆ
 
tv
;

42 
	`gëtimeofday
 (&
tv
, 
NULL
);

43 
ts
->
tv_£c
 = 
tv
.tv_sec;

44 
ts
->
tv_n£c
 = 
tv
.
tv_u£c
 * 1000;

48 
	}
}

	@lib/gettimeofday.c

23 
	~<c⁄fig.h
>

26 
	~<sys/time.h
>

28 
	~<time.h
>

30 #i‡
HAVE_SYS_TIMEB_H


31 
	~<sys/timeb.h
>

34 #i‡
GETTIMEOFDAY_CLOBBERS_LOCALTIME
 || 
TZSET_CLOBBERS_LOCALTIME


42 
tm
 
	gtm_zîo_buf„r
;

43 
tm
 *
	gloˇ…ime_buf„r_addr
 = &
tm_zîo_buf„r
;

45 #unde‡
loˇ…ime


46 
tm
 *
loˇ…ime
 (
time_t
 const *);

48 #unde‡
gmtime


49 
tm
 *
gmtime
 (
time_t
 const *);

57 
tm
 *

58 
	$Ωl_loˇ…ime
 (
time_t
 c⁄° *
timï
)

60 
tm
 *tm = 
	`loˇ…ime
 (
timï
);

62 i‡(
loˇ…ime_buf„r_addr
 =&
tm_zîo_buf„r
)

63 
loˇ…ime_buf„r_addr
 = 
tm
;

65  
tm
;

66 
	}
}

69 
tm
 *

70 
	$Ωl_gmtime
 (
time_t
 c⁄° *
timï
)

72 
tm
 *tm = 
	`gmtime
 (
timï
);

74 i‡(
loˇ…ime_buf„r_addr
 =&
tm_zîo_buf„r
)

75 
loˇ…ime_buf„r_addr
 = 
tm
;

77  
tm
;

78 
	}
}

82 #i‡
TZSET_CLOBBERS_LOCALTIME


84 #unde‡
tz£t


85 
tz£t
 ();

90 
	$Ωl_tz£t
 ()

94 
tm
 
ßve
 = *
loˇ…ime_buf„r_addr
;

95 
	`tz£t
 ();

96 *
loˇ…ime_buf„r_addr
 = 
ßve
;

97 
	}
}

105 
	$gëtimeofday
 (
timevÆ
 *
ª°ri˘
 
tv
, *ª°ri˘ 
tz
)

107 #unde‡
gëtimeofday


108 #i‡
HAVE_GETTIMEOFDAY


109 #i‡
GETTIMEOFDAY_CLOBBERS_LOCALTIME


112 
tm
 
ßve
 = *
loˇ…ime_buf„r_addr
;

115 
ªsu…
 = 
	`gëtimeofday
 (
tv
, (
timez⁄e
 *Ë
tz
);

117 #i‡
GETTIMEOFDAY_CLOBBERS_LOCALTIME


118 *
loˇ…ime_buf„r_addr
 = 
ßve
;

121  
ªsu…
;

125 #i‡
HAVE__FTIME


127 
_timeb
 
timebuf
;

128 
	`_·ime
 (&
timebuf
);

129 
tv
->
tv_£c
 = 
timebuf
.
time
;

130 
tv
->
tv_u£c
 = 
timebuf
.
mûlôm
 * 1000;

134 #i‡!
deföed
 
OK_TO_USE_1S_CLOCK


138 
tv
->
tv_£c
 = 
	`time
 (
NULL
);

139 
tv
->
tv_u£c
 = 0;

146 
	}
}

	@lib/glthread/lock.c

24 
	~<c⁄fig.h
>

26 
	~"g…hªad/lock.h
"

30 #i‡
USE_POSIX_THREADS


36 #i‡
HAVE_PTHREAD_RWLOCK


38 #i‡!
deföed
 
PTHREAD_RWLOCK_INITIALIZER


41 
	$g…hªad_rwlock_öô_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

43 
îr
;

45 
îr
 = 
	`±hªad_rwlock_öô
 (&
lock
->
rwlock
, 
NULL
);

46 i‡(
îr
 != 0)

47  
îr
;

48 
lock
->
öôülized
 = 1;

50 
	}
}

53 
	$g…hªad_rwlock_rdlock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

55 i‡(!
lock
->
öôülized
)

57 
îr
;

59 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->
gu¨d
);

60 i‡(
îr
 != 0)

61  
îr
;

62 i‡(!
lock
->
öôülized
)

64 
îr
 = 
	`g…hªad_rwlock_öô_mu…ôhªaded
 (
lock
);

65 i‡(
îr
 != 0)

67 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

68  
îr
;

71 
îr
 = 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

72 i‡(
îr
 != 0)

73  
îr
;

75  
	`±hªad_rwlock_rdlock
 (&
lock
->
rwlock
);

76 
	}
}

79 
	$g…hªad_rwlock_wæock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

81 i‡(!
lock
->
öôülized
)

83 
îr
;

85 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->
gu¨d
);

86 i‡(
îr
 != 0)

87  
îr
;

88 i‡(!
lock
->
öôülized
)

90 
îr
 = 
	`g…hªad_rwlock_öô_mu…ôhªaded
 (
lock
);

91 i‡(
îr
 != 0)

93 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

94  
îr
;

97 
îr
 = 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

98 i‡(
îr
 != 0)

99  
îr
;

101  
	`±hªad_rwlock_wæock
 (&
lock
->
rwlock
);

102 
	}
}

105 
	$g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

107 i‡(!
lock
->
öôülized
)

108  
EINVAL
;

109  
	`±hªad_rwlock_u∆ock
 (&
lock
->
rwlock
);

110 
	}
}

113 
	$g…hªad_rwlock_de°roy_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

115 
îr
;

117 i‡(!
lock
->
öôülized
)

118  
EINVAL
;

119 
îr
 = 
	`±hªad_rwlock_de°roy
 (&
lock
->
rwlock
);

120 i‡(
îr
 != 0)

121  
îr
;

122 
lock
->
öôülized
 = 0;

124 
	}
}

131 
	$g…hªad_rwlock_öô_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

133 
îr
;

135 
îr
 = 
	`±hªad_muãx_öô
 (&
lock
->lock, 
NULL
);

136 i‡(
îr
 != 0)

137  
îr
;

138 
îr
 = 
	`±hªad_c⁄d_öô
 (&
lock
->
waôög_ªadîs
, 
NULL
);

139 i‡(
îr
 != 0)

140  
îr
;

141 
îr
 = 
	`±hªad_c⁄d_öô
 (&
lock
->
waôög_wrôîs
, 
NULL
);

142 i‡(
îr
 != 0)

143  
îr
;

144 
lock
->
waôög_wrôîs_cou¡
 = 0;

145 
lock
->
runcou¡
 = 0;

147 
	}
}

150 
	$g…hªad_rwlock_rdlock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

152 
îr
;

154 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->lock);

155 i‡(
îr
 != 0)

156  
îr
;

163 !(
lock
->
runcou¡
 + 1 > 0 &&Üock->
waôög_wrôîs_cou¡
 == 0))

167 
îr
 = 
	`±hªad_c⁄d_waô
 (&
lock
->
waôög_ªadîs
, &lock->lock);

168 i‡(
îr
 != 0)

170 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

171  
îr
;

174 
lock
->
runcou¡
++;

175  
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

176 
	}
}

179 
	$g…hªad_rwlock_wæock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

181 
îr
;

183 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->lock);

184 i‡(
îr
 != 0)

185  
îr
;

187 !(
lock
->
runcou¡
 == 0))

191 
lock
->
waôög_wrôîs_cou¡
++;

192 
îr
 = 
	`±hªad_c⁄d_waô
 (&
lock
->
waôög_wrôîs
, &lock->lock);

193 i‡(
îr
 != 0)

195 
lock
->
waôög_wrôîs_cou¡
--;

196 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

197  
îr
;

199 
lock
->
waôög_wrôîs_cou¡
--;

201 
lock
->
runcou¡
--;

202  
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

203 
	}
}

206 
	$g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

208 
îr
;

210 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->lock);

211 i‡(
îr
 != 0)

212  
îr
;

213 i‡(
lock
->
runcou¡
 < 0)

216 i‡(!(
lock
->
runcou¡
 == -1))

218 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

219  
EINVAL
;

221 
lock
->
runcou¡
 = 0;

226 i‡(!(
lock
->
runcou¡
 > 0))

228 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

229  
EINVAL
;

231 
lock
->
runcou¡
--;

233 i‡(
lock
->
runcou¡
 == 0)

237 i‡(
lock
->
waôög_wrôîs_cou¡
 > 0)

240 
îr
 = 
	`±hªad_c⁄d_sig«l
 (&
lock
->
waôög_wrôîs
);

241 i‡(
îr
 != 0)

243 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

244  
îr
;

250 
îr
 = 
	`±hªad_c⁄d_brﬂdˇ°
 (&
lock
->
waôög_ªadîs
);

251 i‡(
îr
 != 0)

253 
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

254  
îr
;

258  
	`±hªad_muãx_u∆ock
 (&
lock
->lock);

259 
	}
}

262 
	$g…hªad_rwlock_de°roy_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
)

264 
îr
;

266 
îr
 = 
	`±hªad_muãx_de°roy
 (&
lock
->lock);

267 i‡(
îr
 != 0)

268  
îr
;

269 
îr
 = 
	`±hªad_c⁄d_de°roy
 (&
lock
->
waôög_ªadîs
);

270 i‡(
îr
 != 0)

271  
îr
;

272 
îr
 = 
	`±hªad_c⁄d_de°roy
 (&
lock
->
waôög_wrôîs
);

273 i‡(
îr
 != 0)

274  
îr
;

276 
	}
}

282 #i‡
HAVE_PTHREAD_MUTEX_RECURSIVE


284 #i‡
deföed
 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER
 || deföed 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP


287 
	$g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

289 
±hªad_muãx©å_t
 
©åibuãs
;

290 
îr
;

292 
îr
 = 
	`±hªad_muãx©å_öô
 (&
©åibuãs
);

293 i‡(
îr
 != 0)

294  
îr
;

295 
îr
 = 
	`±hªad_muãx©å_£ây≥
 (&
©åibuãs
, 
PTHREAD_MUTEX_RECURSIVE
);

296 i‡(
îr
 != 0)

298 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

299  
îr
;

301 
îr
 = 
	`±hªad_muãx_öô
 (
lock
, &
©åibuãs
);

302 i‡(
îr
 != 0)

304 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

305  
îr
;

307 
îr
 = 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

308 i‡(
îr
 != 0)

309  
îr
;

311 
	}
}

316 
	$g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

318 
±hªad_muãx©å_t
 
©åibuãs
;

319 
îr
;

321 
îr
 = 
	`±hªad_muãx©å_öô
 (&
©åibuãs
);

322 i‡(
îr
 != 0)

323  
îr
;

324 
îr
 = 
	`±hªad_muãx©å_£ây≥
 (&
©åibuãs
, 
PTHREAD_MUTEX_RECURSIVE
);

325 i‡(
îr
 != 0)

327 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

328  
îr
;

330 
îr
 = 
	`±hªad_muãx_öô
 (&
lock
->
ªcmuãx
, &
©åibuãs
);

331 i‡(
îr
 != 0)

333 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

334  
îr
;

336 
îr
 = 
	`±hªad_muãx©å_de°roy
 (&
©åibuãs
);

337 i‡(
îr
 != 0)

338  
îr
;

339 
lock
->
öôülized
 = 1;

341 
	}
}

344 
	$g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

346 i‡(!
lock
->
öôülized
)

348 
îr
;

350 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->
gu¨d
);

351 i‡(
îr
 != 0)

352  
îr
;

353 i‡(!
lock
->
öôülized
)

355 
îr
 = 
	`g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
lock
);

356 i‡(
îr
 != 0)

358 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

359  
îr
;

362 
îr
 = 
	`±hªad_muãx_u∆ock
 (&
lock
->
gu¨d
);

363 i‡(
îr
 != 0)

364  
îr
;

366  
	`±hªad_muãx_lock
 (&
lock
->
ªcmuãx
);

367 
	}
}

370 
	$g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

372 i‡(!
lock
->
öôülized
)

373  
EINVAL
;

374  
	`±hªad_muãx_u∆ock
 (&
lock
->
ªcmuãx
);

375 
	}
}

378 
	$g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

380 
îr
;

382 i‡(!
lock
->
öôülized
)

383  
EINVAL
;

384 
îr
 = 
	`±hªad_muãx_de°roy
 (&
lock
->
ªcmuãx
);

385 i‡(
îr
 != 0)

386  
îr
;

387 
lock
->
öôülized
 = 0;

389 
	}
}

396 
	$g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

398 
îr
;

400 
îr
 = 
	`±hªad_muãx_öô
 (&
lock
->
muãx
, 
NULL
);

401 i‡(
îr
 != 0)

402  
îr
;

403 
lock
->
ow√r
 = (
±hªad_t
) 0;

404 
lock
->
dïth
 = 0;

406 
	}
}

409 
	$g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

411 
±hªad_t
 
£lf
 = 
	`±hªad_£lf
 ();

412 i‡(
lock
->
ow√r
 !
£lf
)

414 
îr
;

416 
îr
 = 
	`±hªad_muãx_lock
 (&
lock
->
muãx
);

417 i‡(
îr
 != 0)

418  
îr
;

419 
lock
->
ow√r
 = 
£lf
;

421 i‡(++(
lock
->
dïth
) == 0)

423 
lock
->
dïth
--;

424  
EAGAIN
;

427 
	}
}

430 
	$g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

432 i‡(
lock
->
ow√r
 !
	`±hªad_£lf
 ())

433  
EPERM
;

434 i‡(
lock
->
dïth
 == 0)

435  
EINVAL
;

436 i‡(--(
lock
->
dïth
) == 0)

438 
lock
->
ow√r
 = (
±hªad_t
) 0;

439  
	`±hªad_muãx_u∆ock
 (&
lock
->
muãx
);

443 
	}
}

446 
	$g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

448 i‡(
lock
->
ow√r
 !(
±hªad_t
) 0)

449  
EBUSY
;

450  
	`±hªad_muãx_de°roy
 (&
lock
->
muãx
);

451 
	}
}

457 c⁄° 
±hªad_⁄˚_t
 
	g‰esh_⁄˚
 = 
PTHREAD_ONCE_INIT
;

460 
	$g…hªad_⁄˚_sögÀthªaded
 (
±hªad_⁄˚_t
 *
⁄˚_c⁄åﬁ
)

464 *
fú°byã
 = (*)
⁄˚_c⁄åﬁ
;

465 i‡(*
fú°byã
 =*(c⁄° *)&
‰esh_⁄˚
)

468 *
fú°byã
 = ~ *(c⁄° *)&
‰esh_⁄˚
;

473 
	}
}

479 #i‡
USE_PTH_THREADS


492 
	$g…hªad_⁄˚_ˇŒ
 (*
¨g
)

494 (**
gl_⁄˚_ãmp_addr
Ë(Ë((**Ë()Ë
¨g
;

495 (*
öôfun˘i⁄
Ë(Ë*
gl_⁄˚_ãmp_addr
;

496 
	`öôfun˘i⁄
 ();

497 
	}
}

500 
g…hªad_⁄˚_mu…ôhªaded
 (
±h_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ())

502 (*
ãmp
Ë(Ë
öôfun˘i⁄
;

503  (!
	`±h_⁄˚
 (
⁄˚_c⁄åﬁ
, 
g…hªad_⁄˚_ˇŒ
, &
ãmp
Ë? 
î∫o
 : 0);

504 
	}
}

507 
	$g…hªad_⁄˚_sögÀthªaded
 (
±h_⁄˚_t
 *
⁄˚_c⁄åﬁ
)

510 i‡(*
⁄˚_c⁄åﬁ
 =
PTH_ONCE_INIT
)

513 *
⁄˚_c⁄åﬁ
 = ~ 
PTH_ONCE_INIT
;

518 
	}
}

524 #i‡
USE_SOLARIS_THREADS


535 
	$g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

537 
îr
;

539 
îr
 = 
	`muãx_öô
 (&
lock
->
muãx
, 
USYNC_THREAD
, 
NULL
);

540 i‡(
îr
 != 0)

541  
îr
;

542 
lock
->
ow√r
 = (
thªad_t
) 0;

543 
lock
->
dïth
 = 0;

545 
	}
}

548 
	$g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

550 
thªad_t
 
£lf
 = 
	`thr_£lf
 ();

551 i‡(
lock
->
ow√r
 !
£lf
)

553 
îr
;

555 
îr
 = 
	`muãx_lock
 (&
lock
->
muãx
);

556 i‡(
îr
 != 0)

557  
îr
;

558 
lock
->
ow√r
 = 
£lf
;

560 i‡(++(
lock
->
dïth
) == 0)

562 
lock
->
dïth
--;

563  
EAGAIN
;

566 
	}
}

569 
	$g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

571 i‡(
lock
->
ow√r
 !
	`thr_£lf
 ())

572  
EPERM
;

573 i‡(
lock
->
dïth
 == 0)

574  
EINVAL
;

575 i‡(--(
lock
->
dïth
) == 0)

577 
lock
->
ow√r
 = (
thªad_t
) 0;

578  
	`muãx_u∆ock
 (&
lock
->
muãx
);

582 
	}
}

585 
	$g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
)

587 i‡(
lock
->
ow√r
 !(
thªad_t
) 0)

588  
EBUSY
;

589  
	`muãx_de°roy
 (&
lock
->
muãx
);

590 
	}
}

595 
g…hªad_⁄˚_mu…ôhªaded
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ())

597 i‡(!
⁄˚_c⁄åﬁ
->
öôed
)

599 
îr
;

603 
îr
 = 
	`muãx_lock
 (&
⁄˚_c⁄åﬁ
->
muãx
);

604 i‡(
îr
 != 0)

605  
îr
;

606 i‡(!
⁄˚_c⁄åﬁ
->
öôed
)

608 
⁄˚_c⁄åﬁ
->
öôed
 = 1;

609 
	`öôfun˘i⁄
 ();

611  
	`muãx_u∆ock
 (&
⁄˚_c⁄åﬁ
->
muãx
);

615 
	}
}

618 
	$g…hªad_⁄˚_sögÀthªaded
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
)

621 i‡(!
⁄˚_c⁄åﬁ
->
öôed
)

624 
⁄˚_c⁄åﬁ
->
öôed
 = ~ 0;

629 
	}
}

635 #i‡
USE_WIN32_THREADS


640 
	$g…hªad_lock_öô_func
 (
gl_lock_t
 *
lock
)

642 
	`InôülizeCrôiˇlSe˘i⁄
 (&
lock
->lock);

643 
lock
->
gu¨d
.
d⁄e
 = 1;

644 
	}
}

647 
	$g…hªad_lock_lock_func
 (
gl_lock_t
 *
lock
)

649 i‡(!
lock
->
gu¨d
.
d⁄e
)

651 i‡(
	`I¡îlockedIn¸emít
 (&
lock
->
gu¨d
.
°¨ãd
) == 0)

653 
	`g…hªad_lock_öô
 (
lock
);

657 !
lock
->
gu¨d
.
d⁄e
)

658 
	`SÀï
 (0);

660 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

662 
	}
}

665 
	$g…hªad_lock_u∆ock_func
 (
gl_lock_t
 *
lock
)

667 i‡(!
lock
->
gu¨d
.
d⁄e
)

668  
EINVAL
;

669 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

671 
	}
}

674 
	$g…hªad_lock_de°roy_func
 (
gl_lock_t
 *
lock
)

676 i‡(!
lock
->
gu¨d
.
d⁄e
)

677  
EINVAL
;

678 
	`DñëeCrôiˇlSe˘i⁄
 (&
lock
->lock);

679 
lock
->
gu¨d
.
d⁄e
 = 0;

681 
	}
}

686 
	#gl_waôqueue_t
 
gl_ˇºay_waôqueue_t


	)

688 
ölöe
 

689 
	$gl_waôqueue_öô
 (
gl_waôqueue_t
 *
wq
)

691 
wq
->
¨øy
 = 
NULL
;

692 
wq
->
cou¡
 = 0;

693 
wq
->
Æloc
 = 0;

694 
wq
->
off£t
 = 0;

695 
	}
}

699 
HANDLE


700 
	$gl_waôqueue_add
 (
gl_waôqueue_t
 *
wq
)

702 
HANDLE
 
evít
;

703 
ödex
;

705 i‡(
wq
->
cou¡
 =wq->
Æloc
)

707 
√w_Æloc
 = 2 * 
wq
->
Æloc
 + 1;

708 
HANDLE
 *
√w_¨øy
 =

709 (
HANDLE
 *Ë
	`ªÆloc
 (
wq
->
¨øy
, 
√w_Æloc
 *  (HANDLE));

710 i‡(
√w_¨øy
 =
NULL
)

712  
INVALID_HANDLE_VALUE
;

715 i‡(
wq
->
off£t
 > 0)

717 
ﬁd_cou¡
 = 
wq
->
cou¡
;

718 
ﬁd_Æloc
 = 
wq
->
Æloc
;

719 
ﬁd_off£t
 = 
wq
->
off£t
;

720 
i
;

721 i‡(
ﬁd_off£t
 + 
ﬁd_cou¡
 > 
ﬁd_Æloc
)

723 
limô
 = 
ﬁd_off£t
 + 
ﬁd_cou¡
 - 
ﬁd_Æloc
;

724 
i
 = 0; i < 
limô
; i++)

725 
√w_¨øy
[
ﬁd_Æloc
 + 
i
] =Çew_array[i];

727 
i
 = 0; i < 
ﬁd_cou¡
; i++)

728 
√w_¨øy
[
i
] =Çew_¨øy[
ﬁd_off£t
 + i];

729 
wq
->
off£t
 = 0;

731 
wq
->
¨øy
 = 
√w_¨øy
;

732 
wq
->
Æloc
 = 
√w_Æloc
;

736 
evít
 = 
	`Cª©eEvít
 (
NULL
, 
TRUE
, 
FALSE
, NULL);

737 i‡(
evít
 =
INVALID_HANDLE_VALUE
)

739  
INVALID_HANDLE_VALUE
;

740 
ödex
 = 
wq
->
off£t
 + wq->
cou¡
;

741 i‡(
ödex
 >
wq
->
Æloc
)

742 
ödex
 -
wq
->
Æloc
;

743 
wq
->
¨øy
[
ödex
] = 
evít
;

744 
wq
->
cou¡
++;

745  
evít
;

746 
	}
}

749 
ölöe
 

750 
	$gl_waôqueue_nŸify_fú°
 (
gl_waôqueue_t
 *
wq
)

752 
	`SëEvít
 (
wq
->
¨øy
[wq->
off£t
 + 0]);

753 
wq
->
off£t
++;

754 
wq
->
cou¡
--;

755 i‡(
wq
->
cou¡
 =0 || wq->
off£t
 =wq->
Æloc
)

756 
wq
->
off£t
 = 0;

757 
	}
}

760 
ölöe
 

761 
	$gl_waôqueue_nŸify_Æl
 (
gl_waôqueue_t
 *
wq
)

763 
i
;

765 
i
 = 0; i < 
wq
->
cou¡
; i++)

767 
ödex
 = 
wq
->
off£t
 + 
i
;

768 i‡(
ödex
 >
wq
->
Æloc
)

769 
ödex
 -
wq
->
Æloc
;

770 
	`SëEvít
 (
wq
->
¨øy
[
ödex
]);

772 
wq
->
cou¡
 = 0;

773 
wq
->
off£t
 = 0;

774 
	}
}

777 
	$g…hªad_rwlock_öô_func
 (
gl_rwlock_t
 *
lock
)

779 
	`InôülizeCrôiˇlSe˘i⁄
 (&
lock
->lock);

780 
	`gl_waôqueue_öô
 (&
lock
->
waôög_ªadîs
);

781 
	`gl_waôqueue_öô
 (&
lock
->
waôög_wrôîs
);

782 
lock
->
runcou¡
 = 0;

783 
lock
->
gu¨d
.
d⁄e
 = 1;

784 
	}
}

787 
	$g…hªad_rwlock_rdlock_func
 (
gl_rwlock_t
 *
lock
)

789 i‡(!
lock
->
gu¨d
.
d⁄e
)

791 i‡(
	`I¡îlockedIn¸emít
 (&
lock
->
gu¨d
.
°¨ãd
) == 0)

793 
	`g…hªad_rwlock_öô
 (
lock
);

797 !
lock
->
gu¨d
.
d⁄e
)

798 
	`SÀï
 (0);

800 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

803 i‡(!(
lock
->
runcou¡
 + 1 > 0))

807 
HANDLE
 
evít
 = 
	`gl_waôqueue_add
 (&
lock
->
waôög_ªadîs
);

808 i‡(
evít
 !
INVALID_HANDLE_VALUE
)

810 
DWORD
 
ªsu…
;

811 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

813 
ªsu…
 = 
	`WaôF‹SögÀObje˘
 (
evít
, 
INFINITE
);

814 i‡(
ªsu…
 =
WAIT_FAILED
 ||Ñesu… =
WAIT_TIMEOUT
)

815 
	`ab‹t
 ();

816 
	`Clo£H™dÀ
 (
evít
);

819 i‡(!(
lock
->
runcou¡
 > 0))

820 
	`ab‹t
 ();

828 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

829 
	`SÀï
 (1);

830 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

832 !(
lock
->
runcou¡
 + 1 > 0));

835 
lock
->
runcou¡
++;

836 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

838 
	}
}

841 
	$g…hªad_rwlock_wæock_func
 (
gl_rwlock_t
 *
lock
)

843 i‡(!
lock
->
gu¨d
.
d⁄e
)

845 i‡(
	`I¡îlockedIn¸emít
 (&
lock
->
gu¨d
.
°¨ãd
) == 0)

847 
	`g…hªad_rwlock_öô
 (
lock
);

851 !
lock
->
gu¨d
.
d⁄e
)

852 
	`SÀï
 (0);

854 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

856 i‡(!(
lock
->
runcou¡
 == 0))

860 
HANDLE
 
evít
 = 
	`gl_waôqueue_add
 (&
lock
->
waôög_wrôîs
);

861 i‡(
evít
 !
INVALID_HANDLE_VALUE
)

863 
DWORD
 
ªsu…
;

864 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

866 
ªsu…
 = 
	`WaôF‹SögÀObje˘
 (
evít
, 
INFINITE
);

867 i‡(
ªsu…
 =
WAIT_FAILED
 ||Ñesu… =
WAIT_TIMEOUT
)

868 
	`ab‹t
 ();

869 
	`Clo£H™dÀ
 (
evít
);

872 i‡(!(
lock
->
runcou¡
 == -1))

873 
	`ab‹t
 ();

881 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

882 
	`SÀï
 (1);

883 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

885 !(
lock
->
runcou¡
 == 0));

888 
lock
->
runcou¡
--;

889 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

891 
	}
}

894 
	$g…hªad_rwlock_u∆ock_func
 (
gl_rwlock_t
 *
lock
)

896 i‡(!
lock
->
gu¨d
.
d⁄e
)

897  
EINVAL
;

898 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

899 i‡(
lock
->
runcou¡
 < 0)

902 i‡(!(
lock
->
runcou¡
 == -1))

903 
	`ab‹t
 ();

904 
lock
->
runcou¡
 = 0;

909 i‡(!(
lock
->
runcou¡
 > 0))

911 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

912  
EPERM
;

914 
lock
->
runcou¡
--;

916 i‡(
lock
->
runcou¡
 == 0)

920 i‡(
lock
->
waôög_wrôîs
.
cou¡
 > 0)

923 
lock
->
runcou¡
--;

924 
	`gl_waôqueue_nŸify_fú°
 (&
lock
->
waôög_wrôîs
);

929 
lock
->
runcou¡
 +lock->
waôög_ªadîs
.
cou¡
;

930 
	`gl_waôqueue_nŸify_Æl
 (&
lock
->
waôög_ªadîs
);

933 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

935 
	}
}

938 
	$g…hªad_rwlock_de°roy_func
 (
gl_rwlock_t
 *
lock
)

940 i‡(!
lock
->
gu¨d
.
d⁄e
)

941  
EINVAL
;

942 i‡(
lock
->
runcou¡
 != 0)

943  
EBUSY
;

944 
	`DñëeCrôiˇlSe˘i⁄
 (&
lock
->lock);

945 i‡(
lock
->
waôög_ªadîs
.
¨øy
 !
NULL
)

946 
	`‰ì
 (
lock
->
waôög_ªadîs
.
¨øy
);

947 i‡(
lock
->
waôög_wrôîs
.
¨øy
 !
NULL
)

948 
	`‰ì
 (
lock
->
waôög_wrôîs
.
¨øy
);

949 
lock
->
gu¨d
.
d⁄e
 = 0;

951 
	}
}

956 
	$g…hªad_ªcursive_lock_öô_func
 (
gl_ªcursive_lock_t
 *
lock
)

958 
lock
->
ow√r
 = 0;

959 
lock
->
dïth
 = 0;

960 
	`InôülizeCrôiˇlSe˘i⁄
 (&
lock
->lock);

961 
lock
->
gu¨d
.
d⁄e
 = 1;

962 
	}
}

965 
	$g…hªad_ªcursive_lock_lock_func
 (
gl_ªcursive_lock_t
 *
lock
)

967 i‡(!
lock
->
gu¨d
.
d⁄e
)

969 i‡(
	`I¡îlockedIn¸emít
 (&
lock
->
gu¨d
.
°¨ãd
) == 0)

971 
	`g…hªad_ªcursive_lock_öô
 (
lock
);

975 !
lock
->
gu¨d
.
d⁄e
)

976 
	`SÀï
 (0);

979 
DWORD
 
£lf
 = 
	`GëCuºítThªadId
 ();

980 i‡(
lock
->
ow√r
 !
£lf
)

982 
	`E¡îCrôiˇlSe˘i⁄
 (&
lock
->lock);

983 
lock
->
ow√r
 = 
£lf
;

985 i‡(++(
lock
->
dïth
) == 0)

987 
lock
->
dïth
--;

988  
EAGAIN
;

992 
	}
}

995 
	$g…hªad_ªcursive_lock_u∆ock_func
 (
gl_ªcursive_lock_t
 *
lock
)

997 i‡(
lock
->
ow√r
 !
	`GëCuºítThªadId
 ())

998  
EPERM
;

999 i‡(
lock
->
dïth
 == 0)

1000  
EINVAL
;

1001 i‡(--(
lock
->
dïth
) == 0)

1003 
lock
->
ow√r
 = 0;

1004 
	`LóveCrôiˇlSe˘i⁄
 (&
lock
->lock);

1007 
	}
}

1010 
	$g…hªad_ªcursive_lock_de°roy_func
 (
gl_ªcursive_lock_t
 *
lock
)

1012 i‡(
lock
->
ow√r
 != 0)

1013  
EBUSY
;

1014 
	`DñëeCrôiˇlSe˘i⁄
 (&
lock
->lock);

1015 
lock
->
gu¨d
.
d⁄e
 = 0;

1017 
	}
}

1022 
g…hªad_⁄˚_func
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ())

1024 i‡(
⁄˚_c⁄åﬁ
->
öôed
 <= 0)

1026 i‡(
	`I¡îlockedIn¸emít
 (&
⁄˚_c⁄åﬁ
->
°¨ãd
) == 0)

1029 
	`InôülizeCrôiˇlSe˘i⁄
 (&
⁄˚_c⁄åﬁ
->
lock
);

1030 
	`E¡îCrôiˇlSe˘i⁄
 (&
⁄˚_c⁄åﬁ
->
lock
);

1031 
⁄˚_c⁄åﬁ
->
öôed
 = 0;

1032 
	`öôfun˘i⁄
 ();

1033 
⁄˚_c⁄åﬁ
->
öôed
 = 1;

1034 
	`LóveCrôiˇlSe˘i⁄
 (&
⁄˚_c⁄åﬁ
->
lock
);

1039 
	`I¡îlockedDe¸emít
 (&
⁄˚_c⁄åﬁ
->
°¨ãd
);

1043 
⁄˚_c⁄åﬁ
->
öôed
 < 0)

1044 
	`SÀï
 (0);

1045 i‡(
⁄˚_c⁄åﬁ
->
öôed
 <= 0)

1049 
	`E¡îCrôiˇlSe˘i⁄
 (&
⁄˚_c⁄åﬁ
->
lock
);

1050 
	`LóveCrôiˇlSe˘i⁄
 (&
⁄˚_c⁄åﬁ
->
lock
);

1051 i‡(!(
⁄˚_c⁄åﬁ
->
öôed
 > 0))

1052 
	`ab‹t
 ();

1056 
	}
}

	@lib/glthread/lock.h

81 #i‚de‡
_LOCK_H


82 
	#_LOCK_H


	)

84 
	~<î∫o.h
>

85 
	~<°dlib.h
>

89 #i‡
USE_POSIX_THREADS


93 
	~<±hªad.h
>

95 #ifde‡
__˝lu•lus


99 #i‡
PTHREAD_IN_USE_DETECTION_HARD


102 
	#±hªad_ö_u£
() \

103 
	`g…hªad_ö_u£
 ()

	)

104 
g…hªad_ö_u£
 ();

108 #i‡
USE_POSIX_THREADS_WEAK


127 #¥agm®
wók
 
±hªad_muãx_öô


128 #¥agm®
wók
 
±hªad_muãx_lock


129 #¥agm®
wók
 
±hªad_muãx_u∆ock


130 #¥agm®
wók
 
±hªad_muãx_de°roy


131 #¥agm®
wók
 
±hªad_rwlock_öô


132 #¥agm®
wók
 
±hªad_rwlock_rdlock


133 #¥agm®
wók
 
±hªad_rwlock_wæock


134 #¥agm®
wók
 
±hªad_rwlock_u∆ock


135 #¥agm®
wók
 
±hªad_rwlock_de°roy


136 #¥agm®
wók
 
±hªad_⁄˚


137 #¥agm®
wók
 
±hªad_c⁄d_öô


138 #¥agm®
wók
 
±hªad_c⁄d_waô


139 #¥agm®
wók
 
±hªad_c⁄d_sig«l


140 #¥agm®
wók
 
±hªad_c⁄d_brﬂdˇ°


141 #¥agm®
wók
 
±hªad_c⁄d_de°roy


142 #¥agm®
wók
 
±hªad_muãx©å_öô


143 #¥agm®
wók
 
±hªad_muãx©å_£ây≥


144 #¥agm®
wók
 
±hªad_muãx©å_de°roy


145 #i‚de‡
±hªad_£lf


146 #¥agm®
wók
 
±hªad_£lf


149 #i‡!
PTHREAD_IN_USE_DETECTION_HARD


150 #¥agm®
wók
 
±hªad_ˇn˚l


151 
	#±hªad_ö_u£
(Ë(
±hªad_ˇn˚l
 !
NULL
)

	)

156 #i‡!
PTHREAD_IN_USE_DETECTION_HARD


157 
	#±hªad_ö_u£
(Ë1

	)

164 
±hªad_muãx_t
 
	tgl_lock_t
;

165 
	#gl_lock_deföe
(
STORAGECLASS
, 
NAME
) \

166 
STORAGECLASS
 
±hªad_muãx_t
 
NAME
;

	)

167 
	#gl_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

168 
STORAGECLASS
 
±hªad_muãx_t
 
NAME
 = 
gl_lock_öôülizî
;

	)

169 
	#gl_lock_öôülizî
 \

170 
PTHREAD_MUTEX_INITIALIZER


	)

171 
	#g…hªad_lock_öô
(
LOCK
) \

172 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_öô
 (
LOCK
, 
NULL
Ë: 0)

	)

173 
	#g…hªad_lock_lock
(
LOCK
) \

174 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_lock
 (
LOCK
Ë: 0)

	)

175 
	#g…hªad_lock_u∆ock
(
LOCK
) \

176 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_u∆ock
 (
LOCK
Ë: 0)

	)

177 
	#g…hªad_lock_de°roy
(
LOCK
) \

178 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_de°roy
 (
LOCK
Ë: 0)

	)

182 #i‡
HAVE_PTHREAD_RWLOCK


184 #ifde‡
PTHREAD_RWLOCK_INITIALIZER


186 
±hªad_rwlock_t
 
	tgl_rwlock_t
;

187 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

188 
STORAGECLASS
 
±hªad_rwlock_t
 
NAME
;

	)

189 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

190 
STORAGECLASS
 
±hªad_rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

191 
	#gl_rwlock_öôülizî
 \

192 
PTHREAD_RWLOCK_INITIALIZER


	)

193 
	#g…hªad_rwlock_öô
(
LOCK
) \

194 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_rwlock_öô
 (
LOCK
, 
NULL
Ë: 0)

	)

195 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

196 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_rwlock_rdlock
 (
LOCK
Ë: 0)

	)

197 
	#g…hªad_rwlock_wæock
(
LOCK
) \

198 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_rwlock_wæock
 (
LOCK
Ë: 0)

	)

199 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

200 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_rwlock_u∆ock
 (
LOCK
Ë: 0)

	)

201 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

202 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_rwlock_de°roy
 (
LOCK
Ë: 0)

	)

208 
	göôülized
;

209 
±hªad_muãx_t
 
	ggu¨d
;

210 
±hªad_rwlock_t
 
	grwlock
;

212 
	tgl_rwlock_t
;

213 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

214 
STORAGECLASS
 
gl_rwlock_t
 
NAME
;

	)

215 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

216 
STORAGECLASS
 
gl_rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

217 
	#gl_rwlock_öôülizî
 \

218 { 0, 
PTHREAD_MUTEX_INITIALIZER
 }

	)

219 
	#g…hªad_rwlock_öô
(
LOCK
) \

220 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

221 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

222 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_rdlock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

223 
	#g…hªad_rwlock_wæock
(
LOCK
) \

224 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_wæock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

225 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

226 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

227 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

228 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_de°roy_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

229 
g…hªad_rwlock_öô_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

230 
g…hªad_rwlock_rdlock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

231 
g…hªad_rwlock_wæock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

232 
g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

233 
g…hªad_rwlock_de°roy_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

241 
±hªad_muãx_t
 
	glock
;

242 
±hªad_c⁄d_t
 
	gwaôög_ªadîs
;

243 
±hªad_c⁄d_t
 
	gwaôög_wrôîs
;

244 
	gwaôög_wrôîs_cou¡
;

245 
	gruncou¡
;

247 
	tgl_rwlock_t
;

248 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

249 
STORAGECLASS
 
gl_rwlock_t
 
NAME
;

	)

250 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

251 
STORAGECLASS
 
gl_rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

252 
	#gl_rwlock_öôülizî
 \

253 { 
PTHREAD_MUTEX_INITIALIZER
, 
PTHREAD_COND_INITIALIZER
, PTHREAD_COND_INITIALIZER, 0, 0 }

	)

254 
	#g…hªad_rwlock_öô
(
LOCK
) \

255 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

256 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

257 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_rdlock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

258 
	#g…hªad_rwlock_wæock
(
LOCK
) \

259 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_wæock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

260 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

261 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

262 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

263 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_rwlock_de°roy_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

264 
g…hªad_rwlock_öô_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

265 
g…hªad_rwlock_rdlock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

266 
g…hªad_rwlock_wæock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

267 
g…hªad_rwlock_u∆ock_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

268 
g…hªad_rwlock_de°roy_mu…ôhªaded
 (
gl_rwlock_t
 *
lock
);

274 #i‡
HAVE_PTHREAD_MUTEX_RECURSIVE


276 #i‡
deföed
 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER
 || deföed 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP


278 
±hªad_muãx_t
 
	tgl_ªcursive_lock_t
;

279 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

280 
STORAGECLASS
 
±hªad_muãx_t
 
NAME
;

	)

281 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

282 
STORAGECLASS
 
±hªad_muãx_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

283 #ifde‡
PTHREAD_RECURSIVE_MUTEX_INITIALIZER


284 
	#gl_ªcursive_lock_öôülizî
 \

285 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER


	)

287 
	#gl_ªcursive_lock_öôülizî
 \

288 
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP


	)

290 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

291 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

292 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

293 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_lock
 (
LOCK
Ë: 0)

	)

294 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

295 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_u∆ock
 (
LOCK
Ë: 0)

	)

296 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

297 (
	`±hªad_ö_u£
 (Ë? 
	`±hªad_muãx_de°roy
 (
LOCK
Ë: 0)

	)

298 
g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

304 
±hªad_muãx_t
 
	gªcmuãx
;

305 
±hªad_muãx_t
 
	ggu¨d
;

306 
	göôülized
;

308 
	tgl_ªcursive_lock_t
;

309 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

310 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
;

	)

311 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

312 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

313 
	#gl_ªcursive_lock_öôülizî
 \

314 { 
PTHREAD_MUTEX_INITIALIZER
, PTHREAD_MUTEX_INITIALIZER, 0 }

	)

315 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

316 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

317 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

318 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

319 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

320 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

321 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

322 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

323 
g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

324 
g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

325 
g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

326 
g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

337 
±hªad_muãx_t
 
	gmuãx
;

338 
±hªad_t
 
	gow√r
;

339 
	gdïth
;

341 
	tgl_ªcursive_lock_t
;

342 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

343 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
;

	)

344 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

345 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

346 
	#gl_ªcursive_lock_öôülizî
 \

347 { 
PTHREAD_MUTEX_INITIALIZER
, (
±hªad_t
Ë0, 0 }

	)

348 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

349 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

350 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

351 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

352 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

353 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

354 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

355 (
	`±hªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

356 
g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

357 
g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

358 
g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

359 
g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

365 
±hªad_⁄˚_t
 
	tgl_⁄˚_t
;

366 
	#gl_⁄˚_deföe
(
STORAGECLASS
, 
NAME
) \

367 
STORAGECLASS
 
±hªad_⁄˚_t
 
NAME
 = 
PTHREAD_ONCE_INIT
;

	)

368 
	#g…hªad_⁄˚
(
ONCE_CONTROL
, 
INITFUNCTION
) \

369 (
	`±hªad_ö_u£
 () \

370 ? 
	`±hªad_⁄˚
 (
ONCE_CONTROL
, 
INITFUNCTION
) \

371 : (
	`g…hªad_⁄˚_sögÀthªaded
 (
ONCE_CONTROL
Ë? (
	`INITFUNCTION
 (), 0Ë: 0))

	)

372 
g…hªad_⁄˚_sögÀthªaded
 (
±hªad_⁄˚_t
 *
⁄˚_c⁄åﬁ
);

374 #ifde‡
__˝lu•lus


382 #i‡
USE_PTH_THREADS


386 
	~<±h.h
>

388 #ifde‡
__˝lu•lus


392 #i‡
USE_PTH_THREADS_WEAK


396 #¥agm®
wók
 
±h_muãx_öô


397 #¥agm®
wók
 
±h_muãx_acquúe


398 #¥agm®
wók
 
±h_muãx_ªÀa£


399 #¥agm®
wók
 
±h_rwlock_öô


400 #¥agm®
wók
 
±h_rwlock_acquúe


401 #¥agm®
wók
 
±h_rwlock_ªÀa£


402 #¥agm®
wók
 
±h_⁄˚


404 #¥agm®
wók
 
±h_ˇn˚l


405 
	#±h_ö_u£
(Ë(
±h_ˇn˚l
 !
NULL
)

	)

409 
	#±h_ö_u£
(Ë1

	)

415 
±h_muãx_t
 
	tgl_lock_t
;

416 
	#gl_lock_deföe
(
STORAGECLASS
, 
NAME
) \

417 
STORAGECLASS
 
±h_muãx_t
 
NAME
;

	)

418 
	#gl_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

419 
STORAGECLASS
 
±h_muãx_t
 
NAME
 = 
gl_lock_öôülizî
;

	)

420 
	#gl_lock_öôülizî
 \

421 
PTH_MUTEX_INIT


	)

422 
	#g…hªad_lock_öô
(
LOCK
) \

423 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_öô
 (
LOCK
Ë? 
î∫o
 : 0)

	)

424 
	#g…hªad_lock_lock
(
LOCK
) \

425 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_acquúe
 (
LOCK
, 0, 
NULL
Ë? 
î∫o
 : 0)

	)

426 
	#g…hªad_lock_u∆ock
(
LOCK
) \

427 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_ªÀa£
 (
LOCK
Ë? 
î∫o
 : 0)

	)

428 
	#g…hªad_lock_de°roy
(
LOCK
) \

429 (()(
LOCK
), 0)

	)

433 
±h_rwlock_t
 
	tgl_rwlock_t
;

434 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

435 
STORAGECLASS
 
±h_rwlock_t
 
NAME
;

	)

436 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

437 
STORAGECLASS
 
±h_rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

438 
	#gl_rwlock_öôülizî
 \

439 
PTH_RWLOCK_INIT


	)

440 
	#g…hªad_rwlock_öô
(
LOCK
) \

441 (
	`±h_ö_u£
 (Ë&& !
	`±h_rwlock_öô
 (
LOCK
Ë? 
î∫o
 : 0)

	)

442 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

443 (
	`±h_ö_u£
 (Ë&& !
	`±h_rwlock_acquúe
 (
LOCK
, 
PTH_RWLOCK_RD
, 0, 
NULL
Ë? 
î∫o
 : 0)

	)

444 
	#g…hªad_rwlock_wæock
(
LOCK
) \

445 (
	`±h_ö_u£
 (Ë&& !
	`±h_rwlock_acquúe
 (
LOCK
, 
PTH_RWLOCK_RW
, 0, 
NULL
Ë? 
î∫o
 : 0)

	)

446 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

447 (
	`±h_ö_u£
 (Ë&& !
	`±h_rwlock_ªÀa£
 (
LOCK
Ë? 
î∫o
 : 0)

	)

448 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

449 (()(
LOCK
), 0)

	)

454 
±h_muãx_t
 
	tgl_ªcursive_lock_t
;

455 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

456 
STORAGECLASS
 
±h_muãx_t
 
NAME
;

	)

457 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

458 
STORAGECLASS
 
±h_muãx_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

459 
	#gl_ªcursive_lock_öôülizî
 \

460 
PTH_MUTEX_INIT


	)

461 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

462 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_öô
 (
LOCK
Ë? 
î∫o
 : 0)

	)

463 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

464 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_acquúe
 (
LOCK
, 0, 
NULL
Ë? 
î∫o
 : 0)

	)

465 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

466 (
	`±h_ö_u£
 (Ë&& !
	`±h_muãx_ªÀa£
 (
LOCK
Ë? 
î∫o
 : 0)

	)

467 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

468 (()(
LOCK
), 0)

	)

472 
±h_⁄˚_t
 
	tgl_⁄˚_t
;

473 
	#gl_⁄˚_deföe
(
STORAGECLASS
, 
NAME
) \

474 
STORAGECLASS
 
±h_⁄˚_t
 
NAME
 = 
PTH_ONCE_INIT
;

	)

475 
	#g…hªad_⁄˚
(
ONCE_CONTROL
, 
INITFUNCTION
) \

476 (
	`±h_ö_u£
 () \

477 ? 
	`g…hªad_⁄˚_mu…ôhªaded
 (
ONCE_CONTROL
, 
INITFUNCTION
) \

478 : (
	`g…hªad_⁄˚_sögÀthªaded
 (
ONCE_CONTROL
Ë? (
	`INITFUNCTION
 (), 0Ë: 0))

	)

479 
g…hªad_⁄˚_mu…ôhªaded
 (
±h_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ());

480 
g…hªad_⁄˚_sögÀthªaded
 (
±h_⁄˚_t
 *
⁄˚_c⁄åﬁ
);

482 #ifde‡
__˝lu•lus


490 #i‡
USE_SOLARIS_THREADS


494 
	~<thªad.h
>

495 
	~<synch.h
>

497 #ifde‡
__˝lu•lus


501 #i‡
USE_SOLARIS_THREADS_WEAK


505 #¥agm®
wók
 
muãx_öô


506 #¥agm®
wók
 
muãx_lock


507 #¥agm®
wók
 
muãx_u∆ock


508 #¥agm®
wók
 
muãx_de°roy


509 #¥agm®
wók
 
rwlock_öô


510 #¥agm®
wók
 
rw_rdlock


511 #¥agm®
wók
 
rw_wæock


512 #¥agm®
wók
 
rw_u∆ock


513 #¥agm®
wók
 
rwlock_de°roy


514 #¥agm®
wók
 
thr_£lf


516 #¥agm®
wók
 
thr_su•íd


517 
	#thªad_ö_u£
(Ë(
thr_su•íd
 !
NULL
)

	)

521 
	#thªad_ö_u£
(Ë1

	)

527 
muãx_t
 
	tgl_lock_t
;

528 
	#gl_lock_deföe
(
STORAGECLASS
, 
NAME
) \

529 
STORAGECLASS
 
muãx_t
 
NAME
;

	)

530 
	#gl_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

531 
STORAGECLASS
 
muãx_t
 
NAME
 = 
gl_lock_öôülizî
;

	)

532 
	#gl_lock_öôülizî
 \

533 
DEFAULTMUTEX


	)

534 
	#g…hªad_lock_öô
(
LOCK
) \

535 (
	`thªad_ö_u£
 (Ë? 
	`muãx_öô
 (
LOCK
, 
USYNC_THREAD
, 
NULL
Ë: 0)

	)

536 
	#g…hªad_lock_lock
(
LOCK
) \

537 (
	`thªad_ö_u£
 (Ë? 
	`muãx_lock
 (
LOCK
Ë: 0)

	)

538 
	#g…hªad_lock_u∆ock
(
LOCK
) \

539 (
	`thªad_ö_u£
 (Ë? 
	`muãx_u∆ock
 (
LOCK
Ë: 0)

	)

540 
	#g…hªad_lock_de°roy
(
LOCK
) \

541 (
	`thªad_ö_u£
 (Ë? 
	`muãx_de°roy
 (
LOCK
Ë: 0)

	)

545 
rwlock_t
 
	tgl_rwlock_t
;

546 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

547 
STORAGECLASS
 
rwlock_t
 
NAME
;

	)

548 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

549 
STORAGECLASS
 
rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

550 
	#gl_rwlock_öôülizî
 \

551 
DEFAULTRWLOCK


	)

552 
	#g…hªad_rwlock_öô
(
LOCK
) \

553 (
	`thªad_ö_u£
 (Ë? 
	`rwlock_öô
 (
LOCK
, 
USYNC_THREAD
, 
NULL
Ë: 0)

	)

554 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

555 (
	`thªad_ö_u£
 (Ë? 
	`rw_rdlock
 (
LOCK
Ë: 0)

	)

556 
	#g…hªad_rwlock_wæock
(
LOCK
) \

557 (
	`thªad_ö_u£
 (Ë? 
	`rw_wæock
 (
LOCK
Ë: 0)

	)

558 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

559 (
	`thªad_ö_u£
 (Ë? 
	`rw_u∆ock
 (
LOCK
Ë: 0)

	)

560 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

561 (
	`thªad_ö_u£
 (Ë? 
	`rwlock_de°roy
 (
LOCK
Ë: 0)

	)

570 
muãx_t
 
muãx
;

571 
thªad_t
 
ow√r
;

572 
dïth
;

574 
	tgl_ªcursive_lock_t
;

575 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

576 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
;

	)

577 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

578 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

579 
	#gl_ªcursive_lock_öôülizî
 \

580 { 
DEFAULTMUTEX
, (
thªad_t
Ë0, 0 }

	)

581 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

582 (
	`thªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

583 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

584 (
	`thªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

585 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

586 (
	`thªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

587 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

588 (
	`thªad_ö_u£
 (Ë? 
	`g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
LOCK
Ë: 0)

	)

589 
g…hªad_ªcursive_lock_öô_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

590 
g…hªad_ªcursive_lock_lock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

591 
g…hªad_ªcursive_lock_u∆ock_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

592 
g…hªad_ªcursive_lock_de°roy_mu…ôhªaded
 (
gl_ªcursive_lock_t
 *
lock
);

598 vﬁ©ûê
	göôed
;

599 
muãx_t
 
	gmuãx
;

601 
	tgl_⁄˚_t
;

602 
	#gl_⁄˚_deföe
(
STORAGECLASS
, 
NAME
) \

603 
STORAGECLASS
 
gl_⁄˚_t
 
NAME
 = { 0, 
DEFAULTMUTEX
 };

	)

604 
	#g…hªad_⁄˚
(
ONCE_CONTROL
, 
INITFUNCTION
) \

605 (
	`thªad_ö_u£
 () \

606 ? 
	`g…hªad_⁄˚_mu…ôhªaded
 (
ONCE_CONTROL
, 
INITFUNCTION
) \

607 : (
	`g…hªad_⁄˚_sögÀthªaded
 (
ONCE_CONTROL
Ë? (
	`INITFUNCTION
 (), 0Ë: 0))

	)

608 
g…hªad_⁄˚_mu…ôhªaded
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ());

609 
g…hªad_⁄˚_sögÀthªaded
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
);

611 #ifde‡
__˝lu•lus


619 #i‡
USE_WIN32_THREADS


621 
	~<wödows.h
>

623 #ifde‡
__˝lu•lus


638 °ru˘ { vﬁ©ûê
d⁄e
; vﬁ©ûê
°¨ãd
; } 
	tgl_•ölock_t
;

644 
gl_•ölock_t
 
gu¨d
;

645 
CRITICAL_SECTION
 
lock
;

647 
	tgl_lock_t
;

648 
	#gl_lock_deföe
(
STORAGECLASS
, 
NAME
) \

649 
STORAGECLASS
 
gl_lock_t
 
NAME
;

	)

650 
	#gl_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

651 
STORAGECLASS
 
gl_lock_t
 
NAME
 = 
gl_lock_öôülizî
;

	)

652 
	#gl_lock_öôülizî
 \

653 { { 0, -1 } }

	)

654 
	#g…hªad_lock_öô
(
LOCK
) \

655 (
	`g…hªad_lock_öô_func
 (
LOCK
), 0)

	)

656 
	#g…hªad_lock_lock
(
LOCK
) \

657 
	`g…hªad_lock_lock_func
 (
LOCK
)

	)

658 
	#g…hªad_lock_u∆ock
(
LOCK
) \

659 
	`g…hªad_lock_u∆ock_func
 (
LOCK
)

	)

660 
	#g…hªad_lock_de°roy
(
LOCK
) \

661 
	`g…hªad_lock_de°roy_func
 (
LOCK
)

	)

662 
g…hªad_lock_öô_func
 (
gl_lock_t
 *
lock
);

663 
g…hªad_lock_lock_func
 (
gl_lock_t
 *
lock
);

664 
g…hªad_lock_u∆ock_func
 (
gl_lock_t
 *
lock
);

665 
g…hªad_lock_de°roy_func
 (
gl_lock_t
 *
lock
);

675 
HANDLE
 *
	g¨øy
;

676 
	gcou¡
;

677 
	gÆloc
;

678 
	goff£t
;

680 
	tgl_ˇºay_waôqueue_t
;

683 
gl_•ölock_t
 
	ggu¨d
;

684 
CRITICAL_SECTION
 
	glock
;

685 
gl_ˇºay_waôqueue_t
 
	gwaôög_ªadîs
;

686 
gl_ˇºay_waôqueue_t
 
	gwaôög_wrôîs
;

687 
	gruncou¡
;

689 
	tgl_rwlock_t
;

690 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
) \

691 
STORAGECLASS
 
gl_rwlock_t
 
NAME
;

	)

692 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

693 
STORAGECLASS
 
gl_rwlock_t
 
NAME
 = 
gl_rwlock_öôülizî
;

	)

694 
	#gl_rwlock_öôülizî
 \

695 { { 0, -1 } }

	)

696 
	#g…hªad_rwlock_öô
(
LOCK
) \

697 (
	`g…hªad_rwlock_öô_func
 (
LOCK
), 0)

	)

698 
	#g…hªad_rwlock_rdlock
(
LOCK
) \

699 
	`g…hªad_rwlock_rdlock_func
 (
LOCK
)

	)

700 
	#g…hªad_rwlock_wæock
(
LOCK
) \

701 
	`g…hªad_rwlock_wæock_func
 (
LOCK
)

	)

702 
	#g…hªad_rwlock_u∆ock
(
LOCK
) \

703 
	`g…hªad_rwlock_u∆ock_func
 (
LOCK
)

	)

704 
	#g…hªad_rwlock_de°roy
(
LOCK
) \

705 
	`g…hªad_rwlock_de°roy_func
 (
LOCK
)

	)

706 
g…hªad_rwlock_öô_func
 (
gl_rwlock_t
 *
lock
);

707 
g…hªad_rwlock_rdlock_func
 (
gl_rwlock_t
 *
lock
);

708 
g…hªad_rwlock_wæock_func
 (
gl_rwlock_t
 *
lock
);

709 
g…hªad_rwlock_u∆ock_func
 (
gl_rwlock_t
 *
lock
);

710 
g…hªad_rwlock_de°roy_func
 (
gl_rwlock_t
 *
lock
);

720 
gl_•ölock_t
 
	ggu¨d
;

721 
DWORD
 
	gow√r
;

722 
	gdïth
;

723 
CRITICAL_SECTION
 
	glock
;

725 
	tgl_ªcursive_lock_t
;

726 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
) \

727 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
;

	)

728 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
) \

729 
STORAGECLASS
 
gl_ªcursive_lock_t
 
NAME
 = 
gl_ªcursive_lock_öôülizî
;

	)

730 
	#gl_ªcursive_lock_öôülizî
 \

731 { { 0, -1 }, 0, 0 }

	)

732 
	#g…hªad_ªcursive_lock_öô
(
LOCK
) \

733 (
	`g…hªad_ªcursive_lock_öô_func
 (
LOCK
), 0)

	)

734 
	#g…hªad_ªcursive_lock_lock
(
LOCK
) \

735 
	`g…hªad_ªcursive_lock_lock_func
 (
LOCK
)

	)

736 
	#g…hªad_ªcursive_lock_u∆ock
(
LOCK
) \

737 
	`g…hªad_ªcursive_lock_u∆ock_func
 (
LOCK
)

	)

738 
	#g…hªad_ªcursive_lock_de°roy
(
LOCK
) \

739 
	`g…hªad_ªcursive_lock_de°roy_func
 (
LOCK
)

	)

740 
g…hªad_ªcursive_lock_öô_func
 (
gl_ªcursive_lock_t
 *
lock
);

741 
g…hªad_ªcursive_lock_lock_func
 (
gl_ªcursive_lock_t
 *
lock
);

742 
g…hªad_ªcursive_lock_u∆ock_func
 (
gl_ªcursive_lock_t
 *
lock
);

743 
g…hªad_ªcursive_lock_de°roy_func
 (
gl_ªcursive_lock_t
 *
lock
);

749 vﬁ©ûê
	göôed
;

750 vﬁ©ûê
	g°¨ãd
;

751 
CRITICAL_SECTION
 
	glock
;

753 
	tgl_⁄˚_t
;

754 
	#gl_⁄˚_deföe
(
STORAGECLASS
, 
NAME
) \

755 
STORAGECLASS
 
gl_⁄˚_t
 
NAME
 = { -1, -1 };

	)

756 
	#g…hªad_⁄˚
(
ONCE_CONTROL
, 
INITFUNCTION
) \

757 (
	`g…hªad_⁄˚_func
 (
ONCE_CONTROL
, 
INITFUNCTION
), 0)

	)

758 
g…hªad_⁄˚_func
 (
gl_⁄˚_t
 *
⁄˚_c⁄åﬁ
, (*
öôfun˘i⁄
) ());

760 #ifde‡
__˝lu•lus


768 #i‡!(
USE_POSIX_THREADS
 || 
USE_PTH_THREADS
 || 
USE_SOLARIS_THREADS
 || 
USE_WIN32_THREADS
)

774 
	tgl_lock_t
;

775 
	#gl_lock_deföe
(
STORAGECLASS
, 
NAME
)

	)

776 
	#gl_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
)

	)

777 
	#g…hªad_lock_öô
(
NAME
Ë0

	)

778 
	#g…hªad_lock_lock
(
NAME
Ë0

	)

779 
	#g…hªad_lock_u∆ock
(
NAME
Ë0

	)

780 
	#g…hªad_lock_de°roy
(
NAME
Ë0

	)

784 
	tgl_rwlock_t
;

785 
	#gl_rwlock_deföe
(
STORAGECLASS
, 
NAME
)

	)

786 
	#gl_rwlock_deföe_öôülized
(
STORAGECLASS
, 
NAME
)

	)

787 
	#g…hªad_rwlock_öô
(
NAME
Ë0

	)

788 
	#g…hªad_rwlock_rdlock
(
NAME
Ë0

	)

789 
	#g…hªad_rwlock_wæock
(
NAME
Ë0

	)

790 
	#g…hªad_rwlock_u∆ock
(
NAME
Ë0

	)

791 
	#g…hªad_rwlock_de°roy
(
NAME
Ë0

	)

795 
	tgl_ªcursive_lock_t
;

796 
	#gl_ªcursive_lock_deföe
(
STORAGECLASS
, 
NAME
)

	)

797 
	#gl_ªcursive_lock_deföe_öôülized
(
STORAGECLASS
, 
NAME
)

	)

798 
	#g…hªad_ªcursive_lock_öô
(
NAME
Ë0

	)

799 
	#g…hªad_ªcursive_lock_lock
(
NAME
Ë0

	)

800 
	#g…hªad_ªcursive_lock_u∆ock
(
NAME
Ë0

	)

801 
	#g…hªad_ªcursive_lock_de°roy
(
NAME
Ë0

	)

805 
	tgl_⁄˚_t
;

806 
	#gl_⁄˚_deföe
(
STORAGECLASS
, 
NAME
) \

807 
STORAGECLASS
 
gl_⁄˚_t
 
NAME
 = 0;

	)

808 
	#g…hªad_⁄˚
(
ONCE_CONTROL
, 
INITFUNCTION
) \

809 (*(
ONCE_CONTROL
Ë=0 ? (*(ONCE_CONTROLË~ 0, 
	`INITFUNCTION
 (), 0Ë: 0)

	)

819 
	#gl_lock_öô
(
NAME
) \

822 i‡(
	`g…hªad_lock_öô
 (&
NAME
)) \

823 
	`ab‹t
 (); \

825 0)

	)

826 
	#gl_lock_lock
(
NAME
) \

829 i‡(
	`g…hªad_lock_lock
 (&
NAME
)) \

830 
	`ab‹t
 (); \

832 0)

	)

833 
	#gl_lock_u∆ock
(
NAME
) \

836 i‡(
	`g…hªad_lock_u∆ock
 (&
NAME
)) \

837 
	`ab‹t
 (); \

839 0)

	)

840 
	#gl_lock_de°roy
(
NAME
) \

843 i‡(
	`g…hªad_lock_de°roy
 (&
NAME
)) \

844 
	`ab‹t
 (); \

846 0)

	)

850 
	#gl_rwlock_öô
(
NAME
) \

853 i‡(
	`g…hªad_rwlock_öô
 (&
NAME
)) \

854 
	`ab‹t
 (); \

856 0)

	)

857 
	#gl_rwlock_rdlock
(
NAME
) \

860 i‡(
	`g…hªad_rwlock_rdlock
 (&
NAME
)) \

861 
	`ab‹t
 (); \

863 0)

	)

864 
	#gl_rwlock_wæock
(
NAME
) \

867 i‡(
	`g…hªad_rwlock_wæock
 (&
NAME
)) \

868 
	`ab‹t
 (); \

870 0)

	)

871 
	#gl_rwlock_u∆ock
(
NAME
) \

874 i‡(
	`g…hªad_rwlock_u∆ock
 (&
NAME
)) \

875 
	`ab‹t
 (); \

877 0)

	)

878 
	#gl_rwlock_de°roy
(
NAME
) \

881 i‡(
	`g…hªad_rwlock_de°roy
 (&
NAME
)) \

882 
	`ab‹t
 (); \

884 0)

	)

888 
	#gl_ªcursive_lock_öô
(
NAME
) \

891 i‡(
	`g…hªad_ªcursive_lock_öô
 (&
NAME
)) \

892 
	`ab‹t
 (); \

894 0)

	)

895 
	#gl_ªcursive_lock_lock
(
NAME
) \

898 i‡(
	`g…hªad_ªcursive_lock_lock
 (&
NAME
)) \

899 
	`ab‹t
 (); \

901 0)

	)

902 
	#gl_ªcursive_lock_u∆ock
(
NAME
) \

905 i‡(
	`g…hªad_ªcursive_lock_u∆ock
 (&
NAME
)) \

906 
	`ab‹t
 (); \

908 0)

	)

909 
	#gl_ªcursive_lock_de°roy
(
NAME
) \

912 i‡(
	`g…hªad_ªcursive_lock_de°roy
 (&
NAME
)) \

913 
	`ab‹t
 (); \

915 0)

	)

919 
	#gl_⁄˚
(
NAME
, 
INITFUNCTION
) \

922 i‡(
	`g…hªad_⁄˚
 (&
NAME
, 
INITFUNCTION
)) \

923 
	`ab‹t
 (); \

925 0)

	)

	@lib/glthread/threadlib.c

22 
	~<c⁄fig.h
>

26 #i‡
USE_POSIX_THREADS


30 
	~<±hªad.h
>

31 
	~<°dlib.h
>

33 #i‡
PTHREAD_IN_USE_DETECTION_HARD


37 
	$dummy_thªad_func
 (*
¨g
)

39  
¨g
;

40 
	}
}

43 
	$g…hªad_ö_u£
 ()

45 
ã°ed
;

46 
ªsu…
;

48 i‡(!
ã°ed
)

50 
±hªad_t
 
thªad
;

52 i‡(
	`±hªad_¸óã
 (&
thªad
, 
NULL
, 
dummy_thªad_func
, NULL) != 0)

54 
ªsu…
 = 0;

58 *
ªtvÆ
;

59 i‡(
	`±hªad_joö
 (
thªad
, &
ªtvÆ
) != 0)

60 
	`ab‹t
 ();

61 
ªsu…
 = 1;

63 
ã°ed
 = 1;

65  
ªsu…
;

66 
	}
}

76 
	tdummy
;

	@lib/iconv.in.h

21 #i‚de‡
_
@
GUARD_PREFIX
@
_ICONV_H


23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

29 #@
INCLUDE_NEXT
@ @
NEXT_ICONV_H
@

31 #i‚de‡
_
@
GUARD_PREFIX
@
_ICONV_H


32 
	#_
@
GUARD_PREFIX
@
_ICONV_H


	)

41 #i‡@
GNULIB_ICONV
@

42 #i‡@
REPLACE_ICONV_OPEN
@

45 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

46 
	#ic⁄v_›í
 
Ωl_ic⁄v_›í


	)

48 
_GL_FUNCDECL_RPL
 (
ic⁄v_›í
, 
ic⁄v_t
,

49 (c⁄° *
tocode
, c⁄° *
‰omcode
)

50 
_GL_ARG_NONNULL
 ((1, 2)));

51 
_GL_CXXALIAS_RPL
 (
ic⁄v_›í
, 
ic⁄v_t
,

52 (c⁄° *
tocode
, c⁄° *
‰omcode
));

54 
_GL_CXXALIAS_SYS
 (
ic⁄v_›í
, 
ic⁄v_t
,

55 (c⁄° *
tocode
, c⁄° *
‰omcode
));

57 
_GL_CXXALIASWARN
 (
ic⁄v_›í
);

60 #i‡@
REPLACE_ICONV_UTF
@

63 
	#_ICONV_UTF8_UTF16BE
 (
ic⁄v_t
)(-161)

	)

64 
	#_ICONV_UTF8_UTF16LE
 (
ic⁄v_t
)(-162)

	)

65 
	#_ICONV_UTF8_UTF32BE
 (
ic⁄v_t
)(-163)

	)

66 
	#_ICONV_UTF8_UTF32LE
 (
ic⁄v_t
)(-164)

	)

67 
	#_ICONV_UTF16BE_UTF8
 (
ic⁄v_t
)(-165)

	)

68 
	#_ICONV_UTF16LE_UTF8
 (
ic⁄v_t
)(-166)

	)

69 
	#_ICONV_UTF32BE_UTF8
 (
ic⁄v_t
)(-167)

	)

70 
	#_ICONV_UTF32LE_UTF8
 (
ic⁄v_t
)(-168)

	)

73 #i‡@
GNULIB_ICONV
@

74 #i‡@
REPLACE_ICONV
@

75 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

76 
	#ic⁄v
 
Ωl_ic⁄v


	)

78 
_GL_FUNCDECL_RPL
 (
ic⁄v
, 
size_t
,

79 (
ic⁄v_t
 
cd
,

80 @
ICONV_CONST
@ **
öbuf
, 
size_t
 *
öbyã¶e·
,

81 **
outbuf
, 
size_t
 *
outbyã¶e·
));

82 
_GL_CXXALIAS_RPL
 (
ic⁄v
, 
size_t
,

83 (
ic⁄v_t
 
cd
,

84 @
ICONV_CONST
@ **
öbuf
, 
size_t
 *
öbyã¶e·
,

85 **
outbuf
, 
size_t
 *
outbyã¶e·
));

87 
_GL_CXXALIAS_SYS
 (
ic⁄v
, 
size_t
,

88 (
ic⁄v_t
 
cd
,

89 @
ICONV_CONST
@ **
öbuf
, 
size_t
 *
öbyã¶e·
,

90 **
outbuf
, 
size_t
 *
outbyã¶e·
));

92 
_GL_CXXALIASWARN
 (
ic⁄v
);

93 #i‚de‡
ICONV_CONST


94 
	#ICONV_CONST
 @
ICONV_CONST
@

	)

98 #i‡@
GNULIB_ICONV
@

99 #i‡@
REPLACE_ICONV
@

100 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

101 
	#ic⁄v_˛o£
 
Ωl_ic⁄v_˛o£


	)

103 
_GL_FUNCDECL_RPL
 (
ic⁄v_˛o£
, , (
ic⁄v_t
 
cd
));

104 
_GL_CXXALIAS_RPL
 (
ic⁄v_˛o£
, , (
ic⁄v_t
 
cd
));

106 
_GL_CXXALIAS_SYS
 (
ic⁄v_˛o£
, , (
ic⁄v_t
 
cd
));

108 
_GL_CXXALIASWARN
 (
ic⁄v_˛o£
);

	@lib/inet_ntop.c

38 
	~<c⁄fig.h
>

41 
	~<¨∑/öë.h
>

43 
	~<°dio.h
>

44 
	~<°rög.h
>

45 
	~<î∫o.h
>

47 
	#NS_IN6ADDRSZ
 16

	)

48 
	#NS_INT16SZ
 2

	)

54 
	tvîify_öt_size
[4 <=  () ? 1 : -1];

56 c⁄° *
öë_¡›4
 (c⁄° *
§c
, *
d°
, 
sockÀn_t
 
size
);

57 #i‡
HAVE_IPV6


58 c⁄° *
öë_¡›6
 (c⁄° *
§c
, *
d°
, 
sockÀn_t
 
size
);

71 
	$öë_¡›
 (
af
, c⁄° *
ª°ri˘
 
§c
,

72 *
ª°ri˘
 
d°
, 
sockÀn_t
 
˙t
)

74 
af
)

76 #i‡
HAVE_IPV4


77 
AF_INET
:

78  (
	`öë_¡›4
 (
§c
, 
d°
, 
˙t
));

81 #i‡
HAVE_IPV6


82 
AF_INET6
:

83  (
	`öë_¡›6
 (
§c
, 
d°
, 
˙t
));

87 
î∫o
 = 
EAFNOSUPPORT
;

88  (
NULL
);

91 
	}
}

105 
	$öë_¡›4
 (c⁄° *
§c
, *
d°
, 
sockÀn_t
 
size
)

107 
tmp
[ "255.255.255.255"];

108 
Àn
;

110 
Àn
 = 
	`•rötf
 (
tmp
, "%u.%u.%u.%u", 
§c
[0], src[1], src[2], src[3]);

111 i‡(
Àn
 < 0)

112  
NULL
;

114 i‡(
Àn
 > 
size
)

116 
î∫o
 = 
ENOSPC
;

117  
NULL
;

120  
	`°r˝y
 (
d°
, 
tmp
);

121 
	}
}

123 #i‡
HAVE_IPV6


132 
	$öë_¡›6
 (c⁄° *
§c
, *
d°
, 
sockÀn_t
 
size
)

141 
tmp
[ "ffff:ffff:ffff:ffff:ffff:ffff:255.255.255.255"], *
ç
;

144 
ba£
, 
Àn
;

145 } 
be°
, 
cur
;

146 
w‹ds
[
NS_IN6ADDRSZ
 / 
NS_INT16SZ
];

147 
i
;

154 
	`mem£t
 (
w‹ds
, '\0',  words);

155 
i
 = 0; i < 
NS_IN6ADDRSZ
; i += 2)

156 
w‹ds
[
i
 / 2] = (
§c
[i] << 8) | src[i + 1];

157 
be°
.
ba£
 = -1;

158 
cur
.
ba£
 = -1;

159 
i
 = 0; i < (
NS_IN6ADDRSZ
 / 
NS_INT16SZ
); i++)

161 i‡(
w‹ds
[
i
] == 0)

163 i‡(
cur
.
ba£
 == -1)

164 
cur
.
ba£
 = 
i
, cur.
Àn
 = 1;

166 
cur
.
Àn
++;

170 i‡(
cur
.
ba£
 != -1)

172 i‡(
be°
.
ba£
 =-1 || 
cur
.
Àn
 > best.len)

173 
be°
 = 
cur
;

174 
cur
.
ba£
 = -1;

178 i‡(
cur
.
ba£
 != -1)

180 i‡(
be°
.
ba£
 =-1 || 
cur
.
Àn
 > best.len)

181 
be°
 = 
cur
;

183 i‡(
be°
.
ba£
 !-1 && be°.
Àn
 < 2)

184 
be°
.
ba£
 = -1;

189 
ç
 = 
tmp
;

190 
i
 = 0; i < (
NS_IN6ADDRSZ
 / 
NS_INT16SZ
); i++)

193 i‡(
be°
.
ba£
 !-1 && 
i
 >be°.ba£ && i < (be°.ba£ + be°.
Àn
))

195 i‡(
i
 =
be°
.
ba£
)

196 *
ç
++ = ':';

200 i‡(
i
 != 0)

201 *
ç
++ = ':';

203 i‡(
i
 =6 && 
be°
.
ba£
 == 0 &&

204 (
be°
.
Àn
 =6 || (be°.À¿=5 && 
w‹ds
[5] == 0xffff)))

206 i‡(!
	`öë_¡›4
 (
§c
 + 12, 
ç
,  
tmp
 - (tp -Åmp)))

207  (
NULL
);

208 
ç
 +
	`°æí
 (tp);

212 
Àn
 = 
	`•rötf
 (
ç
, "%x", 
w‹ds
[
i
]);

213 i‡(
Àn
 < 0)

214  
NULL
;

215 
ç
 +
Àn
;

219 i‡(
be°
.
ba£
 !-1 && (be°.ba£ + be°.
Àn
) ==

220 (
NS_IN6ADDRSZ
 / 
NS_INT16SZ
))

221 *
ç
++ = ':';

222 *
ç
++ = '\0';

227 i‡((
sockÀn_t
Ë(
ç
 - 
tmp
Ë> 
size
)

229 
î∫o
 = 
ENOSPC
;

230  
NULL
;

233  
	`°r˝y
 (
d°
, 
tmp
);

234 
	}
}

	@lib/intprops.h

20 #i‚de‡
_GL_INTPROPS_H


21 
	#_GL_INTPROPS_H


	)

23 
	~<limôs.h
>

27 
	#_GL_INT_CONVERT
(
e
, 
v
Ë(0 * (eË+ (v))

	)

31 
	#_GL_INT_NEGATE_CONVERT
(
e
, 
v
Ë(0 * (eË- (v))

	)

38 
	#TYPE_IS_INTEGER
(
t
Ë(—Ë1.5 =1)

	)

44 
	#TYPE_TWOS_COMPLEMENT
(
t
Ë(—Ë~ (tË0 =—Ë-1)

	)

45 
	#TYPE_ONES_COMPLEMENT
(
t
Ë(—Ë~ (tË0 =0)

	)

46 
	#TYPE_SIGNED_MAGNITUDE
(
t
Ë(—Ë~ (tË0 < (tË-1)

	)

49 
	#_GL_INT_TWOS_COMPLEMENT
(
e
Ë(~ 
	`_GL_INT_CONVERT
 (e, 0Ë=-1)

	)

52 
	#TYPE_SIGNED
(
t
Ë(! (—Ë0 < (tË-1))

	)

56 
	#_GL_INT_SIGNED
(
e
Ë(
	`_GL_INT_NEGATE_CONVERT
 (e, 1Ë< 0)

	)

65 
	#TYPE_MINIMUM
(
t
) \

66 ((
t
Ë(! 
	`TYPE_SIGNED
 (t) \

67 ? (
t
) 0 \

68 : 
	`TYPE_SIGNED_MAGNITUDE
 (
t
) \

69 ? ~ (
t
) 0 \

70 : ~ 
	`TYPE_MAXIMUM
 (
t
)))

	)

71 
	#TYPE_MAXIMUM
(
t
) \

72 ((
t
Ë(! 
	`TYPE_SIGNED
 (t) \

73 ? (
t
) -1 \

74 : ((((
t
Ë1 << ( (tË* 
CHAR_BIT
 - 2)Ë- 1Ë* 2 + 1)))

	)

78 
	#_GL_INT_MINIMUM
(
e
) \

79 (
	`_GL_INT_SIGNED
 (
e
) \

80 ? - 
	`_GL_INT_TWOS_COMPLEMENT
 (
e
Ë- 
	`_GL_SIGNED_INT_MAXIMUM
 (e) \

81 : 
	`_GL_INT_CONVERT
 (
e
, 0))

	)

82 
	#_GL_INT_MAXIMUM
(
e
) \

83 (
	`_GL_INT_SIGNED
 (
e
) \

84 ? 
	`_GL_SIGNED_INT_MAXIMUM
 (
e
) \

85 : 
	`_GL_INT_NEGATE_CONVERT
 (
e
, 1))

	)

86 
	#_GL_SIGNED_INT_MAXIMUM
(
e
) \

87 (((
	`_GL_INT_CONVERT
 (
e
, 1Ë<< ( (”Ë+ 0Ë* 
CHAR_BIT
 - 2)Ë- 1Ë* 2 + 1)

	)

92 #i‡2 <
__GNUC__
 || 0x5110 <
__SUNPRO_C


93 
	#_GL_HAVE___TYPEOF__
 1

	)

95 
	#_GL_HAVE___TYPEOF__
 0

	)

101 #i‡
_GL_HAVE___TYPEOF__


102 
	#_GL_SIGNED_TYPE_OR_EXPR
(
t
Ë
	`TYPE_SIGNED
 (
	`__ty≥of__
 (t))

	)

104 
	#_GL_SIGNED_TYPE_OR_EXPR
(
t
Ë1

	)

110 
	#INT_BITS_STRLEN_BOUND
(
b
Ë(((bË* 146 + 484Ë/ 485)

	)

119 
	#INT_STRLEN_BOUND
(
t
) \

120 (
	`INT_BITS_STRLEN_BOUND
 ( (
t
Ë* 
CHAR_BIT
 \

121 - 
	`_GL_SIGNED_TYPE_OR_EXPR
 (
t
)) \

122 + 
	`_GL_SIGNED_TYPE_OR_EXPR
 (
t
))

	)

126 
	#INT_BUFSIZE_BOUND
(
t
Ë(
	`INT_STRLEN_BOUND
 (tË+ 1)

	)

165 
	#INT_ADD_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

166 ((
b
) < 0 \

167 ? (
a
Ë< (
mö
Ë- (
b
) \

168 : (
max
Ë- (
b
Ë< (
a
))

	)

172 
	#INT_SUBTRACT_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

173 ((
b
) < 0 \

174 ? (
max
Ë+ (
b
Ë< (
a
) \

175 : (
a
Ë< (
mö
Ë+ (
b
))

	)

179 
	#INT_NEGATE_RANGE_OVERFLOW
(
a
, 
mö
, 
max
) \

180 ((
mö
) < 0 \

181 ? (
a
Ë< - (
max
) \

182 : 0 < (
a
))

	)

188 
	#INT_MULTIPLY_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

189 ((
b
) < 0 \

190 ? ((
a
) < 0 \

191 ? (
a
Ë< (
max
Ë/ (
b
) \

192 : (
b
) == -1 \

194 : (
mö
Ë/ (
b
Ë< (
a
)) \

195 : (
b
) == 0 \

197 : ((
a
) < 0 \

198 ? (
a
Ë< (
mö
Ë/ (
b
) \

199 : (
max
Ë/ (
b
Ë< (
a
)))

	)

203 
	#INT_DIVIDE_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

204 ((
mö
Ë< 0 && (
b
Ë=-1 && (
a
Ë< - (
max
))

	)

211 
	#INT_REMAINDER_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

212 
	`INT_DIVIDE_RANGE_OVERFLOW
 (
a
, 
b
, 
mö
, 
max
)

	)

221 
	#INT_LEFT_SHIFT_RANGE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

222 ((
a
) < 0 \

223 ? (
a
Ë< (
mö
Ë>> (
b
) \

224 : (
max
Ë>> (
b
Ë< (
a
))

	)

231 
	#_GL_ADD_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

232 ((
mö
Ë< 0 ? 
	`INT_ADD_RANGE_OVERFLOW
 (
a
, 
b
, mö, 
max
) \

233 : (
a
Ë< 0 ? (
b
) <= (a) + (b) \

234 : (
b
Ë< 0 ? (
a
) <= (a) + (b) \

235 : (
a
Ë+ (
b
Ë< (b))

	)

236 
	#_GL_SUBTRACT_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

237 ((
mö
Ë< 0 ? 
	`INT_SUBTRACT_RANGE_OVERFLOW
 (
a
, 
b
, mö, 
max
) \

238 : (
a
) < 0 ? 1 \

239 : (
b
Ë< 0 ? (
a
) - (b) <= (a) \

240 : (
a
Ë< (
b
))

	)

241 
	#_GL_MULTIPLY_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

242 (((
mö
Ë=0 && (((
a
Ë< 0 && 0 < (
b
)) || ((b) < 0 && 0 < (a)))) \

243 || 
	`INT_MULTIPLY_RANGE_OVERFLOW
 (
a
, 
b
, 
mö
, 
max
))

	)

244 
	#_GL_DIVIDE_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

245 ((
mö
Ë< 0 ? (
b
Ë=
	`_GL_INT_NEGATE_CONVERT
 (mö, 1Ë&& (
a
Ë< - (
max
) \

246 : (
a
Ë< 0 ? (
b
) <= (a) + (b) - 1 \

247 : (
b
Ë< 0 && (
a
Ë+ (bË<◊))

	)

248 
	#_GL_REMAINDER_OVERFLOW
(
a
, 
b
, 
mö
, 
max
) \

249 ((
mö
Ë< 0 ? (
b
Ë=
	`_GL_INT_NEGATE_CONVERT
 (mö, 1Ë&& (
a
Ë< - (
max
) \

250 : (
a
Ë< 0 ? (aË% (
b
Ë!((
max
) - (b) + 1) % (b) \

251 : (
b
Ë< 0 && ! 
	`_GL_UNSIGNED_NEG_MULTIPLE
 (
a
, b, 
max
))

	)

257 
	#_GL_UNSIGNED_NEG_MULTIPLE
(
a
, 
b
, 
max
) \

258 (((
b
Ë< -
	`_GL_SIGNED_INT_MAXIMUM
 (b) \

259 ? (
	`_GL_SIGNED_INT_MAXIMUM
 (
b
Ë=(
max
) \

260 ? (
a
) \

261 : (
a
Ë% (
	`_GL_INT_CONVERT
 (a, 
	`_GL_SIGNED_INT_MAXIMUM
 (
b
)) + 1)) \

262 : (
a
Ë% - (
b
)) \

263 =0)

	)

294 
	#INT_ADD_OVERFLOW
(
a
, 
b
) \

295 
	`_GL_BINARY_OP_OVERFLOW
 (
a
, 
b
, 
_GL_ADD_OVERFLOW
)

	)

296 
	#INT_SUBTRACT_OVERFLOW
(
a
, 
b
) \

297 
	`_GL_BINARY_OP_OVERFLOW
 (
a
, 
b
, 
_GL_SUBTRACT_OVERFLOW
)

	)

298 
	#INT_NEGATE_OVERFLOW
(
a
) \

299 
	`INT_NEGATE_RANGE_OVERFLOW
 (
a
, 
	`_GL_INT_MINIMUM
 (a), 
	`_GL_INT_MAXIMUM
 (a))

	)

300 
	#INT_MULTIPLY_OVERFLOW
(
a
, 
b
) \

301 
	`_GL_BINARY_OP_OVERFLOW
 (
a
, 
b
, 
_GL_MULTIPLY_OVERFLOW
)

	)

302 
	#INT_DIVIDE_OVERFLOW
(
a
, 
b
) \

303 
	`_GL_BINARY_OP_OVERFLOW
 (
a
, 
b
, 
_GL_DIVIDE_OVERFLOW
)

	)

304 
	#INT_REMAINDER_OVERFLOW
(
a
, 
b
) \

305 
	`_GL_BINARY_OP_OVERFLOW
 (
a
, 
b
, 
_GL_REMAINDER_OVERFLOW
)

	)

306 
	#INT_LEFT_SHIFT_OVERFLOW
(
a
, 
b
) \

307 
	`INT_LEFT_SHIFT_RANGE_OVERFLOW
 (
a
, 
b
, \

308 
	`_GL_INT_MINIMUM
 (
a
), 
	`_GL_INT_MAXIMUM
 (a))

	)

314 
	#_GL_BINARY_OP_OVERFLOW
(
a
, 
b
, 
›_ªsu…_ovîÊow
) \

315 
	`›_ªsu…_ovîÊow
 (
a
, 
b
, \

316 
	`_GL_INT_MINIMUM
 (0 * (
b
Ë+ (
a
)), \

317 
	`_GL_INT_MAXIMUM
 (0 * (
b
Ë+ (
a
)))

	)

	@lib/ioctl.c

20 
	~<c⁄fig.h
>

22 
	~<sys/io˘l.h
>

24 
	~<°d¨g.h
>

26 #i‡
HAVE_IOCTL


29 #unde‡
io˘l


31 
	$Ωl_io˘l
 (
fd
, 
ªque°
, ... )

33 *
buf
;

34 
va_li°
 
¨gs
;

36 
	`va_°¨t
 (
¨gs
, 
ªque°
);

37 
buf
 = 
	`va_¨g
 (
¨gs
, *);

38 
	`va_íd
 (
¨gs
);

42  
	`io˘l
 (
fd
, (Ë
ªque°
, 
buf
);

43 
	}
}

47 
	~<î∫o.h
>

49 
	~"fd-hook.h
"

52 
	$¥im¨y_io˘l
 (
fd
, 
ªque°
, *
¨g
)

58 
î∫o
 = 
ENOSYS
;

60 
	}
}

63 
	$io˘l
 (
fd
, 
ªque°
, ... )

65 *
¨g
;

66 
va_li°
 
¨gs
;

68 
	`va_°¨t
 (
¨gs
, 
ªque°
);

69 
¨g
 = 
	`va_¨g
 (
¨gs
, *);

70 
	`va_íd
 (
¨gs
);

72 #i‡
WINDOWS_SOCKETS


73  
	`execuã_Æl_io˘l_hooks
 (
¥im¨y_io˘l
, 
fd
, 
ªque°
, 
¨g
);

75  
	`¥im¨y_io˘l
 (
fd
, 
ªque°
, 
¨g
);

77 
	}
}

	@lib/listen.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
li°í


32 
	$Ωl_li°í
 (
fd
, 
backlog
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`li°í
 (
sock
, 
backlog
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/localcharset.c

23 
	~<c⁄fig.h
>

26 
	~"loˇlch¨£t.h
"

28 
	~<f˙é.h
>

29 
	~<°ddef.h
>

30 
	~<°dio.h
>

31 
	~<°rög.h
>

32 
	~<°dlib.h
>

34 #i‡
deföed
 
__APPLE__
 && deföed 
__MACH__
 && 
HAVE_LANGINFO_CODESET


35 
	#DARWIN7


	)

38 #i‡
deföed
 
_WIN32
 || deföed 
__WIN32__


39 
	#WIN32_NATIVE


	)

42 #i‡
deföed
 
__EMX__


44 #i‚de‡
OS2


45 
	#OS2


	)

49 #i‡!
deföed
 
WIN32_NATIVE


50 
	~<uni°d.h
>

51 #i‡
HAVE_LANGINFO_CODESET


52 
	~<œngöfo.h
>

55 
	~<loˇÀ.h
>

58 #ifde‡
__CYGWIN__


59 
	#WIN32_LEAN_AND_MEAN


	)

60 
	~<wödows.h
>

62 #ñi‡
deföed
 
WIN32_NATIVE


63 
	#WIN32_LEAN_AND_MEAN


	)

64 
	~<wödows.h
>

66 #i‡
deföed
 
OS2


67 
	#INCL_DOS


	)

68 
	~<os2.h
>

71 #i‡
ENABLE_RELOCATABLE


72 
	~"ªloˇèbÀ.h
"

74 
	#ªloˇã
(
∑th«me
Ë’©h«me)

	)

78 #i‚de‡
LIBDIR


79 
	~"c⁄figmake.h
"

83 #i‚de‡
O_NOFOLLOW


84 
	#O_NOFOLLOW
 0

	)

87 #i‡
deföed
 
_WIN32
 || deföed 
__WIN32__
 || deföed 
__CYGWIN__
 || deföed 
__EMX__
 || deföed 
__DJGPP__


89 
	#ISSLASH
(
C
Ë((CË='/' || (CË='\\')

	)

92 #i‚de‡
DIRECTORY_SEPARATOR


93 
	#DIRECTORY_SEPARATOR
 '/'

	)

96 #i‚de‡
ISSLASH


97 
	#ISSLASH
(
C
Ë((CË=
DIRECTORY_SEPARATOR
)

	)

100 #i‡
HAVE_DECL_GETC_UNLOCKED


101 #unde‡
gëc


102 
	#gëc
 
gëc_u∆ocked


	)

111 #i‡
__STDC__
 != 1

112 vﬁ©ûê

	)

117 c⁄° * vﬁ©ûê
	gch¨£t_Æü£s
;

121 
	$gë_ch¨£t_Æü£s
 ()

123 c⁄° *
˝
;

125 
˝
 = 
ch¨£t_Æü£s
;

126 i‡(
˝
 =
NULL
)

128 #i‡!(
deföed
 
DARWIN7
 || deföed 
VMS
 || deföed 
WIN32_NATIVE
 || deföed 
__CYGWIN__
)

129 c⁄° *
dú
;

130 c⁄° *
ba£
 = "charset.alias";

131 *
fûe_«me
;

135 
dú
 = 
	`gëív
 ("CHARSETALIASDIR");

136 i‡(
dú
 =
NULL
 || dir[0] == '\0')

137 
dú
 = 
	`ªloˇã
 (
LIBDIR
);

141 
size_t
 
dú_Àn
 = 
	`°æí
 (
dú
);

142 
size_t
 
ba£_Àn
 = 
	`°æí
 (
ba£
);

143 
add_¶ash
 = (
dú_Àn
 > 0 && !
	`ISSLASH
 (
dú
[dir_len - 1]));

144 
fûe_«me
 = (*Ë
	`mÆloc
 (
dú_Àn
 + 
add_¶ash
 + 
ba£_Àn
 + 1);

145 i‡(
fûe_«me
 !
NULL
)

147 
	`mem˝y
 (
fûe_«me
, 
dú
, 
dú_Àn
);

148 i‡(
add_¶ash
)

149 
fûe_«me
[
dú_Àn
] = 
DIRECTORY_SEPARATOR
;

150 
	`mem˝y
 (
fûe_«me
 + 
dú_Àn
 + 
add_¶ash
, 
ba£
, 
ba£_Àn
 + 1);

154 i‡(
fûe_«me
 =
NULL
)

156 
˝
 = "";

159 
fd
;

168 
fd
 = 
	`›í
 (
fûe_«me
,

169 
O_RDONLY
 | (
HAVE_WORKING_O_NOFOLLOW
 ? 
O_NOFOLLOW
 : 0));

170 i‡(
fd
 < 0)

172 
˝
 = "";

175 
FILE
 *
Â
;

177 
Â
 = 
	`fd›í
 (
fd
, "r");

178 i‡(
Â
 =
NULL
)

181 
	`˛o£
 (
fd
);

182 
˝
 = "";

187 *
ªs_±r
 = 
NULL
;

188 
size_t
 
ªs_size
 = 0;

192 
c
;

193 
buf1
[50+1];

194 
buf2
[50+1];

195 
size_t
 
l1
, 
l2
;

196 *
ﬁd_ªs_±r
;

198 
c
 = 
	`gëc
 (
Â
);

199 i‡(
c
 =
EOF
)

201 i‡(
c
 == '\n' || c == ' ' || c == '\t')

203 i‡(
c
 == '#')

207 
c
 = 
	`gëc
 (
Â
);

208 !(
c
 =
EOF
 || c == '\n'));

209 i‡(
c
 =
EOF
)

213 
	`ungëc
 (
c
, 
Â
);

214 i‡(
	`fsˇnf
 (
Â
, "%50†%50s", 
buf1
, 
buf2
) < 2)

216 
l1
 = 
	`°æí
 (
buf1
);

217 
l2
 = 
	`°æí
 (
buf2
);

218 
ﬁd_ªs_±r
 = 
ªs_±r
;

219 i‡(
ªs_size
 == 0)

221 
ªs_size
 = 
l1
 + 1 + 
l2
 + 1;

222 
ªs_±r
 = (*Ë
	`mÆloc
 (
ªs_size
 + 1);

226 
ªs_size
 +
l1
 + 1 + 
l2
 + 1;

227 
ªs_±r
 = (*Ë
	`ªÆloc
 (ªs_±r, 
ªs_size
 + 1);

229 i‡(
ªs_±r
 =
NULL
)

232 
ªs_size
 = 0;

233 
	`‰ì
 (
ﬁd_ªs_±r
);

236 
	`°r˝y
 (
ªs_±r
 + 
ªs_size
 - (
l2
 + 1Ë- (
l1
 + 1), 
buf1
);

237 
	`°r˝y
 (
ªs_±r
 + 
ªs_size
 - (
l2
 + 1), 
buf2
);

239 
	`f˛o£
 (
Â
);

240 i‡(
ªs_size
 == 0)

241 
˝
 = "";

244 *(
ªs_±r
 + 
ªs_size
) = '\0';

245 
˝
 = 
ªs_±r
;

250 
	`‰ì
 (
fûe_«me
);

255 #i‡
deföed
 
DARWIN7


259 
˝
 = "ISO8859-1" "\0" "ISO-8859-1" "\0"

288 #i‡
deföed
 
VMS


294 
˝
 = "ISO8859-1" "\0" "ISO-8859-1" "\0"

313 #i‡
deföed
 
WIN32_NATIVE
 || deföed 
__CYGWIN__


318 
˝
 = "CP936" "\0" "GBK" "\0"

344 
ch¨£t_Æü£s
 = 
˝
;

347  
˝
;

348 
	}
}

356 #ifde‡
STATIC


357 
	gSTATIC


360 
	$loˇÀ_ch¨£t
 ()

362 c⁄° *
code£t
;

363 c⁄° *
Æü£s
;

365 #i‡!(
deföed
 
WIN32_NATIVE
 || deföed 
OS2
)

367 #i‡
HAVE_LANGINFO_CODESET


370 
code£t
 = 
	`∆_œngöfo
 (
CODESET
);

372 #ifde‡
__CYGWIN__


376 i‡(
code£t
 !
NULL
 && 
	`°rcmp
 (codeset, "US-ASCII") == 0)

378 c⁄° *
loˇÀ
;

379 
buf
[2 + 10 + 1];

381 
loˇÀ
 = 
	`gëív
 ("LC_ALL");

382 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

384 
loˇÀ
 = 
	`gëív
 ("LC_CTYPE");

385 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

386 
loˇÀ
 = 
	`gëív
 ("LANG");

388 i‡(
loˇÀ
 !
NULL
 &&Üocale[0] != '\0')

392 c⁄° *
dŸ
 = 
	`°rchr
 (
loˇÀ
, '.');

394 i‡(
dŸ
 !
NULL
)

396 c⁄° *
modifõr
;

398 
dŸ
++;

400 
modifõr
 = 
	`°rchr
 (
dŸ
, '@');

401 i‡(
modifõr
 =
NULL
)

402  
dŸ
;

403 i‡(
modifõr
 - 
dŸ
 <  (
buf
))

405 
	`mem˝y
 (
buf
, 
dŸ
, 
modifõr
 - dot);

406 
buf
 [
modifõr
 - 
dŸ
] = '\0';

407  
buf
;

423 
	`•rötf
 (
buf
, "CP%u", 
	`GëACP
 ());

424 
code£t
 = 
buf
;

431 c⁄° *
loˇÀ
 = 
NULL
;

438 
loˇÀ
 = 
	`£éoˇÀ
 (
LC_CTYPE
, 
NULL
);

440 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

442 
loˇÀ
 = 
	`gëív
 ("LC_ALL");

443 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

445 
loˇÀ
 = 
	`gëív
 ("LC_CTYPE");

446 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

447 
loˇÀ
 = 
	`gëív
 ("LANG");

454 
code£t
 = 
loˇÀ
;

458 #ñi‡
deföed
 
WIN32_NATIVE


460 
buf
[2 + 10 + 1];

469 
	`•rötf
 (
buf
, "CP%u", 
	`GëACP
 ());

470 
code£t
 = 
buf
;

472 #ñi‡
deföed
 
OS2


474 c⁄° *
loˇÀ
;

475 
buf
[2 + 10 + 1];

476 
ULONG
 
˝
[3];

477 
ULONG
 
˝Àn
;

481 
loˇÀ
 = 
	`gëív
 ("LC_ALL");

482 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

484 
loˇÀ
 = 
	`gëív
 ("LC_CTYPE");

485 i‡(
loˇÀ
 =
NULL
 ||Üocale[0] == '\0')

486 
loˇÀ
 = 
	`gëív
 ("LANG");

488 i‡(
loˇÀ
 !
NULL
 &&Üocale[0] != '\0')

491 c⁄° *
dŸ
 = 
	`°rchr
 (
loˇÀ
, '.');

493 i‡(
dŸ
 !
NULL
)

495 c⁄° *
modifõr
;

497 
dŸ
++;

499 
modifõr
 = 
	`°rchr
 (
dŸ
, '@');

500 i‡(
modifõr
 =
NULL
)

501  
dŸ
;

502 i‡(
modifõr
 - 
dŸ
 <  (
buf
))

504 
	`mem˝y
 (
buf
, 
dŸ
, 
modifõr
 - dot);

505 
buf
 [
modifõr
 - 
dŸ
] = '\0';

506  
buf
;

511 
code£t
 = 
loˇÀ
;

516 i‡(
	`DosQuîyCp
 ( (
˝
), cp, &
˝Àn
))

517 
code£t
 = "";

520 
	`•rötf
 (
buf
, "CP%u", 
˝
[0]);

521 
code£t
 = 
buf
;

527 i‡(
code£t
 =
NULL
)

529 
code£t
 = "";

532 
Æü£s
 = 
	`gë_ch¨£t_Æü£s
 ();

533 *
Æü£s
 != '\0';

534 
Æü£s
 +
	`°æí
 (aliases) + 1,áliases += strlen (aliases) + 1)

535 i‡(
	`°rcmp
 (
code£t
, 
Æü£s
) == 0

536 || (
Æü£s
[0] == '*' &&áliases[1] == '\0'))

538 
code£t
 = 
Æü£s
 + 
	`°æí
 (aliases) + 1;

545 i‡(
code£t
[0] == '\0')

546 
code£t
 = "ASCII";

548  
code£t
;

549 
	}
}

	@lib/localcharset.h

21 #i‚de‡
_LOCALCHARSET_H


22 
	#_LOCALCHARSET_H


	)

25 #ifde‡
__˝lu•lus


35 c⁄° * 
loˇÀ_ch¨£t
 ();

38 #ifde‡
__˝lu•lus


	@lib/lseek.c

20 
	~<c⁄fig.h
>

23 
	~<uni°d.h
>

25 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


28 
	~<wödows.h
>

30 
	~<sys/°©.h
>

32 
	~<î∫o.h
>

34 #unde‡
l£ek


36 
off_t


37 
	$Ωl_l£ek
 (
fd
, 
off_t
 
off£t
, 
whí˚
)

39 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


41 
HANDLE
 
h
 = (HANDLEË
	`_gë_osfh™dÀ
 (
fd
);

42 i‡(
h
 =
INVALID_HANDLE_VALUE
)

44 
î∫o
 = 
EBADF
;

47 i‡(
	`GëFûeTy≥
 (
h
Ë!
FILE_TYPE_DISK
)

49 
î∫o
 = 
ESPIPE
;

54 
°©
 
°©buf
;

55 i‡(
	`f°©
 (
fd
, &
°©buf
) < 0)

57 i‡(!
	`S_ISREG
 (
°©buf
.
°_mode
))

59 
î∫o
 = 
ESPIPE
;

63  
	`l£ek
 (
fd
, 
off£t
, 
whí˚
);

64 
	}
}

	@lib/lstat.c

20 
	~<c⁄fig.h
>

22 #i‡!
HAVE_LSTAT


26 
	tdummy
;

30 
	#__√ed_sy°em_sys_°©_h


	)

31 
	~<sys/ty≥s.h
>

32 
	~<sys/°©.h
>

33 #unde‡
__√ed_sy°em_sys_°©_h


35 
ölöe
 

36 
	$‹ig_l°©
 (c⁄° *
fûíame
, 
°©
 *
buf
)

38  
	`l°©
 (
fûíame
, 
buf
);

39 
	}
}

42 
	~<sys/°©.h
>

44 
	~<°rög.h
>

45 
	~<î∫o.h
>

61 
	$Ωl_l°©
 (c⁄° *
fûe
, 
°©
 *
sbuf
)

63 
size_t
 
Àn
;

64 
l°©_ªsu…
 = 
	`‹ig_l°©
 (
fûe
, 
sbuf
);

66 i‡(
l°©_ªsu…
 != 0)

67  
l°©_ªsu…
;

74 
Àn
 = 
	`°æí
 (
fûe
);

75 i‡(
fûe
[
Àn
 - 1] !'/' || 
	`S_ISDIR
 (
sbuf
->
°_mode
))

83 i‡(!
	`S_ISLNK
 (
sbuf
->
°_mode
))

85 
î∫o
 = 
ENOTDIR
;

88  
	`°©
 (
fûe
, 
sbuf
);

89 
	}
}

	@lib/malloc.c

23 
	#_GL_USE_STDLIB_ALLOC
 1

	)

24 
	~<c⁄fig.h
>

26 #ifde‡
mÆloc


27 
	#NEED_MALLOC_GNU
 1

	)

28 #unde‡
mÆloc


30 #ñi‡
GNULIB_MALLOC_GNU
 && !
HAVE_MALLOC_GNU


31 
	#NEED_MALLOC_GNU
 1

	)

34 
	~<°dlib.h
>

36 
	~<î∫o.h
>

42 
	$Ωl_mÆloc
 (
size_t
 
n
)

44 *
ªsu…
;

46 #i‡
NEED_MALLOC_GNU


47 i‡(
n
 == 0)

48 
n
 = 1;

51 
ªsu…
 = 
	`mÆloc
 (
n
);

53 #i‡!
HAVE_MALLOC_POSIX


54 i‡(
ªsu…
 =
NULL
)

55 
î∫o
 = 
ENOMEM
;

58  
ªsu…
;

59 
	}
}

	@lib/mbrtowc.c

18 
	~<c⁄fig.h
>

21 
	~<wch¨.h
>

23 #i‡
GNULIB_deföed_mb°©e_t


26 
	~<î∫o.h
>

27 
	~<°dlib.h
>

29 
	~"loˇlch¨£t.h
"

30 
	~"°ªq.h
"

31 
	~"vîify.h
"

34 
vîify
 ( (
mb°©e_t
) >= 4);

36 
	göã∫Æ_°©e
[4];

38 
size_t


39 
	$mbπowc
 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
)

41 *
p°©e
 = (*)
ps
;

43 i‡(
s
 =
NULL
)

45 
pwc
 = 
NULL
;

46 
s
 = "";

47 
n
 = 1;

50 i‡(
n
 == 0)

51  (
size_t
)(-2);

55 i‡(
p°©e
 =
NULL
)

56 
p°©e
 = 
öã∫Æ_°©e
;

59 
size_t
 
n°©e
 = 
p°©e
[0];

60 
buf
[4];

61 c⁄° *
p
;

62 
size_t
 
m
;

64 
n°©e
)

67 
p
 = 
s
;

68 
m
 = 
n
;

71 
buf
[2] = 
p°©e
[3];

74 
buf
[1] = 
p°©e
[2];

77 
buf
[0] = 
p°©e
[1];

78 
p
 = 
buf
;

79 
m
 = 
n°©e
;

80 
buf
[
m
++] = 
s
[0];

81 i‡(
n
 >2 && 
m
 < 4)

83 
buf
[
m
++] = 
s
[1];

84 i‡(
n
 >3 && 
m
 < 4)

85 
buf
[
m
++] = 
s
[2];

89 
î∫o
 = 
EINVAL
;

90  (
size_t
)(-1);

95 #i‡
__GLIBC__
 || 
deföed
 
__UCLIBC__


97 
	`mbtowc
 (
NULL
, NULL, 0);

100 
ªs
 = 
	`mbtowc
 (
pwc
, 
p
, 
m
);

102 i‡(
ªs
 >= 0)

104 i‡(
pwc
 !
NULL
 && ((*pw¯=0Ë!(
ªs
 == 0)))

105 
	`ab‹t
 ();

106 i‡(
n°©e
 >(
ªs
 > 0 ?Ñes : 1))

107 
	`ab‹t
 ();

108 
ªs
 -
n°©e
;

109 
p°©e
[0] = 0;

110  
ªs
;

125 i‡(
m
 >4 || m >
MB_CUR_MAX
)

126 
övÆid
;

129 c⁄° *
ícodög
 = 
	`loˇÀ_ch¨£t
 ();

131 i‡(
	`STREQ
 (
ícodög
, "UTF-8", 'U', 'T', 'F', '-', '8', 0, 0, 0, 0))

134 
c
 = (Ë
p
[0];

136 i‡(
c
 >= 0xc2)

138 i‡(
c
 < 0xe0)

140 i‡(
m
 == 1)

141 
öcom∂ëe
;

143 i‡(
c
 < 0xf0)

145 i‡(
m
 == 1)

146 
öcom∂ëe
;

147 i‡(
m
 == 2)

149 
c2
 = (Ë
p
[1];

151 i‡((
c2
 ^ 0x80) < 0x40

152 && (
c
 >0xe1 || 
c2
 >= 0xa0)

153 && (
c
 !0xed || 
c2
 < 0xa0))

154 
öcom∂ëe
;

157 i‡(
c
 <= 0xf4)

159 i‡(
m
 == 1)

160 
öcom∂ëe
;

163 
c2
 = (Ë
p
[1];

165 i‡((
c2
 ^ 0x80) < 0x40

166 && (
c
 >0xf1 || 
c2
 >= 0x90)

167 && (
c
 < 0xf4 || (¯=0xf4 && 
c2
 < 0x90)))

169 i‡(
m
 == 2)

170 
öcom∂ëe
;

173 
c3
 = (Ë
p
[2];

175 i‡((
c3
 ^ 0x80) < 0x40)

176 
öcom∂ëe
;

182 
övÆid
;

188 i‡(
	`STREQ
 (
ícodög
, "EUC-JP", 'E', 'U', 'C', '-', 'J', 'P', 0, 0, 0))

190 i‡(
m
 == 1)

192 
c
 = (Ë
p
[0];

194 i‡((
c
 >= 0xa1 && c < 0xff) || c == 0x8e || c == 0x8f)

195 
öcom∂ëe
;

197 i‡(
m
 == 2)

199 
c
 = (Ë
p
[0];

201 i‡(
c
 == 0x8f)

203 
c2
 = (Ë
p
[1];

205 i‡(
c2
 >= 0xa1 && c2 < 0xff)

206 
öcom∂ëe
;

209 
övÆid
;

211 i‡(
	`STREQ
 (
ícodög
, "EUC-KR", 'E', 'U', 'C', '-', 'K', 'R', 0, 0, 0)

212 || 
	`STREQ
 (
ícodög
, "GB2312", 'G', 'B', '2', '3', '1', '2', 0, 0, 0)

213 || 
	`STREQ
 (
ícodög
, "BIG5", 'B', 'I', 'G', '5', 0, 0, 0, 0, 0))

215 i‡(
m
 == 1)

217 
c
 = (Ë
p
[0];

219 i‡(
c
 >= 0xa1 && c < 0xff)

220 
öcom∂ëe
;

222 
övÆid
;

224 i‡(
	`STREQ
 (
ícodög
, "EUC-TW", 'E', 'U', 'C', '-', 'T', 'W', 0, 0, 0))

226 i‡(
m
 == 1)

228 
c
 = (Ë
p
[0];

230 i‡((
c
 >= 0xa1 && c < 0xff) || c == 0x8e)

231 
öcom∂ëe
;

235 
c
 = (Ë
p
[0];

237 i‡(
c
 == 0x8e)

238 
öcom∂ëe
;

240 
övÆid
;

242 i‡(
	`STREQ
 (
ícodög
, "GB18030", 'G', 'B', '1', '8', '0', '3', '0', 0, 0))

244 i‡(
m
 == 1)

246 
c
 = (Ë
p
[0];

248 i‡((
c
 >= 0x90 && c <= 0xe3) || (c >= 0xf8 && c <= 0xfe))

249 
öcom∂ëe
;

253 
c
 = (Ë
p
[0];

255 i‡(
c
 >= 0x90 && c <= 0xe3)

257 
c2
 = (Ë
p
[1];

259 i‡(
c2
 >= 0x30 && c2 <= 0x39)

261 i‡(
m
 == 2)

262 
öcom∂ëe
;

265 
c3
 = (Ë
p
[2];

267 i‡(
c3
 >= 0x81 && c3 <= 0xfe)

268 
öcom∂ëe
;

273 
övÆid
;

275 i‡(
	`STREQ
 (
ícodög
, "SJIS", 'S', 'J', 'I', 'S', 0, 0, 0, 0, 0))

277 i‡(
m
 == 1)

279 
c
 = (Ë
p
[0];

281 i‡((
c
 >= 0x81 && c <= 0x9f) || (c >= 0xe0 && c <= 0xea)

282 || (
c
 >= 0xf0 && c <= 0xf9))

283 
öcom∂ëe
;

285 
övÆid
;

289 
öcom∂ëe
;

292 
öcom∂ëe
:

294 
size_t
 
k
 = 
n°©e
;

296 
p°©e
[++
k
] = 
s
[0];

297 i‡(
k
 < 
m
)

299 
p°©e
[++
k
] = 
s
[1];

300 i‡(
k
 < 
m
)

301 
p°©e
[++
k
] = 
s
[2];

303 i‡(
k
 !
m
)

304 
	`ab‹t
 ();

306 
p°©e
[0] = 
m
;

307  (
size_t
)(-2);

309 
övÆid
:

310 
î∫o
 = 
EILSEQ
;

312  (
size_t
)(-1);

315 
	}
}

320 #unde‡
mbπowc


322 
size_t


323 
	$Ωl_mbπowc
 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
)

325 #i‡
MBRTOWC_NULL_ARG2_BUG
 || 
MBRTOWC_RETVAL_BUG


326 i‡(
s
 =
NULL
)

328 
pwc
 = 
NULL
;

329 
s
 = "";

330 
n
 = 1;

334 #i‡
MBRTOWC_RETVAL_BUG


336 
mb°©e_t
 
öã∫Æ_°©e
;

340 i‡(
ps
 =
NULL
)

341 
ps
 = &
öã∫Æ_°©e
;

343 i‡(!
	`mbsöô
 (
ps
))

346 
size_t
 
cou¡
 = 0;

347 ; 
n
 > 0; 
s
++,Ç--)

349 
wch¨_t
 
wc
;

350 
size_t
 
ªt
 = 
	`mbπowc
 (&
wc
, 
s
, 1, 
ps
);

352 i‡(
ªt
 =(
size_t
)(-1))

353  (
size_t
)(-1);

354 
cou¡
++;

355 i‡(
ªt
 !(
size_t
)(-2))

358 i‡(
pwc
 !
NULL
)

359 *
pwc
 = 
wc
;

360  (
wc
 =0 ? 0 : 
cou¡
);

363  (
size_t
)(-2);

368 #i‡
MBRTOWC_NUL_RETVAL_BUG


370 
wch¨_t
 
wc
;

371 
size_t
 
ªt
 = 
	`mbπowc
 (&
wc
, 
s
, 
n
, 
ps
);

373 i‡(
ªt
 !(
size_t
)(-1) &&Ñet != (size_t)(-2))

375 i‡(
pwc
 !
NULL
)

376 *
pwc
 = 
wc
;

377 i‡(
wc
 == 0)

378 
ªt
 = 0;

380  
ªt
;

384 #i‡
MBRTOWC_NULL_ARG1_BUG


385 
wch¨_t
 
dummy
;

387 i‡(
pwc
 =
NULL
)

388 
pwc
 = &
dummy
;

391  
	`mbπowc
 (
pwc
, 
s
, 
n
, 
ps
);

394 
	}
}

	@lib/mbsinit.c

18 
	~<c⁄fig.h
>

21 
	~<wch¨.h
>

23 
	~"vîify.h
"

25 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& !deföed 
__CYGWIN__


30 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
ps
)

32  
ps
 =
NULL
 || *ps == 0;

33 
	}
}

51 
vîify
 ( (
mb°©e_t
) >= 4);

54 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
ps
)

56 c⁄° *
p°©e
 = (c⁄° *)
ps
;

58  
p°©e
 =
NULL
 ||Östate[0] == 0;

59 
	}
}

	@lib/mbtowc-impl.h

23 
	$mbtowc
 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
)

25 i‡(
s
 =
NULL
)

29 
mb°©e_t
 
°©e
;

30 
wch¨_t
 
wc
;

31 
size_t
 
ªsu…
;

33 
	`mem£t
 (&
°©e
, 0,  (
mb°©e_t
));

34 
ªsu…
 = 
	`mbπowc
 (&
wc
, 
s
, 
n
, &
°©e
);

35 i‡(
ªsu…
 =(
size_t
)-1 ||Ñesult == (size_t)-2)

37 
î∫o
 = 
EILSEQ
;

40 i‡(
pwc
 !
NULL
)

41 *
pwc
 = 
wc
;

42  (
wc
 =0 ? 0 : 
ªsu…
);

44 
	}
}

	@lib/mbtowc.c

18 
	~<c⁄fig.h
>

20 
	~<°dlib.h
>

22 
	~<î∫o.h
>

23 
	~<°rög.h
>

24 
	~<wch¨.h
>

26 
	~"mbtowc-im∂.h
"

	@lib/md5.c

25 
	~<c⁄fig.h
>

27 
	~"md5.h
"

29 
	~<°ddef.h
>

30 
	~<°dlib.h
>

31 
	~<°rög.h
>

32 
	~<sys/ty≥s.h
>

34 #i‡
USE_UNLOCKED_IO


35 
	~"u∆ocked-io.h
"

38 #ifde‡
_LIBC


39 
	~<ídün.h
>

40 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


41 
	#WORDS_BIGENDIAN
 1

	)

45 
	#md5_öô_˘x
 
__md5_öô_˘x


	)

46 
	#md5_¥o˚ss_block
 
__md5_¥o˚ss_block


	)

47 
	#md5_¥o˚ss_byãs
 
__md5_¥o˚ss_byãs


	)

48 
	#md5_föish_˘x
 
__md5_föish_˘x


	)

49 
	#md5_ªad_˘x
 
__md5_ªad_˘x


	)

50 
	#md5_°ªam
 
__md5_°ªam


	)

51 
	#md5_buf„r
 
__md5_buf„r


	)

54 #ifde‡
WORDS_BIGENDIAN


55 
	#SWAP
(
n
) \

56 (((
n
Ë<< 24Ë| ((“Ë& 0xff00Ë<< 8Ë| ((“Ë>> 8Ë& 0xff00Ë| (“Ë>> 24))

	)

58 
	#SWAP
(
n
Ë“)

	)

61 
	#BLOCKSIZE
 32768

	)

62 #i‡
BLOCKSIZE
 % 64 != 0

68 c⁄° 
	gfûlbuf
[64] = { 0x80, 0 };

74 
	$md5_öô_˘x
 (
md5_˘x
 *
˘x
)

76 
˘x
->
A
 = 0x67452301;

77 
˘x
->
B
 = 0xefcdab89;

78 
˘x
->
C
 = 0x98badcfe;

79 
˘x
->
D
 = 0x10325476;

81 
˘x
->
tŸÆ
[0] = ctx->total[1] = 0;

82 
˘x
->
buÊí
 = 0;

83 
	}
}

88 
ölöe
 

89 
	$£t_uöt32
 (*
˝
, 
uöt32_t
 
v
)

91 
	`mem˝y
 (
˝
, &
v
,  v);

92 
	}
}

97 
	$md5_ªad_˘x
 (c⁄° 
md5_˘x
 *
˘x
, *
ªsbuf
)

99 *
r
 = 
ªsbuf
;

100 
	`£t_uöt32
 (
r
 + 0 *  
˘x
->
A
, 
	`SWAP
 (ctx->A));

101 
	`£t_uöt32
 (
r
 + 1 *  
˘x
->
B
, 
	`SWAP
 (ctx->B));

102 
	`£t_uöt32
 (
r
 + 2 *  
˘x
->
C
, 
	`SWAP
 (ctx->C));

103 
	`£t_uöt32
 (
r
 + 3 *  
˘x
->
D
, 
	`SWAP
 (ctx->D));

105  
ªsbuf
;

106 
	}
}

111 
	$md5_föish_˘x
 (
md5_˘x
 *
˘x
, *
ªsbuf
)

114 
uöt32_t
 
byãs
 = 
˘x
->
buÊí
;

115 
size_t
 
size
 = (
byãs
 < 56) ? 64 / 4 : 64 * 2 / 4;

118 
˘x
->
tŸÆ
[0] +
byãs
;

119 i‡(
˘x
->
tŸÆ
[0] < 
byãs
)

120 ++
˘x
->
tŸÆ
[1];

123 
˘x
->
buf„r
[
size
 - 2] = 
	`SWAP
 (˘x->
tŸÆ
[0] << 3);

124 
˘x
->
buf„r
[
size
 - 1] = 
	`SWAP
 ((˘x->
tŸÆ
[1] << 3) | (ctx->total[0] >> 29));

126 
	`mem˝y
 (&((*Ë
˘x
->
buf„r
)[
byãs
], 
fûlbuf
, (
size
 - 2) * 4 - bytes);

129 
	`md5_¥o˚ss_block
 (
˘x
->
buf„r
, 
size
 * 4, ctx);

131  
	`md5_ªad_˘x
 (
˘x
, 
ªsbuf
);

132 
	}
}

138 
	$md5_°ªam
 (
FILE
 *
°ªam
, *
ªsblock
)

140 
md5_˘x
 
˘x
;

141 
size_t
 
sum
;

143 *
buf„r
 = 
	`mÆloc
 (
BLOCKSIZE
 + 72);

144 i‡(!
buf„r
)

148 
	`md5_öô_˘x
 (&
˘x
);

156 
size_t
 
n
;

157 
sum
 = 0;

162 
n
 = 
	`‰ód
 (
buf„r
 + 
sum
, 1, 
BLOCKSIZE
 - sum, 
°ªam
);

164 
sum
 +
n
;

166 i‡(
sum
 =
BLOCKSIZE
)

169 i‡(
n
 == 0)

174 i‡(
	`„º‹
 (
°ªam
))

176 
	`‰ì
 (
buf„r
);

179 
¥o˚ss_∑πül_block
;

185 i‡(
	`„of
 (
°ªam
))

186 
¥o˚ss_∑πül_block
;

192 
	`md5_¥o˚ss_block
 (
buf„r
, 
BLOCKSIZE
, &
˘x
);

195 
¥o˚ss_∑πül_block
:

198 i‡(
sum
 > 0)

199 
	`md5_¥o˚ss_byãs
 (
buf„r
, 
sum
, &
˘x
);

202 
	`md5_föish_˘x
 (&
˘x
, 
ªsblock
);

203 
	`‰ì
 (
buf„r
);

205 
	}
}

212 
	$md5_buf„r
 (c⁄° *
buf„r
, 
size_t
 
Àn
, *
ªsblock
)

214 
md5_˘x
 
˘x
;

217 
	`md5_öô_˘x
 (&
˘x
);

220 
	`md5_¥o˚ss_byãs
 (
buf„r
, 
Àn
, &
˘x
);

223  
	`md5_föish_˘x
 (&
˘x
, 
ªsblock
);

224 
	}
}

228 
	$md5_¥o˚ss_byãs
 (c⁄° *
buf„r
, 
size_t
 
Àn
, 
md5_˘x
 *
˘x
)

232 i‡(
˘x
->
buÊí
 != 0)

234 
size_t
 
À·_ovî
 = 
˘x
->
buÊí
;

235 
size_t
 
add
 = 128 - 
À·_ovî
 > 
Àn
 ?Üen : 128 -Üeft_over;

237 
	`mem˝y
 (&((*Ë
˘x
->
buf„r
)[
À·_ovî
], buf„r, 
add
);

238 
˘x
->
buÊí
 +
add
;

240 i‡(
˘x
->
buÊí
 > 64)

242 
	`md5_¥o˚ss_block
 (
˘x
->
buf„r
, ctx->
buÊí
 & ~63, ctx);

244 
˘x
->
buÊí
 &= 63;

246 
	`mem˝y
 (
˘x
->
buf„r
,

247 &((*Ë
˘x
->
buf„r
)[(
À·_ovî
 + 
add
) & ~63],

248 
˘x
->
buÊí
);

251 
buf„r
 = (c⁄° *Ëbuf„∏+ 
add
;

252 
Àn
 -
add
;

256 i‡(
Àn
 >= 64)

258 #i‡!
_STRING_ARCH_u«lig√d


259 
	#Æignof
(
ty≥
Ë
	`off£tof
 (°ru˘ { 
c
;Åy≥ 
x
; }, x)

	)

260 
	#UNALIGNED_P
(
p
Ë(((
size_t
ËpË% 
	`Æignof
 (
uöt32_t
Ë!0)

	)

261 i‡(
	`UNALIGNED_P
 (
buf„r
))

262 
Àn
 > 64)

264 
	`md5_¥o˚ss_block
 (
	`mem˝y
 (
˘x
->
buf„r
, buffer, 64), 64, ctx);

265 
buf„r
 = (const *) buffer + 64;

266 
Àn
 -= 64;

271 
	`md5_¥o˚ss_block
 (
buf„r
, 
Àn
 & ~63, 
˘x
);

272 
buf„r
 = (c⁄° *Ëbuf„∏+ (
Àn
 & ~63);

273 
Àn
 &= 63;

278 i‡(
Àn
 > 0)

280 
size_t
 
À·_ovî
 = 
˘x
->
buÊí
;

282 
	`mem˝y
 (&((*Ë
˘x
->
buf„r
)[
À·_ovî
], buf„r, 
Àn
);

283 
À·_ovî
 +
Àn
;

284 i‡(
À·_ovî
 >= 64)

286 
	`md5_¥o˚ss_block
 (
˘x
->
buf„r
, 64, ctx);

287 
À·_ovî
 -= 64;

288 
	`mem˝y
 (
˘x
->
buf„r
, &˘x->buf„r[16], 
À·_ovî
);

290 
˘x
->
buÊí
 = 
À·_ovî
;

292 
	}
}

299 
	#FF
(
b
, 
c
, 
d
Ë(d ^ (b & (¯^ d)))

	)

300 
	#FG
(
b
, 
c
, 
d
Ë
	`FF
 (d, b, c)

	)

301 
	#FH
(
b
, 
c
, 
d
Ë(b ^ c ^ d)

	)

302 
	#FI
(
b
, 
c
, 
d
Ë(¯^ (b | ~d))

	)

308 
	$md5_¥o˚ss_block
 (c⁄° *
buf„r
, 
size_t
 
Àn
, 
md5_˘x
 *
˘x
)

310 
uöt32_t
 
c‹ª˘_w‹ds
[16];

311 c⁄° 
uöt32_t
 *
w‹ds
 = 
buf„r
;

312 
size_t
 
nw‹ds
 = 
Àn
 /  (
uöt32_t
);

313 c⁄° 
uöt32_t
 *
ídp
 = 
w‹ds
 + 
nw‹ds
;

314 
uöt32_t
 
A
 = 
˘x
->A;

315 
uöt32_t
 
B
 = 
˘x
->B;

316 
uöt32_t
 
C
 = 
˘x
->C;

317 
uöt32_t
 
D
 = 
˘x
->D;

322 
˘x
->
tŸÆ
[0] +
Àn
;

323 i‡(
˘x
->
tŸÆ
[0] < 
Àn
)

324 ++
˘x
->
tŸÆ
[1];

328 
w‹ds
 < 
ídp
)

330 
uöt32_t
 *
cwp
 = 
c‹ª˘_w‹ds
;

331 
uöt32_t
 
A_ßve
 = 
A
;

332 
uöt32_t
 
B_ßve
 = 
B
;

333 
uöt32_t
 
C_ßve
 = 
C
;

334 
uöt32_t
 
D_ßve
 = 
D
;

343 
	#OP
(
a
, 
b
, 
c
, 
d
, 
s
, 
T
) \

346 
a
 +
	`FF
 (
b
, 
c
, 
d
Ë+ (*
cwp
++ = 
	`SWAP
 (*
w‹ds
)Ë+ 
T
; \

347 ++
w‹ds
; \

348 
	`CYCLIC
 (
a
, 
s
); \

349 
a
 +
b
; \

351 0)

	)

355 
	#CYCLIC
(
w
, 
s
Ë(w = (w << sË| (w >> (32 - s)))

	)

368 
	`OP
 (
A
, 
B
, 
C
, 
D
, 7, 0xd76aa478);

369 
	`OP
 (
D
, 
A
, 
B
, 
C
, 12, 0xe8c7b756);

370 
	`OP
 (
C
, 
D
, 
A
, 
B
, 17, 0x242070db);

371 
	`OP
 (
B
, 
C
, 
D
, 
A
, 22, 0xc1bdceee);

372 
	`OP
 (
A
, 
B
, 
C
, 
D
, 7, 0xf57c0faf);

373 
	`OP
 (
D
, 
A
, 
B
, 
C
, 12, 0x4787c62a);

374 
	`OP
 (
C
, 
D
, 
A
, 
B
, 17, 0xa8304613);

375 
	`OP
 (
B
, 
C
, 
D
, 
A
, 22, 0xfd469501);

376 
	`OP
 (
A
, 
B
, 
C
, 
D
, 7, 0x698098d8);

377 
	`OP
 (
D
, 
A
, 
B
, 
C
, 12, 0x8b44f7af);

378 
	`OP
 (
C
, 
D
, 
A
, 
B
, 17, 0xffff5bb1);

379 
	`OP
 (
B
, 
C
, 
D
, 
A
, 22, 0x895cd7be);

380 
	`OP
 (
A
, 
B
, 
C
, 
D
, 7, 0x6b901122);

381 
	`OP
 (
D
, 
A
, 
B
, 
C
, 12, 0xfd987193);

382 
	`OP
 (
C
, 
D
, 
A
, 
B
, 17, 0xa679438e);

383 
	`OP
 (
B
, 
C
, 
D
, 
A
, 22, 0x49b40821);

388 #unde‡
OP


389 
	#OP
(
f
, 
a
, 
b
, 
c
, 
d
, 
k
, 
s
, 
T
) \

392 
a
 +
	`f
 (
b
, 
c
, 
d
Ë+ 
c‹ª˘_w‹ds
[
k
] + 
T
; \

393 
	`CYCLIC
 (
a
, 
s
); \

394 
a
 +
b
; \

396 0)

	)

399 
	`OP
 (
FG
, 
A
, 
B
, 
C
, 
D
, 1, 5, 0xf61e2562);

400 
	`OP
 (
FG
, 
D
, 
A
, 
B
, 
C
, 6, 9, 0xc040b340);

401 
	`OP
 (
FG
, 
C
, 
D
, 
A
, 
B
, 11, 14, 0x265e5a51);

402 
	`OP
 (
FG
, 
B
, 
C
, 
D
, 
A
, 0, 20, 0xe9b6c7aa);

403 
	`OP
 (
FG
, 
A
, 
B
, 
C
, 
D
, 5, 5, 0xd62f105d);

404 
	`OP
 (
FG
, 
D
, 
A
, 
B
, 
C
, 10, 9, 0x02441453);

405 
	`OP
 (
FG
, 
C
, 
D
, 
A
, 
B
, 15, 14, 0xd8a1e681);

406 
	`OP
 (
FG
, 
B
, 
C
, 
D
, 
A
, 4, 20, 0xe7d3fbc8);

407 
	`OP
 (
FG
, 
A
, 
B
, 
C
, 
D
, 9, 5, 0x21e1cde6);

408 
	`OP
 (
FG
, 
D
, 
A
, 
B
, 
C
, 14, 9, 0xc33707d6);

409 
	`OP
 (
FG
, 
C
, 
D
, 
A
, 
B
, 3, 14, 0xf4d50d87);

410 
	`OP
 (
FG
, 
B
, 
C
, 
D
, 
A
, 8, 20, 0x455a14ed);

411 
	`OP
 (
FG
, 
A
, 
B
, 
C
, 
D
, 13, 5, 0xa9e3e905);

412 
	`OP
 (
FG
, 
D
, 
A
, 
B
, 
C
, 2, 9, 0xfcefa3f8);

413 
	`OP
 (
FG
, 
C
, 
D
, 
A
, 
B
, 7, 14, 0x676f02d9);

414 
	`OP
 (
FG
, 
B
, 
C
, 
D
, 
A
, 12, 20, 0x8d2a4c8a);

417 
	`OP
 (
FH
, 
A
, 
B
, 
C
, 
D
, 5, 4, 0xfffa3942);

418 
	`OP
 (
FH
, 
D
, 
A
, 
B
, 
C
, 8, 11, 0x8771f681);

419 
	`OP
 (
FH
, 
C
, 
D
, 
A
, 
B
, 11, 16, 0x6d9d6122);

420 
	`OP
 (
FH
, 
B
, 
C
, 
D
, 
A
, 14, 23, 0xfde5380c);

421 
	`OP
 (
FH
, 
A
, 
B
, 
C
, 
D
, 1, 4, 0xa4beea44);

422 
	`OP
 (
FH
, 
D
, 
A
, 
B
, 
C
, 4, 11, 0x4bdecfa9);

423 
	`OP
 (
FH
, 
C
, 
D
, 
A
, 
B
, 7, 16, 0xf6bb4b60);

424 
	`OP
 (
FH
, 
B
, 
C
, 
D
, 
A
, 10, 23, 0xbebfbc70);

425 
	`OP
 (
FH
, 
A
, 
B
, 
C
, 
D
, 13, 4, 0x289b7ec6);

426 
	`OP
 (
FH
, 
D
, 
A
, 
B
, 
C
, 0, 11, 0xeaa127fa);

427 
	`OP
 (
FH
, 
C
, 
D
, 
A
, 
B
, 3, 16, 0xd4ef3085);

428 
	`OP
 (
FH
, 
B
, 
C
, 
D
, 
A
, 6, 23, 0x04881d05);

429 
	`OP
 (
FH
, 
A
, 
B
, 
C
, 
D
, 9, 4, 0xd9d4d039);

430 
	`OP
 (
FH
, 
D
, 
A
, 
B
, 
C
, 12, 11, 0xe6db99e5);

431 
	`OP
 (
FH
, 
C
, 
D
, 
A
, 
B
, 15, 16, 0x1fa27cf8);

432 
	`OP
 (
FH
, 
B
, 
C
, 
D
, 
A
, 2, 23, 0xc4ac5665);

435 
	`OP
 (
FI
, 
A
, 
B
, 
C
, 
D
, 0, 6, 0xf4292244);

436 
	`OP
 (
FI
, 
D
, 
A
, 
B
, 
C
, 7, 10, 0x432aff97);

437 
	`OP
 (
FI
, 
C
, 
D
, 
A
, 
B
, 14, 15, 0xab9423a7);

438 
	`OP
 (
FI
, 
B
, 
C
, 
D
, 
A
, 5, 21, 0xfc93a039);

439 
	`OP
 (
FI
, 
A
, 
B
, 
C
, 
D
, 12, 6, 0x655b59c3);

440 
	`OP
 (
FI
, 
D
, 
A
, 
B
, 
C
, 3, 10, 0x8f0ccc92);

441 
	`OP
 (
FI
, 
C
, 
D
, 
A
, 
B
, 10, 15, 0xffeff47d);

442 
	`OP
 (
FI
, 
B
, 
C
, 
D
, 
A
, 1, 21, 0x85845dd1);

443 
	`OP
 (
FI
, 
A
, 
B
, 
C
, 
D
, 8, 6, 0x6fa87e4f);

444 
	`OP
 (
FI
, 
D
, 
A
, 
B
, 
C
, 15, 10, 0xfe2ce6e0);

445 
	`OP
 (
FI
, 
C
, 
D
, 
A
, 
B
, 6, 15, 0xa3014314);

446 
	`OP
 (
FI
, 
B
, 
C
, 
D
, 
A
, 13, 21, 0x4e0811a1);

447 
	`OP
 (
FI
, 
A
, 
B
, 
C
, 
D
, 4, 6, 0xf7537e82);

448 
	`OP
 (
FI
, 
D
, 
A
, 
B
, 
C
, 11, 10, 0xbd3af235);

449 
	`OP
 (
FI
, 
C
, 
D
, 
A
, 
B
, 2, 15, 0x2ad7d2bb);

450 
	`OP
 (
FI
, 
B
, 
C
, 
D
, 
A
, 9, 21, 0xeb86d391);

453 
A
 +
A_ßve
;

454 
B
 +
B_ßve
;

455 
C
 +
C_ßve
;

456 
D
 +
D_ßve
;

460 
˘x
->
A
 = A;

461 
˘x
->
B
 = B;

462 
˘x
->
C
 = C;

463 
˘x
->
D
 = D;

464 
	}
}

	@lib/md5.h

23 #i‚de‡
_MD5_H


24 
	#_MD5_H
 1

	)

26 
	~<°dio.h
>

27 
	~<°döt.h
>

29 
	#MD5_DIGEST_SIZE
 16

	)

30 
	#MD5_BLOCK_SIZE
 64

	)

32 #i‚de‡
__GNUC_PREREQ


33 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


34 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

35 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

37 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

41 #i‚de‡
__THROW


42 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #i‚de‡
_LIBC


50 
	#__md5_buf„r
 
md5_buf„r


	)

51 
	#__md5_föish_˘x
 
md5_föish_˘x


	)

52 
	#__md5_öô_˘x
 
md5_öô_˘x


	)

53 
	#__md5_¥o˚ss_block
 
md5_¥o˚ss_block


	)

54 
	#__md5_¥o˚ss_byãs
 
md5_¥o˚ss_byãs


	)

55 
	#__md5_ªad_˘x
 
md5_ªad_˘x


	)

56 
	#__md5_°ªam
 
md5_°ªam


	)

59 #ifde‡
__˝lu•lus


64 
	smd5_˘x


66 
uöt32_t
 
A
;

67 
uöt32_t
 
B
;

68 
uöt32_t
 
C
;

69 
uöt32_t
 
D
;

71 
uöt32_t
 
tŸÆ
[2];

72 
uöt32_t
 
buÊí
;

73 
uöt32_t
 
buf„r
[32];

83 
__md5_öô_˘x
 (
md5_˘x
 *
˘x
Ë
__THROW
;

89 
__md5_¥o˚ss_block
 (c⁄° *
buf„r
, 
size_t
 
Àn
,

90 
md5_˘x
 *
˘x
Ë
__THROW
;

96 
__md5_¥o˚ss_byãs
 (c⁄° *
buf„r
, 
size_t
 
Àn
,

97 
md5_˘x
 *
˘x
Ë
__THROW
;

103 *
__md5_föish_˘x
 (
md5_˘x
 *
˘x
, *
ªsbuf
Ë
__THROW
;

109 *
__md5_ªad_˘x
 (c⁄° 
md5_˘x
 *
˘x
, *
ªsbuf
Ë
__THROW
;

115 
__md5_°ªam
 (
FILE
 *
°ªam
, *
ªsblock
Ë
__THROW
;

121 *
__md5_buf„r
 (c⁄° *
buf„r
, 
size_t
 
Àn
,

122 *
ªsblock
Ë
__THROW
;

124 #ifde‡
__˝lu•lus


	@lib/memchr.c

26 #i‚de‡
_LIBC


27 
	~<c⁄fig.h
>

30 
	~<°rög.h
>

32 
	~<°ddef.h
>

34 #i‡
deföed
 
_LIBC


35 
	~<memc›y.h
>

37 
	#ªg_ch¨
 

	)

40 
	~<limôs.h
>

42 #i‡
HAVE_BP_SYM_H
 || 
deföed
 
_LIBC


43 
	~<bp-sym.h
>

45 
	#BP_SYM
(
sym
Ë
	)
sym

48 #unde‡
__memchr


49 #ifde‡
_LIBC


50 #unde‡
memchr


53 #i‚de‡
wók_Æüs


54 
	#__memchr
 
memchr


	)

59 
	$__memchr
 (c⁄° *
s
, 
c_ö
, 
size_t
 
n
)

66 
	tl⁄gw‹d
;

68 c⁄° *
ch¨_±r
;

69 c⁄° 
l⁄gw‹d
 *
l⁄gw‹d_±r
;

70 
l⁄gw‹d
 
ª≥©ed_⁄e
;

71 
l⁄gw‹d
 
ª≥©ed_c
;

72 
ªg_ch¨
 
c
;

74 
c
 = (Ë
c_ö
;

78 
ch¨_±r
 = (c⁄° *Ë
s
;

79 
n
 > 0 && (
size_t
Ë
ch¨_±r
 %  (
l⁄gw‹d
) != 0;

80 --
n
, ++
ch¨_±r
)

81 i‡(*
ch¨_±r
 =
c
)

82  (*Ë
ch¨_±r
;

84 
l⁄gw‹d_±r
 = (c⁄° 
l⁄gw‹d
 *Ë
ch¨_±r
;

92 
ª≥©ed_⁄e
 = 0x01010101;

93 
ª≥©ed_c
 = 
c
 | (c << 8);

94 
ª≥©ed_c
 |=Ñepeated_c << 16;

95 i‡(0xffffffffU < (
l⁄gw‹d
) -1)

97 
ª≥©ed_⁄e
 |=Ñepeated_one << 31 << 1;

98 
ª≥©ed_c
 |=Ñepeated_c << 31 << 1;

99 i‡(8 <  (
l⁄gw‹d
))

101 
size_t
 
i
;

103 
i
 = 64; i <  (
l⁄gw‹d
) * 8; i *= 2)

105 
ª≥©ed_⁄e
 |ª≥©ed_⁄ê<< 
i
;

106 
ª≥©ed_c
 |ª≥©ed_¯<< 
i
;

142 
n
 > (
l⁄gw‹d
))

144 
l⁄gw‹d
 
l⁄gw‹d1
 = *
l⁄gw‹d_±r
 ^ 
ª≥©ed_c
;

146 i‡((((
l⁄gw‹d1
 - 
ª≥©ed_⁄e
) & ~longword1)

147 & (
ª≥©ed_⁄e
 << 7)) != 0)

149 
l⁄gw‹d_±r
++;

150 
n
 - (
l⁄gw‹d
);

153 
ch¨_±r
 = (c⁄° *Ë
l⁄gw‹d_±r
;

162 ; 
n
 > 0; --n, ++
ch¨_±r
)

164 i‡(*
ch¨_±r
 =
c
)

165  (*Ë
ch¨_±r
;

168  
NULL
;

169 
	}
}

170 #ifde‡
wók_Æüs


171 
wók_Æüs
 (
__memchr
, 
	$BP_SYM
 (
memchr
))

	@lib/mkdir.c

21 
	~<c⁄fig.h
>

24 
	~<sys/°©.h
>

26 
	~<î∫o.h
>

27 
	~<°dio.h
>

28 
	~<°dlib.h
>

29 
	~<°rög.h
>

31 
	~"dú«me.h
"

35 #unde‡
mkdú


41 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


42 
	#mkdú
(
«me
,
mode
Ë
	`_mkdú
 («me)

	)

43 
	#maybe_unu£d
 
_GL_UNUSED


	)

45 
	#maybe_unu£d


	)

51 
	$Ωl_mkdú
 (c⁄° *
dú
, 
mode_t
 
mode
 
maybe_unu£d
)

53 
ªt_vÆ
;

54 *
tmp_dú
;

55 
size_t
 
Àn
 = 
	`°æí
 (
dú
);

57 i‡(
Àn
 && 
dú
[len - 1] == '/')

59 
tmp_dú
 = 
	`°rdup
 (
dú
);

60 i‡(!
tmp_dú
)

63 
î∫o
 = 
ENOMEM
;

66 
	`°rù_åaûög_¶ashes
 (
tmp_dú
);

70 
tmp_dú
 = (*Ë
dú
;

72 #i‡
FUNC_MKDIR_DOT_BUG


75 *
œ°
 = 
	`œ°_comp⁄ít
 (
tmp_dú
);

76 i‡(*
œ°
 == '.' && (last[1] == '\0'

77 || (
œ°
[1] == '.' &&Üast[2] == '\0')))

79 
°©
 
°
;

80 i‡(
	`°©
 (
tmp_dú
, &
°
) == 0)

81 
î∫o
 = 
EEXIST
;

87 
ªt_vÆ
 = 
	`mkdú
 (
tmp_dú
, 
mode
);

89 i‡(
tmp_dú
 !
dú
)

90 
	`‰ì
 (
tmp_dú
);

92  
ªt_vÆ
;

93 
	}
}

	@lib/netdb.h

26 #i‚de‡
_GL_NETDB_H


28 #i‡
__GNUC__
 >= 3

29 #¥agm®
GCC
 
sy°em_hódî


36 #ö˛ude_√xà<
√tdb
.
h
>

40 #i‚de‡
_GL_NETDB_H


41 
	#_GL_NETDB_H


	)

45 
	~<sys/sockë.h
>

48 #i‚de‡
_GL_CXXDEFS_H


49 
	#_GL_CXXDEFS_H


	)

112 #i‡
deföed
 
__˝lu•lus


113 
	#_GL_EXTERN_C
 "C"

	)

115 
	#_GL_EXTERN_C
 

	)

125 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

126 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

127 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

128 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

137 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

138 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

146 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

147 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

148 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


149 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

150 
«me•a˚
 
GNULIB_NAMESPACE
 \

152 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

154 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

156 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

157 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

165 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


166 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

167 
«me•a˚
 
GNULIB_NAMESPACE
 \

169 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

170 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

172 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

174 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

175 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

185 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


192 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

193 
«me•a˚
 
GNULIB_NAMESPACE
 \

195 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

197 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

199 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

200 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


209 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

210 
«me•a˚
 
GNULIB_NAMESPACE
 \

212 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

213 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

215 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

217 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

218 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

227 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


233 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

234 
«me•a˚
 
GNULIB_NAMESPACE
 \

236 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

237 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

238 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

240 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

242 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

243 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

250 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


251 
	#_GL_CXXALIASWARN
(
func
) \

252 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

253 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

254 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

257 #i‡!
__OPTIMIZE__


258 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

259 
	`_GL_WARN_ON_USE
 (
func
, \

261 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

262 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


263 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

264 
	`__ty≥of__
 (
func
Ë
	)
func

266 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

267 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

270 
	#_GL_CXXALIASWARN
(
func
) \

271 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

277 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


278 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

279 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

280 
GNULIB_NAMESPACE
)

	)

281 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

282 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

285 #i‡!
__OPTIMIZE__


286 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

287 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

289 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

290 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


291 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

292 
	`__ty≥of__
 (
func
Ë
	)
func

294 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

295 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

298 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

299 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

308 #i‚de‡
_GL_ARG_NONNULL


309 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

310 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

312 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

317 #i‚de‡
_GL_WARN_ON_USE


319 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

321 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

322 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

323 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


325 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

326 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

328 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

329 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

339 #i‚de‡
_GL_WARN_ON_USE_CXX


340 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

341 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

342 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

343 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

344 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


346 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

347 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

349 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

350 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

356 #i‚de‡
_GL_WARN_EXTERN_C


357 #i‡
deföed
 
__˝lu•lus


358 
	#_GL_WARN_EXTERN_C
 "C"

	)

360 
	#_GL_WARN_EXTERN_C
 

	)

371 #ifde‡
__˝lu•lus


375 #i‡!
GNULIB_deföed_°ru˘_addröfo


377 
	saddröfo


379 
ai_Êags
;

380 
ai_Ámûy
;

381 
ai_sockty≥
;

382 
ai_¥Ÿocﬁ
;

383 
sockÀn_t
 
ai_addæí
;

384 
sockaddr
 *
ai_addr
;

385 *
ai_ˇn⁄«me
;

386 
addröfo
 *
ai_√xt
;

388 
	#GNULIB_deföed_°ru˘_addröfo
 1

	)

391 #ifde‡
__˝lu•lus


398 #i‚de‡
AI_PASSIVE


399 
	#AI_PASSIVE
 0x0001

	)

401 #i‚de‡
AI_CANONNAME


402 
	#AI_CANONNAME
 0x0002

	)

404 #i‚de‡
AI_NUMERICSERV


405 
	#AI_NUMERICSERV
 0x0400

	)

409 
	#AI_NUMERICHOST
 0x0004

	)

417 #i‚de‡
AI_V4MAPPED


418 
	#AI_V4MAPPED
 0

	)

420 #i‚de‡
AI_ALL


421 
	#AI_ALL
 0

	)

423 #i‚de‡
AI_ADDRCONFIG


424 
	#AI_ADDRCONFIG
 0

	)

429 #i‚de‡
EAI_BADFLAGS


430 
	#EAI_BADFLAGS
 -1

	)

431 
	#EAI_NONAME
 -2

	)

432 
	#EAI_AGAIN
 -3

	)

433 
	#EAI_FAIL
 -4

	)

434 
	#EAI_NODATA
 -5

	)

435 
	#EAI_FAMILY
 -6

	)

436 
	#EAI_SOCKTYPE
 -7

	)

437 
	#EAI_SERVICE
 -8

	)

438 
	#EAI_MEMORY
 -10

	)

444 #i‡!
deföed
 
EAI_NODATA
 && deföed 
EAI_NONAME


445 
	#EAI_NODATA
 
EAI_NONAME


	)

448 #i‚de‡
EAI_OVERFLOW


450 
	#EAI_OVERFLOW
 -12

	)

452 #i‚de‡
EAI_ADDRFAMILY


454 
	#EAI_ADDRFAMILY
 -9

	)

456 #i‚de‡
EAI_SYSTEM


458 
	#EAI_SYSTEM
 -11

	)

466 #i‚de‡
EAI_INPROGRESS


467 
	#EAI_INPROGRESS
 -100

	)

468 
	#EAI_CANCELED
 -101

	)

469 
	#EAI_NOTCANCELED
 -102

	)

470 
	#EAI_ALLDONE
 -103

	)

471 
	#EAI_INTR
 -104

	)

472 
	#EAI_IDN_ENCODE
 -105

	)

481 
_GL_FUNCDECL_SYS
 (
gëaddröfo
, ,

482 (c⁄° *
ª°ri˘
 
nodíame
,

483 c⁄° *
ª°ri˘
 
£rv«me
,

484 c⁄° 
addröfo
 *
ª°ri˘
 
höts
,

485 
addröfo
 **
ª°ri˘
 
ªs
)

486 
_GL_ARG_NONNULL
 ((4)));

488 
_GL_CXXALIAS_SYS
 (
gëaddröfo
, ,

489 (c⁄° *
ª°ri˘
 
nodíame
,

490 c⁄° *
ª°ri˘
 
£rv«me
,

491 c⁄° 
addröfo
 *
ª°ri˘
 
höts
,

492 
addröfo
 **
ª°ri˘
 
ªs
));

493 
_GL_CXXALIASWARN
 (
gëaddröfo
);

499 
_GL_FUNCDECL_SYS
 (
‰ìaddröfo
, , (
addröfo
 *
ai
)

500 
_GL_ARG_NONNULL
 ((1)));

502 
_GL_CXXALIAS_SYS
 (
‰ìaddröfo
, , (
addröfo
 *
ai
));

503 
_GL_CXXALIASWARN
 (
‰ìaddröfo
);

506 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

507 #unde‡
gai_°ªº‹


508 
	#gai_°ªº‹
 
Ωl_gai_°ªº‹


	)

510 
_GL_FUNCDECL_RPL
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

511 
_GL_CXXALIAS_RPL
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

517 
_GL_FUNCDECL_SYS
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

519 
_GL_CXXALIAS_SYS
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

521 
_GL_CXXALIASWARN
 (
gai_°ªº‹
);

527 
_GL_FUNCDECL_SYS
 (
gë«meöfo
, ,

528 (c⁄° 
sockaddr
 *
ª°ri˘
 
ß
, 
sockÀn_t
 
ßÀn
,

529 *
ª°ri˘
 
node
, 
sockÀn_t
 
nodñí
,

530 *
ª°ri˘
 
£rvi˚
, 
sockÀn_t
 
£rvi˚Àn
,

531 
Êags
)

532 
_GL_ARG_NONNULL
 ((1)));

536 
_GL_CXXALIAS_SYS_CAST
 (
gë«meöfo
, ,

537 (c⁄° 
sockaddr
 *
ª°ri˘
 
ß
, 
sockÀn_t
 
ßÀn
,

538 *
ª°ri˘
 
node
, 
sockÀn_t
 
nodñí
,

539 *
ª°ri˘
 
£rvi˚
, 
sockÀn_t
 
£rvi˚Àn
,

540 
Êags
));

541 
_GL_CXXALIASWARN
 (
gë«meöfo
);

544 #i‚de‡
NI_NUMERICHOST


545 
	#NI_NUMERICHOST
 1

	)

547 #i‚de‡
NI_NUMERICSERV


548 
	#NI_NUMERICSERV
 2

	)

551 #ñi‡
deföed
 
GNULIB_POSIXCHECK


553 #unde‡
gëaddröfo


554 #i‡
HAVE_RAW_DECL_GETADDRINFO


555 
_GL_WARN_ON_USE
 (
gëaddröfo
, "getaddrinfo is unportable - "

559 #unde‡
‰ìaddröfo


560 #i‡
HAVE_RAW_DECL_FREEADDRINFO


561 
_GL_WARN_ON_USE
 (
‰ìaddröfo
, "freeaddrinfo is unportable - "

565 #unde‡
gai_°ªº‹


566 #i‡
HAVE_RAW_DECL_GAI_STRERROR


567 
_GL_WARN_ON_USE
 (
gai_°ªº‹
, "gai_strerror is unportable - "

571 #unde‡
gë«meöfo


572 #i‡
HAVE_RAW_DECL_GETNAMEINFO


573 
_GL_WARN_ON_USE
 (
gë«meöfo
, "getnameinfo is unportable - "

	@lib/netdb.in.h

25 #i‚de‡
_
@
GUARD_PREFIX
@
_NETDB_H


27 #i‡
__GNUC__
 >= 3

28 @
	gPRAGMA_SYSTEM_HEADER
@

30 @
	gPRAGMA_COLUMNS
@

32 #i‡@
HAVE_NETDB_H
@

35 #@
INCLUDE_NEXT
@ @
NEXT_NETDB_H
@

39 #i‚de‡
_
@
GUARD_PREFIX
@
_NETDB_H


40 
	#_
@
GUARD_PREFIX
@
_NETDB_H


	)

44 
	~<sys/sockë.h
>

55 #i‡@
GNULIB_GETADDRINFO
@

57 #i‡!@
HAVE_STRUCT_ADDRINFO
@

59 #ifde‡
__˝lu•lus


63 #i‡!
GNULIB_deföed_°ru˘_addröfo


65 
	saddröfo


67 
ai_Êags
;

68 
ai_Ámûy
;

69 
ai_sockty≥
;

70 
ai_¥Ÿocﬁ
;

71 
sockÀn_t
 
ai_addæí
;

72 
sockaddr
 *
ai_addr
;

73 *
ai_ˇn⁄«me
;

74 
addröfo
 *
ai_√xt
;

76 
	#GNULIB_deföed_°ru˘_addröfo
 1

	)

79 #ifde‡
__˝lu•lus


86 #i‚de‡
AI_PASSIVE


87 
	#AI_PASSIVE
 0x0001

	)

89 #i‚de‡
AI_CANONNAME


90 
	#AI_CANONNAME
 0x0002

	)

92 #i‚de‡
AI_NUMERICSERV


93 
	#AI_NUMERICSERV
 0x0400

	)

97 
	#AI_NUMERICHOST
 0x0004

	)

105 #i‚de‡
AI_V4MAPPED


106 
	#AI_V4MAPPED
 0

	)

108 #i‚de‡
AI_ALL


109 
	#AI_ALL
 0

	)

111 #i‚de‡
AI_ADDRCONFIG


112 
	#AI_ADDRCONFIG
 0

	)

117 #i‚de‡
EAI_BADFLAGS


118 
	#EAI_BADFLAGS
 -1

	)

119 
	#EAI_NONAME
 -2

	)

120 
	#EAI_AGAIN
 -3

	)

121 
	#EAI_FAIL
 -4

	)

122 
	#EAI_NODATA
 -5

	)

123 
	#EAI_FAMILY
 -6

	)

124 
	#EAI_SOCKTYPE
 -7

	)

125 
	#EAI_SERVICE
 -8

	)

126 
	#EAI_MEMORY
 -10

	)

132 #i‡!
deföed
 
EAI_NODATA
 && deföed 
EAI_NONAME


133 
	#EAI_NODATA
 
EAI_NONAME


	)

136 #i‚de‡
EAI_OVERFLOW


138 
	#EAI_OVERFLOW
 -12

	)

140 #i‚de‡
EAI_ADDRFAMILY


142 
	#EAI_ADDRFAMILY
 -9

	)

144 #i‚de‡
EAI_SYSTEM


146 
	#EAI_SYSTEM
 -11

	)

154 #i‚de‡
EAI_INPROGRESS


155 
	#EAI_INPROGRESS
 -100

	)

156 
	#EAI_CANCELED
 -101

	)

157 
	#EAI_NOTCANCELED
 -102

	)

158 
	#EAI_ALLDONE
 -103

	)

159 
	#EAI_INTR
 -104

	)

160 
	#EAI_IDN_ENCODE
 -105

	)

164 #i‡!@
HAVE_DECL_GETADDRINFO
@

169 
_GL_FUNCDECL_SYS
 (
gëaddröfo
, ,

170 (c⁄° *
ª°ri˘
 
nodíame
,

171 c⁄° *
ª°ri˘
 
£rv«me
,

172 c⁄° 
addröfo
 *
ª°ri˘
 
höts
,

173 
addröfo
 **
ª°ri˘
 
ªs
)

174 
_GL_ARG_NONNULL
 ((4)));

176 
_GL_CXXALIAS_SYS
 (
gëaddröfo
, ,

177 (c⁄° *
ª°ri˘
 
nodíame
,

178 c⁄° *
ª°ri˘
 
£rv«me
,

179 c⁄° 
addröfo
 *
ª°ri˘
 
höts
,

180 
addröfo
 **
ª°ri˘
 
ªs
));

181 
_GL_CXXALIASWARN
 (
gëaddröfo
);

183 #i‡!@
HAVE_DECL_FREEADDRINFO
@

187 
_GL_FUNCDECL_SYS
 (
‰ìaddröfo
, , (
addröfo
 *
ai
)

188 
_GL_ARG_NONNULL
 ((1)));

190 
_GL_CXXALIAS_SYS
 (
‰ìaddröfo
, , (
addröfo
 *
ai
));

191 
_GL_CXXALIASWARN
 (
‰ìaddröfo
);

193 #i‡@
REPLACE_GAI_STRERROR
@

194 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

195 #unde‡
gai_°ªº‹


196 
	#gai_°ªº‹
 
Ωl_gai_°ªº‹


	)

198 
_GL_FUNCDECL_RPL
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

199 
_GL_CXXALIAS_RPL
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

201 #i‡!@
HAVE_DECL_GAI_STRERROR
@

205 
_GL_FUNCDECL_SYS
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

207 
_GL_CXXALIAS_SYS
 (
gai_°ªº‹
, c⁄° *, (
ecode
));

209 
_GL_CXXALIASWARN
 (
gai_°ªº‹
);

211 #i‡!@
HAVE_DECL_GETNAMEINFO
@

215 
_GL_FUNCDECL_SYS
 (
gë«meöfo
, ,

216 (c⁄° 
sockaddr
 *
ª°ri˘
 
ß
, 
sockÀn_t
 
ßÀn
,

217 *
ª°ri˘
 
node
, 
sockÀn_t
 
nodñí
,

218 *
ª°ri˘
 
£rvi˚
, 
sockÀn_t
 
£rvi˚Àn
,

219 
Êags
)

220 
_GL_ARG_NONNULL
 ((1)));

224 
_GL_CXXALIAS_SYS_CAST
 (
gë«meöfo
, ,

225 (c⁄° 
sockaddr
 *
ª°ri˘
 
ß
, 
sockÀn_t
 
ßÀn
,

226 *
ª°ri˘
 
node
, 
sockÀn_t
 
nodñí
,

227 *
ª°ri˘
 
£rvi˚
, 
sockÀn_t
 
£rvi˚Àn
,

228 
Êags
));

229 
_GL_CXXALIASWARN
 (
gë«meöfo
);

232 #i‚de‡
NI_NUMERICHOST


233 
	#NI_NUMERICHOST
 1

	)

235 #i‚de‡
NI_NUMERICSERV


236 
	#NI_NUMERICSERV
 2

	)

239 #ñi‡
deföed
 
GNULIB_POSIXCHECK


241 #unde‡
gëaddröfo


242 #i‡
HAVE_RAW_DECL_GETADDRINFO


243 
_GL_WARN_ON_USE
 (
gëaddröfo
, "getaddrinfo is unportable - "

247 #unde‡
‰ìaddröfo


248 #i‡
HAVE_RAW_DECL_FREEADDRINFO


249 
_GL_WARN_ON_USE
 (
‰ìaddröfo
, "freeaddrinfo is unportable - "

253 #unde‡
gai_°ªº‹


254 #i‡
HAVE_RAW_DECL_GAI_STRERROR


255 
_GL_WARN_ON_USE
 (
gai_°ªº‹
, "gai_strerror is unportable - "

259 #unde‡
gë«meöfo


260 #i‡
HAVE_RAW_DECL_GETNAMEINFO


261 
_GL_WARN_ON_USE
 (
gë«meöfo
, "getnameinfo is unportable - "

	@lib/netinet_in.in.h

20 #i‚de‡
_
@
GUARD_PREFIX
@
_NETINET_IN_H


22 #i‡
__GNUC__
 >= 3

23 @
	gPRAGMA_SYSTEM_HEADER
@

25 @
	gPRAGMA_COLUMNS
@

27 #i‡@
HAVE_NETINET_IN_H
@

31 
	~<sys/ty≥s.h
>

34 #@
INCLUDE_NEXT
@ @
NEXT_NETINET_IN_H
@

38 #i‚de‡
_
@
GUARD_PREFIX
@
_NETINET_IN_H


39 
	#_
@
GUARD_PREFIX
@
_NETINET_IN_H


	)

41 #i‡!@
HAVE_NETINET_IN_H
@

45 
	~<sys/sockë.h
>

	@lib/open.c

19 
	~<c⁄fig.h
>

22 
	#__√ed_sy°em_f˙é_h


	)

23 
	~<f˙é.h
>

24 #unde‡
__√ed_sy°em_f˙é_h


25 
	~<sys/ty≥s.h
>

27 
ölöe
 

28 
	$‹ig_›í
 (c⁄° *
fûíame
, 
Êags
, 
mode_t
 
mode
)

30  
	`›í
 (
fûíame
, 
Êags
, 
mode
);

31 
	}
}

34 
	~<f˙é.h
>

36 
	~<î∫o.h
>

37 
	~<°d¨g.h
>

38 
	~<°rög.h
>

39 
	~<sys/ty≥s.h
>

40 
	~<sys/°©.h
>

41 
	~<uni°d.h
>

43 #i‚de‡
REPLACE_OPEN_DIRECTORY


44 
	#REPLACE_OPEN_DIRECTORY
 0

	)

48 
	$›í
 (c⁄° *
fûíame
, 
Êags
, ...)

50 
mode_t
 
mode
;

51 
fd
;

53 
mode
 = 0;

54 i‡(
Êags
 & 
O_CREAT
)

56 
va_li°
 
¨g
;

57 
	`va_°¨t
 (
¨g
, 
Êags
);

61 
mode
 = 
	`va_¨g
 (
¨g
, 
PROMOTED_MODE_T
);

63 
	`va_íd
 (
¨g
);

66 #i‡
GNULIB_deföed_O_NONBLOCK


72 
Êags
 &~
O_NONBLOCK
;

75 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


76 i‡(
	`°rcmp
 (
fûíame
, "/dev/null") == 0)

77 
fûíame
 = "NUL";

80 #i‡
OPEN_TRAILING_SLASH_BUG


102 i‡(
Êags
 & (
O_CREAT
 | 
O_WRONLY
 | 
O_RDWR
))

104 
size_t
 
Àn
 = 
	`°æí
 (
fûíame
);

105 i‡(
Àn
 > 0 && 
fûíame
[len - 1] == '/')

107 
î∫o
 = 
EISDIR
;

113 
fd
 = 
	`‹ig_›í
 (
fûíame
, 
Êags
, 
mode
);

115 #i‡
REPLACE_FCHDIR


122 i‡(
REPLACE_OPEN_DIRECTORY
 && 
fd
 < 0 && 
î∫o
 =
EACCES


123 && ((
Êags
 & 
O_ACCMODE
Ë=
O_RDONLY


124 || (
O_SEARCH
 !
O_RDONLY
 && (
Êags
 & 
O_ACCMODE
) == O_SEARCH)))

126 
°©
 
°©buf
;

127 i‡(
	`°©
 (
fûíame
, &
°©buf
Ë=0 && 
	`S_ISDIR
 (°©buf.
°_mode
))

130 
fd
 = 
	`›í
 ("/dev/nuŒ", 
Êags
, 
mode
);

131 i‡(0 <
fd
)

132 
fd
 = 
	`_gl_ªgi°î_fd
 (fd, 
fûíame
);

135 
î∫o
 = 
EACCES
;

139 #i‡
OPEN_TRAILING_SLASH_BUG


152 i‡(
fd
 >= 0)

155 
size_t
 
Àn
 = 
	`°æí
 (
fûíame
);

156 i‡(
fûíame
[
Àn
 - 1] == '/')

158 
°©
 
°©buf
;

160 i‡(
	`f°©
 (
fd
, &
°©buf
Ë>0 && !
	`S_ISDIR
 (°©buf.
°_mode
))

162 
	`˛o£
 (
fd
);

163 
î∫o
 = 
ENOTDIR
;

170 #i‡
REPLACE_FCHDIR


171 i‡(!
REPLACE_OPEN_DIRECTORY
 && 0 <
fd
)

172 
fd
 = 
	`_gl_ªgi°î_fd
 (fd, 
fûíame
);

175  
fd
;

176 
	}
}

	@lib/pipe-safer.c

19 
	~<c⁄fig.h
>

21 
	~"uni°d-ß„r.h
"

23 
	~<uni°d.h
>

24 
	~<î∫o.h
>

31 
	$pùe_ß„r
 (
fd
[2])

33 #i‡
HAVE_PIPE


34 i‡(
	`pùe
 (
fd
) == 0)

36 
i
;

37 
i
 = 0; i < 2; i++)

39 
fd
[
i
] = 
	`fd_ß„r
 (fd[i]);

40 i‡(
fd
[
i
] < 0)

42 
e
 = 
î∫o
;

43 
	`˛o£
 (
fd
[1 - 
i
]);

44 
î∫o
 = 
e
;

52 
î∫o
 = 
ENOSYS
;

56 
	}
}

	@lib/pipe.h

2 
	~"•awn-pùe.h
"

	@lib/pipe2-safer.c

19 
	~<c⁄fig.h
>

22 
	~"uni°d-ß„r.h
"

24 
	~<uni°d.h
>

25 
	~<î∫o.h
>

31 
	$pùe2_ß„r
 (
fd
[2], 
Êags
)

34 i‡(
	`pùe2
 (
fd
, 
Êags
) == 0)

36 
i
;

37 
i
 = 0; i < 2; i++)

39 
fd
[
i
] = 
	`fd_ß„r_Êag
 (fd[i], 
Êags
);

40 i‡(
fd
[
i
] < 0)

42 
e
 = 
î∫o
;

43 
	`˛o£
 (
fd
[1 - 
i
]);

44 
î∫o
 = 
e
;

52 
	}
}

	@lib/pipe2.c

20 
	~<c⁄fig.h
>

23 
	~<uni°d.h
>

25 
	~<î∫o.h
>

26 
	~<f˙é.h
>

28 
	~"bö¨y-io.h
"

29 
	~"vîify.h
"

31 #i‡
GNULIB_deföed_O_NONBLOCK


32 
	~"n⁄blockög.h
"

35 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


38 
	~<io.h
>

43 
	$pùe2
 (
fd
[2], 
Êags
)

48 
tmp
[2];

49 
tmp
[0] = 
fd
[0];

50 
tmp
[1] = 
fd
[1];

52 #i‡
HAVE_PIPE2


53 #unde‡
pùe2


58 
have_pùe2_ªÆly
;

59 i‡(
have_pùe2_ªÆly
 >= 0)

61 
ªsu…
 = 
	`pùe2
 (
fd
, 
Êags
);

62 i‡(!(
ªsu…
 < 0 && 
î∫o
 =
ENOSYS
))

64 
have_pùe2_ªÆly
 = 1;

65  
ªsu…
;

67 
have_pùe2_ªÆly
 = -1;

73 i‡((
Êags
 & ~(
O_CLOEXEC
 | 
O_NONBLOCK
 | 
O_BINARY
 | 
O_TEXT
)) != 0)

75 
î∫o
 = 
EINVAL
;

79 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


82 i‡(
	`_pùe
 (
fd
, 4096, 
Êags
 & ~
O_NONBLOCK
) < 0)

84 
fd
[0] = 
tmp
[0];

85 
fd
[1] = 
tmp
[1];

92 #i‡
GNULIB_deföed_O_NONBLOCK


93 i‡(
Êags
 & 
O_NONBLOCK
)

95 i‡(
	`£t_n⁄blockög_Êag
 (
fd
[0], 
åue
) != 0

96 || 
	`£t_n⁄blockög_Êag
 (
fd
[1], 
åue
) != 0)

97 
Áû
;

100 
	`vîify
 (
O_NONBLOCK
 == 0);

108 i‡(
	`pùe
 (
fd
) < 0)

117 i‡(
Êags
 & 
O_NONBLOCK
)

119 
f˙é_Êags
;

121 i‡((
f˙é_Êags
 = 
	`f˙é
 (
fd
[1], 
F_GETFL
, 0)) < 0

122 || 
	`f˙é
 (
fd
[1], 
F_SETFL
, 
f˙é_Êags
 | 
O_NONBLOCK
) == -1

123 || (
f˙é_Êags
 = 
	`f˙é
 (
fd
[0], 
F_GETFL
, 0)) < 0

124 || 
	`f˙é
 (
fd
[0], 
F_SETFL
, 
f˙é_Êags
 | 
O_NONBLOCK
) == -1)

125 
Áû
;

128 i‡(
Êags
 & 
O_CLOEXEC
)

130 
f˙é_Êags
;

132 i‡((
f˙é_Êags
 = 
	`f˙é
 (
fd
[1], 
F_GETFD
, 0)) < 0

133 || 
	`f˙é
 (
fd
[1], 
F_SETFD
, 
f˙é_Êags
 | 
FD_CLOEXEC
) == -1

134 || (
f˙é_Êags
 = 
	`f˙é
 (
fd
[0], 
F_GETFD
, 0)) < 0

135 || 
	`f˙é
 (
fd
[0], 
F_SETFD
, 
f˙é_Êags
 | 
FD_CLOEXEC
) == -1)

136 
Áû
;

139 #i‡
O_BINARY


140 i‡(
Êags
 & 
O_BINARY
)

142 
	`£tmode
 (
fd
[1], 
O_BINARY
);

143 
	`£tmode
 (
fd
[0], 
O_BINARY
);

145 i‡(
Êags
 & 
O_TEXT
)

147 
	`£tmode
 (
fd
[1], 
O_TEXT
);

148 
	`£tmode
 (
fd
[0], 
O_TEXT
);

156 
Áû
:

158 
ßved_î∫o
 = 
î∫o
;

159 
	`˛o£
 (
fd
[0]);

160 
	`˛o£
 (
fd
[1]);

161 
fd
[0] = 
tmp
[0];

162 
fd
[1] = 
tmp
[1];

163 
î∫o
 = 
ßved_î∫o
;

166 
	}
}

	@lib/printf-args.c

26 #i‚de‡
PRINTF_FETCHARGS


27 
	~<c⁄fig.h
>

31 #i‚de‡
PRINTF_FETCHARGS


32 
	~"¥ötf-¨gs.h
"

35 #ifde‡
STATIC


36 
	gSTATIC


39 
	$PRINTF_FETCHARGS
 (
va_li°
 
¨gs
, 
¨gumíts
 *
a
)

41 
size_t
 
i
;

42 
¨gumít
 *
≠
;

44 
i
 = 0, 
≠
 = &
a
->
¨g
[0]; i <á->
cou¡
; i++,áp++)

45 
≠
->
ty≥
)

47 
TYPE_SCHAR
:

48 
≠
->
a
.
a_sch¨
 = 
	`va_¨g
 (
¨gs
, );

50 
TYPE_UCHAR
:

51 
≠
->
a
.
a_uch¨
 = 
	`va_¨g
 (
¨gs
, );

53 
TYPE_SHORT
:

54 
≠
->
a
.
a_sh‹t
 = 
	`va_¨g
 (
¨gs
, );

56 
TYPE_USHORT
:

57 
≠
->
a
.
a_ush‹t
 = 
	`va_¨g
 (
¨gs
, );

59 
TYPE_INT
:

60 
≠
->
a
.
a_öt
 = 
	`va_¨g
 (
¨gs
, );

62 
TYPE_UINT
:

63 
≠
->
a
.
a_uöt
 = 
	`va_¨g
 (
¨gs
, );

65 
TYPE_LONGINT
:

66 
≠
->
a
.
a_l⁄göt
 = 
	`va_¨g
 (
¨gs
, );

68 
TYPE_ULONGINT
:

69 
≠
->
a
.
a_ul⁄göt
 = 
	`va_¨g
 (
¨gs
, );

71 #i‡
HAVE_LONG_LONG_INT


72 
TYPE_LONGLONGINT
:

73 
≠
->
a
.
a_l⁄gl⁄göt
 = 
	`va_¨g
 (
¨gs
, );

75 
TYPE_ULONGLONGINT
:

76 
≠
->
a
.
a_ul⁄gl⁄göt
 = 
	`va_¨g
 (
¨gs
, );

79 
TYPE_DOUBLE
:

80 
≠
->
a
.
a_doubÀ
 = 
	`va_¨g
 (
¨gs
, );

82 
TYPE_LONGDOUBLE
:

83 
≠
->
a
.
a_l⁄gdoubÀ
 = 
	`va_¨g
 (
¨gs
, );

85 
TYPE_CHAR
:

86 
≠
->
a
.
a_ch¨
 = 
	`va_¨g
 (
¨gs
, );

88 #i‡
HAVE_WINT_T


89 
TYPE_WIDE_CHAR
:

93 
≠
->
a
.
a_wide_ch¨
 =

94 ( (
wöt_t
) <  ()

95 ? (
wöt_t
Ë
	`va_¨g
 (
¨gs
, )

96 : 
	`va_¨g
 (
¨gs
, 
wöt_t
));

99 
TYPE_STRING
:

100 
≠
->
a
.
a_°rög
 = 
	`va_¨g
 (
¨gs
, const *);

104 i‡(
≠
->
a
.
a_°rög
 =
NULL
)

105 
≠
->
a
.
a_°rög
 = "(NULL)";

107 #i‡
HAVE_WCHAR_T


108 
TYPE_WIDE_STRING
:

109 
≠
->
a
.
a_wide_°rög
 = 
	`va_¨g
 (
¨gs
, c⁄° 
wch¨_t
 *);

113 i‡(
≠
->
a
.
a_wide_°rög
 =
NULL
)

115 c⁄° 
wch¨_t
 
wide_nuŒ_°rög
[] =

117 (
wch¨_t
)'(',

118 (
wch¨_t
)'N', (wchar_t)'U', (wchar_t)'L', (wchar_t)'L',

119 (
wch¨_t
)')',

120 (
wch¨_t
)0

122 
≠
->
a
.
a_wide_°rög
 = 
wide_nuŒ_°rög
;

126 
TYPE_POINTER
:

127 
≠
->
a
.
a_poöãr
 = 
	`va_¨g
 (
¨gs
, *);

129 
TYPE_COUNT_SCHAR_POINTER
:

130 
≠
->
a
.
a_cou¡_sch¨_poöãr
 = 
	`va_¨g
 (
¨gs
, signed *);

132 
TYPE_COUNT_SHORT_POINTER
:

133 
≠
->
a
.
a_cou¡_sh‹t_poöãr
 = 
	`va_¨g
 (
¨gs
, *);

135 
TYPE_COUNT_INT_POINTER
:

136 
≠
->
a
.
a_cou¡_öt_poöãr
 = 
	`va_¨g
 (
¨gs
, *);

138 
TYPE_COUNT_LONGINT_POINTER
:

139 
≠
->
a
.
a_cou¡_l⁄göt_poöãr
 = 
	`va_¨g
 (
¨gs
, *);

141 #i‡
HAVE_LONG_LONG_INT


142 
TYPE_COUNT_LONGLONGINT_POINTER
:

143 
≠
->
a
.
a_cou¡_l⁄gl⁄göt_poöãr
 = 
	`va_¨g
 (
¨gs
, *);

146 #i‡
ENABLE_UNISTDIO


148 
TYPE_U8_STRING
:

149 
≠
->
a
.
a_u8_°rög
 = 
	`va_¨g
 (
¨gs
, c⁄° 
uöt8_t
 *);

153 i‡(
≠
->
a
.
a_u8_°rög
 =
NULL
)

155 c⁄° 
uöt8_t
 
u8_nuŒ_°rög
[] =

157 
≠
->
a
.
a_u8_°rög
 = 
u8_nuŒ_°rög
;

160 
TYPE_U16_STRING
:

161 
≠
->
a
.
a_u16_°rög
 = 
	`va_¨g
 (
¨gs
, c⁄° 
uöt16_t
 *);

165 i‡(
≠
->
a
.
a_u16_°rög
 =
NULL
)

167 c⁄° 
uöt16_t
 
u16_nuŒ_°rög
[] =

169 
≠
->
a
.
a_u16_°rög
 = 
u16_nuŒ_°rög
;

172 
TYPE_U32_STRING
:

173 
≠
->
a
.
a_u32_°rög
 = 
	`va_¨g
 (
¨gs
, c⁄° 
uöt32_t
 *);

177 i‡(
≠
->
a
.
a_u32_°rög
 =
NULL
)

179 c⁄° 
uöt32_t
 
u32_nuŒ_°rög
[] =

181 
≠
->
a
.
a_u32_°rög
 = 
u32_nuŒ_°rög
;

190 
	}
}

	@lib/printf-args.h

21 #i‚de‡
_PRINTF_ARGS_H


22 
	#_PRINTF_ARGS_H


	)

30 #i‚de‡
PRINTF_FETCHARGS


31 
	#PRINTF_FETCHARGS
 
¥ötf_„tch¨gs


	)

35 
	~<°ddef.h
>

38 #i‡
HAVE_WCHAR_T


39 
	~<°ddef.h
>

43 #i‡
HAVE_WINT_T


44 
	~<wch¨.h
>

48 
	~<°d¨g.h
>

54 
	mTYPE_NONE
,

55 
	mTYPE_SCHAR
,

56 
	mTYPE_UCHAR
,

57 
	mTYPE_SHORT
,

58 
	mTYPE_USHORT
,

59 
	mTYPE_INT
,

60 
	mTYPE_UINT
,

61 
	mTYPE_LONGINT
,

62 
	mTYPE_ULONGINT
,

63 #i‡
HAVE_LONG_LONG_INT


64 
	mTYPE_LONGLONGINT
,

65 
	mTYPE_ULONGLONGINT
,

67 
	mTYPE_DOUBLE
,

68 
	mTYPE_LONGDOUBLE
,

69 
	mTYPE_CHAR
,

70 #i‡
HAVE_WINT_T


71 
	mTYPE_WIDE_CHAR
,

73 
	mTYPE_STRING
,

74 #i‡
HAVE_WCHAR_T


75 
	mTYPE_WIDE_STRING
,

77 
	mTYPE_POINTER
,

78 
	mTYPE_COUNT_SCHAR_POINTER
,

79 
	mTYPE_COUNT_SHORT_POINTER
,

80 
	mTYPE_COUNT_INT_POINTER
,

81 
	mTYPE_COUNT_LONGINT_POINTER


82 #i‡
HAVE_LONG_LONG_INT


83 , 
	mTYPE_COUNT_LONGLONGINT_POINTER


85 #i‡
ENABLE_UNISTDIO


87 , 
	mTYPE_U8_STRING


88 , 
	mTYPE_U16_STRING


89 , 
	mTYPE_U32_STRING


91 } 
	t¨g_ty≥
;

96 
¨g_ty≥
 
	mty≥
;

99 sig√d 
	ma_sch¨
;

100 
	ma_uch¨
;

101 
	ma_sh‹t
;

102 
	ma_ush‹t
;

103 
	ma_öt
;

104 
	ma_uöt
;

105 
	ma_l⁄göt
;

106 
	ma_ul⁄göt
;

107 #i‡
HAVE_LONG_LONG_INT


108 
	ma_l⁄gl⁄göt
;

109 
	ma_ul⁄gl⁄göt
;

111 
	ma_Êﬂt
;

112 
	ma_doubÀ
;

113 
	ma_l⁄gdoubÀ
;

114 
	ma_ch¨
;

115 #i‡
HAVE_WINT_T


116 
wöt_t
 
	ma_wide_ch¨
;

118 c⁄° * 
	ma_°rög
;

119 #i‡
HAVE_WCHAR_T


120 c⁄° 
wch¨_t
* 
	ma_wide_°rög
;

122 * 
	ma_poöãr
;

123 sig√d * 
	ma_cou¡_sch¨_poöãr
;

124 * 
	ma_cou¡_sh‹t_poöãr
;

125 * 
	ma_cou¡_öt_poöãr
;

126 * 
	ma_cou¡_l⁄göt_poöãr
;

127 #i‡
HAVE_LONG_LONG_INT


128 * 
	ma_cou¡_l⁄gl⁄göt_poöãr
;

130 #i‡
ENABLE_UNISTDIO


132 c⁄° 
uöt8_t
 * 
	ma_u8_°rög
;

133 c⁄° 
uöt16_t
 * 
	ma_u16_°rög
;

134 c⁄° 
uöt32_t
 * 
	ma_u32_°rög
;

137 
	ma
;

139 
	t¨gumít
;

142 
	#N_DIRECT_ALLOC_ARGUMENTS
 7

	)

146 
size_t
 
	mcou¡
;

147 
¨gumít
 *
	m¨g
;

148 
¨gumít
 
	mdúe˘_Æloc_¨g
[
N_DIRECT_ALLOC_ARGUMENTS
];

150 
	t¨gumíts
;

154 #ifde‡
STATIC


155 
	gSTATIC


159 
PRINTF_FETCHARGS
 (
va_li°
 
¨gs
, 
¨gumíts
 *
a
);

	@lib/printf-parse.c

33 #i‚de‡
PRINTF_PARSE


34 
	~<c⁄fig.h
>

38 #i‚de‡
PRINTF_PARSE


39 
	~"¥ötf-∑r£.h
"

43 #i‚de‡
PRINTF_PARSE


44 
	#PRINTF_PARSE
 
¥ötf_∑r£


	)

45 
	#CHAR_T
 

	)

46 
	#DIRECTIVE
 
ch¨_dúe˘ive


	)

47 
	#DIRECTIVES
 
ch¨_dúe˘ives


	)

51 
	~<°ddef.h
>

54 #i‡
deföed
 
IN_LIBINTL
 || deföed 
IN_LIBASPRINTF


55 #i‡
HAVE_STDINT_H_WITH_UINTMAX


56 
	~<°döt.h
>

58 #i‡
HAVE_INTTYPES_H_WITH_UINTMAX


59 
	~<öây≥s.h
>

62 
	~<°döt.h
>

66 
	~<°dlib.h
>

69 
	~<°rög.h
>

72 
	~<î∫o.h
>

75 
	~"xsize.h
"

77 #i‡
CHAR_T_ONLY_ASCII


79 
	~"c-˘y≥.h
"

82 #ifde‡
STATIC


83 
	gSTATIC


86 
	$PRINTF_PARSE
 (c⁄° 
CHAR_T
 *
f‹m©
, 
DIRECTIVES
 *
d
, 
¨gumíts
 *
a
)

88 c⁄° 
CHAR_T
 *
˝
 = 
f‹m©
;

89 
size_t
 
¨g_po¢
 = 0;

90 
size_t
 
d_Æloˇãd
;

91 
size_t
 
a_Æloˇãd
;

92 
size_t
 
max_width_Àngth
 = 0;

93 
size_t
 
max_¥ecisi⁄_Àngth
 = 0;

95 
d
->
cou¡
 = 0;

96 
d_Æloˇãd
 = 
N_DIRECT_ALLOC_DIRECTIVES
;

97 
d
->
dú
 = d->
dúe˘_Æloc_dú
;

99 
a
->
cou¡
 = 0;

100 
a_Æloˇãd
 = 
N_DIRECT_ALLOC_ARGUMENTS
;

101 
a
->
¨g
 =á->
dúe˘_Æloc_¨g
;

103 
	#REGISTER_ARG
(
_ödex_
,
_ty≥_
) \

105 
size_t
 
n
 = (
_ödex_
); \

106 i‡(
n
 >
a_Æloˇãd
) \

108 
size_t
 
mem‹y_size
; \

109 
¨gumít
 *
mem‹y
; \

111 
a_Æloˇãd
 = 
	`xtimes
 (a_allocated, 2); \

112 i‡(
a_Æloˇãd
 <
n
) \

113 
a_Æloˇãd
 = 
	`xsum
 (
n
, 1); \

114 
mem‹y_size
 = 
	`xtimes
 (
a_Æloˇãd
,  (
¨gumít
)); \

115 i‡(
	`size_ovîÊow_p
 (
mem‹y_size
)) \

117 
out_of_mem‹y
; \

118 
mem‹y
 = (
¨gumít
 *Ë(
a
->
¨g
 !a->
dúe˘_Æloc_¨g
 \

119 ? 
	`ªÆloc
 (
a
->
¨g
, 
mem‹y_size
) \

120 : 
	`mÆloc
 (
mem‹y_size
)); \

121 i‡(
mem‹y
 =
NULL
) \

123 
out_of_mem‹y
; \

124 i‡(
a
->
¨g
 =a->
dúe˘_Æloc_¨g
) \

125 
	`mem˝y
 (
mem‹y
, 
a
->
¨g
,á->
cou¡
 *  (
¨gumít
)); \

126 
a
->
¨g
 = 
mem‹y
; \

128 
a
->
cou¡
 <
n
) \

129 
a
->
¨g
[a->
cou¡
++].
ty≥
 = 
TYPE_NONE
; \

130 i‡(
a
->
¨g
[
n
].
ty≥
 =
TYPE_NONE
) \

131 
a
->
¨g
[
n
].
ty≥
 = (
_ty≥_
); \

132 i‡(
a
->
¨g
[
n
].
ty≥
 !(
_ty≥_
)) \

134 
îr‹
; \

135 }

	)

137 *
˝
 != '\0')

139 
CHAR_T
 
c
 = *
˝
++;

140 i‡(
c
 == '%')

142 
size_t
 
¨g_ödex
 = 
ARG_NONE
;

143 
DIRECTIVE
 *
dp
 = &
d
->
dú
[d->
cou¡
];

146 
dp
->
dú_°¨t
 = 
˝
 - 1;

147 
dp
->
Êags
 = 0;

148 
dp
->
width_°¨t
 = 
NULL
;

149 
dp
->
width_íd
 = 
NULL
;

150 
dp
->
width_¨g_ödex
 = 
ARG_NONE
;

151 
dp
->
¥ecisi⁄_°¨t
 = 
NULL
;

152 
dp
->
¥ecisi⁄_íd
 = 
NULL
;

153 
dp
->
¥ecisi⁄_¨g_ödex
 = 
ARG_NONE
;

154 
dp
->
¨g_ödex
 = 
ARG_NONE
;

157 i‡(*
˝
 >= '0' && *cp <= '9')

159 c⁄° 
CHAR_T
 *
≈
;

161 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

163 i‡(*
≈
 == '$')

165 
size_t
 
n
 = 0;

167 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

168 
n
 = 
	`xsum
 (
	`xtimes
 (n, 10), *
≈
 - '0');

169 i‡(
n
 == 0)

171 
îr‹
;

172 i‡(
	`size_ovîÊow_p
 (
n
))

174 
îr‹
;

175 
¨g_ödex
 = 
n
 - 1;

176 
˝
 = 
≈
 + 1;

183 i‡(*
˝
 == '\'')

185 
dp
->
Êags
 |
FLAG_GROUP
;

186 
˝
++;

188 i‡(*
˝
 == '-')

190 
dp
->
Êags
 |
FLAG_LEFT
;

191 
˝
++;

193 i‡(*
˝
 == '+')

195 
dp
->
Êags
 |
FLAG_SHOWSIGN
;

196 
˝
++;

198 i‡(*
˝
 == ' ')

200 
dp
->
Êags
 |
FLAG_SPACE
;

201 
˝
++;

203 i‡(*
˝
 == '#')

205 
dp
->
Êags
 |
FLAG_ALT
;

206 
˝
++;

208 i‡(*
˝
 == '0')

210 
dp
->
Êags
 |
FLAG_ZERO
;

211 
˝
++;

213 #i‡
__GLIBC__
 >2 && !
deföed
 
__UCLIBC__


214 i‡(*
˝
 == 'I')

216 
dp
->
Êags
 |
FLAG_LOCALIZED
;

217 
˝
++;

225 i‡(*
˝
 == '*')

227 
dp
->
width_°¨t
 = 
˝
;

228 
˝
++;

229 
dp
->
width_íd
 = 
˝
;

230 i‡(
max_width_Àngth
 < 1)

231 
max_width_Àngth
 = 1;

234 i‡(*
˝
 >= '0' && *cp <= '9')

236 c⁄° 
CHAR_T
 *
≈
;

238 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

240 i‡(*
≈
 == '$')

242 
size_t
 
n
 = 0;

244 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

245 
n
 = 
	`xsum
 (
	`xtimes
 (n, 10), *
≈
 - '0');

246 i‡(
n
 == 0)

248 
îr‹
;

249 i‡(
	`size_ovîÊow_p
 (
n
))

251 
îr‹
;

252 
dp
->
width_¨g_ödex
 = 
n
 - 1;

253 
˝
 = 
≈
 + 1;

256 i‡(
dp
->
width_¨g_ödex
 =
ARG_NONE
)

258 
dp
->
width_¨g_ödex
 = 
¨g_po¢
++;

259 i‡(
dp
->
width_¨g_ödex
 =
ARG_NONE
)

261 
îr‹
;

263 
	`REGISTER_ARG
 (
dp
->
width_¨g_ödex
, 
TYPE_INT
);

265 i‡(*
˝
 >= '0' && *cp <= '9')

267 
size_t
 
width_Àngth
;

269 
dp
->
width_°¨t
 = 
˝
;

270 ; *
˝
 >= '0' && *cp <= '9'; cp++)

272 
dp
->
width_íd
 = 
˝
;

273 
width_Àngth
 = 
dp
->
width_íd
 - dp->
width_°¨t
;

274 i‡(
max_width_Àngth
 < 
width_Àngth
)

275 
max_width_Àngth
 = 
width_Àngth
;

279 i‡(*
˝
 == '.')

281 
˝
++;

282 i‡(*
˝
 == '*')

284 
dp
->
¥ecisi⁄_°¨t
 = 
˝
 - 1;

285 
˝
++;

286 
dp
->
¥ecisi⁄_íd
 = 
˝
;

287 i‡(
max_¥ecisi⁄_Àngth
 < 2)

288 
max_¥ecisi⁄_Àngth
 = 2;

291 i‡(*
˝
 >= '0' && *cp <= '9')

293 c⁄° 
CHAR_T
 *
≈
;

295 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

297 i‡(*
≈
 == '$')

299 
size_t
 
n
 = 0;

301 
≈
 = 
˝
; *np >= '0' && *np <= '9';Çp++)

302 
n
 = 
	`xsum
 (
	`xtimes
 (n, 10), *
≈
 - '0');

303 i‡(
n
 == 0)

305 
îr‹
;

306 i‡(
	`size_ovîÊow_p
 (
n
))

309 
îr‹
;

310 
dp
->
¥ecisi⁄_¨g_ödex
 = 
n
 - 1;

311 
˝
 = 
≈
 + 1;

314 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 =
ARG_NONE
)

316 
dp
->
¥ecisi⁄_¨g_ödex
 = 
¨g_po¢
++;

317 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 =
ARG_NONE
)

319 
îr‹
;

321 
	`REGISTER_ARG
 (
dp
->
¥ecisi⁄_¨g_ödex
, 
TYPE_INT
);

325 
size_t
 
¥ecisi⁄_Àngth
;

327 
dp
->
¥ecisi⁄_°¨t
 = 
˝
 - 1;

328 ; *
˝
 >= '0' && *cp <= '9'; cp++)

330 
dp
->
¥ecisi⁄_íd
 = 
˝
;

331 
¥ecisi⁄_Àngth
 = 
dp
->
¥ecisi⁄_íd
 - dp->
¥ecisi⁄_°¨t
;

332 i‡(
max_¥ecisi⁄_Àngth
 < 
¥ecisi⁄_Àngth
)

333 
max_¥ecisi⁄_Àngth
 = 
¥ecisi⁄_Àngth
;

338 
¨g_ty≥
 
ty≥
;

342 
Êags
 = 0;

346 i‡(*
˝
 == 'h')

348 
Êags
 |= (1 << (flags & 1));

349 
˝
++;

351 i‡(*
˝
 == 'L')

353 
Êags
 |= 4;

354 
˝
++;

356 i‡(*
˝
 == 'l')

358 
Êags
 += 8;

359 
˝
++;

361 i‡(*
˝
 == 'j')

363 i‡( (
ötmax_t
) >  ())

366 
Êags
 += 16;

368 i‡( (
ötmax_t
) >  ())

371 
Êags
 += 8;

373 
˝
++;

375 i‡(*
˝
 == 'z' || *cp == 'Z')

380 i‡( (
size_t
) >  ())

383 
Êags
 += 16;

385 i‡( (
size_t
) >  ())

388 
Êags
 += 8;

390 
˝
++;

392 i‡(*
˝
 == 't')

394 i‡( (
±rdiff_t
) >  ())

397 
Êags
 += 16;

399 i‡( (
±rdiff_t
) >  ())

402 
Êags
 += 8;

404 
˝
++;

406 #i‡
deföed
 
__APPLE__
 && deföed 
__MACH__


410 i‡(*
˝
 == 'q')

415 
Êags
 += 16;

420 
Êags
 += 8;

422 
˝
++;

425 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


429 i‡(*
˝
 == 'I' && cp[1] == '6' && cp[2] == '4')

434 
Êags
 += 16;

439 
Êags
 += 8;

441 
˝
 += 3;

449 
c
 = *
˝
++;

450 
c
)

453 #i‡
HAVE_LONG_LONG_INT


455 i‡(
Êags
 >= 16 || (flags & 4))

456 
ty≥
 = 
TYPE_LONGLONGINT
;

461 i‡(
Êags
 >= 8)

462 
ty≥
 = 
TYPE_LONGINT
;

463 i‡(
Êags
 & 2)

464 
ty≥
 = 
TYPE_SCHAR
;

465 i‡(
Êags
 & 1)

466 
ty≥
 = 
TYPE_SHORT
;

468 
ty≥
 = 
TYPE_INT
;

471 #i‡
HAVE_LONG_LONG_INT


473 i‡(
Êags
 >= 16 || (flags & 4))

474 
ty≥
 = 
TYPE_ULONGLONGINT
;

479 i‡(
Êags
 >= 8)

480 
ty≥
 = 
TYPE_ULONGINT
;

481 i‡(
Êags
 & 2)

482 
ty≥
 = 
TYPE_UCHAR
;

483 i‡(
Êags
 & 1)

484 
ty≥
 = 
TYPE_USHORT
;

486 
ty≥
 = 
TYPE_UINT
;

490 i‡(
Êags
 >= 16 || (flags & 4))

491 
ty≥
 = 
TYPE_LONGDOUBLE
;

493 
ty≥
 = 
TYPE_DOUBLE
;

496 i‡(
Êags
 >= 8)

497 #i‡
HAVE_WINT_T


498 
ty≥
 = 
TYPE_WIDE_CHAR
;

500 
îr‹
;

503 
ty≥
 = 
TYPE_CHAR
;

505 #i‡
HAVE_WINT_T


507 
ty≥
 = 
TYPE_WIDE_CHAR
;

508 
c
 = 'c';

512 i‡(
Êags
 >= 8)

513 #i‡
HAVE_WCHAR_T


514 
ty≥
 = 
TYPE_WIDE_STRING
;

516 
îr‹
;

519 
ty≥
 = 
TYPE_STRING
;

521 #i‡
HAVE_WCHAR_T


523 
ty≥
 = 
TYPE_WIDE_STRING
;

524 
c
 = 's';

528 
ty≥
 = 
TYPE_POINTER
;

531 #i‡
HAVE_LONG_LONG_INT


533 i‡(
Êags
 >= 16 || (flags & 4))

534 
ty≥
 = 
TYPE_COUNT_LONGLONGINT_POINTER
;

539 i‡(
Êags
 >= 8)

540 
ty≥
 = 
TYPE_COUNT_LONGINT_POINTER
;

541 i‡(
Êags
 & 2)

542 
ty≥
 = 
TYPE_COUNT_SCHAR_POINTER
;

543 i‡(
Êags
 & 1)

544 
ty≥
 = 
TYPE_COUNT_SHORT_POINTER
;

546 
ty≥
 = 
TYPE_COUNT_INT_POINTER
;

548 #i‡
ENABLE_UNISTDIO


551 i‡(
Êags
 >= 16)

552 
ty≥
 = 
TYPE_U32_STRING
;

553 i‡(
Êags
 >= 8)

554 
ty≥
 = 
TYPE_U16_STRING
;

556 
ty≥
 = 
TYPE_U8_STRING
;

560 
ty≥
 = 
TYPE_NONE
;

564 
îr‹
;

568 i‡(
ty≥
 !
TYPE_NONE
)

570 
dp
->
¨g_ödex
 =árg_index;

571 i‡(
dp
->
¨g_ödex
 =
ARG_NONE
)

573 
dp
->
¨g_ödex
 = 
¨g_po¢
++;

574 i‡(
dp
->
¨g_ödex
 =
ARG_NONE
)

576 
îr‹
;

578 
	`REGISTER_ARG
 (
dp
->
¨g_ödex
, 
ty≥
);

580 
dp
->
c⁄vîsi⁄
 = 
c
;

581 
dp
->
dú_íd
 = 
˝
;

584 
d
->
cou¡
++;

585 i‡(
d
->
cou¡
 >
d_Æloˇãd
)

587 
size_t
 
mem‹y_size
;

588 
DIRECTIVE
 *
mem‹y
;

590 
d_Æloˇãd
 = 
	`xtimes
 (d_allocated, 2);

591 
mem‹y_size
 = 
	`xtimes
 (
d_Æloˇãd
,  (
DIRECTIVE
));

592 i‡(
	`size_ovîÊow_p
 (
mem‹y_size
))

594 
out_of_mem‹y
;

595 
mem‹y
 = (
DIRECTIVE
 *Ë(
d
->
dú
 !d->
dúe˘_Æloc_dú


596 ? 
	`ªÆloc
 (
d
->
dú
, 
mem‹y_size
)

597 : 
	`mÆloc
 (
mem‹y_size
));

598 i‡(
mem‹y
 =
NULL
)

600 
out_of_mem‹y
;

601 i‡(
d
->
dú
 =d->
dúe˘_Æloc_dú
)

602 
	`mem˝y
 (
mem‹y
, 
d
->
dú
, d->
cou¡
 *  (
DIRECTIVE
));

603 
d
->
dú
 = 
mem‹y
;

606 #i‡
CHAR_T_ONLY_ASCII


607 i‡(!
	`c_ißscii
 (
c
))

610 
îr‹
;

614 
d
->
dú
[d->
cou¡
].
dú_°¨t
 = 
˝
;

616 
d
->
max_width_Àngth
 = max_width_length;

617 
d
->
max_¥ecisi⁄_Àngth
 = max_precision_length;

620 
îr‹
:

621 i‡(
a
->
¨g
 !a->
dúe˘_Æloc_¨g
)

622 
	`‰ì
 (
a
->
¨g
);

623 i‡(
d
->
dú
 !d->
dúe˘_Æloc_dú
)

624 
	`‰ì
 (
d
->
dú
);

625 
î∫o
 = 
EINVAL
;

628 
out_of_mem‹y
:

629 i‡(
a
->
¨g
 !a->
dúe˘_Æloc_¨g
)

630 
	`‰ì
 (
a
->
¨g
);

631 i‡(
d
->
dú
 !d->
dúe˘_Æloc_dú
)

632 
	`‰ì
 (
d
->
dú
);

633 
î∫o
 = 
ENOMEM
;

635 
	}
}

637 #unde‡
PRINTF_PARSE


638 #unde‡
DIRECTIVES


639 #unde‡
DIRECTIVE


640 #unde‡
CHAR_T_ONLY_ASCII


641 #unde‡
CHAR_T


	@lib/printf-parse.h

21 #i‚de‡
_PRINTF_PARSE_H


22 
	#_PRINTF_PARSE_H


	)

28 #i‡
HAVE_FEATURES_H


29 
	~<„©uªs.h
>

32 
	~"¥ötf-¨gs.h
"

36 
	#FLAG_GROUP
 1

	)

37 
	#FLAG_LEFT
 2

	)

38 
	#FLAG_SHOWSIGN
 4

	)

39 
	#FLAG_SPACE
 8

	)

40 
	#FLAG_ALT
 16

	)

41 
	#FLAG_ZERO
 32

	)

42 #i‡
__GLIBC__
 >2 && !
deföed
 
__UCLIBC__


43 
	#FLAG_LOCALIZED
 64

	)

47 
	#ARG_NONE
 (~(
size_t
)0)

	)

53 
	#N_DIRECT_ALLOC_DIRECTIVES
 7

	)

58 c⁄° * 
	mdú_°¨t
;

59 c⁄° * 
	mdú_íd
;

60 
	mÊags
;

61 c⁄° * 
	mwidth_°¨t
;

62 c⁄° * 
	mwidth_íd
;

63 
size_t
 
	mwidth_¨g_ödex
;

64 c⁄° * 
	m¥ecisi⁄_°¨t
;

65 c⁄° * 
	m¥ecisi⁄_íd
;

66 
size_t
 
	m¥ecisi⁄_¨g_ödex
;

67 
	mc⁄vîsi⁄
;

68 
size_t
 
	m¨g_ödex
;

70 
	tch¨_dúe˘ive
;

75 
size_t
 
	mcou¡
;

76 
ch¨_dúe˘ive
 *
	mdú
;

77 
size_t
 
	mmax_width_Àngth
;

78 
size_t
 
	mmax_¥ecisi⁄_Àngth
;

79 
ch¨_dúe˘ive
 
	mdúe˘_Æloc_dú
[
N_DIRECT_ALLOC_DIRECTIVES
];

81 
	tch¨_dúe˘ives
;

83 #i‡
ENABLE_UNISTDIO


88 c⁄° 
uöt8_t
* 
	mdú_°¨t
;

89 c⁄° 
uöt8_t
* 
	mdú_íd
;

90 
	mÊags
;

91 c⁄° 
uöt8_t
* 
	mwidth_°¨t
;

92 c⁄° 
uöt8_t
* 
	mwidth_íd
;

93 
size_t
 
	mwidth_¨g_ödex
;

94 c⁄° 
uöt8_t
* 
	m¥ecisi⁄_°¨t
;

95 c⁄° 
uöt8_t
* 
	m¥ecisi⁄_íd
;

96 
size_t
 
	m¥ecisi⁄_¨g_ödex
;

97 
uöt8_t
 
	mc⁄vîsi⁄
;

98 
size_t
 
	m¨g_ödex
;

100 
	tu8_dúe˘ive
;

105 
size_t
 
	mcou¡
;

106 
u8_dúe˘ive
 *
	mdú
;

107 
size_t
 
	mmax_width_Àngth
;

108 
size_t
 
	mmax_¥ecisi⁄_Àngth
;

109 
u8_dúe˘ive
 
	mdúe˘_Æloc_dú
[
N_DIRECT_ALLOC_DIRECTIVES
];

111 
	tu8_dúe˘ives
;

116 c⁄° 
uöt16_t
* 
	mdú_°¨t
;

117 c⁄° 
uöt16_t
* 
	mdú_íd
;

118 
	mÊags
;

119 c⁄° 
uöt16_t
* 
	mwidth_°¨t
;

120 c⁄° 
uöt16_t
* 
	mwidth_íd
;

121 
size_t
 
	mwidth_¨g_ödex
;

122 c⁄° 
uöt16_t
* 
	m¥ecisi⁄_°¨t
;

123 c⁄° 
uöt16_t
* 
	m¥ecisi⁄_íd
;

124 
size_t
 
	m¥ecisi⁄_¨g_ödex
;

125 
uöt16_t
 
	mc⁄vîsi⁄
;

126 
size_t
 
	m¨g_ödex
;

128 
	tu16_dúe˘ive
;

133 
size_t
 
	mcou¡
;

134 
u16_dúe˘ive
 *
	mdú
;

135 
size_t
 
	mmax_width_Àngth
;

136 
size_t
 
	mmax_¥ecisi⁄_Àngth
;

137 
u16_dúe˘ive
 
	mdúe˘_Æloc_dú
[
N_DIRECT_ALLOC_DIRECTIVES
];

139 
	tu16_dúe˘ives
;

144 c⁄° 
uöt32_t
* 
	mdú_°¨t
;

145 c⁄° 
uöt32_t
* 
	mdú_íd
;

146 
	mÊags
;

147 c⁄° 
uöt32_t
* 
	mwidth_°¨t
;

148 c⁄° 
uöt32_t
* 
	mwidth_íd
;

149 
size_t
 
	mwidth_¨g_ödex
;

150 c⁄° 
uöt32_t
* 
	m¥ecisi⁄_°¨t
;

151 c⁄° 
uöt32_t
* 
	m¥ecisi⁄_íd
;

152 
size_t
 
	m¥ecisi⁄_¨g_ödex
;

153 
uöt32_t
 
	mc⁄vîsi⁄
;

154 
size_t
 
	m¨g_ödex
;

156 
	tu32_dúe˘ive
;

161 
size_t
 
	mcou¡
;

162 
u32_dúe˘ive
 *
	mdú
;

163 
size_t
 
	mmax_width_Àngth
;

164 
size_t
 
	mmax_¥ecisi⁄_Àngth
;

165 
u32_dúe˘ive
 
	mdúe˘_Æloc_dú
[
N_DIRECT_ALLOC_DIRECTIVES
];

167 
	tu32_dúe˘ives
;

176 #i‡
ENABLE_UNISTDIO


178 
ulc_¥ötf_∑r£
 (c⁄° *
f‹m©
, 
ch¨_dúe˘ives
 *
d
, 
¨gumíts
 *
a
);

180 
u8_¥ötf_∑r£
 (c⁄° 
uöt8_t
 *
f‹m©
, 
u8_dúe˘ives
 *
d
, 
¨gumíts
 *
a
);

182 
u16_¥ötf_∑r£
 (c⁄° 
uöt16_t
 *
f‹m©
, 
u16_dúe˘ives
 *
d
,

183 
¨gumíts
 *
a
);

185 
u32_¥ötf_∑r£
 (c⁄° 
uöt32_t
 *
f‹m©
, 
u32_dúe˘ives
 *
d
,

186 
¨gumíts
 *
a
);

188 #ifde‡
STATIC


189 
	gSTATIC


193 
¥ötf_∑r£
 (c⁄° *
f‹m©
, 
ch¨_dúe˘ives
 *
d
, 
¨gumíts
 *
a
);

	@lib/quote.c

21 
	~<c⁄fig.h
>

23 
	~"quŸórg.h
"

24 
	~"quŸe.h
"

29 
	$quŸe_n
 (
n
, c⁄° *
«me
)

31  
	`quŸórg_n_°yÀ
 (
n
, 
loˇÀ_quŸög_°yÀ
, 
«me
);

32 
	}
}

37 
	$quŸe
 (c⁄° *
«me
)

39  
	`quŸe_n
 (0, 
«me
);

40 
	}
}

	@lib/quote.h

19 c⁄° *
quŸe_n
 (
n
, c⁄° *
«me
);

20 c⁄° *
quŸe
 (c⁄° *
«me
);

	@lib/quotearg.c

20 
	~<c⁄fig.h
>

22 
	~"quŸórg.h
"

24 
	~"xÆloc.h
"

26 
	~<˘y≥.h
>

27 
	~<î∫o.h
>

28 
	~<limôs.h
>

29 
	~<°dboﬁ.h
>

30 
	~<°dlib.h
>

31 
	~<°rög.h
>

32 
	~<wch¨.h
>

33 
	~<w˘y≥.h
>

35 
	~"gëãxt.h
"

36 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

37 
	#N_
(
msgid
Ë
	)
msgid

39 #i‚de‡
SIZE_MAX


40 
	#SIZE_MAX
 ((
size_t
Ë-1)

	)

43 
	#INT_BITS
 ( (Ë* 
CHAR_BIT
)

	)

45 
	squŸög_›ti⁄s


48 
quŸög_°yÀ
 
	m°yÀ
;

51 
	mÊags
;

55 
	mquŸe_the£_too
[(
UCHAR_MAX
 / 
INT_BITS
) + 1];

58 c⁄° *
	mÀ·_quŸe
;

61 c⁄° *
	mright_quŸe
;

65 c⁄° *c⁄° 
	gquŸög_°yÀ_¨gs
[] =

79 
quŸög_°yÀ
 c⁄° 
	gquŸög_°yÀ_vÆs
[] =

81 
lôîÆ_quŸög_°yÀ
,

82 
shñl_quŸög_°yÀ
,

83 
shñl_Æways_quŸög_°yÀ
,

84 
c_quŸög_°yÀ
,

85 
c_maybe_quŸög_°yÀ
,

86 
esˇ≥_quŸög_°yÀ
,

87 
loˇÀ_quŸög_°yÀ
,

88 
˛oˇÀ_quŸög_°yÀ


92 
quŸög_›ti⁄s
 
	gdeÁu…_quŸög_›ti⁄s
;

97 
quŸög_›ti⁄s
 *

98 
	$˛⁄e_quŸög_›ti⁄s
 (
quŸög_›ti⁄s
 *
o
)

100 
e
 = 
î∫o
;

101 
quŸög_›ti⁄s
 *
p
 = 
	`xmemdup
 (
o
 ? o : &
deÁu…_quŸög_›ti⁄s
,

102  *
o
);

103 
î∫o
 = 
e
;

104  
p
;

105 
	}
}

108 
quŸög_°yÀ


109 
	$gë_quŸög_°yÀ
 (
quŸög_›ti⁄s
 *
o
)

111  (
o
 ? o : &
deÁu…_quŸög_›ti⁄s
)->
°yÀ
;

112 
	}
}

117 
	$£t_quŸög_°yÀ
 (
quŸög_›ti⁄s
 *
o
, 
quŸög_°yÀ
 
s
)

119 (
o
 ? o : &
deÁu…_quŸög_›ti⁄s
)->
°yÀ
 = 
s
;

120 
	}
}

128 
	$£t_ch¨_quŸög
 (
quŸög_›ti⁄s
 *
o
, 
c
, 
i
)

130 
uc
 = 
c
;

131 *
p
 =

132 (
o
 ? o : &
deÁu…_quŸög_›ti⁄s
)->
quŸe_the£_too
 + 
uc
 / 
INT_BITS
;

133 
shi·
 = 
uc
 % 
INT_BITS
;

134 
r
 = (*
p
 >> 
shi·
) & 1;

135 *
p
 ^((
i
 & 1Ë^ 
r
Ë<< 
shi·
;

136  
r
;

137 
	}
}

144 
	$£t_quŸög_Êags
 (
quŸög_›ti⁄s
 *
o
, 
i
)

146 
r
;

147 i‡(!
o
)

148 
o
 = &
deÁu…_quŸög_›ti⁄s
;

149 
r
 = 
o
->
Êags
;

150 
o
->
Êags
 = 
i
;

151  
r
;

152 
	}
}

155 
	$£t_cu°om_quŸög
 (
quŸög_›ti⁄s
 *
o
,

156 c⁄° *
À·_quŸe
, c⁄° *
right_quŸe
)

158 i‡(!
o
)

159 
o
 = &
deÁu…_quŸög_›ti⁄s
;

160 
o
->
°yÀ
 = 
cu°om_quŸög_°yÀ
;

161 i‡(!
À·_quŸe
 || !
right_quŸe
)

162 
	`ab‹t
 ();

163 
o
->
À·_quŸe
 =Üeft_quote;

164 
o
->
right_quŸe
 =Ñight_quote;

165 
	}
}

168 
quŸög_›ti⁄s


169 
	$quŸög_›ti⁄s_‰om_°yÀ
 (
quŸög_°yÀ
 
°yÀ
)

171 
quŸög_›ti⁄s
 
o
 = { 0 };

172 i‡(
°yÀ
 =
cu°om_quŸög_°yÀ
)

173 
	`ab‹t
 ();

174 
o
.
°yÀ
 = style;

175  
o
;

176 
	}
}

181 
	$gëãxt_quŸe
 (c⁄° *
msgid
, 
quŸög_°yÀ
 
s
)

183 c⁄° *
å™¶©i⁄
 = 
	`_
(
msgid
);

184 i‡(
å™¶©i⁄
 =
msgid
 && 
s
 =
˛oˇÀ_quŸög_°yÀ
)

185 
å™¶©i⁄
 = "\"";

186  
å™¶©i⁄
;

187 
	}
}

202 
size_t


203 
	$quŸórg_buf„r_ª°yÀd
 (*
buf„r
, 
size_t
 
buf„rsize
,

204 c⁄° *
¨g
, 
size_t
 
¨gsize
,

205 
quŸög_°yÀ
 quŸög_°yÀ, 
Êags
,

206 c⁄° *
quŸe_the£_too
,

207 c⁄° *
À·_quŸe
,

208 c⁄° *
right_quŸe
)

210 
size_t
 
i
;

211 
size_t
 
Àn
 = 0;

212 c⁄° *
quŸe_°rög
 = 0;

213 
size_t
 
quŸe_°rög_Àn
 = 0;

214 
boﬁ
 
back¶ash_esˇ≥s
 = 
Ál£
;

215 
boﬁ
 
unibyã_loˇÀ
 = 
MB_CUR_MAX
 == 1;

216 
boﬁ
 
ñide_ouãr_quŸes
 = (
Êags
 & 
QA_ELIDE_OUTER_QUOTES
) != 0;

218 
	#STORE
(
c
) \

221 i‡(
Àn
 < 
buf„rsize
) \

222 
buf„r
[
Àn
] = (
c
); \

223 
Àn
++; \

225 0)

	)

227 
quŸög_°yÀ
)

229 
c_maybe_quŸög_°yÀ
:

230 
quŸög_°yÀ
 = 
c_quŸög_°yÀ
;

231 
ñide_ouãr_quŸes
 = 
åue
;

233 
c_quŸög_°yÀ
:

234 i‡(!
ñide_ouãr_quŸes
)

235 
	`STORE
 ('"');

236 
back¶ash_esˇ≥s
 = 
åue
;

237 
quŸe_°rög
 = "\"";

238 
quŸe_°rög_Àn
 = 1;

241 
esˇ≥_quŸög_°yÀ
:

242 
back¶ash_esˇ≥s
 = 
åue
;

243 
ñide_ouãr_quŸes
 = 
Ál£
;

246 
loˇÀ_quŸög_°yÀ
:

247 
˛oˇÀ_quŸög_°yÀ
:

248 
cu°om_quŸög_°yÀ
:

250 i‡(
quŸög_°yÀ
 !
cu°om_quŸög_°yÀ
)

271 
À·_quŸe
 = 
	`gëãxt_quŸe
 (
	`N_
("`"), 
quŸög_°yÀ
);

272 
right_quŸe
 = 
	`gëãxt_quŸe
 (
	`N_
("'"), 
quŸög_°yÀ
);

274 i‡(!
ñide_ouãr_quŸes
)

275 
quŸe_°rög
 = 
À·_quŸe
; *quote_string; quote_string++)

276 
	`STORE
 (*
quŸe_°rög
);

277 
back¶ash_esˇ≥s
 = 
åue
;

278 
quŸe_°rög
 = 
right_quŸe
;

279 
quŸe_°rög_Àn
 = 
	`°æí
 (
quŸe_°rög
);

283 
shñl_quŸög_°yÀ
:

284 
quŸög_°yÀ
 = 
shñl_Æways_quŸög_°yÀ
;

285 
ñide_ouãr_quŸes
 = 
åue
;

287 
shñl_Æways_quŸög_°yÀ
:

288 i‡(!
ñide_ouãr_quŸes
)

289 
	`STORE
 ('\'');

290 
quŸe_°rög
 = "'";

291 
quŸe_°rög_Àn
 = 1;

294 
lôîÆ_quŸög_°yÀ
:

295 
ñide_ouãr_quŸes
 = 
Ál£
;

299 
	`ab‹t
 ();

302 
i
 = 0; ! (
¨gsize
 =
SIZE_MAX
 ? 
¨g
[i] == '\0' : i ==árgsize); i++)

304 
c
;

305 
esc
;

306 
boﬁ
 
is_right_quŸe
 = 
Ál£
;

308 i‡(
back¶ash_esˇ≥s


309 && 
quŸe_°rög_Àn


310 && 
i
 + 
quŸe_°rög_Àn
 <
¨gsize


311 && 
	`memcmp
 (
¨g
 + 
i
, 
quŸe_°rög
, 
quŸe_°rög_Àn
) == 0)

313 i‡(
ñide_ouãr_quŸes
)

314 
f‹˚_ouãr_quŸög_°yÀ
;

315 
is_right_quŸe
 = 
åue
;

318 
c
 = 
¨g
[
i
];

319 
c
)

322 i‡(
back¶ash_esˇ≥s
)

324 i‡(
ñide_ouãr_quŸes
)

325 
f‹˚_ouãr_quŸög_°yÀ
;

326 
	`STORE
 ('\\');

332 i‡(
i
 + 1 < 
¨gsize
 && '0' <
¨g
[i + 1] &&árg[i + 1] <= '9')

334 
	`STORE
 ('0');

335 
	`STORE
 ('0');

337 
c
 = '0';

343 i‡(
Êags
 & 
QA_ELIDE_NULL_BYTES
)

348 
quŸög_°yÀ
)

350 
shñl_Æways_quŸög_°yÀ
:

351 i‡(
ñide_ouãr_quŸes
)

352 
f‹˚_ouãr_quŸög_°yÀ
;

355 
c_quŸög_°yÀ
:

356 i‡((
Êags
 & 
QA_SPLIT_TRIGRAPHS
)

357 && 
i
 + 2 < 
¨gsize
 && 
¨g
[i + 1] == '?')

358 
¨g
[
i
 + 2])

365 i‡(
ñide_ouãr_quŸes
)

366 
f‹˚_ouãr_quŸög_°yÀ
;

367 
c
 = 
¨g
[
i
 + 2];

368 
i
 += 2;

369 
	`STORE
 ('?');

370 
	`STORE
 ('"');

371 
	`STORE
 ('"');

372 
	`STORE
 ('?');

385 '\a': 
esc
 = 'a'; 
c_esˇ≥
;

386 '\b': 
esc
 = 'b'; 
c_esˇ≥
;

387 '\f': 
esc
 = 'f'; 
c_esˇ≥
;

388 '\n': 
esc
 = 'n'; 
c_™d_shñl_esˇ≥
;

389 '\r': 
esc
 = 'r'; 
c_™d_shñl_esˇ≥
;

390 '\t': 
esc
 = 't'; 
c_™d_shñl_esˇ≥
;

391 '\v': 
esc
 = 'v'; 
c_esˇ≥
;

392 '\\': 
esc
 = 
c
;

395 i‡(
back¶ash_esˇ≥s
 && 
ñide_ouãr_quŸes
 && 
quŸe_°rög_Àn
)

396 
°‹e_c
;

398 
c_™d_shñl_esˇ≥
:

399 i‡(
quŸög_°yÀ
 =
shñl_Æways_quŸög_°yÀ


400 && 
ñide_ouãr_quŸes
)

401 
f‹˚_ouãr_quŸög_°yÀ
;

403 
c_esˇ≥
:

404 i‡(
back¶ash_esˇ≥s
)

406 
c
 = 
esc
;

407 
°‹e_esˇ≥
;

412 i‡(! (
¨gsize
 =
SIZE_MAX
 ? 
¨g
[1] == '\0' :árgsize == 1))

416 i‡(
i
 != 0)

432 i‡(
quŸög_°yÀ
 =
shñl_Æways_quŸög_°yÀ


433 && 
ñide_ouãr_quŸes
)

434 
f‹˚_ouãr_quŸög_°yÀ
;

438 i‡(
quŸög_°yÀ
 =
shñl_Æways_quŸög_°yÀ
)

440 i‡(
ñide_ouãr_quŸes
)

441 
f‹˚_ouãr_quŸög_°yÀ
;

442 
	`STORE
 ('\'');

443 
	`STORE
 ('\\');

444 
	`STORE
 ('\'');

480 
size_t
 
m
;

482 
boﬁ
 
¥öèbÀ
;

484 i‡(
unibyã_loˇÀ
)

486 
m
 = 1;

487 
¥öèbÀ
 = 
	`i•röt
 (
c
) != 0;

491 
mb°©e_t
 
mb°©e
;

492 
	`mem£t
 (&
mb°©e
, 0,  mbstate);

494 
m
 = 0;

495 
¥öèbÀ
 = 
åue
;

496 i‡(
¨gsize
 =
SIZE_MAX
)

497 
¨gsize
 = 
	`°æí
 (
¨g
);

501 
wch¨_t
 
w
;

502 
size_t
 
byãs
 = 
	`mbπowc
 (&
w
, &
¨g
[
i
 + 
m
],

503 
¨gsize
 - (
i
 + 
m
), &
mb°©e
);

504 i‡(
byãs
 == 0)

506 i‡(
byãs
 =(
size_t
) -1)

508 
¥öèbÀ
 = 
Ál£
;

511 i‡(
byãs
 =(
size_t
) -2)

513 
¥öèbÀ
 = 
Ál£
;

514 
i
 + 
m
 < 
¨gsize
 && 
¨g
[i + m])

515 
m
++;

524 i‡('[' =0x5b && 
ñide_ouãr_quŸes


525 && 
quŸög_°yÀ
 =
shñl_Æways_quŸög_°yÀ
)

527 
size_t
 
j
;

528 
j
 = 1; j < 
byãs
; j++)

529 
¨g
[
i
 + 
m
 + 
j
])

533 
f‹˚_ouãr_quŸög_°yÀ
;

540 i‡(! 
	`isw¥öt
 (
w
))

541 
¥öèbÀ
 = 
Ál£
;

542 
m
 +
byãs
;

545 ! 
	`mbsöô
 (&
mb°©e
));

548 i‡(1 < 
m
 || (
back¶ash_esˇ≥s
 && ! 
¥öèbÀ
))

552 
size_t
 
ûim
 = 
i
 + 
m
;

556 i‡(
back¶ash_esˇ≥s
 && ! 
¥öèbÀ
)

558 i‡(
ñide_ouãr_quŸes
)

559 
f‹˚_ouãr_quŸög_°yÀ
;

560 
	`STORE
 ('\\');

561 
	`STORE
 ('0' + (
c
 >> 6));

562 
	`STORE
 ('0' + ((
c
 >> 3) & 7));

563 
c
 = '0' + (c & 7);

565 i‡(
is_right_quŸe
)

567 
	`STORE
 ('\\');

568 
is_right_quŸe
 = 
Ál£
;

570 i‡(
ûim
 <
i
 + 1)

572 
	`STORE
 (
c
);

573 
c
 = 
¨g
[++
i
];

576 
°‹e_c
;

581 i‡(! ((
back¶ash_esˇ≥s
 || 
ñide_ouãr_quŸes
)

582 && 
quŸe_the£_too


583 && 
quŸe_the£_too
[
c
 / 
INT_BITS
] & (1 << (c % INT_BITS)))

584 && !
is_right_quŸe
)

585 
°‹e_c
;

587 
°‹e_esˇ≥
:

588 i‡(
ñide_ouãr_quŸes
)

589 
f‹˚_ouãr_quŸög_°yÀ
;

590 
	`STORE
 ('\\');

592 
°‹e_c
:

593 
	`STORE
 (
c
);

596 i‡(
Àn
 =0 && 
quŸög_°yÀ
 =
shñl_Æways_quŸög_°yÀ


597 && 
ñide_ouãr_quŸes
)

598 
f‹˚_ouãr_quŸög_°yÀ
;

600 i‡(
quŸe_°rög
 && !
ñide_ouãr_quŸes
)

601 ; *
quŸe_°rög
; quote_string++)

602 
	`STORE
 (*
quŸe_°rög
);

604 i‡(
Àn
 < 
buf„rsize
)

605 
buf„r
[
Àn
] = '\0';

606  
Àn
;

608 
f‹˚_ouãr_quŸög_°yÀ
:

611  
	`quŸórg_buf„r_ª°yÀd
 (
buf„r
, 
buf„rsize
, 
¨g
, 
¨gsize
,

612 
quŸög_°yÀ
,

613 
Êags
 & ~
QA_ELIDE_OUTER_QUOTES
, 
NULL
,

614 
À·_quŸe
, 
right_quŸe
);

615 
	}
}

626 
size_t


627 
	$quŸórg_buf„r
 (*
buf„r
, 
size_t
 
buf„rsize
,

628 c⁄° *
¨g
, 
size_t
 
¨gsize
,

629 
quŸög_›ti⁄s
 c⁄° *
o
)

631 
quŸög_›ti⁄s
 c⁄° *
p
 = 
o
 ? o : &
deÁu…_quŸög_›ti⁄s
;

632 
e
 = 
î∫o
;

633 
size_t
 
r
 = 
	`quŸórg_buf„r_ª°yÀd
 (
buf„r
, 
buf„rsize
, 
¨g
, 
¨gsize
,

634 
p
->
°yÀ
,Ö->
Êags
,Ö->
quŸe_the£_too
,

635 
p
->
À·_quŸe
,Ö->
right_quŸe
);

636 
î∫o
 = 
e
;

637  
r
;

638 
	}
}

642 
	$quŸórg_Æloc
 (c⁄° *
¨g
, 
size_t
 
¨gsize
,

643 
quŸög_›ti⁄s
 c⁄° *
o
)

645  
	`quŸórg_Æloc_mem
 (
¨g
, 
¨gsize
, 
NULL
, 
o
);

646 
	}
}

655 
	$quŸórg_Æloc_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
, size_à*
size
,

656 
quŸög_›ti⁄s
 c⁄° *
o
)

658 
quŸög_›ti⁄s
 c⁄° *
p
 = 
o
 ? o : &
deÁu…_quŸög_›ti⁄s
;

659 
e
 = 
î∫o
;

661 
Êags
 = 
p
->Êag†| (
size
 ? 0 : 
QA_ELIDE_NULL_BYTES
);

662 
size_t
 
bufsize
 = 
	`quŸórg_buf„r_ª°yÀd
 (0, 0, 
¨g
, 
¨gsize
, 
p
->
°yÀ
,

663 
Êags
, 
p
->
quŸe_the£_too
,

664 
p
->
À·_quŸe
,

665 
p
->
right_quŸe
) + 1;

666 *
buf
 = 
	`xch¨Æloc
 (
bufsize
);

667 
	`quŸórg_buf„r_ª°yÀd
 (
buf
, 
bufsize
, 
¨g
, 
¨gsize
, 
p
->
°yÀ
, 
Êags
,

668 
p
->
quŸe_the£_too
,

669 
p
->
À·_quŸe
,Ö->
right_quŸe
);

670 
î∫o
 = 
e
;

671 i‡(
size
)

672 *
size
 = 
bufsize
 - 1;

673  
buf
;

674 
	}
}

677 
	s¶Ÿvec


679 
size_t
 
	msize
;

680 *
	mvÆ
;

685 
	g¶Ÿ0
[256];

686 
	gn¶Ÿs
 = 1;

687 
¶Ÿvec
 
	g¶Ÿvec0
 = { 
¶Ÿ0
, slot0};

688 
¶Ÿvec
 *
	g¶Ÿvec
 = &
¶Ÿvec0
;

691 
	$quŸórg_‰ì
 ()

693 
¶Ÿvec
 *
sv
 = slotvec;

694 
i
;

695 
i
 = 1; i < 
n¶Ÿs
; i++)

696 
	`‰ì
 (
sv
[
i
].
vÆ
);

697 i‡(
sv
[0].
vÆ
 !
¶Ÿ0
)

699 
	`‰ì
 (
sv
[0].
vÆ
);

700 
¶Ÿvec0
.
size
 =  
¶Ÿ0
;

701 
¶Ÿvec0
.
vÆ
 = 
¶Ÿ0
;

703 i‡(
sv
 !&
¶Ÿvec0
)

705 
	`‰ì
 (
sv
);

706 
¶Ÿvec
 = &
¶Ÿvec0
;

708 
n¶Ÿs
 = 1;

709 
	}
}

720 
	$quŸórg_n_›ti⁄s
 (
n
, c⁄° *
¨g
, 
size_t
 
¨gsize
,

721 
quŸög_›ti⁄s
 c⁄° *
›ti⁄s
)

723 
e
 = 
î∫o
;

725 
n0
 = 
n
;

726 
¶Ÿvec
 *
sv
 = slotvec;

728 i‡(
n
 < 0)

729 
	`ab‹t
 ();

731 i‡(
n¶Ÿs
 <
n0
)

738 
size_t
 
n1
 = 
n0
 + 1;

739 
boﬁ
 
¥óŒoˇãd
 = (
sv
 =&
¶Ÿvec0
);

741 i‡(
	`xÆloc_ovîsized
 (
n1
,  *
sv
))

742 
	`xÆloc_dõ
 ();

744 
¶Ÿvec
 = 
sv
 = 
	`xªÆloc
 (
¥óŒoˇãd
 ? 
NULL
 : sv, 
n1
 *  *sv);

745 i‡(
¥óŒoˇãd
)

746 *
sv
 = 
¶Ÿvec0
;

747 
	`mem£t
 (
sv
 + 
n¶Ÿs
, 0, (
n1
 -Çslots) *  *sv);

748 
n¶Ÿs
 = 
n1
;

752 
size_t
 
size
 = 
sv
[
n
].size;

753 *
vÆ
 = 
sv
[
n
].val;

755 
Êags
 = 
›ti⁄s
->Êag†| 
QA_ELIDE_NULL_BYTES
;

756 
size_t
 
qsize
 = 
	`quŸórg_buf„r_ª°yÀd
 (
vÆ
, 
size
, 
¨g
, 
¨gsize
,

757 
›ti⁄s
->
°yÀ
, 
Êags
,

758 
›ti⁄s
->
quŸe_the£_too
,

759 
›ti⁄s
->
À·_quŸe
,

760 
›ti⁄s
->
right_quŸe
);

762 i‡(
size
 <
qsize
)

764 
sv
[
n
].
size
 = sizê
qsize
 + 1;

765 i‡(
vÆ
 !
¶Ÿ0
)

766 
	`‰ì
 (
vÆ
);

767 
sv
[
n
].
vÆ
 = vÆ = 
	`xch¨Æloc
 (
size
);

768 
	`quŸórg_buf„r_ª°yÀd
 (
vÆ
, 
size
, 
¨g
, 
¨gsize
, 
›ti⁄s
->
°yÀ
,

769 
Êags
, 
›ti⁄s
->
quŸe_the£_too
,

770 
›ti⁄s
->
À·_quŸe
,

771 
›ti⁄s
->
right_quŸe
);

774 
î∫o
 = 
e
;

775  
vÆ
;

777 
	}
}

780 
	$quŸórg_n
 (
n
, c⁄° *
¨g
)

782  
	`quŸórg_n_›ti⁄s
 (
n
, 
¨g
, 
SIZE_MAX
, &
deÁu…_quŸög_›ti⁄s
);

783 
	}
}

786 
	$quŸórg_n_mem
 (
n
, c⁄° *
¨g
, 
size_t
 
¨gsize
)

788  
	`quŸórg_n_›ti⁄s
 (
n
, 
¨g
, 
¨gsize
, &
deÁu…_quŸög_›ti⁄s
);

789 
	}
}

792 
	$quŸórg
 (c⁄° *
¨g
)

794  
	`quŸórg_n
 (0, 
¨g
);

795 
	}
}

798 
	$quŸórg_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
)

800  
	`quŸórg_n_mem
 (0, 
¨g
, 
¨gsize
);

801 
	}
}

804 
	$quŸórg_n_°yÀ
 (
n
, 
quŸög_°yÀ
 
s
, c⁄° *
¨g
)

806 
quŸög_›ti⁄s
 c⁄° 
o
 = 
	`quŸög_›ti⁄s_‰om_°yÀ
 (
s
);

807  
	`quŸórg_n_›ti⁄s
 (
n
, 
¨g
, 
SIZE_MAX
, &
o
);

808 
	}
}

811 
	$quŸórg_n_°yÀ_mem
 (
n
, 
quŸög_°yÀ
 
s
,

812 c⁄° *
¨g
, 
size_t
 
¨gsize
)

814 
quŸög_›ti⁄s
 c⁄° 
o
 = 
	`quŸög_›ti⁄s_‰om_°yÀ
 (
s
);

815  
	`quŸórg_n_›ti⁄s
 (
n
, 
¨g
, 
¨gsize
, &
o
);

816 
	}
}

819 
	$quŸórg_°yÀ
 (
quŸög_°yÀ
 
s
, c⁄° *
¨g
)

821  
	`quŸórg_n_°yÀ
 (0, 
s
, 
¨g
);

822 
	}
}

825 
	$quŸórg_°yÀ_mem
 (
quŸög_°yÀ
 
s
, c⁄° *
¨g
, 
size_t
 
¨gsize
)

827  
	`quŸórg_n_°yÀ_mem
 (0, 
s
, 
¨g
, 
¨gsize
);

828 
	}
}

831 
	$quŸórg_ch¨_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
, 
ch
)

833 
quŸög_›ti⁄s
 
›ti⁄s
;

834 
›ti⁄s
 = 
deÁu…_quŸög_›ti⁄s
;

835 
	`£t_ch¨_quŸög
 (&
›ti⁄s
, 
ch
, 1);

836  
	`quŸórg_n_›ti⁄s
 (0, 
¨g
, 
¨gsize
, &
›ti⁄s
);

837 
	}
}

840 
	$quŸórg_ch¨
 (c⁄° *
¨g
, 
ch
)

842  
	`quŸórg_ch¨_mem
 (
¨g
, 
SIZE_MAX
, 
ch
);

843 
	}
}

846 
	$quŸórg_cﬁ⁄
 (c⁄° *
¨g
)

848  
	`quŸórg_ch¨
 (
¨g
, ':');

849 
	}
}

852 
	$quŸórg_cﬁ⁄_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
)

854  
	`quŸórg_ch¨_mem
 (
¨g
, 
¨gsize
, ':');

855 
	}
}

858 
	$quŸórg_n_cu°om
 (
n
, c⁄° *
À·_quŸe
,

859 c⁄° *
right_quŸe
, c⁄° *
¨g
)

861  
	`quŸórg_n_cu°om_mem
 (
n
, 
À·_quŸe
, 
right_quŸe
, 
¨g
,

862 
SIZE_MAX
);

863 
	}
}

866 
	$quŸórg_n_cu°om_mem
 (
n
, c⁄° *
À·_quŸe
,

867 c⁄° *
right_quŸe
,

868 c⁄° *
¨g
, 
size_t
 
¨gsize
)

870 
quŸög_›ti⁄s
 
o
 = 
deÁu…_quŸög_›ti⁄s
;

871 
	`£t_cu°om_quŸög
 (&
o
, 
À·_quŸe
, 
right_quŸe
);

872  
	`quŸórg_n_›ti⁄s
 (
n
, 
¨g
, 
¨gsize
, &
o
);

873 
	}
}

876 
	$quŸórg_cu°om
 (c⁄° *
À·_quŸe
, c⁄° *
right_quŸe
,

877 c⁄° *
¨g
)

879  
	`quŸórg_n_cu°om
 (0, 
À·_quŸe
, 
right_quŸe
, 
¨g
);

880 
	}
}

883 
	$quŸórg_cu°om_mem
 (c⁄° *
À·_quŸe
, c⁄° *
right_quŸe
,

884 c⁄° *
¨g
, 
size_t
 
¨gsize
)

886  
	`quŸórg_n_cu°om_mem
 (0, 
À·_quŸe
, 
right_quŸe
, 
¨g
,

887 
¨gsize
);

888 
	}
}

	@lib/quotearg.h

21 #i‚de‡
QUOTEARG_H_


22 
	#QUOTEARG_H_
 1

	)

24 
	~<°ddef.h
>

32 
	equŸög_°yÀ


45 
	mlôîÆ_quŸög_°yÀ
,

59 
	mshñl_quŸög_°yÀ
,

74 
	mshñl_Æways_quŸög_°yÀ
,

88 
	mc_quŸög_°yÀ
,

100 
	mc_maybe_quŸög_°yÀ
,

113 
	mesˇ≥_quŸög_°yÀ
,

137 
	mloˇÀ_quŸög_°yÀ
,

162 
	m˛oˇÀ_quŸög_°yÀ
,

205 
	mcu°om_quŸög_°yÀ


209 
	equŸög_Êags


214 
	mQA_ELIDE_NULL_BYTES
 = 0x01,

219 
	mQA_ELIDE_OUTER_QUOTES
 = 0x02,

225 
	mQA_SPLIT_TRIGRAPHS
 = 0x04

229 #i‚de‡
DEFAULT_QUOTING_STYLE


230 
	#DEFAULT_QUOTING_STYLE
 
lôîÆ_quŸög_°yÀ


	)

234 c⁄° *c⁄° 
quŸög_°yÀ_¨gs
[];

235 
quŸög_°yÀ
 c⁄° 
quŸög_°yÀ_vÆs
[];

237 
	gquŸög_›ti⁄s
;

245 
quŸög_›ti⁄s
 *
˛⁄e_quŸög_›ti⁄s
 (quŸög_›ti⁄†*
o
);

248 
quŸög_°yÀ
 
gë_quŸög_°yÀ
 (
quŸög_›ti⁄s
 *
o
);

252 
£t_quŸög_°yÀ
 (
quŸög_›ti⁄s
 *
o
, 
quŸög_°yÀ
 
s
);

261 
£t_ch¨_quŸög
 (
quŸög_›ti⁄s
 *
o
, 
c
, 
i
);

267 
£t_quŸög_Êags
 (
quŸög_›ti⁄s
 *
o
, 
i
);

278 
£t_cu°om_quŸög
 (
quŸög_›ti⁄s
 *
o
,

279 c⁄° *
À·_quŸe
,

280 c⁄° *
right_quŸe
);

293 
size_t
 
quŸórg_buf„r
 (*
buf„r
, size_à
buf„rsize
,

294 c⁄° *
¨g
, 
size_t
 
¨gsize
,

295 
quŸög_›ti⁄s
 c⁄° *
o
);

300 *
quŸórg_Æloc
 (c⁄° *
¨g
, 
size_t
 
¨gsize
,

301 
quŸög_›ti⁄s
 c⁄° *
o
);

309 *
quŸórg_Æloc_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
,

310 
size_t
 *
size
, 
quŸög_›ti⁄s
 c⁄° *
o
);

319 *
quŸórg_n
 (
n
, c⁄° *
¨g
);

322 *
quŸórg
 (c⁄° *
¨g
);

327 *
quŸórg_n_mem
 (
n
, c⁄° *
¨g
, 
size_t
 
¨gsize
);

330 *
quŸórg_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
);

335 *
quŸórg_n_°yÀ
 (
n
, 
quŸög_°yÀ
 
s
, c⁄° *
¨g
);

340 *
quŸórg_n_°yÀ_mem
 (
n
, 
quŸög_°yÀ
 
s
,

341 c⁄° *
¨g
, 
size_t
 
¨gsize
);

344 *
quŸórg_°yÀ
 (
quŸög_°yÀ
 
s
, c⁄° *
¨g
);

347 *
quŸórg_°yÀ_mem
 (
quŸög_°yÀ
 
s
,

348 c⁄° *
¨g
, 
size_t
 
¨gsize
);

352 *
quŸórg_ch¨
 (c⁄° *
¨g
, 
ch
);

355 *
quŸórg_ch¨_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
, 
ch
);

358 *
quŸórg_cﬁ⁄
 (c⁄° *
¨g
);

361 *
quŸórg_cﬁ⁄_mem
 (c⁄° *
¨g
, 
size_t
 
¨gsize
);

367 *
quŸórg_n_cu°om
 (
n
, c⁄° *
À·_quŸe
,

368 c⁄° *
right_quŸe
, c⁄° *
¨g
);

372 *
quŸórg_n_cu°om_mem
 (
n
, c⁄° *
À·_quŸe
,

373 c⁄° *
right_quŸe
,

374 c⁄° *
¨g
, 
size_t
 
¨gsize
);

377 *
quŸórg_cu°om
 (c⁄° *
À·_quŸe
, c⁄° *
right_quŸe
,

378 c⁄° *
¨g
);

382 *
quŸórg_cu°om_mem
 (c⁄° *
À·_quŸe
,

383 c⁄° *
right_quŸe
,

384 c⁄° *
¨g
, 
size_t
 
¨gsize
);

387 
quŸórg_‰ì
 ();

	@lib/rawmemchr.c

17 
	~<c⁄fig.h
>

20 
	~<°rög.h
>

24 
	$øwmemchr
 (c⁄° *
s
, 
c_ö
)

31 
	tl⁄gw‹d
;

33 c⁄° *
ch¨_±r
;

34 c⁄° 
l⁄gw‹d
 *
l⁄gw‹d_±r
;

35 
l⁄gw‹d
 
ª≥©ed_⁄e
;

36 
l⁄gw‹d
 
ª≥©ed_c
;

37 
c
;

39 
c
 = (Ë
c_ö
;

43 
ch¨_±r
 = (c⁄° *Ë
s
;

44 (
size_t
Ë
ch¨_±r
 %  (
l⁄gw‹d
) != 0;

45 ++
ch¨_±r
)

46 i‡(*
ch¨_±r
 =
c
)

47  (*Ë
ch¨_±r
;

49 
l⁄gw‹d_±r
 = (c⁄° 
l⁄gw‹d
 *Ë
ch¨_±r
;

57 
ª≥©ed_⁄e
 = 0x01010101;

58 
ª≥©ed_c
 = 
c
 | (c << 8);

59 
ª≥©ed_c
 |=Ñepeated_c << 16;

60 i‡(0xffffffffU < (
l⁄gw‹d
) -1)

62 
ª≥©ed_⁄e
 |=Ñepeated_one << 31 << 1;

63 
ª≥©ed_c
 |=Ñepeated_c << 31 << 1;

64 i‡(8 <  (
l⁄gw‹d
))

66 
size_t
 
i
;

68 
i
 = 64; i <  (
l⁄gw‹d
) * 8; i *= 2)

70 
ª≥©ed_⁄e
 |ª≥©ed_⁄ê<< 
i
;

71 
ª≥©ed_c
 |ª≥©ed_¯<< 
i
;

115 
l⁄gw‹d
 
l⁄gw‹d1
 = *
l⁄gw‹d_±r
 ^ 
ª≥©ed_c
;

117 i‡((((
l⁄gw‹d1
 - 
ª≥©ed_⁄e
) & ~longword1)

118 & (
ª≥©ed_⁄e
 << 7)) != 0)

120 
l⁄gw‹d_±r
++;

123 
ch¨_±r
 = (c⁄° *Ë
l⁄gw‹d_±r
;

132 
ch¨_±r
 = (*Ë
l⁄gw‹d_±r
;

133 *
ch¨_±r
 !
c
)

134 
ch¨_±r
++;

135  (*Ë
ch¨_±r
;

136 
	}
}

	@lib/realloc.c

21 
	#_GL_USE_STDLIB_ALLOC
 1

	)

22 
	~<c⁄fig.h
>

25 #ifde‡
ªÆloc


26 
	#NEED_REALLOC_GNU
 1

	)

28 #ñi‡
GNULIB_REALLOC_GNU
 && !
HAVE_REALLOC_GNU


29 
	#NEED_REALLOC_GNU
 1

	)

34 #i‡
GNULIB_MALLOC_GNU
 && 
HAVE_MALLOC_GNU


35 
	#SYSTEM_MALLOC_GLIBC_COMPATIBLE
 1

	)

38 
	~<°dlib.h
>

40 
	~<î∫o.h
>

47 
	$Ωl_ªÆloc
 (*
p
, 
size_t
 
n
)

49 *
ªsu…
;

51 #i‡
NEED_REALLOC_GNU


52 i‡(
n
 == 0)

54 
n
 = 1;

57 
	`‰ì
 (
p
);

58 
p
 = 
NULL
;

62 i‡(
p
 =
NULL
)

64 #i‡
GNULIB_REALLOC_GNU
 && !
NEED_REALLOC_GNU
 && !
SYSTEM_MALLOC_GLIBC_COMPATIBLE


65 i‡(
n
 == 0)

66 
n
 = 1;

68 
ªsu…
 = 
	`mÆloc
 (
n
);

71 
ªsu…
 = 
	`ªÆloc
 (
p
, 
n
);

73 #i‡!
HAVE_REALLOC_POSIX


74 i‡(
ªsu…
 =
NULL
)

75 
î∫o
 = 
ENOMEM
;

78  
ªsu…
;

79 
	}
}

	@lib/recv.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
ªcv


31 
ssize_t


32 
	$Ωl_ªcv
 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`ªcv
 (
sock
, 
buf
, 
Àn
, 
Êags
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/sched.in.h

17 #i‚de‡
_
@
GUARD_PREFIX
@
_SCHED_H


19 #i‡
__GNUC__
 >= 3

20 @
	gPRAGMA_SYSTEM_HEADER
@

22 @
	gPRAGMA_COLUMNS
@

25 #i‡@
HAVE_SCHED_H
@

26 #@
INCLUDE_NEXT
@ @
NEXT_SCHED_H
@

29 #i‚de‡
_
@
GUARD_PREFIX
@
_SCHED_H


30 
	#_
@
GUARD_PREFIX
@
_SCHED_H


	)

32 #i‡!@
HAVE_STRUCT_SCHED_PARAM
@

34 #i‡!
GNULIB_deföed_°ru˘_sched_∑øm


35 
	ssched_∑øm


37 
	msched_¥i‹ôy
;

39 
	#GNULIB_deföed_°ru˘_sched_∑øm
 1

	)

44 #i‡!(
deföed
 
SCHED_FIFO
 && deföed 
SCHED_RR
 && deföed 
SCHED_OTHER
)

45 
	#SCHED_FIFO
 1

	)

46 
	#SCHED_RR
 2

	)

47 
	#SCHED_OTHER
 0

	)

	@lib/select.c

24 
	~<c⁄fig.h
>

25 
	~<Æloˇ.h
>

26 
	~<as£π.h
>

28 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


31 
	~<sys/ty≥s.h
>

32 
	~<°dboﬁ.h
>

33 
	~<î∫o.h
>

34 
	~<limôs.h
>

36 
	~<wösock2.h
>

37 
	~<wödows.h
>

38 
	~<io.h
>

39 
	~<°dio.h
>

40 
	~<c⁄io.h
>

41 
	~<time.h
>

43 
	sbô£t
 {

44 
	mö
[
FD_SETSIZE
 / 
CHAR_BIT
];

45 
	mout
[
FD_SETSIZE
 / 
CHAR_BIT
];

49 
	s_FILE_PIPE_LOCAL_INFORMATION
 {

50 
ULONG
 
	mNamedPùeTy≥
;

51 
ULONG
 
	mNamedPùeC⁄figuøti⁄
;

52 
ULONG
 
	mMaximumIn°™˚s
;

53 
ULONG
 
	mCuºítIn°™˚s
;

54 
ULONG
 
	mInboundQuŸa
;

55 
ULONG
 
	mRódD©aAvaûabÀ
;

56 
ULONG
 
	mOutboundQuŸa
;

57 
ULONG
 
	mWrôeQuŸaAvaûabÀ
;

58 
ULONG
 
	mNamedPùeSèã
;

59 
ULONG
 
	mNamedPùeEnd
;

60 } 
	tFILE_PIPE_LOCAL_INFORMATION
, *
	tPFILE_PIPE_LOCAL_INFORMATION
;

62 
	s_IO_STATUS_BLOCK


65 
DWORD
 
	mSètus
;

66 
PVOID
 
	mPoöãr
;

67 } 
	mu
;

68 
ULONG_PTR
 
	mInf‹m©i⁄
;

69 } 
	tIO_STATUS_BLOCK
, *
	tPIO_STATUS_BLOCK
;

71 
	e_FILE_INFORMATION_CLASS
 {

72 
	mFûePùeLoˇlInf‹m©i⁄
 = 24

73 } 
	tFILE_INFORMATION_CLASS
, *
	tPFILE_INFORMATION_CLASS
;

75 
	$DWORD
 (
	tWINAPI
 *
	tPNtQuîyInf‹m©i⁄Fûe
)

76 (
	tHANDLE
, 
	tIO_STATUS_BLOCK
 *, 
	tVOID
 *, 
	tULONG
, 
	tFILE_INFORMATION_CLASS
);

78 #i‚de‡
PIPE_BUF


79 
	#PIPE_BUF
 512

	)

82 
	#IsC⁄sﬁeH™dÀ
(
h
Ë(((Ë(hË& 3Ë=3)

	)

84 
BOOL


85 
	$IsSockëH™dÀ
 (
HANDLE
 
h
)

87 
WSANETWORKEVENTS
 
ev
;

89 i‡(
	`IsC⁄sﬁeH™dÀ
 (
h
))

90  
FALSE
;

94 
ev
.
lNëw‹kEvíts
 = 0xDEADBEEF;

95 
	`WSAEnumNëw‹kEvíts
 ((
SOCKET
Ë
h
, 
NULL
, &
ev
);

96  
ev
.
lNëw‹kEvíts
 != 0xDEADBEEF;

97 
	}
}

102 
	$wö32_pﬁl_h™dÀ
 (
HANDLE
 
h
, 
fd
, 
bô£t
 *
rbôs
, bô£à*
wbôs
,

103 
bô£t
 *
xbôs
)

105 
BOOL
 
ªad
, 
wrôe
, 
ex˚±
;

106 
i
, 
ªt
;

107 
INPUT_RECORD
 *
úbuf„r
;

108 
DWORD
 
avaû
, 
nbuf„r
;

109 
BOOL
 
bRë
;

110 
IO_STATUS_BLOCK
 
iosb
;

111 
FILE_PIPE_LOCAL_INFORMATION
 
Âli
;

112 
PNtQuîyInf‹m©i⁄Fûe
 
NtQuîyInf‹m©i⁄Fûe
;

113 
BOOL
 
⁄˚_⁄ly
;

115 
ªad
 = 
wrôe
 = 
ex˚±
 = 
FALSE
;

116 
	`GëFûeTy≥
 (
h
))

118 
FILE_TYPE_DISK
:

119 
ªad
 = 
TRUE
;

120 
wrôe
 = 
TRUE
;

123 
FILE_TYPE_PIPE
:

124 i‡(!
⁄˚_⁄ly
)

126 
NtQuîyInf‹m©i⁄Fûe
 = (
PNtQuîyInf‹m©i⁄Fûe
)

127 
	`GëProcAddªss
 (
	`GëModuÀH™dÀ
 ("ntdll.dll"),

129 
⁄˚_⁄ly
 = 
TRUE
;

132 i‡(
	`PìkNamedPùe
 (
h
, 
NULL
, 0, NULL, &
avaû
, NULL) != 0)

134 i‡(
avaû
)

135 
ªad
 = 
TRUE
;

137 i‡(
	`GëLa°Eº‹
 (Ë=
ERROR_BROKEN_PIPE
)

149 
	`mem£t
 (&
iosb
, 0,  (iosb));

150 
	`mem£t
 (&
Âli
, 0,  (fpli));

152 i‡(!
NtQuîyInf‹m©i⁄Fûe


153 || 
	`NtQuîyInf‹m©i⁄Fûe
 (
h
, &
iosb
, &
Âli
,  (fpli),

154 
FûePùeLoˇlInf‹m©i⁄
)

155 || 
Âli
.
WrôeQuŸaAvaûabÀ
 >
PIPE_BUF


156 || (
Âli
.
OutboundQuŸa
 < 
PIPE_BUF
 &&

157 
Âli
.
WrôeQuŸaAvaûabÀ
 =Âli.
OutboundQuŸa
))

158 
wrôe
 = 
TRUE
;

162 
FILE_TYPE_CHAR
:

163 
wrôe
 = 
TRUE
;

164 i‡(!(
rbôs
->
ö
[
fd
 / 
CHAR_BIT
] & (1 << (fd & (CHAR_BIT - 1)))))

167 
ªt
 = 
	`WaôF‹SögÀObje˘
 (
h
, 0);

168 i‡(
ªt
 =
WAIT_OBJECT_0
)

170 i‡(!
	`IsC⁄sﬁeH™dÀ
 (
h
))

172 
ªad
 = 
TRUE
;

176 
nbuf„r
 = 
avaû
 = 0;

177 
bRë
 = 
	`GëNumbîOfC⁄sﬁeI≈utEvíts
 (
h
, &
nbuf„r
);

180 
	`as£π
 (
bRë
);

181 i‡(
nbuf„r
 == 0)

183 
ex˚±
 = 
TRUE
;

187 
úbuf„r
 = (
INPUT_RECORD
 *Ë
	`Æloˇ
 (
nbuf„r
 *  (INPUT_RECORD));

188 
bRë
 = 
	`PìkC⁄sﬁeI≈ut
 (
h
, 
úbuf„r
, 
nbuf„r
, &
avaû
);

189 i‡(!
bRë
 || 
avaû
 == 0)

191 
ex˚±
 = 
TRUE
;

195 
i
 = 0; i < 
avaû
; i++)

196 i‡(
úbuf„r
[
i
].
EvítTy≥
 =
KEY_EVENT
)

197 
ªad
 = 
TRUE
;

202 
ªt
 = 
	`WaôF‹SögÀObje˘
 (
h
, 0);

203 
wrôe
 = 
TRUE
;

204 i‡(
ªt
 =
WAIT_OBJECT_0
)

205 
ªad
 = 
TRUE
;

210 
ªt
 = 0;

211 i‡(
ªad
 && (
rbôs
->
ö
[
fd
 / 
CHAR_BIT
] & (1 << (fd & (CHAR_BIT - 1)))))

213 
rbôs
->
out
[
fd
 / 
CHAR_BIT
] |= (1 << (fd & (CHAR_BIT - 1)));

214 
ªt
++;

217 i‡(
wrôe
 && (
wbôs
->
ö
[
fd
 / 
CHAR_BIT
] & (1 << (fd & (CHAR_BIT - 1)))))

219 
wbôs
->
out
[
fd
 / 
CHAR_BIT
] |= (1 << (fd & (CHAR_BIT - 1)));

220 
ªt
++;

223 i‡(
ex˚±
 && (
xbôs
->
ö
[
fd
 / 
CHAR_BIT
] & (1 << (fd & (CHAR_BIT - 1)))))

225 
xbôs
->
out
[
fd
 / 
CHAR_BIT
] |= (1 << (fd & (CHAR_BIT - 1)));

226 
ªt
++;

229  
ªt
;

230 
	}
}

233 
	$Ωl_£À˘
 (
nfds
, 
fd_£t
 *
rfds
, fd_£à*
wfds
, fd_£à*
xfds
,

234 
timevÆ
 *
timeout
)

236 
timevÆ
 
tv0
;

237 
HANDLE
 
hEvít
;

238 
HANDLE
 
h
, 
h™dÀ_¨øy
[
FD_SETSIZE
 + 2];

239 
fd_£t
 
h™dÀ_rfds
, 
h™dÀ_wfds
, 
h™dÀ_xfds
;

240 
bô£t
 
rbôs
, 
wbôs
, 
xbôs
;

241 
™yfds_ö
[
FD_SETSIZE
 / 
CHAR_BIT
];

242 
DWORD
 
ªt
, 
waô_timeout
, 
nh™dÀs
, 
nsock
, 
nbuf„r
;

243 
MSG
 
msg
;

244 
i
, 
fd
, 
rc
;

246 i‡(
nfds
 > 
FD_SETSIZE
)

247 
nfds
 = 
FD_SETSIZE
;

249 i‡(!
timeout
)

250 
waô_timeout
 = 
INFINITE
;

253 
waô_timeout
 = 
timeout
->
tv_£c
 * 1000 +Åimeout->
tv_u£c
 / 1000;

256 i‡(!
rfds
 && !
wfds
 && !
xfds
)

258 
	`SÀï
 (
waô_timeout
);

263 i‡(!
hEvít
)

264 
hEvít
 = 
	`Cª©eEvít
 (
NULL
, 
FALSE
, FALSE, NULL);

266 
h™dÀ_¨øy
[0] = 
hEvít
;

267 
nh™dÀs
 = 1;

268 
nsock
 = 0;

274 
	`mem£t
 (&
rbôs
, 0,  (rbits));

275 
	`mem£t
 (&
wbôs
, 0,  (wbits));

276 
	`mem£t
 (&
xbôs
, 0,  (xbits));

277 
	`mem£t
 (
™yfds_ö
, 0,  (anyfds_in));

278 i‡(
rfds
)

279 
i
 = 0; i < 
rfds
->
fd_cou¡
; i++)

281 
fd
 = 
rfds
->
fd_¨øy
[
i
];

282 
h
 = (
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
);

283 i‡(
	`IsC⁄sﬁeH™dÀ
 (
h
)

284 && !
	`GëNumbîOfC⁄sﬁeI≈utEvíts
 (
h
, &
nbuf„r
))

287 
rbôs
.
ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

288 
™yfds_ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

291 
rfds
 = (
fd_£t
 *Ë
	`Æloˇ
 ( (fd_set));

293 i‡(
wfds
)

294 
i
 = 0; i < 
wfds
->
fd_cou¡
; i++)

296 
fd
 = 
wfds
->
fd_¨øy
[
i
];

297 
h
 = (
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
);

298 i‡(
	`IsC⁄sﬁeH™dÀ
 (
h
)

299 && 
	`GëNumbîOfC⁄sﬁeI≈utEvíts
 (
h
, &
nbuf„r
))

302 
wbôs
.
ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

303 
™yfds_ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

306 
wfds
 = (
fd_£t
 *Ë
	`Æloˇ
 ( (fd_set));

308 i‡(
xfds
)

309 
i
 = 0; i < 
xfds
->
fd_cou¡
; i++)

311 
fd
 = 
xfds
->
fd_¨øy
[
i
];

312 
xbôs
.
ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

313 
™yfds_ö
[
fd
 / 
CHAR_BIT
] |= 1 << (fd & (CHAR_BIT - 1));

316 
xfds
 = (
fd_£t
 *Ë
	`Æloˇ
 ( (fd_set));

319 
	`FD_ZERO
 (
rfds
);

320 
	`FD_ZERO
 (
wfds
);

321 
	`FD_ZERO
 (
xfds
);

322 
	`FD_ZERO
 (&
h™dÀ_rfds
);

323 
	`FD_ZERO
 (&
h™dÀ_wfds
);

324 
	`FD_ZERO
 (&
h™dÀ_xfds
);

327 
i
 = 0; i < 
nfds
; i++)

329 i‡((
™yfds_ö
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1)))) == 0)

332 
h
 = (
HANDLE
Ë
	`_gë_osfh™dÀ
 (
i
);

333 i‡(!
h
)

335 
î∫o
 = 
EBADF
;

339 i‡(
	`IsSockëH™dÀ
 (
h
))

341 
ªque°ed
 = 
FD_CLOSE
;

345 i‡(
rbôs
.
ö
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

347 
ªque°ed
 |
FD_READ
 | 
FD_ACCEPT
;

348 
	`FD_SET
 ((
SOCKET
Ë
h
, 
rfds
);

349 
	`FD_SET
 ((
SOCKET
Ë
h
, &
h™dÀ_rfds
);

351 i‡(
wbôs
.
ö
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

353 
ªque°ed
 |
FD_WRITE
 | 
FD_CONNECT
;

354 
	`FD_SET
 ((
SOCKET
Ë
h
, 
wfds
);

355 
	`FD_SET
 ((
SOCKET
Ë
h
, &
h™dÀ_wfds
);

357 i‡(
xbôs
.
ö
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

359 
ªque°ed
 |
FD_OOB
;

360 
	`FD_SET
 ((
SOCKET
Ë
h
, 
xfds
);

361 
	`FD_SET
 ((
SOCKET
Ë
h
, &
h™dÀ_xfds
);

364 
	`WSAEvítSñe˘
 ((
SOCKET
Ë
h
, 
hEvít
, 
ªque°ed
);

365 
nsock
++;

369 
h™dÀ_¨øy
[
nh™dÀs
++] = 
h
;

372 i‡(
waô_timeout
 != 0

373 && 
	`wö32_pﬁl_h™dÀ
 (
h
, 
i
, &
rbôs
, &
wbôs
, &
xbôs
))

374 
waô_timeout
 = 0;

378 i‡(
waô_timeout
 =0 || 
nsock
 == 0)

379 
rc
 = 0;

385 
rc
 = 
	`£À˘
 (0, &
h™dÀ_rfds
, &
h™dÀ_wfds
, &
h™dÀ_xfds
, &
tv0
);

386 i‡(
rc
 == 0)

389 
	`mem˝y
 (&
h™dÀ_rfds
, 
rfds
,  (
fd_£t
));

390 
	`mem˝y
 (&
h™dÀ_wfds
, 
wfds
,  (
fd_£t
));

391 
	`mem˝y
 (&
h™dÀ_xfds
, 
xfds
,  (
fd_£t
));

394 
waô_timeout
 = 0;

399 
ªt
 = 
	`MsgWaôF‹Mu…ùÀObje˘s
 (
nh™dÀs
, 
h™dÀ_¨øy
, 
FALSE
,

400 
waô_timeout
, 
QS_ALLINPUT
);

402 i‡(
ªt
 =
WAIT_OBJECT_0
 + 
nh™dÀs
)

405 
BOOL
 
bRë
;

406 (
bRë
 = 
	`PìkMesßge
 (&
msg
, 
NULL
, 0, 0, 
PM_REMOVE
)) != 0)

408 
	`Tøn¶©eMesßge
 (&
msg
);

409 
	`Di•©chMesßge
 (&
msg
);

417 i‡(
rc
 =0 && 
nsock
 > 0)

418 
rc
 = 
	`£À˘
 (0, &
h™dÀ_rfds
, &
h™dÀ_wfds
, &
h™dÀ_xfds
, &
tv0
);

421 
	`FD_ZERO
 (
rfds
);

422 
	`FD_ZERO
 (
wfds
);

423 
	`FD_ZERO
 (
xfds
);

426 
h™dÀ_¨øy
[
nh™dÀs
] = 
NULL
;

427 
nh™dÀs
 = 1;

428 
i
 = 0; i < 
nfds
; i++)

430 i‡((
™yfds_ö
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1)))) == 0)

433 
h
 = (
HANDLE
Ë
	`_gë_osfh™dÀ
 (
i
);

434 i‡(
h
 !
h™dÀ_¨øy
[
nh™dÀs
])

438 
	`WSAEvítSñe˘
 ((
SOCKET
Ë
h
, 
NULL
, 0);

439 i‡(
	`FD_ISSET
 (
h
, &
h™dÀ_rfds
))

440 
	`FD_SET
 (
i
, 
rfds
);

441 i‡(
	`FD_ISSET
 (
h
, &
h™dÀ_wfds
))

442 
	`FD_SET
 (
i
, 
wfds
);

443 i‡(
	`FD_ISSET
 (
h
, &
h™dÀ_xfds
))

444 
	`FD_SET
 (
i
, 
xfds
);

449 
nh™dÀs
++;

450 
	`wö32_pﬁl_h™dÀ
 (
h
, 
i
, &
rbôs
, &
wbôs
, &
xbôs
);

451 i‡(
rbôs
.
out
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

453 
rc
++;

454 
	`FD_SET
 (
i
, 
rfds
);

456 i‡(
wbôs
.
out
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

458 
rc
++;

459 
	`FD_SET
 (
i
, 
wfds
);

461 i‡(
xbôs
.
out
[
i
 / 
CHAR_BIT
] & (1 << (i & (CHAR_BIT - 1))))

463 
rc
++;

464 
	`FD_SET
 (
i
, 
xfds
);

469  
rc
;

470 
	}
}

474 
	~<sys/£À˘.h
>

476 #unde‡
£À˘


479 
	$Ωl_£À˘
 (
nfds
, 
fd_£t
 *
rfds
, fd_£à*
wfds
, fd_£à*
xfds
,

480 
timevÆ
 *
timeout
)

483 i‡(
nfds
 == 0)

485 
nfds
 = 1;

486 
rfds
 = 
NULL
;

487 
wfds
 = 
NULL
;

488 
xfds
 = 
NULL
;

490  
	`£À˘
 (
nfds
, 
rfds
, 
wfds
, 
xfds
, 
timeout
);

491 
	}
}

	@lib/send.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 #unde‡
£nd


31 
ssize_t


32 
	$Ωl_£nd
 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
)

34 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

35 
r
 = 
	`£nd
 (
sock
, 
buf
, 
Àn
, 
Êags
);

36 i‡(
r
 < 0)

37 
	`£t_wösock_î∫o
 ();

39  
r
;

40 
	}
}

	@lib/setsockopt.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~<sys/time.h
>

30 
	~"w32sock.h
"

32 #unde‡
£tsock›t


35 
	$Ωl_£tsock›t
 (
fd
, 
Àvñ
, 
›äame
, c⁄° *
›tvÆ
, 
sockÀn_t
 
›éí
)

37 
r
;

38 
SOCKET
 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

40 i‡(
Àvñ
 =
SOL_SOCKET
 && (
›äame
 =
SO_RCVTIMEO
 || o±«mê=
SO_SNDTIMEO
))

42 c⁄° 
timevÆ
 *
tv
 = 
›tvÆ
;

43 
mûli£c⁄ds
 = 
tv
->
tv_£c
 * 1000 +Åv->
tv_u£c
 / 1000;

44 
›tvÆ
 = &
mûli£c⁄ds
;

45 
r
 = 
	`£tsock›t
 (
sock
, 
Àvñ
, 
›äame
, 
›tvÆ
,  ());

49 
r
 = 
	`£tsock›t
 (
sock
, 
Àvñ
, 
›äame
, 
›tvÆ
, 
›éí
);

52 i‡(
r
 < 0)

53 
	`£t_wösock_î∫o
 ();

55  
r
;

56 
	}
}

	@lib/sig-handler.h

18 #i‚de‡
_GL_SIG_HANDLER_H


19 
	#_GL_SIG_HANDLER_H


	)

21 
	~<sig«l.h
>

24 (*
	tß_h™dÀr_t
) ();

29 
ölöe
 
ß_h™dÀr_t


30 
	$gë_h™dÀr
 (
siga˘i⁄
 c⁄° *
a
)

32 #ifde‡
SA_SIGINFO


38 i‡(
a
->
ß_Êags
 & 
SA_SIGINFO
)

39  (
ß_h™dÀr_t
Ë
a
->
ß_siga˘i⁄
;

41  
a
->
ß_h™dÀr
;

42 
	}
}

	@lib/sigaction.c

18 
	~<c⁄fig.h
>

21 
	~<sig«l.h
>

23 
	~<î∫o.h
>

24 
	~<°döt.h
>

25 
	~<°dlib.h
>

54 #i‡
deföed
 
SIGCHLD
 || deföed 
HAVE_SIGALTSTACK
 || deföed 
HAVE_SIGINTERRUPT


60 #i‚de‡
SIGKILL


61 
	#SIGKILL
 (-1)

	)

63 #i‚de‡
SIGSTOP


64 
	#SIGSTOP
 (-1)

	)

70 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


71 #unde‡
SIGABRT_COMPAT


72 
	#SIGABRT_COMPAT
 6

	)

76 (*
	th™dÀr_t
Ë(
	tsig«l
);

80 
siga˘i⁄
 vﬁ©ûê
a˘i⁄_¨øy
[
NSIG
] ;

84 
	$siga˘i⁄_h™dÀr
 (
sig
)

86 
h™dÀr_t
 
h™dÀr
;

87 
sig£t_t
 
mask
;

88 
sig£t_t
 
ﬁdmask
;

89 
ßved_î∫o
 = 
î∫o
;

90 i‡(
sig
 < 0 || 
NSIG
 <sig || !
a˘i⁄_¨øy
[sig].
ß_h™dÀr
)

93 i‡(
sig
 =
SIGABRT
)

94 
	`sig«l
 (
SIGABRT
, 
SIG_DFL
);

95 
	`ab‹t
 ();

106 
h™dÀr
 = 
a˘i⁄_¨øy
[
sig
].
ß_h™dÀr
;

107 i‡((
a˘i⁄_¨øy
[
sig
].
ß_Êags
 & 
SA_RESETHAND
) == 0)

108 
	`sig«l
 (
sig
, 
siga˘i⁄_h™dÀr
);

110 
a˘i⁄_¨øy
[
sig
].
ß_h™dÀr
 = 
NULL
;

113 
mask
 = 
a˘i⁄_¨øy
[
sig
].
ß_mask
;

114 i‡((
a˘i⁄_¨øy
[
sig
].
ß_Êags
 & 
SA_NODEFER
) == 0)

115 
	`sigadd£t
 (&
mask
, 
sig
);

116 
	`sig¥ocmask
 (
SIG_BLOCK
, &
mask
, &
ﬁdmask
);

119 
î∫o
 = 
ßved_î∫o
;

120 
	`h™dÀr
 (
sig
);

121 
ßved_î∫o
 = 
î∫o
;

122 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁdmask
, 
NULL
);

123 
î∫o
 = 
ßved_î∫o
;

124 
	}
}

131 
	$siga˘i⁄
 (
sig
, c⁄° 
siga˘i⁄
 *
ª°ri˘
 
a˘
,

132 
siga˘i⁄
 *
ª°ri˘
 
ﬂ˘
)

134 
sig£t_t
 
mask
;

135 
sig£t_t
 
ﬁdmask
;

136 
ßved_î∫o
;

138 i‡(
sig
 < 0 || 
NSIG
 <sig || sig =
SIGKILL
 || sig =
SIGSTOP


139 || (
a˘
 &&á˘->
ß_h™dÀr
 =
SIG_ERR
))

141 
î∫o
 = 
EINVAL
;

145 #ifde‡
SIGABRT_COMPAT


146 i‡(
sig
 =
SIGABRT_COMPAT
)

147 
sig
 = 
SIGABRT
;

158 i‡(!
a˘
 && !
ﬂ˘
)

160 
	`sigfûl£t
 (&
mask
);

161 
	`sig¥ocmask
 (
SIG_BLOCK
, &
mask
, &
ﬁdmask
);

162 i‡(
ﬂ˘
)

164 i‡(
a˘i⁄_¨øy
[
sig
].
ß_h™dÀr
)

165 *
ﬂ˘
 = 
a˘i⁄_¨øy
[
sig
];

170 
ﬂ˘
->
ß_h™dÀr
 = 
	`sig«l
 (
sig
, 
SIG_DFL
);

171 i‡(
ﬂ˘
->
ß_h™dÀr
 =
SIG_ERR
)

172 
Áûuª
;

173 
	`sig«l
 (
sig
, 
ﬂ˘
->
ß_h™dÀr
);

174 
ﬂ˘
->
ß_Êags
 = 
SA_RESETHAND
 | 
SA_NODEFER
;

175 
	`sigem±y£t
 (&
ﬂ˘
->
ß_mask
);

179 i‡(
a˘
)

183 i‡(
a˘
->
ß_h™dÀr
 =
SIG_DFL
 ||á˘->ß_h™dÀ∏=
SIG_IGN
)

185 i‡(
	`sig«l
 (
sig
, 
a˘
->
ß_h™dÀr
Ë=
SIG_ERR
)

186 
Áûuª
;

187 
a˘i⁄_¨øy
[
sig
].
ß_h™dÀr
 = 
NULL
;

191 i‡(
	`sig«l
 (
sig
, 
siga˘i⁄_h™dÀr
Ë=
SIG_ERR
)

192 
Áûuª
;

193 
a˘i⁄_¨øy
[
sig
] = *
a˘
;

196 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁdmask
, 
NULL
);

199 
Áûuª
:

200 
ßved_î∫o
 = 
î∫o
;

201 
	`sig¥ocmask
 (
SIG_SETMASK
, &
ﬁdmask
, 
NULL
);

202 
î∫o
 = 
ßved_î∫o
;

204 
	}
}

	@lib/signal.h

19 #i‡
__GNUC__
 >= 3

20 #¥agm®
GCC
 
sy°em_hódî


24 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
__√ed_sig£t_t
 || deföed 
_GL_ALREADY_INCLUDING_SIGNAL_H
 || (deföed 
_SIGNAL_H
 && !deföed 
__SIZEOF_PTHREAD_MUTEX_T
)

36 #ö˛ude_√xà<
sig«l
.
h
>

41 #i‚de‡
_GL_SIGNAL_H


43 
	#_GL_ALREADY_INCLUDING_SIGNAL_H


	)

49 
	~<sys/ty≥s.h
>

52 #ö˛ude_√xà<
sig«l
.
h
>

54 #unde‡
_GL_ALREADY_INCLUDING_SIGNAL_H


56 #i‚de‡
_GL_SIGNAL_H


57 
	#_GL_SIGNAL_H


	)

62 #i‡(0 || 
deföed
 
GNULIB_POSIXCHECK
) \

63 && ((
deföed
 
	g__APPLE__
 && deföed 
	g__MACH__
Ë|| deföed 
	g__FªeBSD__
 || deföed 
	g__O≥nBSD__
 || deföed 
	g__osf__
 || deföed 
	g__sun
) \

64 && ! 
deföed
 
	g__GLIBC__


65 
	~<±hªad.h
>

69 #i‚de‡
_GL_CXXDEFS_H


70 
	#_GL_CXXDEFS_H


	)

133 #i‡
deföed
 
__˝lu•lus


134 
	#_GL_EXTERN_C
 "C"

	)

136 
	#_GL_EXTERN_C
 

	)

146 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

147 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

148 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

149 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

158 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

159 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

167 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

168 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

169 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


170 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

171 
«me•a˚
 
GNULIB_NAMESPACE
 \

173 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

175 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

177 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

178 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

186 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


187 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

188 
«me•a˚
 
GNULIB_NAMESPACE
 \

190 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

191 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

193 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

195 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

196 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

206 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


213 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

214 
«me•a˚
 
GNULIB_NAMESPACE
 \

216 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

218 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

220 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

221 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

229 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


230 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

231 
«me•a˚
 
GNULIB_NAMESPACE
 \

233 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

234 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

236 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

238 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

239 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

248 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


254 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

255 
«me•a˚
 
GNULIB_NAMESPACE
 \

257 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

258 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

259 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

261 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

263 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

264 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

271 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


272 
	#_GL_CXXALIASWARN
(
func
) \

273 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

274 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

275 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

278 #i‡!
__OPTIMIZE__


279 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

280 
	`_GL_WARN_ON_USE
 (
func
, \

282 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

283 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


284 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

285 
	`__ty≥of__
 (
func
Ë
	)
func

287 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

288 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

291 
	#_GL_CXXALIASWARN
(
func
) \

292 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

298 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


299 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

300 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

301 
GNULIB_NAMESPACE
)

	)

302 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

303 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

306 #i‡!
__OPTIMIZE__


307 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

308 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

310 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

311 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


312 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

313 
	`__ty≥of__
 (
func
Ë
	)
func

315 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

316 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

319 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

320 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

329 #i‚de‡
_GL_ARG_NONNULL


330 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

331 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

333 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

338 #i‚de‡
_GL_WARN_ON_USE


340 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

342 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

343 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

344 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


346 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

347 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

349 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

350 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

360 #i‚de‡
_GL_WARN_ON_USE_CXX


361 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

362 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

363 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

364 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

365 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


367 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

368 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

370 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

371 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

377 #i‚de‡
_GL_WARN_EXTERN_C


378 #i‡
deföed
 
__˝lu•lus


379 
	#_GL_WARN_EXTERN_C
 "C"

	)

381 
	#_GL_WARN_EXTERN_C
 

	)

389 #i‡!
GNULIB_deföed_sig_©omic_t


390 
	tΩl_sig_©omic_t
;

391 #unde‡
sig_©omic_t


392 
	#sig_©omic_t
 
Ωl_sig_©omic_t


	)

393 
	#GNULIB_deföed_sig_©omic_t
 1

	)

399 #i‡!
GNULIB_deföed_sig£t_t


400 
	tsig£t_t
;

401 
	#GNULIB_deföed_sig£t_t
 1

	)

407 #ifde‡
__˝lu•lus


410 #i‡!
GNULIB_deföed_sigh™dÀr_t


411 (*
	tsigh™dÀr_t
) ();

412 
	#GNULIB_deföed_sigh™dÀr_t
 1

	)

414 #ifde‡
__˝lu•lus


415 
	}
}

421 #i‚de‡
SIGPIPE


423 
	#SIGPIPE
 13

	)

424 
	#GNULIB_deföed_SIGPIPE
 1

	)

432 #i‚de‡
NSIG


433 #i‡
deföed
 
__TANDEM


434 
	#NSIG
 32

	)

441 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

442 #unde‡
±hªad_sigmask


443 
	#±hªad_sigmask
 
Ωl_±hªad_sigmask


	)

445 
_GL_FUNCDECL_RPL
 (
±hªad_sigmask
, ,

446 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

447 
_GL_CXXALIAS_RPL
 (
±hªad_sigmask
, ,

448 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

451 
_GL_FUNCDECL_SYS
 (
±hªad_sigmask
, ,

452 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

454 
_GL_CXXALIAS_SYS
 (
±hªad_sigmask
, ,

455 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

457 
_GL_CXXALIASWARN
 (
±hªad_sigmask
);

458 #ñi‡
deföed
 
GNULIB_POSIXCHECK


459 #unde‡
±hªad_sigmask


460 #i‡
HAVE_RAW_DECL_PTHREAD_SIGMASK


461 
_GL_WARN_ON_USE
 (
±hªad_sigmask
, "pthread_sigmask isÇotÖortable - "

471 #i‚de‡
NSIG


472 
	#NSIG
 32

	)

476 #i‡!
GNULIB_deföed_vîify_NSIG_c⁄°øöt


477 
	tvîify_NSIG_c⁄°øöt
[
NSIG
 <= 32 ? 1 : -1];

478 
	#GNULIB_deföed_vîify_NSIG_c⁄°øöt
 1

	)

486 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


487 #unde‡
sigismembî


490 
_GL_FUNCDECL_SYS
 (
sigismembî
, , (c⁄° 
sig£t_t
 *
£t
, 
sig
)

491 
_GL_ARG_NONNULL
 ((1)));

493 
_GL_CXXALIAS_SYS
 (
sigismembî
, , (c⁄° 
sig£t_t
 *
£t
, 
sig
));

494 
_GL_CXXALIASWARN
 (
sigismembî
);

499 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


500 #unde‡
sigem±y£t


503 
_GL_FUNCDECL_SYS
 (
sigem±y£t
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

505 
_GL_CXXALIAS_SYS
 (
sigem±y£t
, , (
sig£t_t
 *
£t
));

506 
_GL_CXXALIASWARN
 (
sigem±y£t
);

511 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


512 #unde‡
sigadd£t


515 
_GL_FUNCDECL_SYS
 (
sigadd£t
, , (
sig£t_t
 *
£t
, 
sig
)

516 
_GL_ARG_NONNULL
 ((1)));

518 
_GL_CXXALIAS_SYS
 (
sigadd£t
, , (
sig£t_t
 *
£t
, 
sig
));

519 
_GL_CXXALIASWARN
 (
sigadd£t
);

524 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


525 #unde‡
sigdñ£t


528 
_GL_FUNCDECL_SYS
 (
sigdñ£t
, , (
sig£t_t
 *
£t
, 
sig
)

529 
_GL_ARG_NONNULL
 ((1)));

531 
_GL_CXXALIAS_SYS
 (
sigdñ£t
, , (
sig£t_t
 *
£t
, 
sig
));

532 
_GL_CXXALIASWARN
 (
sigdñ£t
);

537 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


538 #unde‡
sigfûl£t


541 
_GL_FUNCDECL_SYS
 (
sigfûl£t
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

543 
_GL_CXXALIAS_SYS
 (
sigfûl£t
, , (
sig£t_t
 *
£t
));

544 
_GL_CXXALIASWARN
 (
sigfûl£t
);

548 
_GL_FUNCDECL_SYS
 (
sig≥ndög
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

550 
_GL_CXXALIAS_SYS
 (
sig≥ndög
, , (
sig£t_t
 *
£t
));

551 
_GL_CXXALIASWARN
 (
sig≥ndög
);

559 
	#SIG_BLOCK
 0

	)

560 
	#SIG_SETMASK
 1

	)

561 
	#SIG_UNBLOCK
 2

	)

562 
_GL_FUNCDECL_SYS
 (
sig¥ocmask
, ,

563 (
›î©i⁄
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
ﬁd_£t
));

565 
_GL_CXXALIAS_SYS
 (
sig¥ocmask
, ,

566 (
›î©i⁄
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
ﬁd_£t
));

567 
_GL_CXXALIASWARN
 (
sig¥ocmask
);

571 #ifde‡
__˝lu•lus


574 #i‡!
GNULIB_deföed_fun˘i⁄_èkög_öt_ªtu∫ög_void_t


575 (*
	t_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
) ();

576 
	#GNULIB_deföed_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 1

	)

578 #ifde‡
__˝lu•lus


579 
	}
}

582 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

583 
	#sig«l
 
Ωl_sig«l


	)

585 
_GL_FUNCDECL_RPL
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

586 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

587 
_GL_CXXALIAS_RPL
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

588 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

590 
_GL_CXXALIAS_SYS
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

591 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

593 
_GL_CXXALIASWARN
 (
sig«l
);

596 #i‡!1 && 
GNULIB_deföed_SIGPIPE


597 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

598 #unde‡
øi£


599 
	#øi£
 
Ωl_øi£


	)

601 
_GL_FUNCDECL_RPL
 (
øi£
, , (
sig
));

602 
_GL_CXXALIAS_RPL
 (
øi£
, , (
sig
));

604 
_GL_CXXALIAS_SYS
 (
øi£
, , (
sig
));

606 
_GL_CXXALIASWARN
 (
øi£
);

608 #ñi‡
deföed
 
GNULIB_POSIXCHECK


609 #unde‡
sigadd£t


610 #i‡
HAVE_RAW_DECL_SIGADDSET


611 
_GL_WARN_ON_USE
 (
sigadd£t
, "sigaddset is unportable - "

614 #unde‡
sigdñ£t


615 #i‡
HAVE_RAW_DECL_SIGDELSET


616 
_GL_WARN_ON_USE
 (
sigdñ£t
, "sigdelset is unportable - "

619 #unde‡
sigem±y£t


620 #i‡
HAVE_RAW_DECL_SIGEMPTYSET


621 
_GL_WARN_ON_USE
 (
sigem±y£t
, "sigemptyset is unportable - "

624 #unde‡
sigfûl£t


625 #i‡
HAVE_RAW_DECL_SIGFILLSET


626 
_GL_WARN_ON_USE
 (
sigfûl£t
, "sigfillset is unportable - "

629 #unde‡
sigismembî


630 #i‡
HAVE_RAW_DECL_SIGISMEMBER


631 
_GL_WARN_ON_USE
 (
sigismembî
, "sigismember is unportable - "

634 #unde‡
sig≥ndög


635 #i‡
HAVE_RAW_DECL_SIGPENDING


636 
_GL_WARN_ON_USE
 (
sig≥ndög
, "sigpending is unportable - "

639 #unde‡
sig¥ocmask


640 #i‡
HAVE_RAW_DECL_SIGPROCMASK


641 
_GL_WARN_ON_USE
 (
sig¥ocmask
, "sigprocmask is unportable - "

652 #i‡!
GNULIB_deföed_sigöfo_ty≥s


655 
	usigvÆ


657 
	msivÆ_öt
;

658 *
	msivÆ_±r
;

662 
	ssigöfo_t


664 
	msi_signo
;

665 
	msi_code
;

666 
	msi_î∫o
;

667 
pid_t
 
	msi_pid
;

668 
uid_t
 
	msi_uid
;

669 *
	msi_addr
;

670 
	msi_°©us
;

671 
	msi_b™d
;

672 
sigvÆ
 
	msi_vÆue
;

674 
sigöfo_t
 
	tsigöfo_t
;

676 
	#GNULIB_deföed_sigöfo_ty≥s
 1

	)

684 #i‡!
GNULIB_deföed_°ru˘_siga˘i⁄


686 
	ssiga˘i⁄


690 (*
	m_ß_h™dÀr
) ();

695 (*
	m_ß_siga˘i⁄
Ë(, 
	msigöfo_t
 *, *);

696 } 
	m_ß_func
;

697 
sig£t_t
 
	mß_mask
;

699 
	mß_Êags
;

701 
	#ß_h™dÀr
 
_ß_func
.
_ß_h™dÀr


	)

702 
	#ß_siga˘i⁄
 
_ß_func
.
_ß_siga˘i⁄


	)

704 
	#SA_RESETHAND
 1

	)

705 
	#SA_NODEFER
 2

	)

706 
	#SA_RESTART
 4

	)

708 
	#GNULIB_deföed_°ru˘_siga˘i⁄
 1

	)

711 
_GL_FUNCDECL_SYS
 (
siga˘i⁄
, , (, c⁄° siga˘i⁄ *
ª°ri˘
,

712 
siga˘i⁄
 *
ª°ri˘
));

716 
	#ß_siga˘i⁄
 
ß_h™dÀr


	)

720 
_GL_CXXALIAS_SYS
 (
siga˘i⁄
, , (, c⁄° siga˘i⁄ *
ª°ri˘
,

721 
siga˘i⁄
 *
ª°ri˘
));

722 
_GL_CXXALIASWARN
 (
siga˘i⁄
);

724 #ñi‡
deföed
 
GNULIB_POSIXCHECK


725 #unde‡
siga˘i⁄


726 #i‡
HAVE_RAW_DECL_SIGACTION


727 
_GL_WARN_ON_USE
 (
siga˘i⁄
, "sigaction is unportable - "

733 #i‚de‡
SA_NODEFER


734 
	#SA_NODEFER
 0

	)

	@lib/signal.in.h

18 #i‡
__GNUC__
 >= 3

19 @
	gPRAGMA_SYSTEM_HEADER
@

21 @
	gPRAGMA_COLUMNS
@

23 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
__√ed_sig£t_t
 || deföed 
_GL_ALREADY_INCLUDING_SIGNAL_H
 || (deföed 
_SIGNAL_H
 && !deföed 
__SIZEOF_PTHREAD_MUTEX_T
)

35 #@
INCLUDE_NEXT
@ @
NEXT_SIGNAL_H
@

40 #i‚de‡
_
@
GUARD_PREFIX
@
_SIGNAL_H


42 
	#_GL_ALREADY_INCLUDING_SIGNAL_H


	)

48 
	~<sys/ty≥s.h
>

51 #@
INCLUDE_NEXT
@ @
NEXT_SIGNAL_H
@

53 #unde‡
_GL_ALREADY_INCLUDING_SIGNAL_H


55 #i‚de‡
_
@
GUARD_PREFIX
@
_SIGNAL_H


56 
	#_
@
GUARD_PREFIX
@
_SIGNAL_H


	)

61 #i‡(@
GNULIB_PTHREAD_SIGMASK
@ || 
deföed
 
GNULIB_POSIXCHECK
) \

62 && ((
deföed
 
	g__APPLE__
 && deföed 
	g__MACH__
Ë|| deföed 
	g__FªeBSD__
 || deföed 
	g__O≥nBSD__
 || deföed 
	g__osf__
 || deföed 
	g__sun
) \

63 && ! 
deföed
 
	g__GLIBC__


64 
	~<±hªad.h
>

76 #i‡! @
HAVE_TYPE_VOLATILE_SIG_ATOMIC_T
@

77 #i‡!
GNULIB_deföed_sig_©omic_t


78 
	tΩl_sig_©omic_t
;

79 #unde‡
sig_©omic_t


80 
	#sig_©omic_t
 
Ωl_sig_©omic_t


	)

81 
	#GNULIB_deföed_sig_©omic_t
 1

	)

86 #i‡!@
HAVE_SIGSET_T
@

87 #i‡!
GNULIB_deföed_sig£t_t


88 
	tsig£t_t
;

89 
	#GNULIB_deföed_sig£t_t
 1

	)

94 #i‡!@
HAVE_SIGHANDLER_T
@

95 #ifde‡
__˝lu•lus


98 #i‡!
GNULIB_deföed_sigh™dÀr_t


99 (*
	tsigh™dÀr_t
) ();

100 
	#GNULIB_deföed_sigh™dÀr_t
 1

	)

102 #ifde‡
__˝lu•lus


103 
	}
}

108 #i‡@
GNULIB_SIGNAL_H_SIGPIPE
@

109 #i‚de‡
SIGPIPE


111 
	#SIGPIPE
 13

	)

112 
	#GNULIB_deföed_SIGPIPE
 1

	)

120 #i‚de‡
NSIG


121 #i‡
deföed
 
__TANDEM


122 
	#NSIG
 32

	)

127 #i‡@
GNULIB_PTHREAD_SIGMASK
@

128 #i‡@
REPLACE_PTHREAD_SIGMASK
@

129 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

130 #unde‡
±hªad_sigmask


131 
	#±hªad_sigmask
 
Ωl_±hªad_sigmask


	)

133 
_GL_FUNCDECL_RPL
 (
±hªad_sigmask
, ,

134 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

135 
_GL_CXXALIAS_RPL
 (
±hªad_sigmask
, ,

136 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

138 #i‡!@
HAVE_PTHREAD_SIGMASK
@

139 
_GL_FUNCDECL_SYS
 (
±hªad_sigmask
, ,

140 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

142 
_GL_CXXALIAS_SYS
 (
±hªad_sigmask
, ,

143 (
how
, c⁄° 
sig£t_t
 *
√w_mask
, sig£t_à*
ﬁd_mask
));

145 
_GL_CXXALIASWARN
 (
±hªad_sigmask
);

146 #ñi‡
deföed
 
GNULIB_POSIXCHECK


147 #unde‡
±hªad_sigmask


148 #i‡
HAVE_RAW_DECL_PTHREAD_SIGMASK


149 
_GL_WARN_ON_USE
 (
±hªad_sigmask
, "pthread_sigmask isÇotÖortable - "

155 #i‡@
GNULIB_SIGPROCMASK
@

156 #i‡!@
HAVE_POSIX_SIGNALBLOCKING
@

159 #i‚de‡
NSIG


160 
	#NSIG
 32

	)

164 #i‡!
GNULIB_deföed_vîify_NSIG_c⁄°øöt


165 
	tvîify_NSIG_c⁄°øöt
[
NSIG
 <= 32 ? 1 : -1];

166 
	#GNULIB_deföed_vîify_NSIG_c⁄°øöt
 1

	)

172 #i‡@
HAVE_POSIX_SIGNALBLOCKING
@

174 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


175 #unde‡
sigismembî


178 
_GL_FUNCDECL_SYS
 (
sigismembî
, , (c⁄° 
sig£t_t
 *
£t
, 
sig
)

179 
_GL_ARG_NONNULL
 ((1)));

181 
_GL_CXXALIAS_SYS
 (
sigismembî
, , (c⁄° 
sig£t_t
 *
£t
, 
sig
));

182 
_GL_CXXALIASWARN
 (
sigismembî
);

185 #i‡@
HAVE_POSIX_SIGNALBLOCKING
@

187 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


188 #unde‡
sigem±y£t


191 
_GL_FUNCDECL_SYS
 (
sigem±y£t
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

193 
_GL_CXXALIAS_SYS
 (
sigem±y£t
, , (
sig£t_t
 *
£t
));

194 
_GL_CXXALIASWARN
 (
sigem±y£t
);

197 #i‡@
HAVE_POSIX_SIGNALBLOCKING
@

199 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


200 #unde‡
sigadd£t


203 
_GL_FUNCDECL_SYS
 (
sigadd£t
, , (
sig£t_t
 *
£t
, 
sig
)

204 
_GL_ARG_NONNULL
 ((1)));

206 
_GL_CXXALIAS_SYS
 (
sigadd£t
, , (
sig£t_t
 *
£t
, 
sig
));

207 
_GL_CXXALIASWARN
 (
sigadd£t
);

210 #i‡@
HAVE_POSIX_SIGNALBLOCKING
@

212 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


213 #unde‡
sigdñ£t


216 
_GL_FUNCDECL_SYS
 (
sigdñ£t
, , (
sig£t_t
 *
£t
, 
sig
)

217 
_GL_ARG_NONNULL
 ((1)));

219 
_GL_CXXALIAS_SYS
 (
sigdñ£t
, , (
sig£t_t
 *
£t
, 
sig
));

220 
_GL_CXXALIASWARN
 (
sigdñ£t
);

223 #i‡@
HAVE_POSIX_SIGNALBLOCKING
@

225 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


226 #unde‡
sigfûl£t


229 
_GL_FUNCDECL_SYS
 (
sigfûl£t
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

231 
_GL_CXXALIAS_SYS
 (
sigfûl£t
, , (
sig£t_t
 *
£t
));

232 
_GL_CXXALIASWARN
 (
sigfûl£t
);

235 #i‡!@
HAVE_POSIX_SIGNALBLOCKING
@

236 
_GL_FUNCDECL_SYS
 (
sig≥ndög
, , (
sig£t_t
 *
£t
Ë
_GL_ARG_NONNULL
 ((1)));

238 
_GL_CXXALIAS_SYS
 (
sig≥ndög
, , (
sig£t_t
 *
£t
));

239 
_GL_CXXALIASWARN
 (
sig≥ndög
);

246 #i‡!@
HAVE_POSIX_SIGNALBLOCKING
@

247 
	#SIG_BLOCK
 0

	)

248 
	#SIG_SETMASK
 1

	)

249 
	#SIG_UNBLOCK
 2

	)

250 
_GL_FUNCDECL_SYS
 (
sig¥ocmask
, ,

251 (
›î©i⁄
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
ﬁd_£t
));

253 
_GL_CXXALIAS_SYS
 (
sig¥ocmask
, ,

254 (
›î©i⁄
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
ﬁd_£t
));

255 
_GL_CXXALIASWARN
 (
sig¥ocmask
);

259 #ifde‡
__˝lu•lus


262 #i‡!
GNULIB_deföed_fun˘i⁄_èkög_öt_ªtu∫ög_void_t


263 (*
	t_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
) ();

264 
	#GNULIB_deföed_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 1

	)

266 #ifde‡
__˝lu•lus


267 
	}
}

269 #i‡!@
HAVE_POSIX_SIGNALBLOCKING
@

270 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

271 
	#sig«l
 
Ωl_sig«l


	)

273 
_GL_FUNCDECL_RPL
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

274 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

275 
_GL_CXXALIAS_RPL
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

276 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

278 
_GL_CXXALIAS_SYS
 (
sig«l
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
,

279 (
sig
, 
_gl_fun˘i⁄_èkög_öt_ªtu∫ög_void_t
 
func
));

281 
_GL_CXXALIASWARN
 (
sig«l
);

284 #i‡!@
HAVE_POSIX_SIGNALBLOCKING
@ && 
GNULIB_deföed_SIGPIPE


285 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

286 #unde‡
øi£


287 
	#øi£
 
Ωl_øi£


	)

289 
_GL_FUNCDECL_RPL
 (
øi£
, , (
sig
));

290 
_GL_CXXALIAS_RPL
 (
øi£
, , (
sig
));

292 
_GL_CXXALIAS_SYS
 (
øi£
, , (
sig
));

294 
_GL_CXXALIASWARN
 (
øi£
);

296 #ñi‡
deföed
 
GNULIB_POSIXCHECK


297 #unde‡
sigadd£t


298 #i‡
HAVE_RAW_DECL_SIGADDSET


299 
_GL_WARN_ON_USE
 (
sigadd£t
, "sigaddset is unportable - "

302 #unde‡
sigdñ£t


303 #i‡
HAVE_RAW_DECL_SIGDELSET


304 
_GL_WARN_ON_USE
 (
sigdñ£t
, "sigdelset is unportable - "

307 #unde‡
sigem±y£t


308 #i‡
HAVE_RAW_DECL_SIGEMPTYSET


309 
_GL_WARN_ON_USE
 (
sigem±y£t
, "sigemptyset is unportable - "

312 #unde‡
sigfûl£t


313 #i‡
HAVE_RAW_DECL_SIGFILLSET


314 
_GL_WARN_ON_USE
 (
sigfûl£t
, "sigfillset is unportable - "

317 #unde‡
sigismembî


318 #i‡
HAVE_RAW_DECL_SIGISMEMBER


319 
_GL_WARN_ON_USE
 (
sigismembî
, "sigismember is unportable - "

322 #unde‡
sig≥ndög


323 #i‡
HAVE_RAW_DECL_SIGPENDING


324 
_GL_WARN_ON_USE
 (
sig≥ndög
, "sigpending is unportable - "

327 #unde‡
sig¥ocmask


328 #i‡
HAVE_RAW_DECL_SIGPROCMASK


329 
_GL_WARN_ON_USE
 (
sig¥ocmask
, "sigprocmask is unportable - "

335 #i‡@
GNULIB_SIGACTION
@

336 #i‡!@
HAVE_SIGACTION
@

338 #i‡!@
HAVE_SIGINFO_T
@

340 #i‡!
GNULIB_deföed_sigöfo_ty≥s


343 
	usigvÆ


345 
	msivÆ_öt
;

346 *
	msivÆ_±r
;

350 
	ssigöfo_t


352 
	msi_signo
;

353 
	msi_code
;

354 
	msi_î∫o
;

355 
pid_t
 
	msi_pid
;

356 
uid_t
 
	msi_uid
;

357 *
	msi_addr
;

358 
	msi_°©us
;

359 
	msi_b™d
;

360 
sigvÆ
 
	msi_vÆue
;

362 
sigöfo_t
 
	tsigöfo_t
;

364 
	#GNULIB_deföed_sigöfo_ty≥s
 1

	)

372 #i‡!
GNULIB_deföed_°ru˘_siga˘i⁄


374 
	ssiga˘i⁄


378 (*
	m_ß_h™dÀr
) ();

383 (*
	m_ß_siga˘i⁄
Ë(, 
	msigöfo_t
 *, *);

384 } 
	m_ß_func
;

385 
sig£t_t
 
	mß_mask
;

387 
	mß_Êags
;

389 
	#ß_h™dÀr
 
_ß_func
.
_ß_h™dÀr


	)

390 
	#ß_siga˘i⁄
 
_ß_func
.
_ß_siga˘i⁄


	)

392 
	#SA_RESETHAND
 1

	)

393 
	#SA_NODEFER
 2

	)

394 
	#SA_RESTART
 4

	)

396 
	#GNULIB_deföed_°ru˘_siga˘i⁄
 1

	)

399 
_GL_FUNCDECL_SYS
 (
siga˘i⁄
, , (, c⁄° siga˘i⁄ *
ª°ri˘
,

400 
siga˘i⁄
 *
ª°ri˘
));

402 #ñi‡!@
HAVE_STRUCT_SIGACTION_SA_SIGACTION
@

404 
	#ß_siga˘i⁄
 
ß_h™dÀr


	)

408 
_GL_CXXALIAS_SYS
 (
siga˘i⁄
, , (, c⁄° siga˘i⁄ *
ª°ri˘
,

409 
siga˘i⁄
 *
ª°ri˘
));

410 
_GL_CXXALIASWARN
 (
siga˘i⁄
);

412 #ñi‡
deföed
 
GNULIB_POSIXCHECK


413 #unde‡
siga˘i⁄


414 #i‡
HAVE_RAW_DECL_SIGACTION


415 
_GL_WARN_ON_USE
 (
siga˘i⁄
, "sigaction is unportable - "

421 #i‚de‡
SA_NODEFER


422 
	#SA_NODEFER
 0

	)

	@lib/sigprocmask.c

18 
	~<c⁄fig.h
>

21 
	~<sig«l.h
>

23 
	~<î∫o.h
>

24 
	~<°döt.h
>

25 
	~<°dlib.h
>

35 #unde‡
sig«l


39 #i‚de‡
SIGKILL


40 
	#SIGKILL
 (-1)

	)

42 #i‚de‡
SIGSTOP


43 
	#SIGSTOP
 (-1)

	)

49 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


50 #unde‡
SIGABRT_COMPAT


51 
	#SIGABRT_COMPAT
 6

	)

53 #ifde‡
SIGABRT_COMPAT


54 
	#SIGABRT_COMPAT_MASK
 (1U << 
SIGABRT_COMPAT
)

	)

56 
	#SIGABRT_COMPAT_MASK
 0

	)

59 (*
	th™dÀr_t
) ();

63 #i‡
GNULIB_deföed_SIGPIPE


64 
h™dÀr_t
 
SIGPIPE_h™dÀr
 = 
SIG_DFL
;

67 #i‡
GNULIB_deföed_SIGPIPE


68 
h™dÀr_t


69 
	$ext_sig«l
 (
sig
, 
h™dÀr_t
 
h™dÀr
)

71 
sig
)

73 
SIGPIPE
:

75 
h™dÀr_t
 
ﬁd_h™dÀr
 = 
SIGPIPE_h™dÀr
;

76 
SIGPIPE_h™dÀr
 = 
h™dÀr
;

77  
ﬁd_h™dÀr
;

80  
	`sig«l
 (
sig
, 
h™dÀr
);

82 
	}
}

83 
	#sig«l
 
ext_sig«l


	)

87 
	$sigismembî
 (c⁄° 
sig£t_t
 *
£t
, 
sig
)

89 i‡(
sig
 >0 && sig < 
NSIG
)

91 #ifde‡
SIGABRT_COMPAT


92 i‡(
sig
 =
SIGABRT_COMPAT
)

93 
sig
 = 
SIGABRT
;

96  (*
£t
 >> 
sig
) & 1;

100 
	}
}

103 
	$sigem±y£t
 (
sig£t_t
 *
£t
)

105 *
£t
 = 0;

107 
	}
}

110 
	$sigadd£t
 (
sig£t_t
 *
£t
, 
sig
)

112 i‡(
sig
 >0 && sig < 
NSIG
)

114 #ifde‡
SIGABRT_COMPAT


115 i‡(
sig
 =
SIGABRT_COMPAT
)

116 
sig
 = 
SIGABRT
;

119 *
£t
 |1U << 
sig
;

124 
î∫o
 = 
EINVAL
;

127 
	}
}

130 
	$sigdñ£t
 (
sig£t_t
 *
£t
, 
sig
)

132 i‡(
sig
 >0 && sig < 
NSIG
)

134 #ifde‡
SIGABRT_COMPAT


135 i‡(
sig
 =
SIGABRT_COMPAT
)

136 
sig
 = 
SIGABRT
;

139 *
£t
 &~(1U << 
sig
);

144 
î∫o
 = 
EINVAL
;

147 
	}
}

151 
	$sigfûl£t
 (
sig£t_t
 *
£t
)

153 *
£t
 = ((2U << (
NSIG
 - 1)Ë- 1Ë& ~ 
SIGABRT_COMPAT_MASK
;

155 
	}
}

158 vﬁ©ûê
sig£t_t
 
	gblocked_£t
 ;

161 vﬁ©ûê
sig_©omic_t
 
	g≥ndög_¨øy
[
NSIG
] ;

165 
	$blocked_h™dÀr
 (
sig
)

172 
	`sig«l
 (
sig
, 
blocked_h™dÀr
);

173 i‡(
sig
 >0 && sig < 
NSIG
)

174 
≥ndög_¨øy
[
sig
] = 1;

175 
	}
}

178 
	$sig≥ndög
 (
sig£t_t
 *
£t
)

180 
sig£t_t
 
≥ndög
 = 0;

181 
sig
;

183 
sig
 = 0; sig < 
NSIG
; sig++)

184 i‡(
≥ndög_¨øy
[
sig
])

185 
≥ndög
 |1U << 
sig
;

186 *
£t
 = 
≥ndög
;

188 
	}
}

192 vﬁ©ûê
h™dÀr_t
 
	gﬁd_h™dÀrs
[
NSIG
];

195 
	$sig¥ocmask
 (
›î©i⁄
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
ﬁd_£t
)

197 i‡(
ﬁd_£t
 !
NULL
)

198 *
ﬁd_£t
 = 
blocked_£t
;

200 i‡(
£t
 !
NULL
)

202 
sig£t_t
 
√w_blocked_£t
;

203 
sig£t_t
 
to_unblock
;

204 
sig£t_t
 
to_block
;

206 
›î©i⁄
)

208 
SIG_BLOCK
:

209 
√w_blocked_£t
 = 
blocked_£t
 | *
£t
;

211 
SIG_SETMASK
:

212 
√w_blocked_£t
 = *
£t
;

214 
SIG_UNBLOCK
:

215 
√w_blocked_£t
 = 
blocked_£t
 & ~*
£t
;

218 
î∫o
 = 
EINVAL
;

221 
to_unblock
 = 
blocked_£t
 & ~
√w_blocked_£t
;

222 
to_block
 = 
√w_blocked_£t
 & ~
blocked_£t
;

224 i‡(
to_block
 != 0)

226 
sig
;

228 
sig
 = 0; sig < 
NSIG
; sig++)

229 i‡((
to_block
 >> 
sig
) & 1)

231 
≥ndög_¨øy
[
sig
] = 0;

232 i‡((
ﬁd_h™dÀrs
[
sig
] = 
	`sig«l
 (sig, 
blocked_h™dÀr
)Ë!
SIG_ERR
)

233 
blocked_£t
 |1U << 
sig
;

237 i‡(
to_unblock
 != 0)

239 
sig_©omic_t
 
ª˚ived
[
NSIG
];

240 
sig
;

242 
sig
 = 0; sig < 
NSIG
; sig++)

243 i‡((
to_unblock
 >> 
sig
) & 1)

245 i‡(
	`sig«l
 (
sig
, 
ﬁd_h™dÀrs
[sig]Ë!
blocked_h™dÀr
)

249 
	`ab‹t
 ();

250 
ª˚ived
[
sig
] = 
≥ndög_¨øy
[sig];

251 
blocked_£t
 &~(1U << 
sig
);

252 
≥ndög_¨øy
[
sig
] = 0;

255 
ª˚ived
[
sig
] = 0;

257 
sig
 = 0; sig < 
NSIG
; sig++)

258 i‡(
ª˚ived
[
sig
])

259 
	`øi£
 (
sig
);

263 
	}
}

267 
h™dÀr_t


268 
	$Ωl_sig«l
 (
sig
, 
h™dÀr_t
 
h™dÀr
)

272 i‡(
sig
 >0 && sig < 
NSIG
 && sig !
SIGKILL
 && sig !
SIGSTOP


273 && 
h™dÀr
 !
SIG_ERR
)

275 #ifde‡
SIGABRT_COMPAT


276 i‡(
sig
 =
SIGABRT_COMPAT
)

277 
sig
 = 
SIGABRT
;

280 i‡(
blocked_£t
 & (1U << 
sig
))

291 
h™dÀr_t
 
ªsu…
 = 
ﬁd_h™dÀrs
[
sig
];

292 
ﬁd_h™dÀrs
[
sig
] = 
h™dÀr
;

293  
ªsu…
;

296  
	`sig«l
 (
sig
, 
h™dÀr
);

300 
î∫o
 = 
EINVAL
;

301  
SIG_ERR
;

303 
	}
}

305 #i‡
GNULIB_deföed_SIGPIPE


308 
	$Ωl_øi£
 (
sig
)

309 #unde‡
øi£


311 
sig
)

313 
SIGPIPE
:

314 i‡(
blocked_£t
 & (1U << 
sig
))

315 
≥ndög_¨øy
[
sig
] = 1;

318 
h™dÀr_t
 
h™dÀr
 = 
SIGPIPE_h™dÀr
;

319 i‡(
h™dÀr
 =
SIG_DFL
)

320 
	`exô
 (128 + 
SIGPIPE
);

321 i‡(
h™dÀr
 !
SIG_IGN
)

322 (*
h™dÀr
Ë(
sig
);

326  
	`øi£
 (
sig
);

328 
	}
}

	@lib/size_max.h

21 #i‚de‡
GNULIB_SIZE_MAX_H


22 
	#GNULIB_SIZE_MAX_H


	)

25 
	~<limôs.h
>

27 #i‡
HAVE_STDINT_H


28 
	~<°döt.h
>

	@lib/snprintf.c

21 
	~<c⁄fig.h
>

24 
	~<°dio.h
>

26 
	~<î∫o.h
>

27 
	~<limôs.h
>

28 
	~<°d¨g.h
>

29 
	~<°dlib.h
>

30 
	~<°rög.h
>

32 
	~"va¢¥ötf.h
"

40 
	$¢¥ötf
 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...)

42 *
ouçut
;

43 
size_t
 
Àn
;

44 
size_t
 
Ànbuf
 = 
size
;

45 
va_li°
 
¨gs
;

47 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

48 
ouçut
 = 
	`va¢¥ötf
 (
°r
, &
Ànbuf
, 
f‹m©
, 
¨gs
);

49 
Àn
 = 
Ànbuf
;

50 
	`va_íd
 (
¨gs
);

52 i‡(!
ouçut
)

55 i‡(
ouçut
 !
°r
)

57 i‡(
size
)

59 
size_t
 
¥u√d_Àn
 = (
Àn
 < 
size
 ?Üen : size - 1);

60 
	`mem˝y
 (
°r
, 
ouçut
, 
¥u√d_Àn
);

61 
°r
[
¥u√d_Àn
] = '\0';

64 
	`‰ì
 (
ouçut
);

67 i‡(
INT_MAX
 < 
Àn
)

69 
î∫o
 = 
EOVERFLOW
;

73  
Àn
;

74 
	}
}

	@lib/socket.c

20 
	~<c⁄fig.h
>

22 
	#WIN32_LEAN_AND_MEAN


	)

24 
	~<sys/sockë.h
>

27 
	~"w32sock.h
"

29 
	~"sockës.h
"

32 
	$Ωl_sockë
 (
domaö
, 
ty≥
, 
¥Ÿocﬁ
)

34 
SOCKET
 
fh
;

36 
	`gl_sockës_°¨tup
 (
SOCKETS_1_1
);

40 
fh
 = 
	`WSASockë
 (
domaö
, 
ty≥
, 
¥Ÿocﬁ
, 
NULL
, 0, 0);

42 i‡(
fh
 =
INVALID_SOCKET
)

44 
	`£t_wösock_î∫o
 ();

48  
	`SOCKET_TO_FD
 (
fh
);

49 
	}
}

	@lib/sockets.c

20 
	~<c⁄fig.h
>

23 
	~"sockës.h
"

25 #i‡
WINDOWS_SOCKETS


28 
	~<sys/sockë.h
>

30 
	~"fd-hook.h
"

33 
	~"w32sock.h
"

36 
	$˛o£_fd_maybe_sockë
 (c⁄° 
fd_hook
 *
ªmaöög_li°
,

37 
gl_˛o£_‚
 
¥im¨y
,

38 
fd
)

44 
SOCKET
 
sock
;

45 
WSANETWORKEVENTS
 
ev
;

48 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

49 
ev
.
lNëw‹kEvíts
 = 0xDEADBEEF;

50 
	`WSAEnumNëw‹kEvíts
 (
sock
, 
NULL
, &
ev
);

51 i‡(
ev
.
lNëw‹kEvíts
 != 0xDEADBEEF)

58 i‡(
	`˛o£sockë
 (
sock
))

60 
	`£t_wösock_î∫o
 ();

67 
	`_˛o£
 (
fd
);

73  
	`execuã_˛o£_hooks
 (
ªmaöög_li°
, 
¥im¨y
, 
fd
);

74 
	}
}

77 
	$io˘l_fd_maybe_sockë
 (c⁄° 
fd_hook
 *
ªmaöög_li°
,

78 
gl_io˘l_‚
 
¥im¨y
,

79 
fd
, 
ªque°
, *
¨g
)

81 
SOCKET
 
sock
;

82 
WSANETWORKEVENTS
 
ev
;

85 
sock
 = 
	`FD_TO_SOCKET
 (
fd
);

86 
ev
.
lNëw‹kEvíts
 = 0xDEADBEEF;

87 
	`WSAEnumNëw‹kEvíts
 (
sock
, 
NULL
, &
ev
);

88 i‡(
ev
.
lNëw‹kEvíts
 != 0xDEADBEEF)

91 i‡(
	`io˘lsockë
 (
sock
, 
ªque°
, 
¨g
) < 0)

93 
	`£t_wösock_î∫o
 ();

101  
	`execuã_io˘l_hooks
 (
ªmaöög_li°
, 
¥im¨y
, 
fd
, 
ªque°
, 
¨g
);

102 
	}
}

104 
fd_hook
 
	gfd_sockës_hook
;

106 
	göôülized_sockës_vîsi⁄
 ;

111 
	$gl_sockës_°¨tup
 (
vîsi⁄
 
_GL_UNUSED
)

113 #i‡
WINDOWS_SOCKETS


114 i‡(
vîsi⁄
 > 
öôülized_sockës_vîsi⁄
)

116 
WSADATA
 
d©a
;

117 
îr
;

119 
îr
 = 
	`WSASèπup
 (
vîsi⁄
, &
d©a
);

120 i‡(
îr
 != 0)

123 i‡(
d©a
.
wVîsi⁄
 < 
vîsi⁄
)

126 i‡(
öôülized_sockës_vîsi⁄
 == 0)

127 
	`ªgi°î_fd_hook
 (
˛o£_fd_maybe_sockë
, 
io˘l_fd_maybe_sockë
,

128 &
fd_sockës_hook
);

130 
öôülized_sockës_vîsi⁄
 = 
vîsi⁄
;

135 
	}
}

138 
	$gl_sockës_˛ónup
 ()

140 #i‡
WINDOWS_SOCKETS


141 
îr
;

143 
öôülized_sockës_vîsi⁄
 = 0;

145 
	`uƒegi°î_fd_hook
 (&
fd_sockës_hook
);

147 
îr
 = 
	`WSACÀ™up
 ();

148 i‡(
îr
 != 0)

153 
	}
}

	@lib/sockets.h

20 #i‚de‡
SOCKETS_H


21 
	#SOCKETS_H
 1

	)

23 
	#SOCKETS_1_0
 0x100

	)

24 
	#SOCKETS_1_1
 0x101

	)

25 
	#SOCKETS_2_0
 0x200

	)

26 
	#SOCKETS_2_1
 0x201

	)

27 
	#SOCKETS_2_2
 0x202

	)

29 
gl_sockës_°¨tup
 (
vîsi⁄
);

30 
gl_sockës_˛ónup
 ();

35 #i‡
WINDOWS_SOCKETS


37 
	~<sys/sockë.h
>

39 
ölöe
 
SOCKET


40 
	$gl_fd_to_h™dÀ
 (
fd
)

42  
	`_gë_osfh™dÀ
 (
fd
);

43 
	}
}

47 
	#gl_fd_to_h™dÀ
(
x
Ë(x)

	)

	@lib/spawn-pipe.c

19 
	~<c⁄fig.h
>

22 
	~"•awn-pùe.h
"

24 
	~<î∫o.h
>

25 
	~<f˙é.h
>

26 
	~<°dlib.h
>

27 
	~<sig«l.h
>

28 
	~<uni°d.h
>

30 
	~"îr‹.h
"

31 
	~"Áèl-sig«l.h
"

32 
	~"uni°d-ß„r.h
"

33 
	~"waô-¥o˚ss.h
"

34 
	~"gëãxt.h
"

36 
	#_
(
°r
Ë
	`gëãxt
 (°r)

	)

38 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


41 
	~<¥o˚ss.h
>

42 
	~"w32•awn.h
"

47 
	~<•awn.h
>

53 #unde‡
›í


54 #unde‡
˛o£


57 #ifde‡
EINTR


63 
ölöe
 

64 
	$n⁄öå_˛o£
 (
fd
)

66 
ªtvÆ
;

69 
ªtvÆ
 = 
	`˛o£
 (
fd
);

70 
ªtvÆ
 < 0 && 
î∫o
 =
EINTR
);

72  
ªtvÆ
;

73 
	}
}

74 
	#˛o£
 
n⁄öå_˛o£


	)

76 
ölöe
 

77 
	$n⁄öå_›í
 (c⁄° *
∑th«me
, 
oÊag
, 
mode_t
 
mode
)

79 
ªtvÆ
;

82 
ªtvÆ
 = 
	`›í
 (
∑th«me
, 
oÊag
, 
mode
);

83 
ªtvÆ
 < 0 && 
î∫o
 =
EINTR
);

85  
ªtvÆ
;

86 
	}
}

87 #unde‡
›í


88 
	#›í
 
n⁄öå_›í


	)

106 
pid_t


107 
	$¸óã_pùe
 (c⁄° *
¥og«me
,

108 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

109 
boﬁ
 
pùe_°dö
, boﬁ 
pùe_°dout
,

110 c⁄° *
¥og_°dö
, c⁄° *
¥og_°dout
,

111 
boﬁ
 
nuŒ_°dîr
,

112 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

113 
fd
[2])

115 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


122 
ifd
[2];

123 
ofd
[2];

124 
‹ig_°dö
;

125 
‹ig_°dout
;

126 
‹ig_°dîr
;

127 
chûd
;

128 
nuŒoutfd
;

129 
°döfd
;

130 
°doutfd
;

131 
ßved_î∫o
;

134 
¥og_¨gv
 = 
	`¥ï¨e_•awn
 (prog_argv);

136 i‡(
pùe_°dout
)

137 i‡(
	`pùe2_ß„r
 (
ifd
, 
O_BINARY
 | 
O_CLOEXEC
) < 0)

138 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot createÖipe"));

139 i‡(
pùe_°dö
)

140 i‡(
	`pùe2_ß„r
 (
ofd
, 
O_BINARY
 | 
O_CLOEXEC
) < 0)

141 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot createÖipe"));

152 i‡(
pùe_°dö
 || 
¥og_°dö
 !
NULL
)

153 
‹ig_°dö
 = 
	`dup_ß„r_noöhîô
 (
STDIN_FILENO
);

154 i‡(
pùe_°dout
 || 
¥og_°dout
 !
NULL
)

155 
‹ig_°dout
 = 
	`dup_ß„r_noöhîô
 (
STDOUT_FILENO
);

156 i‡(
nuŒ_°dîr
)

157 
‹ig_°dîr
 = 
	`dup_ß„r_noöhîô
 (
STDERR_FILENO
);

158 
chûd
 = -1;

161 
nuŒoutfd
 = -1;

162 
°döfd
 = -1;

163 
°doutfd
 = -1;

164 i‡((!
pùe_°dö
 || 
	`dup2
 (
ofd
[0], 
STDIN_FILENO
) >= 0)

165 && (!
pùe_°dout
 || 
	`dup2
 (
ifd
[1], 
STDOUT_FILENO
) >= 0)

166 && (!
nuŒ_°dîr


167 || ((
nuŒoutfd
 = 
	`›í
 ("NUL", 
O_RDWR
, 0)) >= 0

168 && (
nuŒoutfd
 =
STDERR_FILENO


169 || (
	`dup2
 (
nuŒoutfd
, 
STDERR_FILENO
) >= 0

170 && 
	`˛o£
 (
nuŒoutfd
) >= 0))))

171 && (
pùe_°dö


172 || 
¥og_°dö
 =
NULL


173 || ((
°döfd
 = 
	`›í
 (
¥og_°dö
, 
O_RDONLY
, 0)) >= 0

174 && (
°döfd
 =
STDIN_FILENO


175 || (
	`dup2
 (
°döfd
, 
STDIN_FILENO
) >= 0

176 && 
	`˛o£
 (
°döfd
) >= 0))))

177 && (
pùe_°dout


178 || 
¥og_°dout
 =
NULL


179 || ((
°doutfd
 = 
	`›í
 (
¥og_°dout
, 
O_WRONLY
, 0)) >= 0

180 && (
°doutfd
 =
STDOUT_FILENO


181 || (
	`dup2
 (
°doutfd
, 
STDOUT_FILENO
) >= 0

182 && 
	`˛o£
 (
°doutfd
) >= 0)))))

195 
chûd
 = 
	`•awnv≥
 (
P_NOWAIT
, 
¥og_∑th
, (c⁄° **Ë
¥og_¨gv
,

196 (c⁄° **Ë
ívú⁄
);

197 i‡(
chûd
 < 0 && 
î∫o
 =
ENOEXEC
)

202 --
¥og_¨gv
;

203 
chûd
 = 
	`•awnv≥
 (
P_NOWAIT
, 
¥og_¨gv
[0], (const **)Örog_argv,

204 (c⁄° **Ë
ívú⁄
);

207 i‡(
chûd
 == -1)

208 
ßved_î∫o
 = 
î∫o
;

209 i‡(
°döfd
 >= 0)

210 
	`˛o£
 (
°döfd
);

211 i‡(
°doutfd
 >= 0)

212 
	`˛o£
 (
°doutfd
);

213 i‡(
nuŒoutfd
 >= 0)

214 
	`˛o£
 (
nuŒoutfd
);

217 i‡(
nuŒ_°dîr
)

218 
	`undup_ß„r_noöhîô
 (
‹ig_°dîr
, 
STDERR_FILENO
);

219 i‡(
pùe_°dout
 || 
¥og_°dout
 !
NULL
)

220 
	`undup_ß„r_noöhîô
 (
‹ig_°dout
, 
STDOUT_FILENO
);

221 i‡(
pùe_°dö
 || 
¥og_°dö
 !
NULL
)

222 
	`undup_ß„r_noöhîô
 (
‹ig_°dö
, 
STDIN_FILENO
);

224 i‡(
pùe_°dö
)

225 
	`˛o£
 (
ofd
[0]);

226 i‡(
pùe_°dout
)

227 
	`˛o£
 (
ifd
[1]);

228 i‡(
chûd
 == -1)

230 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

231 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 
ßved_î∫o
,

232 
	`_
("%†sub¥o˚s†Áûed"), 
¥og«me
);

233 i‡(
pùe_°dout
)

234 
	`˛o£
 (
ifd
[0]);

235 i‡(
pùe_°dö
)

236 
	`˛o£
 (
ofd
[1]);

237 
î∫o
 = 
ßved_î∫o
;

241 i‡(
pùe_°dout
)

242 
fd
[0] = 
ifd
[0];

243 i‡(
pùe_°dö
)

244 
fd
[1] = 
ofd
[1];

245  
chûd
;

250 
ifd
[2];

251 
ofd
[2];

252 
sig£t_t
 
blocked_sig«ls
;

253 
posix_•awn_fûe_a˘i⁄s_t
 
a˘i⁄s
;

254 
boﬁ
 
a˘i⁄s_Æloˇãd
;

255 
posix_•aw«âr_t
 
©ås
;

256 
boﬁ
 
©ås_Æloˇãd
;

257 
îr
;

258 
pid_t
 
chûd
;

260 i‡(
pùe_°dout
)

261 i‡(
	`pùe_ß„r
 (
ifd
) < 0)

262 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot createÖipe"));

263 i‡(
pùe_°dö
)

264 i‡(
	`pùe_ß„r
 (
ofd
) < 0)

265 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannot createÖipe"));

275 i‡(
¶ave_¥o˚ss
)

277 
	`sig¥ocmask
 (
SIG_SETMASK
, 
NULL
, &
blocked_sig«ls
);

278 
	`block_Áèl_sig«ls
 ();

280 
a˘i⁄s_Æloˇãd
 = 
Ál£
;

281 
©ås_Æloˇãd
 = 
Ál£
;

282 i‡((
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_öô
 (&
a˘i⁄s
)) != 0

283 || (
a˘i⁄s_Æloˇãd
 = 
åue
,

284 (
pùe_°dö


285 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_adddup2
 (&
a˘i⁄s
,

286 
ofd
[0], 
STDIN_FILENO
))

288 || (
pùe_°dout


289 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_adddup2
 (&
a˘i⁄s
,

290 
ifd
[1], 
STDOUT_FILENO
))

292 || (
pùe_°dö


293 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add˛o£
 (&
a˘i⁄s
, 
ofd
[0]))

295 || (
pùe_°dout


296 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add˛o£
 (&
a˘i⁄s
, 
ifd
[1]))

298 || (
pùe_°dö


299 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add˛o£
 (&
a˘i⁄s
, 
ofd
[1]))

301 || (
pùe_°dout


302 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add˛o£
 (&
a˘i⁄s
, 
ifd
[0]))

304 || (
nuŒ_°dîr


305 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add›í
 (&
a˘i⁄s
,

306 
STDERR_FILENO
,

307 "/dev/nuŒ", 
O_RDWR
,

310 || (!
pùe_°dö


311 && 
¥og_°dö
 !
NULL


312 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add›í
 (&
a˘i⁄s
,

313 
STDIN_FILENO
,

314 
¥og_°dö
, 
O_RDONLY
,

317 || (!
pùe_°dout


318 && 
¥og_°dout
 !
NULL


319 && (
îr
 = 
	`posix_•awn_fûe_a˘i⁄s_add›í
 (&
a˘i⁄s
,

320 
STDOUT_FILENO
,

321 
¥og_°dout
, 
O_WRONLY
,

324 || (
¶ave_¥o˚ss


325 && ((
îr
 = 
	`posix_•aw«âr_öô
 (&
©ås
)) != 0

326 || (
©ås_Æloˇãd
 = 
åue
,

327 (
îr
 = 
	`posix_•aw«âr_£tsigmask
 (&
©ås
,

328 &
blocked_sig«ls
))

330 || (
îr
 = 
	`posix_•aw«âr_£tÊags
 (&
©ås
,

331 
POSIX_SPAWN_SETSIGMASK
))

333 || (
îr
 = 
	`posix_•aw≈
 (&
chûd
, 
¥og_∑th
, &
a˘i⁄s
,

334 
©ås_Æloˇãd
 ? &
©ås
 : 
NULL
, 
¥og_¨gv
,

335 
ívú⁄
))

338 i‡(
a˘i⁄s_Æloˇãd
)

339 
	`posix_•awn_fûe_a˘i⁄s_de°roy
 (&
a˘i⁄s
);

340 i‡(
©ås_Æloˇãd
)

341 
	`posix_•aw«âr_de°roy
 (&
©ås
);

342 i‡(
¶ave_¥o˚ss
)

343 
	`unblock_Áèl_sig«ls
 ();

344 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

345 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 
îr
,

346 
	`_
("%†sub¥o˚s†Áûed"), 
¥og«me
);

347 i‡(
pùe_°dout
)

349 
	`˛o£
 (
ifd
[0]);

350 
	`˛o£
 (
ifd
[1]);

352 i‡(
pùe_°dö
)

354 
	`˛o£
 (
ofd
[0]);

355 
	`˛o£
 (
ofd
[1]);

357 
î∫o
 = 
îr
;

360 
	`posix_•awn_fûe_a˘i⁄s_de°roy
 (&
a˘i⁄s
);

361 i‡(
©ås_Æloˇãd
)

362 
	`posix_•aw«âr_de°roy
 (&
©ås
);

363 i‡(
¶ave_¥o˚ss
)

365 
	`ªgi°î_¶ave_sub¥o˚ss
 (
chûd
);

366 
	`unblock_Áèl_sig«ls
 ();

368 i‡(
pùe_°dö
)

369 
	`˛o£
 (
ofd
[0]);

370 i‡(
pùe_°dout
)

371 
	`˛o£
 (
ifd
[1]);

373 i‡(
pùe_°dout
)

374 
fd
[0] = 
ifd
[0];

375 i‡(
pùe_°dö
)

376 
fd
[1] = 
ofd
[1];

377  
chûd
;

380 
	}
}

390 
pid_t


391 
	$¸óã_pùe_bidi
 (c⁄° *
¥og«me
,

392 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

393 
boﬁ
 
nuŒ_°dîr
,

394 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

395 
fd
[2])

397 
pid_t
 
ªsu…
 = 
	`¸óã_pùe
 (
¥og«me
, 
¥og_∑th
, 
¥og_¨gv
,

398 
åue
,Årue, 
NULL
, NULL,

399 
nuŒ_°dîr
, 
¶ave_¥o˚ss
, 
exô_⁄_îr‹
,

400 
fd
);

401  
ªsu…
;

402 
	}
}

411 
pid_t


412 
	$¸óã_pùe_ö
 (c⁄° *
¥og«me
,

413 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

414 c⁄° *
¥og_°dö
, 
boﬁ
 
nuŒ_°dîr
,

415 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

416 
fd
[1])

418 
iofd
[2];

419 
pid_t
 
ªsu…
 = 
	`¸óã_pùe
 (
¥og«me
, 
¥og_∑th
, 
¥og_¨gv
,

420 
Ál£
, 
åue
, 
¥og_°dö
, 
NULL
,

421 
nuŒ_°dîr
, 
¶ave_¥o˚ss
, 
exô_⁄_îr‹
,

422 
iofd
);

423 i‡(
ªsu…
 != -1)

424 
fd
[0] = 
iofd
[0];

425  
ªsu…
;

426 
	}
}

435 
pid_t


436 
	$¸óã_pùe_out
 (c⁄° *
¥og«me
,

437 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

438 c⁄° *
¥og_°dout
, 
boﬁ
 
nuŒ_°dîr
,

439 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

440 
fd
[1])

442 
iofd
[2];

443 
pid_t
 
ªsu…
 = 
	`¸óã_pùe
 (
¥og«me
, 
¥og_∑th
, 
¥og_¨gv
,

444 
åue
, 
Ál£
, 
NULL
, 
¥og_°dout
,

445 
nuŒ_°dîr
, 
¶ave_¥o˚ss
, 
exô_⁄_îr‹
,

446 
iofd
);

447 i‡(
ªsu…
 != -1)

448 
fd
[0] = 
iofd
[1];

449  
ªsu…
;

450 
	}
}

	@lib/spawn-pipe.h

18 #i‚de‡
_SPAWN_PIPE_H


19 
	#_SPAWN_PIPE_H


	)

22 
	~<°dlib.h
>

23 
	~<uni°d.h
>

24 
	~<sys/ty≥s.h
>

26 
	~<°dboﬁ.h
>

29 #ifde‡
__˝lu•lus


85 
pid_t
 
¸óã_pùe_out
 (c⁄° *
¥og«me
,

86 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

87 c⁄° *
¥og_°dout
, 
boﬁ
 
nuŒ_°dîr
,

88 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

89 
fd
[1]);

98 
pid_t
 
¸óã_pùe_ö
 (c⁄° *
¥og«me
,

99 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

100 c⁄° *
¥og_°dö
, 
boﬁ
 
nuŒ_°dîr
,

101 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

102 
fd
[1]);

126 
pid_t
 
¸óã_pùe_bidi
 (c⁄° *
¥og«me
,

127 c⁄° *
¥og_∑th
, **
¥og_¨gv
,

128 
boﬁ
 
nuŒ_°dîr
,

129 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

130 
fd
[2]);

133 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


135 
	#DEV_NULL
 "NUL"

	)

138 
	#DEV_NULL
 "/dev/nuŒ"

	)

142 #ifde‡
__˝lu•lus


	@lib/spawn.h

19 #i‚de‡
_GL_SPAWN_H


21 #i‡
__GNUC__
 >= 3

22 #¥agm®
GCC
 
sy°em_hódî


28 #ö˛ude_√xà<
•awn
.
h
>

31 #i‚de‡
_GL_SPAWN_H


32 
	#_GL_SPAWN_H


	)

36 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

37 
	~<sched.h
>

38 
	~<sig«l.h
>

41 
	~<sys/ty≥s.h
>

43 #i‚de‡
__THROW


44 
	#__THROW


	)

52 #i‚de‡
_Re°ri˘_


53 #i‡199901L <
__STDC_VERSION__


54 
	#_Re°ri˘_
 
ª°ri˘


	)

55 #ñi‡2 < 
__GNUC__
 || (2 =__GNUC__ && 95 <
__GNUC_MINOR__
)

56 
	#_Re°ri˘_
 
__ª°ri˘


	)

58 
	#_Re°ri˘_


	)

64 #i‚de‡
_Re°ri˘_¨r_


65 #i‡((199901L <
__STDC_VERSION__
 \

66 || ((3 < 
	g__GNUC__
 || (3 =
__GNUC__
 && 1 <
__GNUC_MINOR__
)) \

67 && !
__STRICT_ANSI__
)) \

68 && !
deföed
 
__GNUG__
)

69 
	#_Re°ri˘_¨r_
 
_Re°ri˘_


	)

71 
	#_Re°ri˘_¨r_


	)

76 #i‚de‡
_GL_CXXDEFS_H


77 
	#_GL_CXXDEFS_H


	)

140 #i‡
deföed
 
__˝lu•lus


141 
	#_GL_EXTERN_C
 "C"

	)

143 
	#_GL_EXTERN_C
 

	)

153 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

154 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

155 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

156 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

165 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

166 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

174 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

175 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

176 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


177 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

178 
«me•a˚
 
GNULIB_NAMESPACE
 \

180 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

182 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

184 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

185 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

193 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


194 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

195 
«me•a˚
 
GNULIB_NAMESPACE
 \

197 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

198 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

200 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

202 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

203 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

213 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


220 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

221 
«me•a˚
 
GNULIB_NAMESPACE
 \

223 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

225 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

227 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

228 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

236 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


237 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

238 
«me•a˚
 
GNULIB_NAMESPACE
 \

240 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

241 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

243 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

245 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

246 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

255 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


261 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

262 
«me•a˚
 
GNULIB_NAMESPACE
 \

264 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

265 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

266 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

268 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

270 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

271 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

278 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


279 
	#_GL_CXXALIASWARN
(
func
) \

280 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

281 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

282 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

285 #i‡!
__OPTIMIZE__


286 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

287 
	`_GL_WARN_ON_USE
 (
func
, \

289 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

290 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


291 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

292 
	`__ty≥of__
 (
func
Ë
	)
func

294 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

295 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

298 
	#_GL_CXXALIASWARN
(
func
) \

299 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

305 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


306 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

307 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

308 
GNULIB_NAMESPACE
)

	)

309 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

310 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

313 #i‡!
__OPTIMIZE__


314 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

315 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

317 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

318 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


319 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

320 
	`__ty≥of__
 (
func
Ë
	)
func

322 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

323 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

326 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

327 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

336 #i‚de‡
_GL_ARG_NONNULL


337 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

338 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

340 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

345 #i‚de‡
_GL_WARN_ON_USE


347 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

349 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

350 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

351 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


353 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

354 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

356 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

357 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

367 #i‚de‡
_GL_WARN_ON_USE_CXX


368 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

369 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

370 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

371 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

372 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


374 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

375 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

377 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

378 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

384 #i‚de‡
_GL_WARN_EXTERN_C


385 #i‡
deföed
 
__˝lu•lus


386 
	#_GL_WARN_EXTERN_C
 "C"

	)

388 
	#_GL_WARN_EXTERN_C
 

	)

395 
	#posix_•aw«âr_t
 
Ωl_posix_•aw«âr_t


	)

398 #i‡!
GNULIB_deföed_posix_•aw«âr_t


401 
_Êags
;

402 
pid_t
 
_pgΩ
;

403 
sig£t_t
 
_sd
;

404 
sig£t_t
 
_ss
;

405 
sched_∑øm
 
_•
;

406 
_pﬁicy
;

407 
__∑d
[16];

408 } 
	tposix_•aw«âr_t
;

409 
	#GNULIB_deföed_posix_•aw«âr_t
 1

	)

417 
	#posix_•awn_fûe_a˘i⁄s_t
 
Ωl_posix_•awn_fûe_a˘i⁄s_t


	)

420 #i‡!
GNULIB_deföed_posix_•awn_fûe_a˘i⁄s_t


423 
	m_Æloˇãd
;

424 
	m_u£d
;

425 
__•awn_a˘i⁄
 *
	m_a˘i⁄s
;

426 
	m__∑d
[16];

427 } 
	tposix_•awn_fûe_a˘i⁄s_t
;

428 
	#GNULIB_deföed_posix_•awn_fûe_a˘i⁄s_t
 1

	)

436 #i‚de‡
POSIX_SPAWN_SETSCHEDPARAM


437 
	#POSIX_SPAWN_SETSCHEDPARAM
 0

	)

439 #i‚de‡
POSIX_SPAWN_SETSCHEDULER


440 
	#POSIX_SPAWN_SETSCHEDULER
 0

	)

446 #unde‡
POSIX_SPAWN_FORK_HANDLERS


448 
	#POSIX_SPAWN_RESETIDS
 0x01

	)

449 
	#POSIX_SPAWN_SETPGROUP
 0x02

	)

450 
	#POSIX_SPAWN_SETSIGDEF
 0x04

	)

451 
	#POSIX_SPAWN_SETSIGMASK
 0x08

	)

452 
	#POSIX_SPAWN_SETSCHEDPARAM
 0x10

	)

453 
	#POSIX_SPAWN_SETSCHEDULER
 0x20

	)

457 
	#POSIX_SPAWN_USEVFORK
 \

458 ((
POSIX_SPAWN_RESETIDS
 | (POSIX_SPAWN_RESETIDS - 1) \

459 | 
POSIX_SPAWN_SETPGROUP
 | (POSIX_SPAWN_SETPGROUP - 1) \

460 | 
POSIX_SPAWN_SETSIGDEF
 | (POSIX_SPAWN_SETSIGDEF - 1) \

461 | 
POSIX_SPAWN_SETSIGMASK
 | (POSIX_SPAWN_SETSIGMASK - 1) \

462 | 
POSIX_SPAWN_SETSCHEDPARAM
 \

463 | (
POSIX_SPAWN_SETSCHEDPARAM
 > 0 ? POSIX_SPAWN_SETSCHEDPARAM - 1 : 0) \

464 | 
POSIX_SPAWN_SETSCHEDULER
 \

465 | (
POSIX_SPAWN_SETSCHEDULER
 > 0 ? POSIX_SPAWN_SETSCHEDULER - 1 : 0)) \

466 + 1)

	)

467 #i‡!
GNULIB_deföed_vîify_POSIX_SPAWN_USEVFORK_no_ovîœp


468 
	tvîify_POSIX_SPAWN_USEVFORK_no_ovîœp


469 [(((
POSIX_SPAWN_RESETIDS
 | 
POSIX_SPAWN_SETPGROUP


470 | 
POSIX_SPAWN_SETSIGDEF
 | 
POSIX_SPAWN_SETSIGMASK


471 | 
POSIX_SPAWN_SETSCHEDPARAM
 | 
POSIX_SPAWN_SETSCHEDULER
)

472 & 
POSIX_SPAWN_USEVFORK
)

475 
	#GNULIB_deföed_vîify_POSIX_SPAWN_USEVFORK_no_ovîœp
 1

	)

486 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

487 
	#posix_•awn
 
Ωl_posix_•awn


	)

489 
_GL_FUNCDECL_RPL
 (
posix_•awn
, ,

490 (
pid_t
 *
_Re°ri˘_
 
__pid
,

491 c⁄° *
_Re°ri˘_
 
__∑th
,

492 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

493 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

494 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

495 *c⁄° 
ívp
[
_Re°ri˘_¨r_
])

496 
_GL_ARG_NONNULL
 ((2, 5, 6)));

497 
_GL_CXXALIAS_RPL
 (
posix_•awn
, ,

498 (
pid_t
 *
_Re°ri˘_
 
__pid
,

499 c⁄° *
_Re°ri˘_
 
__∑th
,

500 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

501 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

502 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

503 *c⁄° 
ívp
[
_Re°ri˘_¨r_
]));

506 
_GL_FUNCDECL_SYS
 (
posix_•awn
, ,

507 (
pid_t
 *
_Re°ri˘_
 
__pid
,

508 c⁄° *
_Re°ri˘_
 
__∑th
,

509 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

510 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

511 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

512 *c⁄° 
ívp
[
_Re°ri˘_¨r_
])

513 
_GL_ARG_NONNULL
 ((2, 5, 6)));

515 
_GL_CXXALIAS_SYS
 (
posix_•awn
, ,

516 (
pid_t
 *
_Re°ri˘_
 
__pid
,

517 c⁄° *
_Re°ri˘_
 
__∑th
,

518 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

519 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

520 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

521 *c⁄° 
ívp
[
_Re°ri˘_¨r_
]));

523 
_GL_CXXALIASWARN
 (
posix_•awn
);

524 #ñi‡
deföed
 
GNULIB_POSIXCHECK


525 #unde‡
posix_•awn


526 #i‡
HAVE_RAW_DECL_POSIX_SPAWN


527 
_GL_WARN_ON_USE
 (
posix_•awn
, "posix_spawn is unportable - "

538 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

539 
	#posix_•aw≈
 
Ωl_posix_•aw≈


	)

541 
_GL_FUNCDECL_RPL
 (
posix_•aw≈
, ,

542 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

543 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

544 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

545 *c⁄° 
¨gv
[], *c⁄° 
ívp
[])

546 
_GL_ARG_NONNULL
 ((2, 5, 6)));

547 
_GL_CXXALIAS_RPL
 (
posix_•aw≈
, ,

548 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

549 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

550 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

551 *c⁄° 
¨gv
[], *c⁄° 
ívp
[]));

554 
_GL_FUNCDECL_SYS
 (
posix_•aw≈
, ,

555 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

556 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

557 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

558 *c⁄° 
¨gv
[], *c⁄° 
ívp
[])

559 
_GL_ARG_NONNULL
 ((2, 5, 6)));

561 
_GL_CXXALIAS_SYS
 (
posix_•aw≈
, ,

562 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

563 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

564 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

565 *c⁄° 
¨gv
[], *c⁄° 
ívp
[]));

567 
_GL_CXXALIASWARN
 (
posix_•aw≈
);

568 #ñi‡
deföed
 
GNULIB_POSIXCHECK


569 #unde‡
posix_•aw≈


570 #i‡
HAVE_RAW_DECL_POSIX_SPAWNP


571 
_GL_WARN_ON_USE
 (
posix_•aw≈
, "posix_spawnp is unportable - "

580 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

581 
	#posix_•aw«âr_öô
 
Ωl_posix_•aw«âr_öô


	)

583 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
)

584 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

585 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
));

588 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
)

589 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

591 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
));

593 
_GL_CXXALIASWARN
 (
posix_•aw«âr_öô
);

594 #ñi‡
deföed
 
GNULIB_POSIXCHECK


595 #unde‡
posix_•aw«âr_öô


596 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_INIT


597 
_GL_WARN_ON_USE
 (
posix_•aw«âr_öô
, "posix_spawnattr_init is unportable - "

605 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

606 
	#posix_•aw«âr_de°roy
 
Ωl_posix_•aw«âr_de°roy


	)

608 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
)

609 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

610 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
));

613 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
)

614 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

616 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
));

618 
_GL_CXXALIASWARN
 (
posix_•aw«âr_de°roy
);

619 #ñi‡
deföed
 
GNULIB_POSIXCHECK


620 #unde‡
posix_•aw«âr_de°roy


621 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_DESTROY


622 
_GL_WARN_ON_USE
 (
posix_•aw«âr_de°roy
,

632 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

633 
	#posix_•aw«âr_gësigdeÁu…
 
Ωl_posix_•aw«âr_gësigdeÁu…


	)

635 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësigdeÁu…
, ,

636 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

637 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

638 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

639 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësigdeÁu…
, ,

640 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

641 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

644 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësigdeÁu…
, ,

645 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

646 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

647 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

649 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësigdeÁu…
, ,

650 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

651 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

653 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësigdeÁu…
);

654 #ñi‡
deföed
 
GNULIB_POSIXCHECK


655 #unde‡
posix_•aw«âr_gësigdeÁu…


656 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGDEFAULT


657 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësigdeÁu…
,

666 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

667 
	#posix_•aw«âr_£tsigdeÁu…
 
Ωl_posix_•aw«âr_£tsigdeÁu…


	)

669 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsigdeÁu…
, ,

670 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

671 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

672 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

673 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsigdeÁu…
, ,

674 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

675 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

678 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsigdeÁu…
, ,

679 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

680 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

681 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

683 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsigdeÁu…
, ,

684 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

685 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

687 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsigdeÁu…
);

688 #ñi‡
deföed
 
GNULIB_POSIXCHECK


689 #unde‡
posix_•aw«âr_£tsigdeÁu…


690 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGDEFAULT


691 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsigdeÁu…
,

700 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

701 
	#posix_•aw«âr_gësigmask
 
Ωl_posix_•aw«âr_gësigmask


	)

703 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësigmask
, ,

704 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

705 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

706 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

707 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësigmask
, ,

708 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

709 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

712 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësigmask
, ,

713 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

714 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

715 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

717 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësigmask
, ,

718 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

719 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

721 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësigmask
);

722 #ñi‡
deföed
 
GNULIB_POSIXCHECK


723 #unde‡
posix_•aw«âr_gësigmask


724 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGMASK


725 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësigmask
,

734 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

735 
	#posix_•aw«âr_£tsigmask
 
Ωl_posix_•aw«âr_£tsigmask


	)

737 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsigmask
, ,

738 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

739 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

740 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

741 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsigmask
, ,

742 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

743 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

746 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsigmask
, ,

747 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

748 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

749 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

751 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsigmask
, ,

752 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

753 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

755 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsigmask
);

756 #ñi‡
deföed
 
GNULIB_POSIXCHECK


757 #unde‡
posix_•aw«âr_£tsigmask


758 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGMASK


759 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsigmask
,

768 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

769 
	#posix_•aw«âr_gëÊags
 
Ωl_posix_•aw«âr_gëÊags


	)

771 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëÊags
, ,

772 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

773 *
_Re°ri˘_
 
__Êags
)

774 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

775 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëÊags
, ,

776 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

777 *
_Re°ri˘_
 
__Êags
));

780 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëÊags
, ,

781 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

782 *
_Re°ri˘_
 
__Êags
)

783 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

785 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëÊags
, ,

786 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

787 *
_Re°ri˘_
 
__Êags
));

789 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëÊags
);

790 #ñi‡
deföed
 
GNULIB_POSIXCHECK


791 #unde‡
posix_•aw«âr_gëÊags


792 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETFLAGS


793 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëÊags
,

802 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

803 
	#posix_•aw«âr_£tÊags
 
Ωl_posix_•aw«âr_£tÊags


	)

805 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tÊags
, ,

806 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
)

807 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

808 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tÊags
, ,

809 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
));

812 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tÊags
, ,

813 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
)

814 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

816 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tÊags
, ,

817 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
));

819 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tÊags
);

820 #ñi‡
deföed
 
GNULIB_POSIXCHECK


821 #unde‡
posix_•aw«âr_£tÊags


822 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETFLAGS


823 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tÊags
,

832 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

833 
	#posix_•aw«âr_gëpgroup
 
Ωl_posix_•aw«âr_gëpgroup


	)

835 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëpgroup
, ,

836 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

837 
pid_t
 *
_Re°ri˘_
 
__pgroup
)

838 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

839 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëpgroup
, ,

840 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

841 
pid_t
 *
_Re°ri˘_
 
__pgroup
));

844 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëpgroup
, ,

845 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

846 
pid_t
 *
_Re°ri˘_
 
__pgroup
)

847 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

849 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëpgroup
, ,

850 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

851 
pid_t
 *
_Re°ri˘_
 
__pgroup
));

853 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëpgroup
);

854 #ñi‡
deföed
 
GNULIB_POSIXCHECK


855 #unde‡
posix_•aw«âr_gëpgroup


856 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETPGROUP


857 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëpgroup
,

866 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

867 
	#posix_•aw«âr_£çgroup
 
Ωl_posix_•aw«âr_£çgroup


	)

869 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£çgroup
, ,

870 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
)

871 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

872 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£çgroup
, ,

873 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
));

876 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£çgroup
, ,

877 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
)

878 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

880 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£çgroup
, ,

881 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
));

883 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£çgroup
);

884 #ñi‡
deföed
 
GNULIB_POSIXCHECK


885 #unde‡
posix_•aw«âr_£çgroup


886 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETPGROUP


887 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£çgroup
,

896 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

897 
	#posix_•aw«âr_gëschedpﬁicy
 
Ωl_posix_•aw«âr_gëschedpﬁicy


	)

899 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëschedpﬁicy
, ,

900 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

901 *
_Re°ri˘_
 
__schedpﬁicy
)

902 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

903 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëschedpﬁicy
, ,

904 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

905 *
_Re°ri˘_
 
__schedpﬁicy
));

907 #i‡!1 || 
POSIX_SPAWN_SETSCHEDULER
 == 0

908 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëschedpﬁicy
, ,

909 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

910 *
_Re°ri˘_
 
__schedpﬁicy
)

911 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

913 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëschedpﬁicy
, ,

914 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

915 *
_Re°ri˘_
 
__schedpﬁicy
));

917 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëschedpﬁicy
);

918 #ñi‡
deföed
 
GNULIB_POSIXCHECK


919 #unde‡
posix_•aw«âr_gëschedpﬁicy


920 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPOLICY


921 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëschedpﬁicy
,

930 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

931 
	#posix_•aw«âr_£tschedpﬁicy
 
Ωl_posix_•aw«âr_£tschedpﬁicy


	)

933 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tschedpﬁicy
, ,

934 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
)

935 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

936 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tschedpﬁicy
, ,

937 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
));

939 #i‡!1 || 
POSIX_SPAWN_SETSCHEDULER
 == 0

940 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tschedpﬁicy
, ,

941 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
)

942 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

944 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tschedpﬁicy
, ,

945 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
));

947 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tschedpﬁicy
);

948 #ñi‡
deföed
 
GNULIB_POSIXCHECK


949 #unde‡
posix_•aw«âr_£tschedpﬁicy


950 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPOLICY


951 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tschedpﬁicy
,

960 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

961 
	#posix_•aw«âr_gësched∑øm
 
Ωl_posix_•aw«âr_gësched∑øm


	)

963 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësched∑øm
, ,

964 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

965 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

966 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

967 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësched∑øm
, ,

968 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

969 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

971 #i‡!1 || 
POSIX_SPAWN_SETSCHEDPARAM
 == 0

972 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësched∑øm
, ,

973 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

974 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

975 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

977 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësched∑øm
, ,

978 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

979 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

981 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësched∑øm
);

982 #ñi‡
deföed
 
GNULIB_POSIXCHECK


983 #unde‡
posix_•aw«âr_gësched∑øm


984 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPARAM


985 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësched∑øm
,

994 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

995 
	#posix_•aw«âr_£tsched∑øm
 
Ωl_posix_•aw«âr_£tsched∑øm


	)

997 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsched∑øm
, ,

998 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

999 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

1000 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

1001 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsched∑øm
, ,

1002 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

1003 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

1005 #i‡!1 || 
POSIX_SPAWN_SETSCHEDPARAM
 == 0

1006 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsched∑øm
, ,

1007 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

1008 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

1009 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

1011 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsched∑øm
, ,

1012 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

1013 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

1015 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsched∑øm
);

1016 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1017 #unde‡
posix_•aw«âr_£tsched∑øm


1018 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPARAM


1019 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsched∑øm
,

1029 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1030 
	#posix_•awn_fûe_a˘i⁄s_öô
 
Ωl_posix_•awn_fûe_a˘i⁄s_öô


	)

1032 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

1033 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

1034 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1035 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

1036 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

1039 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

1040 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

1041 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1043 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

1044 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

1046 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_öô
);

1047 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1048 #unde‡
posix_•awn_fûe_a˘i⁄s_öô


1049 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_INIT


1050 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_öô
,

1059 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1060 
	#posix_•awn_fûe_a˘i⁄s_de°roy
 
Ωl_posix_•awn_fûe_a˘i⁄s_de°roy


	)

1062 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

1063 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

1064 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1065 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

1066 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

1069 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

1070 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

1071 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1073 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

1074 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

1076 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_de°roy
);

1077 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1078 #unde‡
posix_•awn_fûe_a˘i⁄s_de°roy


1079 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_DESTROY


1080 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_de°roy
,

1090 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1091 
	#posix_•awn_fûe_a˘i⁄s_add›í
 
Ωl_posix_•awn_fûe_a˘i⁄s_add›í


	)

1093 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

1094 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

1095 
__fd
,

1096 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
)

1097 
__THROW
 
_GL_ARG_NONNULL
 ((1, 3)));

1098 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

1099 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

1100 
__fd
,

1101 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
));

1104 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

1105 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

1106 
__fd
,

1107 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
)

1108 
__THROW
 
_GL_ARG_NONNULL
 ((1, 3)));

1110 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

1111 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

1112 
__fd
,

1113 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
));

1115 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_add›í
);

1116 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1117 #unde‡
posix_•awn_fûe_a˘i⁄s_add›í


1118 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDOPEN


1119 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_add›í
,

1129 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1130 
	#posix_•awn_fûe_a˘i⁄s_add˛o£
 
Ωl_posix_•awn_fûe_a˘i⁄s_add˛o£


	)

1132 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

1133 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
)

1134 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1135 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

1136 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
));

1139 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

1140 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
)

1141 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1143 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

1144 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
));

1146 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
);

1147 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1148 #unde‡
posix_•awn_fûe_a˘i⁄s_add˛o£


1149 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDCLOSE


1150 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
,

1160 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1161 
	#posix_•awn_fûe_a˘i⁄s_adddup2
 
Ωl_posix_•awn_fûe_a˘i⁄s_adddup2


	)

1163 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

1164 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

1165 
__fd
, 
__√wfd
)

1166 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1167 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

1168 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

1169 
__fd
, 
__√wfd
));

1172 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

1173 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

1174 
__fd
, 
__√wfd
)

1175 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

1177 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

1178 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

1179 
__fd
, 
__√wfd
));

1181 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_adddup2
);

1182 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1183 #unde‡
posix_•awn_fûe_a˘i⁄s_adddup2


1184 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDDUP2


1185 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_adddup2
,

	@lib/spawn.in.h

18 #i‚de‡
_
@
GUARD_PREFIX
@
_SPAWN_H


20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

26 #i‡@
HAVE_SPAWN_H
@

27 #@
INCLUDE_NEXT
@ @
NEXT_SPAWN_H
@

30 #i‚de‡
_
@
GUARD_PREFIX
@
_SPAWN_H


31 
	#_
@
GUARD_PREFIX
@
_SPAWN_H


	)

35 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

36 
	~<sched.h
>

37 
	~<sig«l.h
>

40 
	~<sys/ty≥s.h
>

42 #i‚de‡
__THROW


43 
	#__THROW


	)

51 #i‚de‡
_Re°ri˘_


52 #i‡199901L <
__STDC_VERSION__


53 
	#_Re°ri˘_
 
ª°ri˘


	)

54 #ñi‡2 < 
__GNUC__
 || (2 =__GNUC__ && 95 <
__GNUC_MINOR__
)

55 
	#_Re°ri˘_
 
__ª°ri˘


	)

57 
	#_Re°ri˘_


	)

63 #i‚de‡
_Re°ri˘_¨r_


64 #i‡((199901L <
__STDC_VERSION__
 \

65 || ((3 < 
	g__GNUC__
 || (3 =
__GNUC__
 && 1 <
__GNUC_MINOR__
)) \

66 && !
__STRICT_ANSI__
)) \

67 && !
deföed
 
__GNUG__
)

68 
	#_Re°ri˘_¨r_
 
_Re°ri˘_


	)

70 
	#_Re°ri˘_¨r_


	)

82 #i‡@
REPLACE_POSIX_SPAWN
@

83 
	#posix_•aw«âr_t
 
Ωl_posix_•aw«âr_t


	)

85 #i‡@
REPLACE_POSIX_SPAWN
@ || !@
HAVE_POSIX_SPAWNATTR_T
@

86 #i‡!
GNULIB_deföed_posix_•aw«âr_t


89 
_Êags
;

90 
pid_t
 
	m_pgΩ
;

91 
sig£t_t
 
	m_sd
;

92 
sig£t_t
 
	m_ss
;

93 
sched_∑øm
 
	m_•
;

94 
	m_pﬁicy
;

95 
	m__∑d
[16];

96 } 
	tposix_•aw«âr_t
;

97 
	#GNULIB_deföed_posix_•aw«âr_t
 1

	)

104 #i‡@
REPLACE_POSIX_SPAWN
@

105 
	#posix_•awn_fûe_a˘i⁄s_t
 
Ωl_posix_•awn_fûe_a˘i⁄s_t


	)

107 #i‡@
REPLACE_POSIX_SPAWN
@ || !@
HAVE_POSIX_SPAWN_FILE_ACTIONS_T
@

108 #i‡!
GNULIB_deföed_posix_•awn_fûe_a˘i⁄s_t


111 
	m_Æloˇãd
;

112 
	m_u£d
;

113 
__•awn_a˘i⁄
 *
	m_a˘i⁄s
;

114 
	m__∑d
[16];

115 } 
	tposix_•awn_fûe_a˘i⁄s_t
;

116 
	#GNULIB_deföed_posix_•awn_fûe_a˘i⁄s_t
 1

	)

122 #i‡@
HAVE_POSIX_SPAWN
@

124 #i‚de‡
POSIX_SPAWN_SETSCHEDPARAM


125 
	#POSIX_SPAWN_SETSCHEDPARAM
 0

	)

127 #i‚de‡
POSIX_SPAWN_SETSCHEDULER


128 
	#POSIX_SPAWN_SETSCHEDULER
 0

	)

131 #i‡@
REPLACE_POSIX_SPAWN
@

134 #unde‡
POSIX_SPAWN_FORK_HANDLERS


136 
	#POSIX_SPAWN_RESETIDS
 0x01

	)

137 
	#POSIX_SPAWN_SETPGROUP
 0x02

	)

138 
	#POSIX_SPAWN_SETSIGDEF
 0x04

	)

139 
	#POSIX_SPAWN_SETSIGMASK
 0x08

	)

140 
	#POSIX_SPAWN_SETSCHEDPARAM
 0x10

	)

141 
	#POSIX_SPAWN_SETSCHEDULER
 0x20

	)

145 
	#POSIX_SPAWN_USEVFORK
 \

146 ((
POSIX_SPAWN_RESETIDS
 | (POSIX_SPAWN_RESETIDS - 1) \

147 | 
POSIX_SPAWN_SETPGROUP
 | (POSIX_SPAWN_SETPGROUP - 1) \

148 | 
POSIX_SPAWN_SETSIGDEF
 | (POSIX_SPAWN_SETSIGDEF - 1) \

149 | 
POSIX_SPAWN_SETSIGMASK
 | (POSIX_SPAWN_SETSIGMASK - 1) \

150 | 
POSIX_SPAWN_SETSCHEDPARAM
 \

151 | (
POSIX_SPAWN_SETSCHEDPARAM
 > 0 ? POSIX_SPAWN_SETSCHEDPARAM - 1 : 0) \

152 | 
POSIX_SPAWN_SETSCHEDULER
 \

153 | (
POSIX_SPAWN_SETSCHEDULER
 > 0 ? POSIX_SPAWN_SETSCHEDULER - 1 : 0)) \

154 + 1)

	)

155 #i‡!
GNULIB_deföed_vîify_POSIX_SPAWN_USEVFORK_no_ovîœp


156 
	tvîify_POSIX_SPAWN_USEVFORK_no_ovîœp


157 [(((
POSIX_SPAWN_RESETIDS
 | 
POSIX_SPAWN_SETPGROUP


158 | 
POSIX_SPAWN_SETSIGDEF
 | 
POSIX_SPAWN_SETSIGMASK


159 | 
POSIX_SPAWN_SETSCHEDPARAM
 | 
POSIX_SPAWN_SETSCHEDULER
)

160 & 
POSIX_SPAWN_USEVFORK
)

163 
	#GNULIB_deföed_vîify_POSIX_SPAWN_USEVFORK_no_ovîœp
 1

	)

167 #i‡@
GNULIB_POSIX_SPAWN
@

173 #i‡@
REPLACE_POSIX_SPAWN
@

174 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

175 
	#posix_•awn
 
Ωl_posix_•awn


	)

177 
_GL_FUNCDECL_RPL
 (
posix_•awn
, ,

178 (
pid_t
 *
_Re°ri˘_
 
__pid
,

179 c⁄° *
_Re°ri˘_
 
__∑th
,

180 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

181 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

182 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

183 *c⁄° 
ívp
[
_Re°ri˘_¨r_
])

184 
_GL_ARG_NONNULL
 ((2, 5, 6)));

185 
_GL_CXXALIAS_RPL
 (
posix_•awn
, ,

186 (
pid_t
 *
_Re°ri˘_
 
__pid
,

187 c⁄° *
_Re°ri˘_
 
__∑th
,

188 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

189 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

190 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

191 *c⁄° 
ívp
[
_Re°ri˘_¨r_
]));

193 #i‡!@
HAVE_POSIX_SPAWN
@

194 
_GL_FUNCDECL_SYS
 (
posix_•awn
, ,

195 (
pid_t
 *
_Re°ri˘_
 
__pid
,

196 c⁄° *
_Re°ri˘_
 
__∑th
,

197 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

198 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

199 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

200 *c⁄° 
ívp
[
_Re°ri˘_¨r_
])

201 
_GL_ARG_NONNULL
 ((2, 5, 6)));

203 
_GL_CXXALIAS_SYS
 (
posix_•awn
, ,

204 (
pid_t
 *
_Re°ri˘_
 
__pid
,

205 c⁄° *
_Re°ri˘_
 
__∑th
,

206 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

207 c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©åp
,

208 *c⁄° 
¨gv
[
_Re°ri˘_¨r_
],

209 *c⁄° 
ívp
[
_Re°ri˘_¨r_
]));

211 
_GL_CXXALIASWARN
 (
posix_•awn
);

212 #ñi‡
deföed
 
GNULIB_POSIXCHECK


213 #unde‡
posix_•awn


214 #i‡
HAVE_RAW_DECL_POSIX_SPAWN


215 
_GL_WARN_ON_USE
 (
posix_•awn
, "posix_spawn is unportable - "

220 #i‡@
GNULIB_POSIX_SPAWNP
@

225 #i‡@
REPLACE_POSIX_SPAWN
@

226 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

227 
	#posix_•aw≈
 
Ωl_posix_•aw≈


	)

229 
_GL_FUNCDECL_RPL
 (
posix_•aw≈
, ,

230 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

231 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

232 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

233 *c⁄° 
¨gv
[], *c⁄° 
ívp
[])

234 
_GL_ARG_NONNULL
 ((2, 5, 6)));

235 
_GL_CXXALIAS_RPL
 (
posix_•aw≈
, ,

236 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

237 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

238 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

239 *c⁄° 
¨gv
[], *c⁄° 
ívp
[]));

241 #i‡!@
HAVE_POSIX_SPAWN
@

242 
_GL_FUNCDECL_SYS
 (
posix_•aw≈
, ,

243 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

244 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

245 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

246 *c⁄° 
¨gv
[], *c⁄° 
ívp
[])

247 
_GL_ARG_NONNULL
 ((2, 5, 6)));

249 
_GL_CXXALIAS_SYS
 (
posix_•aw≈
, ,

250 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

251 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

252 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

253 *c⁄° 
¨gv
[], *c⁄° 
ívp
[]));

255 
_GL_CXXALIASWARN
 (
posix_•aw≈
);

256 #ñi‡
deföed
 
GNULIB_POSIXCHECK


257 #unde‡
posix_•aw≈


258 #i‡
HAVE_RAW_DECL_POSIX_SPAWNP


259 
_GL_WARN_ON_USE
 (
posix_•aw≈
, "posix_spawnp is unportable - "

265 #i‡@
GNULIB_POSIX_SPAWNATTR_INIT
@

267 #i‡@
REPLACE_POSIX_SPAWN
@

268 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

269 
	#posix_•aw«âr_öô
 
Ωl_posix_•aw«âr_öô


	)

271 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
)

272 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

273 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
));

275 #i‡!@
HAVE_POSIX_SPAWN
@

276 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
)

277 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

279 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_öô
, , (
posix_•aw«âr_t
 *
__©å
));

281 
_GL_CXXALIASWARN
 (
posix_•aw«âr_öô
);

282 #ñi‡
deföed
 
GNULIB_POSIXCHECK


283 #unde‡
posix_•aw«âr_öô


284 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_INIT


285 
_GL_WARN_ON_USE
 (
posix_•aw«âr_öô
, "posix_spawnattr_init is unportable - "

290 #i‡@
GNULIB_POSIX_SPAWNATTR_DESTROY
@

292 #i‡@
REPLACE_POSIX_SPAWN
@

293 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

294 
	#posix_•aw«âr_de°roy
 
Ωl_posix_•aw«âr_de°roy


	)

296 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
)

297 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

298 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
));

300 #i‡!@
HAVE_POSIX_SPAWN
@

301 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
)

302 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

304 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_de°roy
, , (
posix_•aw«âr_t
 *
__©å
));

306 
_GL_CXXALIASWARN
 (
posix_•aw«âr_de°roy
);

307 #ñi‡
deföed
 
GNULIB_POSIXCHECK


308 #unde‡
posix_•aw«âr_de°roy


309 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_DESTROY


310 
_GL_WARN_ON_USE
 (
posix_•aw«âr_de°roy
,

316 #i‡@
GNULIB_POSIX_SPAWNATTR_GETSIGDEFAULT
@

319 #i‡@
REPLACE_POSIX_SPAWN
@

320 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

321 
	#posix_•aw«âr_gësigdeÁu…
 
Ωl_posix_•aw«âr_gësigdeÁu…


	)

323 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësigdeÁu…
, ,

324 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

325 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

326 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

327 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësigdeÁu…
, ,

328 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

329 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

331 #i‡!@
HAVE_POSIX_SPAWN
@

332 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësigdeÁu…
, ,

333 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

334 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

335 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

337 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësigdeÁu…
, ,

338 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

339 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

341 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësigdeÁu…
);

342 #ñi‡
deföed
 
GNULIB_POSIXCHECK


343 #unde‡
posix_•aw«âr_gësigdeÁu…


344 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGDEFAULT


345 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësigdeÁu…
,

351 #i‡@
GNULIB_POSIX_SPAWNATTR_SETSIGDEFAULT
@

353 #i‡@
REPLACE_POSIX_SPAWN
@

354 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

355 
	#posix_•aw«âr_£tsigdeÁu…
 
Ωl_posix_•aw«âr_£tsigdeÁu…


	)

357 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsigdeÁu…
, ,

358 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

359 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

360 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

361 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsigdeÁu…
, ,

362 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

363 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

365 #i‡!@
HAVE_POSIX_SPAWN
@

366 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsigdeÁu…
, ,

367 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

368 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
)

369 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

371 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsigdeÁu…
, ,

372 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

373 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigdeÁu…
));

375 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsigdeÁu…
);

376 #ñi‡
deföed
 
GNULIB_POSIXCHECK


377 #unde‡
posix_•aw«âr_£tsigdeÁu…


378 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGDEFAULT


379 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsigdeÁu…
,

385 #i‡@
GNULIB_POSIX_SPAWNATTR_GETSIGMASK
@

387 #i‡@
REPLACE_POSIX_SPAWN
@

388 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

389 
	#posix_•aw«âr_gësigmask
 
Ωl_posix_•aw«âr_gësigmask


	)

391 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësigmask
, ,

392 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

393 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

394 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

395 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësigmask
, ,

396 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

397 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

399 #i‡!@
HAVE_POSIX_SPAWN
@

400 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësigmask
, ,

401 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

402 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

403 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

405 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësigmask
, ,

406 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

407 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

409 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësigmask
);

410 #ñi‡
deföed
 
GNULIB_POSIXCHECK


411 #unde‡
posix_•aw«âr_gësigmask


412 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGMASK


413 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësigmask
,

419 #i‡@
GNULIB_POSIX_SPAWNATTR_SETSIGMASK
@

421 #i‡@
REPLACE_POSIX_SPAWN
@

422 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

423 
	#posix_•aw«âr_£tsigmask
 
Ωl_posix_•aw«âr_£tsigmask


	)

425 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsigmask
, ,

426 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

427 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

428 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

429 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsigmask
, ,

430 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

431 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

433 #i‡!@
HAVE_POSIX_SPAWN
@

434 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsigmask
, ,

435 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

436 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
)

437 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

439 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsigmask
, ,

440 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

441 c⁄° 
sig£t_t
 *
_Re°ri˘_
 
__sigmask
));

443 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsigmask
);

444 #ñi‡
deföed
 
GNULIB_POSIXCHECK


445 #unde‡
posix_•aw«âr_£tsigmask


446 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGMASK


447 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsigmask
,

453 #i‡@
GNULIB_POSIX_SPAWNATTR_GETFLAGS
@

455 #i‡@
REPLACE_POSIX_SPAWN
@

456 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

457 
	#posix_•aw«âr_gëÊags
 
Ωl_posix_•aw«âr_gëÊags


	)

459 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëÊags
, ,

460 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

461 *
_Re°ri˘_
 
__Êags
)

462 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

463 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëÊags
, ,

464 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

465 *
_Re°ri˘_
 
__Êags
));

467 #i‡!@
HAVE_POSIX_SPAWN
@

468 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëÊags
, ,

469 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

470 *
_Re°ri˘_
 
__Êags
)

471 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

473 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëÊags
, ,

474 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

475 *
_Re°ri˘_
 
__Êags
));

477 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëÊags
);

478 #ñi‡
deföed
 
GNULIB_POSIXCHECK


479 #unde‡
posix_•aw«âr_gëÊags


480 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETFLAGS


481 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëÊags
,

487 #i‡@
GNULIB_POSIX_SPAWNATTR_SETFLAGS
@

489 #i‡@
REPLACE_POSIX_SPAWN
@

490 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

491 
	#posix_•aw«âr_£tÊags
 
Ωl_posix_•aw«âr_£tÊags


	)

493 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tÊags
, ,

494 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
)

495 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

496 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tÊags
, ,

497 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
));

499 #i‡!@
HAVE_POSIX_SPAWN
@

500 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tÊags
, ,

501 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
)

502 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

504 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tÊags
, ,

505 (
posix_•aw«âr_t
 *
__©å
, 
__Êags
));

507 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tÊags
);

508 #ñi‡
deföed
 
GNULIB_POSIXCHECK


509 #unde‡
posix_•aw«âr_£tÊags


510 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETFLAGS


511 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tÊags
,

517 #i‡@
GNULIB_POSIX_SPAWNATTR_GETPGROUP
@

519 #i‡@
REPLACE_POSIX_SPAWN
@

520 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

521 
	#posix_•aw«âr_gëpgroup
 
Ωl_posix_•aw«âr_gëpgroup


	)

523 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëpgroup
, ,

524 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

525 
pid_t
 *
_Re°ri˘_
 
__pgroup
)

526 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

527 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëpgroup
, ,

528 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

529 
pid_t
 *
_Re°ri˘_
 
__pgroup
));

531 #i‡!@
HAVE_POSIX_SPAWN
@

532 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëpgroup
, ,

533 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

534 
pid_t
 *
_Re°ri˘_
 
__pgroup
)

535 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

537 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëpgroup
, ,

538 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

539 
pid_t
 *
_Re°ri˘_
 
__pgroup
));

541 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëpgroup
);

542 #ñi‡
deföed
 
GNULIB_POSIXCHECK


543 #unde‡
posix_•aw«âr_gëpgroup


544 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETPGROUP


545 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëpgroup
,

551 #i‡@
GNULIB_POSIX_SPAWNATTR_SETPGROUP
@

553 #i‡@
REPLACE_POSIX_SPAWN
@

554 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

555 
	#posix_•aw«âr_£çgroup
 
Ωl_posix_•aw«âr_£çgroup


	)

557 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£çgroup
, ,

558 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
)

559 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

560 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£çgroup
, ,

561 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
));

563 #i‡!@
HAVE_POSIX_SPAWN
@

564 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£çgroup
, ,

565 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
)

566 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

568 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£çgroup
, ,

569 (
posix_•aw«âr_t
 *
__©å
, 
pid_t
 
__pgroup
));

571 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£çgroup
);

572 #ñi‡
deföed
 
GNULIB_POSIXCHECK


573 #unde‡
posix_•aw«âr_£çgroup


574 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETPGROUP


575 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£çgroup
,

581 #i‡@
GNULIB_POSIX_SPAWNATTR_GETSCHEDPOLICY
@

583 #i‡@
REPLACE_POSIX_SPAWN
@

584 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

585 
	#posix_•aw«âr_gëschedpﬁicy
 
Ωl_posix_•aw«âr_gëschedpﬁicy


	)

587 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gëschedpﬁicy
, ,

588 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

589 *
_Re°ri˘_
 
__schedpﬁicy
)

590 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

591 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gëschedpﬁicy
, ,

592 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

593 *
_Re°ri˘_
 
__schedpﬁicy
));

595 #i‡!@
HAVE_POSIX_SPAWN
@ || 
POSIX_SPAWN_SETSCHEDULER
 == 0

596 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gëschedpﬁicy
, ,

597 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

598 *
_Re°ri˘_
 
__schedpﬁicy
)

599 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

601 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gëschedpﬁicy
, ,

602 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

603 *
_Re°ri˘_
 
__schedpﬁicy
));

605 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gëschedpﬁicy
);

606 #ñi‡
deföed
 
GNULIB_POSIXCHECK


607 #unde‡
posix_•aw«âr_gëschedpﬁicy


608 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPOLICY


609 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gëschedpﬁicy
,

615 #i‡@
GNULIB_POSIX_SPAWNATTR_SETSCHEDPOLICY
@

617 #i‡@
REPLACE_POSIX_SPAWN
@

618 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

619 
	#posix_•aw«âr_£tschedpﬁicy
 
Ωl_posix_•aw«âr_£tschedpﬁicy


	)

621 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tschedpﬁicy
, ,

622 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
)

623 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

624 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tschedpﬁicy
, ,

625 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
));

627 #i‡!@
HAVE_POSIX_SPAWN
@ || 
POSIX_SPAWN_SETSCHEDULER
 == 0

628 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tschedpﬁicy
, ,

629 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
)

630 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

632 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tschedpﬁicy
, ,

633 (
posix_•aw«âr_t
 *
__©å
, 
__schedpﬁicy
));

635 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tschedpﬁicy
);

636 #ñi‡
deföed
 
GNULIB_POSIXCHECK


637 #unde‡
posix_•aw«âr_£tschedpﬁicy


638 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPOLICY


639 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tschedpﬁicy
,

645 #i‡@
GNULIB_POSIX_SPAWNATTR_GETSCHEDPARAM
@

647 #i‡@
REPLACE_POSIX_SPAWN
@

648 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

649 
	#posix_•aw«âr_gësched∑øm
 
Ωl_posix_•aw«âr_gësched∑øm


	)

651 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_gësched∑øm
, ,

652 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

653 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

654 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

655 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_gësched∑øm
, ,

656 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

657 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

659 #i‡!@
HAVE_POSIX_SPAWN
@ || 
POSIX_SPAWN_SETSCHEDPARAM
 == 0

660 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_gësched∑øm
, ,

661 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

662 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

663 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

665 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_gësched∑øm
, ,

666 (c⁄° 
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

667 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

669 
_GL_CXXALIASWARN
 (
posix_•aw«âr_gësched∑øm
);

670 #ñi‡
deföed
 
GNULIB_POSIXCHECK


671 #unde‡
posix_•aw«âr_gësched∑øm


672 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPARAM


673 
_GL_WARN_ON_USE
 (
posix_•aw«âr_gësched∑øm
,

679 #i‡@
GNULIB_POSIX_SPAWNATTR_SETSCHEDPARAM
@

681 #i‡@
REPLACE_POSIX_SPAWN
@

682 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

683 
	#posix_•aw«âr_£tsched∑øm
 
Ωl_posix_•aw«âr_£tsched∑øm


	)

685 
_GL_FUNCDECL_RPL
 (
posix_•aw«âr_£tsched∑øm
, ,

686 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

687 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

688 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

689 
_GL_CXXALIAS_RPL
 (
posix_•aw«âr_£tsched∑øm
, ,

690 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

691 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

693 #i‡!@
HAVE_POSIX_SPAWN
@ || 
POSIX_SPAWN_SETSCHEDPARAM
 == 0

694 
_GL_FUNCDECL_SYS
 (
posix_•aw«âr_£tsched∑øm
, ,

695 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

696 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
)

697 
__THROW
 
_GL_ARG_NONNULL
 ((1, 2)));

699 
_GL_CXXALIAS_SYS
 (
posix_•aw«âr_£tsched∑øm
, ,

700 (
posix_•aw«âr_t
 *
_Re°ri˘_
 
__©å
,

701 c⁄° 
sched_∑øm
 *
_Re°ri˘_
 
__sched∑øm
));

703 
_GL_CXXALIASWARN
 (
posix_•aw«âr_£tsched∑øm
);

704 #ñi‡
deföed
 
GNULIB_POSIXCHECK


705 #unde‡
posix_•aw«âr_£tsched∑øm


706 #i‡
HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPARAM


707 
_GL_WARN_ON_USE
 (
posix_•aw«âr_£tsched∑øm
,

714 #i‡@
GNULIB_POSIX_SPAWN_FILE_ACTIONS_INIT
@

716 #i‡@
REPLACE_POSIX_SPAWN
@

717 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

718 
	#posix_•awn_fûe_a˘i⁄s_öô
 
Ωl_posix_•awn_fûe_a˘i⁄s_öô


	)

720 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

721 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

722 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

723 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

724 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

726 #i‡!@
HAVE_POSIX_SPAWN
@

727 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

728 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

729 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

731 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_öô
, ,

732 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

734 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_öô
);

735 #ñi‡
deföed
 
GNULIB_POSIXCHECK


736 #unde‡
posix_•awn_fûe_a˘i⁄s_öô


737 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_INIT


738 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_öô
,

744 #i‡@
GNULIB_POSIX_SPAWN_FILE_ACTIONS_DESTROY
@

746 #i‡@
REPLACE_POSIX_SPAWN
@

747 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

748 
	#posix_•awn_fûe_a˘i⁄s_de°roy
 
Ωl_posix_•awn_fûe_a˘i⁄s_de°roy


	)

750 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

751 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

752 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

753 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

754 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

756 #i‡!@
HAVE_POSIX_SPAWN
@

757 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

758 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
)

759 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

761 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_de°roy
, ,

762 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
));

764 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_de°roy
);

765 #ñi‡
deföed
 
GNULIB_POSIXCHECK


766 #unde‡
posix_•awn_fûe_a˘i⁄s_de°roy


767 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_DESTROY


768 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_de°roy
,

774 #i‡@
GNULIB_POSIX_SPAWN_FILE_ACTIONS_ADDOPEN
@

777 #i‡@
REPLACE_POSIX_SPAWN
@

778 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

779 
	#posix_•awn_fûe_a˘i⁄s_add›í
 
Ωl_posix_•awn_fûe_a˘i⁄s_add›í


	)

781 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

782 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

783 
__fd
,

784 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
)

785 
__THROW
 
_GL_ARG_NONNULL
 ((1, 3)));

786 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

787 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

788 
__fd
,

789 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
));

791 #i‡!@
HAVE_POSIX_SPAWN
@

792 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

793 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

794 
__fd
,

795 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
)

796 
__THROW
 
_GL_ARG_NONNULL
 ((1, 3)));

798 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_add›í
, ,

799 (
posix_•awn_fûe_a˘i⁄s_t
 *
_Re°ri˘_
 
__fûe_a˘i⁄s
,

800 
__fd
,

801 c⁄° *
_Re°ri˘_
 
__∑th
, 
__oÊag
, 
mode_t
 
__mode
));

803 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_add›í
);

804 #ñi‡
deföed
 
GNULIB_POSIXCHECK


805 #unde‡
posix_•awn_fûe_a˘i⁄s_add›í


806 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDOPEN


807 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_add›í
,

813 #i‡@
GNULIB_POSIX_SPAWN_FILE_ACTIONS_ADDCLOSE
@

816 #i‡@
REPLACE_POSIX_SPAWN
@

817 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

818 
	#posix_•awn_fûe_a˘i⁄s_add˛o£
 
Ωl_posix_•awn_fûe_a˘i⁄s_add˛o£


	)

820 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

821 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
)

822 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

823 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

824 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
));

826 #i‡!@
HAVE_POSIX_SPAWN
@

827 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

828 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
)

829 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

831 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
, ,

832 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
, 
__fd
));

834 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
);

835 #ñi‡
deföed
 
GNULIB_POSIXCHECK


836 #unde‡
posix_•awn_fûe_a˘i⁄s_add˛o£


837 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDCLOSE


838 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_add˛o£
,

844 #i‡@
GNULIB_POSIX_SPAWN_FILE_ACTIONS_ADDDUP2
@

847 #i‡@
REPLACE_POSIX_SPAWN
@

848 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

849 
	#posix_•awn_fûe_a˘i⁄s_adddup2
 
Ωl_posix_•awn_fûe_a˘i⁄s_adddup2


	)

851 
_GL_FUNCDECL_RPL
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

852 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

853 
__fd
, 
__√wfd
)

854 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

855 
_GL_CXXALIAS_RPL
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

856 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

857 
__fd
, 
__√wfd
));

859 #i‡!@
HAVE_POSIX_SPAWN
@

860 
_GL_FUNCDECL_SYS
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

861 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

862 
__fd
, 
__√wfd
)

863 
__THROW
 
_GL_ARG_NONNULL
 ((1)));

865 
_GL_CXXALIAS_SYS
 (
posix_•awn_fûe_a˘i⁄s_adddup2
, ,

866 (
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

867 
__fd
, 
__√wfd
));

869 
_GL_CXXALIASWARN
 (
posix_•awn_fûe_a˘i⁄s_adddup2
);

870 #ñi‡
deföed
 
GNULIB_POSIXCHECK


871 #unde‡
posix_•awn_fûe_a˘i⁄s_adddup2


872 #i‡
HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDDUP2


873 
_GL_WARN_ON_USE
 (
posix_•awn_fûe_a˘i⁄s_adddup2
,

	@lib/spawn_faction_addclose.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<î∫o.h
>

23 
	~<uni°d.h
>

25 #i‡!
_LIBC


26 
	#__sysc⁄f
(
›í_max
Ë
	`gëdèbÀsize
 ()

	)

29 
	~"•awn_öt.h
"

34 
	$posix_•awn_fûe_a˘i⁄s_add˛o£
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

35 
fd
)

37 
maxfd
 = 
	`__sysc⁄f
 (
_SC_OPEN_MAX
);

38 
__•awn_a˘i⁄
 *
ªc
;

41 i‡(
fd
 < 0 || fd >
maxfd
)

42  
EBADF
;

45 i‡(
fûe_a˘i⁄s
->
_u£d
 =fûe_a˘i⁄s->
_Æloˇãd


46 && 
	`__posix_•awn_fûe_a˘i⁄s_ªÆloc
 (
fûe_a˘i⁄s
) != 0)

48  
ENOMEM
;

51 
ªc
 = &
fûe_a˘i⁄s
->
_a˘i⁄s
[fûe_a˘i⁄s->
_u£d
];

52 
ªc
->
èg
 = 
•awn_do_˛o£
;

53 
ªc
->
a˘i⁄
.
›í_a˘i⁄
.
fd
 = fd;

56 ++
fûe_a˘i⁄s
->
_u£d
;

59 
	}
}

	@lib/spawn_faction_adddup2.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<î∫o.h
>

23 
	~<uni°d.h
>

25 #i‡!
_LIBC


26 
	#__sysc⁄f
(
›í_max
Ë
	`gëdèbÀsize
 ()

	)

29 
	~"•awn_öt.h
"

34 
	$posix_•awn_fûe_a˘i⁄s_adddup2
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

35 
fd
, 
√wfd
)

37 
maxfd
 = 
	`__sysc⁄f
 (
_SC_OPEN_MAX
);

38 
__•awn_a˘i⁄
 *
ªc
;

41 i‡(
fd
 < 0 || 
√wfd
 < 0 || fd >
maxfd
 ||Çewfd >= maxfd)

42  
EBADF
;

45 i‡(
fûe_a˘i⁄s
->
_u£d
 =fûe_a˘i⁄s->
_Æloˇãd


46 && 
	`__posix_•awn_fûe_a˘i⁄s_ªÆloc
 (
fûe_a˘i⁄s
) != 0)

48  
ENOMEM
;

51 
ªc
 = &
fûe_a˘i⁄s
->
_a˘i⁄s
[fûe_a˘i⁄s->
_u£d
];

52 
ªc
->
èg
 = 
•awn_do_dup2
;

53 
ªc
->
a˘i⁄
.
dup2_a˘i⁄
.
fd
 = fd;

54 
ªc
->
a˘i⁄
.
dup2_a˘i⁄
.
√wfd
 =Çewfd;

57 ++
fûe_a˘i⁄s
->
_u£d
;

60 
	}
}

	@lib/spawn_faction_addopen.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<î∫o.h
>

23 
	~<uni°d.h
>

25 #i‡!
_LIBC


26 
	#__sysc⁄f
(
›í_max
Ë
	`gëdèbÀsize
 ()

	)

29 
	~"•awn_öt.h
"

34 
	$posix_•awn_fûe_a˘i⁄s_add›í
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

35 
fd
, c⁄° *
∑th
, 
oÊag
,

36 
mode_t
 
mode
)

38 
maxfd
 = 
	`__sysc⁄f
 (
_SC_OPEN_MAX
);

39 
__•awn_a˘i⁄
 *
ªc
;

42 i‡(
fd
 < 0 || fd >
maxfd
)

43  
EBADF
;

46 i‡(
fûe_a˘i⁄s
->
_u£d
 =fûe_a˘i⁄s->
_Æloˇãd


47 && 
	`__posix_•awn_fûe_a˘i⁄s_ªÆloc
 (
fûe_a˘i⁄s
) != 0)

49  
ENOMEM
;

52 
ªc
 = &
fûe_a˘i⁄s
->
_a˘i⁄s
[fûe_a˘i⁄s->
_u£d
];

53 
ªc
->
èg
 = 
•awn_do_›í
;

54 
ªc
->
a˘i⁄
.
›í_a˘i⁄
.
fd
 = fd;

55 
ªc
->
a˘i⁄
.
›í_a˘i⁄
.
∑th
 =Öath;

56 
ªc
->
a˘i⁄
.
›í_a˘i⁄
.
oÊag
 = oflag;

57 
ªc
->
a˘i⁄
.
›í_a˘i⁄
.
mode
 = mode;

60 ++
fûe_a˘i⁄s
->
_u£d
;

63 
	}
}

	@lib/spawn_faction_destroy.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<°dlib.h
>

26 
	$posix_•awn_fûe_a˘i⁄s_de°roy
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
)

29 
	`‰ì
 (
fûe_a˘i⁄s
->
_a˘i⁄s
);

31 
	}
}

	@lib/spawn_faction_init.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<î∫o.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

26 
	~"•awn_öt.h
"

32 
	$__posix_•awn_fûe_a˘i⁄s_ªÆloc
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
)

34 
√wÆloc
 = 
fûe_a˘i⁄s
->
_Æloˇãd
 + 8;

35 *
√wmem
 = 
	`ªÆloc
 (
fûe_a˘i⁄s
->
_a˘i⁄s
,

36 
√wÆloc
 *  (
__•awn_a˘i⁄
));

38 i‡(
√wmem
 =
NULL
)

40  
ENOMEM
;

42 
fûe_a˘i⁄s
->
_a˘i⁄s
 = (
__•awn_a˘i⁄
 *Ë
√wmem
;

43 
fûe_a˘i⁄s
->
_Æloˇãd
 = 
√wÆloc
;

46 
	}
}

51 
	$posix_•awn_fûe_a˘i⁄s_öô
 (
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
)

54 
	`mem£t
 (
fûe_a˘i⁄s
, '\0',  (*file_actions));

56 
	}
}

	@lib/spawn_int.h

17 
	~<sys/ty≥s.h
>

20 
	s__•awn_a˘i⁄


24 
	m•awn_do_˛o£
,

25 
	m•awn_do_dup2
,

26 
	m•awn_do_›í


27 } 
	mèg
;

33 
	mfd
;

34 } 
	m˛o£_a˘i⁄
;

37 
	mfd
;

38 
	m√wfd
;

39 } 
	mdup2_a˘i⁄
;

42 
	mfd
;

43 c⁄° *
	m∑th
;

44 
	moÊag
;

45 
mode_t
 
	mmode
;

46 } 
	m›í_a˘i⁄
;

47 } 
	ma˘i⁄
;

50 #i‡!
_LIBC


51 
	#__posix_•awn_fûe_a˘i⁄s_ªÆloc
 
gl_posix_•awn_fûe_a˘i⁄s_ªÆloc


	)

53 
__posix_•awn_fûe_a˘i⁄s_ªÆloc
 (
posix_•awn_fûe_a˘i⁄s_t
 *

54 
fûe_a˘i⁄s
);

56 #i‡!
_LIBC


57 
	#__•awni
 
gl_posix_•awn_öã∫Æ


	)

59 
__•awni
 (
pid_t
 *
pid
, c⁄° *
∑th
,

60 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

61 c⁄° 
posix_•aw«âr_t
 *
©åp
, *c⁄° 
¨gv
[],

62 *c⁄° 
ívp
[], 
u£_∑th
);

	@lib/spawnattr_destroy.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

24 
	$posix_•aw«âr_de°roy
 (
posix_•aw«âr_t
 *
©å
)

28 
	}
}

	@lib/spawnattr_init.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<°rög.h
>

26 
	$posix_•aw«âr_öô
 (
posix_•aw«âr_t
 *
©å
)

30 
	`mem£t
 (
©å
, '\0',  (*attr));

33 
	}
}

	@lib/spawnattr_setflags.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<î∫o.h
>

23 
	~<°rög.h
>

25 
	#ALL_FLAGS
 (
POSIX_SPAWN_RESETIDS
 \

26 | 
POSIX_SPAWN_SETPGROUP
 \

27 | 
POSIX_SPAWN_SETSIGDEF
 \

28 | 
POSIX_SPAWN_SETSIGMASK
 \

29 | 
POSIX_SPAWN_SETSCHEDPARAM
 \

30 | 
POSIX_SPAWN_SETSCHEDULER
 \

31 | 
POSIX_SPAWN_USEVFORK
)

	)

35 
	$posix_•aw«âr_£tÊags
 (
posix_•aw«âr_t
 *
©å
, 
Êags
)

38 i‡(
Êags
 & ~
ALL_FLAGS
)

39  
EINVAL
;

42 
©å
->
_Êags
 = 
Êags
;

45 
	}
}

	@lib/spawnattr_setsigmask.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~<°rög.h
>

26 
	$posix_•aw«âr_£tsigmask
 (
posix_•aw«âr_t
 *
©å
,

27 c⁄° 
sig£t_t
 *
sigmask
)

30 
	`mem˝y
 (&
©å
->
_ss
, 
sigmask
,  (
sig£t_t
));

33 
	}
}

	@lib/spawni.c

18 
	~<c⁄fig.h
>

21 
	~<•awn.h
>

22 
	~"•awn_öt.h
"

24 
	~<Æloˇ.h
>

25 
	~<î∫o.h
>

27 
	~<f˙é.h
>

28 #i‚de‡
O_LARGEFILE


29 
	#O_LARGEFILE
 0

	)

32 #i‡
_LIBC
 || 
HAVE_PATHS_H


33 
	~<∑ths.h
>

35 
	#_PATH_BSHELL
 "/bö/sh"

	)

38 
	~<sig«l.h
>

39 
	~<°dlib.h
>

40 
	~<°rög.h
>

41 
	~<uni°d.h
>

43 #i‡
_LIBC


44 
	~<nŸ-ˇn˚l.h
>

46 
	#˛o£_nŸ_ˇn˚l
 
˛o£


	)

47 
	#›í_nŸ_ˇn˚l
 
›í


	)

50 #i‡
_LIBC


51 
	~<loˇl-£txid.h
>

53 #i‡!
HAVE_SETEUID


54 
	#£ãuid
(
id
Ë
	`£åesuid
 (-1, id, -1)

	)

56 #i‡!
HAVE_SETEGID


57 
	#£ãgid
(
id
Ë
	`£åesgid
 (-1, id, -1)

	)

59 
	#loˇl_£ãuid
(
id
Ë
	`£ãuid
 (id)

	)

60 
	#loˇl_£ãgid
(
id
Ë
	`£ãgid
 (id)

	)

63 #i‡
_LIBC


64 
	#Æloˇ
 
__Æloˇ


	)

65 
	#execve
 
__execve


	)

66 
	#dup2
 
__dup2


	)

67 
	#f‹k
 
__f‹k


	)

68 
	#gëgid
 
__gëgid


	)

69 
	#gëuid
 
__gëuid


	)

70 
	#sched_£ç¨am
 
__sched_£ç¨am


	)

71 
	#sched_£tscheduÀr
 
__sched_£tscheduÀr


	)

72 
	#£çgid
 
__£çgid


	)

73 
	#siga˘i⁄
 
__siga˘i⁄


	)

74 
	#sigismembî
 
__sigismembî


	)

75 
	#sig¥ocmask
 
__sig¥ocmask


	)

76 
	#°rch∫ul
 
__°rch∫ul


	)

77 
	#vf‹k
 
__vf‹k


	)

79 #unde‡
öã∫Æ_fun˘i⁄


80 
	#öã∫Æ_fun˘i⁄


	)

89 
	#SPAWN_ERROR
 127

	)

92 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


96 
	$__•awni
 (
pid_t
 *
pid
, c⁄° *
fûe
,

97 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

98 c⁄° 
posix_•aw«âr_t
 *
©åp
, *c⁄° 
¨gv
[],

99 *c⁄° 
ívp
[], 
u£_∑th
)

102  
ENOSYS
;

103 
	}
}

111 
öã∫Æ_fun˘i⁄


112 
	$s¸ùt_execuã
 (c⁄° *
fûe
, *c⁄° 
¨gv
[], *c⁄° 
ívp
[])

115 
¨gc
 = 0;

116 
¨gv
[
¨gc
++])

121 **
√w_¨gv
 = (**Ë
	`Æloˇ
 ((
¨gc
 + 1) *  (*));

122 
√w_¨gv
[0] = (*Ë
_PATH_BSHELL
;

123 
√w_¨gv
[1] = (*Ë
fûe
;

124 
¨gc
 > 1)

126 
√w_¨gv
[
¨gc
] = 
¨gv
[argc - 1];

127 --
¨gc
;

131 
	`execve
 (
√w_¨gv
[0],Çew_¨gv, 
ívp
);

133 
	}
}

139 
	$__•awni
 (
pid_t
 *
pid
, c⁄° *
fûe
,

140 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

141 c⁄° 
posix_•aw«âr_t
 *
©åp
, *c⁄° 
¨gv
[],

142 *c⁄° 
ívp
[], 
u£_∑th
)

144 
pid_t
 
√w_pid
;

145 *
∑th
, *
p
, *
«me
;

146 
size_t
 
Àn
;

147 
size_t
 
∑thÀn
;

150 
Êags
 = 
©åp
 =
NULL
 ? 0 :áâΩ->
_Êags
;

154 (Ë&
Êags
;

157 #i‡
HAVE_VFORK


158 i‡((
Êags
 & 
POSIX_SPAWN_USEVFORK
) != 0

163 || ((
Êags
 & (
POSIX_SPAWN_SETSIGMASK
 | 
POSIX_SPAWN_SETSIGDEF


164 | 
POSIX_SPAWN_SETSCHEDPARAM
 | 
POSIX_SPAWN_SETSCHEDULER


165 | 
POSIX_SPAWN_SETPGROUP
 | 
POSIX_SPAWN_RESETIDS
)) == 0

166 && 
fûe_a˘i⁄s
 =
NULL
))

167 
√w_pid
 = 
	`vf‹k
 ();

170 
√w_pid
 = 
	`f‹k
 ();

172 i‡(
√w_pid
 != 0)

174 i‡(
√w_pid
 < 0)

175  
î∫o
;

178 i‡(
pid
 !
NULL
)

179 *
pid
 = 
√w_pid
;

185 i‡((
Êags
 & 
POSIX_SPAWN_SETSIGMASK
) != 0

186 && 
	`sig¥ocmask
 (
SIG_SETMASK
, &
©åp
->
_ss
, 
NULL
) != 0)

187 
	`_exô
 (
SPAWN_ERROR
);

190 i‡((
Êags
 & 
POSIX_SPAWN_SETSIGDEF
) != 0)

196 
sig
;

197 
siga˘i⁄
 
ß
;

199 
	`mem£t
 (&
ß
, '\0',  (sa));

200 
ß
.
ß_h™dÀr
 = 
SIG_DFL
;

202 
sig
 = 1; sig <
NSIG
; ++sig)

203 i‡(
	`sigismembî
 (&
©åp
->
_sd
, 
sig
) != 0

204 && 
	`siga˘i⁄
 (
sig
, &
ß
, 
NULL
) != 0)

205 
	`_exô
 (
SPAWN_ERROR
);

209 #i‡(
_LIBC
 ? 
deföed
 
_POSIX_PRIORITY_SCHEDULING
 : 
HAVE_SCHED_SETPARAM
 && 
HAVE_SCHED_SETSCHEDULER
)

211 i‡((
Êags
 & (
POSIX_SPAWN_SETSCHEDPARAM
 | 
POSIX_SPAWN_SETSCHEDULER
))

212 =
POSIX_SPAWN_SETSCHEDPARAM
)

214 i‡(
	`sched_£ç¨am
 (0, &
©åp
->
_•
) == -1)

215 
	`_exô
 (
SPAWN_ERROR
);

217 i‡((
Êags
 & 
POSIX_SPAWN_SETSCHEDULER
) != 0)

219 i‡(
	`sched_£tscheduÀr
 (0, 
©åp
->
_pﬁicy
,

220 (
Êags
 & 
POSIX_SPAWN_SETSCHEDPARAM
) != 0

221 ? &
©åp
->
_•
 : 
NULL
) == -1)

222 
	`_exô
 (
SPAWN_ERROR
);

227 i‡((
Êags
 & 
POSIX_SPAWN_SETPGROUP
) != 0

228 && 
	`£çgid
 (0, 
©åp
->
_pgΩ
) != 0)

229 
	`_exô
 (
SPAWN_ERROR
);

232 i‡((
Êags
 & 
POSIX_SPAWN_RESETIDS
) != 0

233 && (
	`loˇl_£ãuid
 (
	`gëuid
 ()) != 0

234 || 
	`loˇl_£ãgid
 (
	`gëgid
 ()) != 0))

235 
	`_exô
 (
SPAWN_ERROR
);

238 i‡(
fûe_a˘i⁄s
 !
NULL
)

240 
˙t
;

242 
˙t
 = 0; c¡ < 
fûe_a˘i⁄s
->
_u£d
; ++cnt)

244 
__•awn_a˘i⁄
 *
a˘i⁄
 = &
fûe_a˘i⁄s
->
_a˘i⁄s
[
˙t
];

246 
a˘i⁄
->
èg
)

248 
•awn_do_˛o£
:

249 i‡(
	`˛o£_nŸ_ˇn˚l
 (
a˘i⁄
->a˘i⁄.
˛o£_a˘i⁄
.
fd
) != 0)

251 
	`_exô
 (
SPAWN_ERROR
);

254 
•awn_do_›í
:

256 
√w_fd
 = 
	`›í_nŸ_ˇn˚l
 (
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
∑th
,

257 
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
oÊag


258 | 
O_LARGEFILE
,

259 
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
mode
);

261 i‡(
√w_fd
 == -1)

263 
	`_exô
 (
SPAWN_ERROR
);

266 i‡(
√w_fd
 !
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
fd
)

268 i‡(
	`dup2
 (
√w_fd
, 
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
fd
)

269 !
a˘i⁄
->a˘i⁄.
›í_a˘i⁄
.
fd
)

271 
	`_exô
 (
SPAWN_ERROR
);

273 i‡(
	`˛o£_nŸ_ˇn˚l
 (
√w_fd
) != 0)

275 
	`_exô
 (
SPAWN_ERROR
);

280 
•awn_do_dup2
:

281 i‡(
	`dup2
 (
a˘i⁄
->a˘i⁄.
dup2_a˘i⁄
.
fd
,

282 
a˘i⁄
->a˘i⁄.
dup2_a˘i⁄
.
√wfd
)

283 !
a˘i⁄
->a˘i⁄.
dup2_a˘i⁄
.
√wfd
)

285 
	`_exô
 (
SPAWN_ERROR
);

291 i‡(! 
u£_∑th
 || 
	`°rchr
 (
fûe
, '/'Ë!
NULL
)

294 
	`execve
 (
fûe
, 
¨gv
, 
ívp
);

296 i‡(
î∫o
 =
ENOEXEC
)

297 
	`s¸ùt_execuã
 (
fûe
, 
¨gv
, 
ívp
);

300 
	`_exô
 (
SPAWN_ERROR
);

304 
∑th
 = 
	`gëív
 ("PATH");

305 i‡(
∑th
 =
NULL
)

307 #i‡
HAVE_CONFSTR


311 
Àn
 = 
	`c⁄f°r
 (
_CS_PATH
, (*Ë
NULL
, 0);

312 
∑th
 = (*Ë
	`Æloˇ
 (1 + 
Àn
);

313 
∑th
[0] = ':';

314 (Ë
	`c⁄f°r
 (
_CS_PATH
, 
∑th
 + 1, 
Àn
);

317 
∑th
 = "";

321 
Àn
 = 
	`°æí
 (
fûe
) + 1;

322 
∑thÀn
 = 
	`°æí
 (
∑th
);

323 
«me
 = 
	`Æloˇ
 (
∑thÀn
 + 
Àn
 + 1);

325 
«me
 = (*Ë
	`mem˝y
 («mê+ 
∑thÀn
 + 1, 
fûe
, 
Àn
);

327 *--
«me
 = '/';

329 
p
 = 
∑th
;

332 *
°¨ç
;

334 
∑th
 = 
p
;

335 
p
 = 
	`°rch∫ul
 (
∑th
, ':');

337 i‡(
p
 =
∑th
)

340 
°¨ç
 = 
«me
 + 1;

342 
°¨ç
 = (*Ë
	`mem˝y
 (
«me
 - (
p
 - 
∑th
),Öath,Ö -Öath);

345 
	`execve
 (
°¨ç
, 
¨gv
, 
ívp
);

347 i‡(
î∫o
 =
ENOEXEC
)

348 
	`s¸ùt_execuã
 (
°¨ç
, 
¨gv
, 
ívp
);

350 
î∫o
)

352 
EACCES
:

353 
ENOENT
:

354 
ESTALE
:

355 
ENOTDIR
:

365 
	`_exô
 (
SPAWN_ERROR
);

368 *
p
++ != '\0');

371 
	`_exô
 (
SPAWN_ERROR
);

372 
	}
}

	@lib/spawnp.c

17 
	~<c⁄fig.h
>

20 
	~<•awn.h
>

22 
	~"•awn_öt.h
"

27 
	$posix_•aw≈
 (
pid_t
 *
pid
, c⁄° *
fûe
,

28 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
fûe_a˘i⁄s
,

29 c⁄° 
posix_•aw«âr_t
 *
©åp
, *c⁄° 
¨gv
[],

30 *c⁄° 
ívp
[])

32  
	`__•awni
 (
pid
, 
fûe
, 
fûe_a˘i⁄s
, 
©åp
, 
¨gv
, 
ívp
, 1);

33 
	}
}

	@lib/stat-time.h

20 #i‚de‡
STAT_TIME_H


21 
	#STAT_TIME_H
 1

	)

23 
	~<sys/°©.h
>

24 
	~<time.h
>

34 #i‡
deföed
 
HAVE_STRUCT_STAT_ST_ATIM_TV_NSEC


35 #ifde‡
TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC


36 
	#STAT_TIMESPEC
(
°
, 
°_xtim
Ë((°)->°_xtim)

	)

38 
	#STAT_TIMESPEC_NS
(
°
, 
°_xtim
Ë((°)->°_xtim.
tv_n£c
)

	)

40 #ñi‡
deföed
 
HAVE_STRUCT_STAT_ST_ATIMESPEC_TV_NSEC


41 
	#STAT_TIMESPEC
(
°
, 
°_xtim
Ë((°)->°_xtim##
e•ec
)

	)

42 #ñi‡
deföed
 
HAVE_STRUCT_STAT_ST_ATIMENSEC


43 
	#STAT_TIMESPEC_NS
(
°
, 
°_xtim
Ë((°)->°_xtim##
í£c
)

	)

44 #ñi‡
deföed
 
HAVE_STRUCT_STAT_ST_ATIM_ST__TIM_TV_NSEC


45 
	#STAT_TIMESPEC_NS
(
°
, 
°_xtim
Ë((°)->°_xtim.
°__tim
.
tv_n£c
)

	)

49 
ölöe
 

50 
	$gë_°©_©ime_ns
 (
°©
 c⁄° *
°
)

52 #i‡
deföed
 
STAT_TIMESPEC


53  
	`STAT_TIMESPEC
 (
°
, 
°_©im
).
tv_n£c
;

54 #ñi‡
deföed
 
STAT_TIMESPEC_NS


55  
	`STAT_TIMESPEC_NS
 (
°
, 
°_©im
);

59 
	}
}

62 
ölöe
 

63 
	$gë_°©_˘ime_ns
 (
°©
 c⁄° *
°
)

65 #i‡
deföed
 
STAT_TIMESPEC


66  
	`STAT_TIMESPEC
 (
°
, 
°_˘im
).
tv_n£c
;

67 #ñi‡
deföed
 
STAT_TIMESPEC_NS


68  
	`STAT_TIMESPEC_NS
 (
°
, 
°_˘im
);

72 
	}
}

75 
ölöe
 

76 
	$gë_°©_mtime_ns
 (
°©
 c⁄° *
°
)

78 #i‡
deföed
 
STAT_TIMESPEC


79  
	`STAT_TIMESPEC
 (
°
, 
°_mtim
).
tv_n£c
;

80 #ñi‡
deföed
 
STAT_TIMESPEC_NS


81  
	`STAT_TIMESPEC_NS
 (
°
, 
°_mtim
);

85 
	}
}

88 
ölöe
 

89 
	$gë_°©_búthtime_ns
 (
°©
 c⁄° *
°
)

91 #i‡
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMESPEC_TV_NSEC


92  
	`STAT_TIMESPEC
 (
°
, 
°_búthtim
).
tv_n£c
;

93 #ñi‡
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMENSEC


94  
	`STAT_TIMESPEC_NS
 (
°
, 
°_búthtim
);

97 (Ë
°
;

100 
	}
}

103 
ölöe
 
time•ec


104 
	$gë_°©_©ime
 (
°©
 c⁄° *
°
)

106 #ifde‡
STAT_TIMESPEC


107  
	`STAT_TIMESPEC
 (
°
, 
°_©im
);

109 
time•ec
 
t
;

110 
t
.
tv_£c
 = 
°
->
°_©ime
;

111 
t
.
tv_n£c
 = 
	`gë_°©_©ime_ns
 (
°
);

112  
t
;

114 
	}
}

117 
ölöe
 
time•ec


118 
	$gë_°©_˘ime
 (
°©
 c⁄° *
°
)

120 #ifde‡
STAT_TIMESPEC


121  
	`STAT_TIMESPEC
 (
°
, 
°_˘im
);

123 
time•ec
 
t
;

124 
t
.
tv_£c
 = 
°
->
°_˘ime
;

125 
t
.
tv_n£c
 = 
	`gë_°©_˘ime_ns
 (
°
);

126  
t
;

128 
	}
}

131 
ölöe
 
time•ec


132 
	$gë_°©_mtime
 (
°©
 c⁄° *
°
)

134 #ifde‡
STAT_TIMESPEC


135  
	`STAT_TIMESPEC
 (
°
, 
°_mtim
);

137 
time•ec
 
t
;

138 
t
.
tv_£c
 = 
°
->
°_mtime
;

139 
t
.
tv_n£c
 = 
	`gë_°©_mtime_ns
 (
°
);

140  
t
;

142 
	}
}

146 
ölöe
 
time•ec


147 
	$gë_°©_búthtime
 (
°©
 c⁄° *
°
)

149 
time•ec
 
t
;

151 #i‡(
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMESPEC_TV_NSEC
 \

152 || 
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIM_TV_NSEC
)

153 
t
 = 
	`STAT_TIMESPEC
 (
°
, 
°_búthtim
);

154 #ñi‡
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMENSEC


155 
t
.
tv_£c
 = 
°
->
°_búthtime
;

156 
t
.
tv_n£c
 = 
°
->
°_búthtimí£c
;

157 #ñi‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


161 
t
.
tv_£c
 = 
°
->
°_˘ime
;

162 
t
.
tv_n£c
 = 0;

165 
t
.
tv_£c
 = -1;

166 
t
.
tv_n£c
 = -1;

168 (Ë
°
;

171 #i‡(
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMESPEC_TV_NSEC
 \

172 || 
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIM_TV_NSEC
 \

173 || 
deföed
 
HAVE_STRUCT_STAT_ST_BIRTHTIMENSEC
)

179 i‡(! (
t
.
tv_£c
 && 0 <t.
tv_n£c
 &&Å.tv_nsec < 1000000000))

181 
t
.
tv_£c
 = -1;

182 
t
.
tv_n£c
 = -1;

186  
t
;

187 
	}
}

	@lib/stat.c

19 
	~<c⁄fig.h
>

22 
	#__√ed_sy°em_sys_°©_h


	)

23 
	~<sys/ty≥s.h
>

24 
	~<sys/°©.h
>

25 #unde‡
__√ed_sy°em_sys_°©_h


27 
ölöe
 

28 
	$‹ig_°©
 (c⁄° *
fûíame
, 
°©
 *
buf
)

30  
	`°©
 (
fûíame
, 
buf
);

31 
	}
}

34 
	~<sys/°©.h
>

36 
	~<î∫o.h
>

37 
	~<limôs.h
>

38 
	~<°dboﬁ.h
>

39 
	~<°rög.h
>

40 
	~"do¢ame.h
"

41 
	~"vîify.h
"

50 
	$Ωl_°©
 (c⁄° *
«me
, 
°©
 *
°
)

52 
ªsu…
 = 
	`‹ig_°©
 (
«me
, 
°
);

53 #i‡
REPLACE_FUNC_STAT_FILE


56 i‡(
ªsu…
 =0 && !
	`S_ISDIR
 (
°
->
°_mode
))

58 
size_t
 
Àn
 = 
	`°æí
 (
«me
);

59 i‡(
	`ISSLASH
 (
«me
[
Àn
 - 1]))

61 
î∫o
 = 
ENOTDIR
;

66 #i‡
REPLACE_FUNC_STAT_DIR


69 #i‚de‡
PATH_MAX


73 i‡(
ªsu…
 =-1 && 
î∫o
 =
ENOENT
)

84 
fixed_«me
[
PATH_MAX
 + 1] = {0};

85 
size_t
 
Àn
 = 
	`°æí
 (
«me
);

86 
boﬁ
 
check_dú
 = 
Ál£
;

87 
	`vîify
 (
PATH_MAX
 <= 4096);

88 i‡(
PATH_MAX
 <
Àn
)

89 
î∫o
 = 
ENAMETOOLONG
;

90 i‡(
Àn
)

92 
	`°r˝y
 (
fixed_«me
, 
«me
);

93 i‡(
	`ISSLASH
 (
fixed_«me
[
Àn
 - 1]))

95 
check_dú
 = 
åue
;

96 
Àn
 && 
	`ISSLASH
 (
fixed_«me
[len - 1]))

97 
fixed_«me
[--
Àn
] = '\0';

98 i‡(!
Àn
)

99 
fixed_«me
[0] = '/';

102 
fixed_«me
[
Àn
++] = '/';

103 
ªsu…
 = 
	`‹ig_°©
 (
fixed_«me
, 
°
);

104 i‡(
ªsu…
 =0 && 
check_dú
 && !
	`S_ISDIR
 (
°
->
°_mode
))

106 
ªsu…
 = -1;

107 
î∫o
 = 
ENOTDIR
;

112  
ªsu…
;

113 
	}
}

	@lib/stdbool.in.h

20 #i‚de‡
_GL_STDBOOL_H


21 
	#_GL_STDBOOL_H


	)

66 #i‡
deföed
 
__BEOS__
 && !deföed 
__HAIKU__


67 
	~<OS.h
>

68 #unde‡
Ál£


69 #unde‡
åue


81 #i‡
deföed
 
__˝lu•lus
 || (deföed 
__BEOS__
 && !deföed 
__HAIKU__
)

85 #i‡!@
HAVE__BOOL
@

86 
boﬁ
 
	t_Boﬁ
;

89 #i‡!
deföed
 
__GNUC__


109 
	#_Boﬁ
 sig√d 

	)

112 #i‡!@
HAVE__BOOL
@

113 íum { 
	m_Boﬁ_mu°_¥omŸe_to_öt
 = -1, 
	mÁl£
 = 0, 
	måue
 = 1 } 
	t_Boﬁ
;

117 
	#boﬁ
 
_Boﬁ


	)

120 
	#Ál£
 0

	)

121 
	#åue
 1

	)

122 
	#__boﬁ_åue_Ál£_¨e_deföed
 1

	)

	@lib/stddef.in.h

28 #i‡
__GNUC__
 >= 3

29 @
	gPRAGMA_SYSTEM_HEADER
@

31 @
	gPRAGMA_COLUMNS
@

33 #i‡
deföed
 
__√ed_wch¨_t
 || deföed 
__√ed_size_t
 \

34 || 
deföed
 
	g__√ed_±rdiff_t
 || deföed 
	g__√ed_NULL
 \

35 || 
deföed
 
	g__√ed_wöt_t


43 #i‡!(
deföed
 
_
@
GUARD_PREFIX
@
_STDDEF_H
 && deföed 
_GL_STDDEF_WINT_T
)

44 #ifde‡
__√ed_wöt_t


45 #unde‡
_
@
GUARD_PREFIX
@
_STDDEF_H


46 
	#_GL_STDDEF_WINT_T


	)

48 #@
INCLUDE_NEXT
@ @
NEXT_STDDEF_H
@

54 #i‚de‡
_
@
GUARD_PREFIX
@
_STDDEF_H


58 #@
INCLUDE_NEXT
@ @
NEXT_STDDEF_H
@

60 #i‚de‡
_
@
GUARD_PREFIX
@
_STDDEF_H


61 
	#_
@
GUARD_PREFIX
@
_STDDEF_H


	)

64 #i‡@
REPLACE_NULL
@

65 #unde‡
NULL


66 #ifde‡
__˝lu•lus


69 #i‡
__GNUG__
 >= 3

73 
	#NULL
 
__nuŒ


	)

75 
	#NULL
 0L

	)

78 
	#NULL
 ((*Ë0)

	)

83 #i‡!@
HAVE_WCHAR_T
@

84 
	#wch¨_t
 

	)

	@lib/stdint.h

27 #i‚de‡
_GL_STDINT_H


29 #i‡
__GNUC__
 >= 3

30 #¥agm®
GCC
 
sy°em_hódî


38 
	#_GL_JUST_INCLUDE_SYSTEM_INTTYPES_H


	)

49 #i‡
deföed
 
__sgi
 && ! deföed 
__c99


53 
	#__STDINT_H__


	)

60 #ö˛ude_√xà<
°döt
.
h
>

63 #i‡! 
deföed
 
_GL_STDINT_H
 && ! deföed 
_GL_JUST_INCLUDE_SYSTEM_STDINT_H


64 
	#_GL_STDINT_H


	)

72 #i‡1 && ! 
deföed
 
_AIX


73 
	~<sys/ty≥s.h
>

77 
	~<limôs.h
>

83 
	~<öây≥s.h
>

87 
	~<sys/öây≥s.h
>

90 #i‡1 && ! 
deföed
 
__BIT_TYPES_DEFINED__


94 
	~<sys/bôy≥s.h
>

97 #unde‡
_GL_JUST_INCLUDE_SYSTEM_INTTYPES_H


103 
	#_STDINT_MIN
(sig√d, 
bôs
, 
zîo
) \

104 ((sig√dË? (- ((
zîo
Ë+ 1Ë<< ((
bôs
Ë? (bôsË- 1 : 0)Ë: (zîo))

	)

106 
	#_STDINT_MAX
(sig√d, 
bôs
, 
zîo
) \

108 ? ~ 
	`_STDINT_MIN
 (sig√d, 
bôs
, 
zîo
) \

112 ((((
zîo
Ë+ 1Ë<< ((
bôs
Ë? (bôsË- 1 - (sig√dË: 0)Ë- 1Ë* 2 + 1)

	)

114 #i‡!
GNULIB_deföed_°döt_ty≥s


121 #unde‡
öt8_t


122 #unde‡
uöt8_t


123 sig√d 
	tgl_öt8_t
;

124 
	tgl_uöt8_t
;

125 
	#öt8_t
 
gl_öt8_t


	)

126 
	#uöt8_t
 
gl_uöt8_t


	)

128 #unde‡
öt16_t


129 #unde‡
uöt16_t


130 
	tgl_öt16_t
;

131 
	tgl_uöt16_t
;

132 
	#öt16_t
 
gl_öt16_t


	)

133 
	#uöt16_t
 
gl_uöt16_t


	)

135 #unde‡
öt32_t


136 #unde‡
uöt32_t


137 
	tgl_öt32_t
;

138 
	tgl_uöt32_t
;

139 
	#öt32_t
 
gl_öt32_t


	)

140 
	#uöt32_t
 
gl_uöt32_t


	)

148 #ifde‡
INT64_MAX


149 
	#GL_INT64_T


	)

153 #i‡
LONG_MAX
 >> 31 >> 31 == 1

154 #unde‡
öt64_t


155 
	tgl_öt64_t
;

156 
	#öt64_t
 
gl_öt64_t


	)

157 
	#GL_INT64_T


	)

158 #ñi‡
deföed
 
_MSC_VER


159 #unde‡
öt64_t


160 
__öt64
 
	tgl_öt64_t
;

161 
	#öt64_t
 
gl_öt64_t


	)

162 
	#GL_INT64_T


	)

164 #unde‡
öt64_t


165 
	tgl_öt64_t
;

166 
	#öt64_t
 
gl_öt64_t


	)

167 
	#GL_INT64_T


	)

171 #ifde‡
UINT64_MAX


172 
	#GL_UINT64_T


	)

174 #i‡
ULONG_MAX
 >> 31 >> 31 >> 1 == 1

175 #unde‡
uöt64_t


176 
	tgl_uöt64_t
;

177 
	#uöt64_t
 
gl_uöt64_t


	)

178 
	#GL_UINT64_T


	)

179 #ñi‡
deföed
 
_MSC_VER


180 #unde‡
uöt64_t


181 
	t__öt64
 
	tgl_uöt64_t
;

182 
	#uöt64_t
 
gl_uöt64_t


	)

183 
	#GL_UINT64_T


	)

185 #unde‡
uöt64_t


186 
	tgl_uöt64_t
;

187 
	#uöt64_t
 
gl_uöt64_t


	)

188 
	#GL_UINT64_T


	)

193 
	#_UINT8_T


	)

194 
	#_UINT32_T


	)

195 
	#_UINT64_T


	)

204 #unde‡
öt_Àa°8_t


205 #unde‡
uöt_Àa°8_t


206 #unde‡
öt_Àa°16_t


207 #unde‡
uöt_Àa°16_t


208 #unde‡
öt_Àa°32_t


209 #unde‡
uöt_Àa°32_t


210 #unde‡
öt_Àa°64_t


211 #unde‡
uöt_Àa°64_t


212 
	#öt_Àa°8_t
 
öt8_t


	)

213 
	#uöt_Àa°8_t
 
uöt8_t


	)

214 
	#öt_Àa°16_t
 
öt16_t


	)

215 
	#uöt_Àa°16_t
 
uöt16_t


	)

216 
	#öt_Àa°32_t
 
öt32_t


	)

217 
	#uöt_Àa°32_t
 
uöt32_t


	)

218 #ifde‡
GL_INT64_T


219 
	#öt_Àa°64_t
 
öt64_t


	)

221 #ifde‡
GL_UINT64_T


222 
	#uöt_Àa°64_t
 
uöt64_t


	)

235 #unde‡
öt_Á°8_t


236 #unde‡
uöt_Á°8_t


237 #unde‡
öt_Á°16_t


238 #unde‡
uöt_Á°16_t


239 #unde‡
öt_Á°32_t


240 #unde‡
uöt_Á°32_t


241 #unde‡
öt_Á°64_t


242 #unde‡
uöt_Á°64_t


243 
	tgl_öt_Á°8_t
;

244 
	tgl_uöt_Á°8_t
;

245 
	tgl_öt_Á°16_t
;

246 
	tgl_uöt_Á°16_t
;

247 
	tgl_öt_Á°32_t
;

248 
	tgl_uöt_Á°32_t
;

249 
	#öt_Á°8_t
 
gl_öt_Á°8_t


	)

250 
	#uöt_Á°8_t
 
gl_uöt_Á°8_t


	)

251 
	#öt_Á°16_t
 
gl_öt_Á°16_t


	)

252 
	#uöt_Á°16_t
 
gl_uöt_Á°16_t


	)

253 
	#öt_Á°32_t
 
gl_öt_Á°32_t


	)

254 
	#uöt_Á°32_t
 
gl_uöt_Á°32_t


	)

255 #ifde‡
GL_INT64_T


256 
	#öt_Á°64_t
 
öt64_t


	)

258 #ifde‡
GL_UINT64_T


259 
	#uöt_Á°64_t
 
uöt64_t


	)

264 #unde‡
öçå_t


265 #unde‡
uöçå_t


266 
	tgl_öçå_t
;

267 
	tgl_uöçå_t
;

268 
	#öçå_t
 
gl_öçå_t


	)

269 
	#uöçå_t
 
gl_uöçå_t


	)

280 #i‚de‡
INTMAX_MAX


281 #unde‡
INTMAX_C


282 #unde‡
ötmax_t


283 #i‡1 && 
LONG_MAX
 >> 30 == 1

284 
	tgl_ötmax_t
;

285 
	#ötmax_t
 
gl_ötmax_t


	)

286 #ñi‡
deföed
 
GL_INT64_T


287 
	#ötmax_t
 
öt64_t


	)

289 
	tgl_ötmax_t
;

290 
	#ötmax_t
 
gl_ötmax_t


	)

294 #i‚de‡
UINTMAX_MAX


295 #unde‡
UINTMAX_C


296 #unde‡
uötmax_t


297 #i‡1 && 
ULONG_MAX
 >> 31 == 1

298 
	tgl_uötmax_t
;

299 
	#uötmax_t
 
gl_uötmax_t


	)

300 #ñi‡
deföed
 
GL_UINT64_T


301 
	#uötmax_t
 
uöt64_t


	)

303 
	tgl_uötmax_t
;

304 
	#uötmax_t
 
gl_uötmax_t


	)

311 
	t_vîify_ötmax_size
[ (
ötmax_t
Ë= (
uötmax_t
)

314 
	#GNULIB_deföed_°döt_ty≥s
 1

	)

319 #i‡! 
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


326 #unde‡
INT8_MIN


327 #unde‡
INT8_MAX


328 #unde‡
UINT8_MAX


329 
	#INT8_MIN
 (~ 
INT8_MAX
)

	)

330 
	#INT8_MAX
 127

	)

331 
	#UINT8_MAX
 255

	)

333 #unde‡
INT16_MIN


334 #unde‡
INT16_MAX


335 #unde‡
UINT16_MAX


336 
	#INT16_MIN
 (~ 
INT16_MAX
)

	)

337 
	#INT16_MAX
 32767

	)

338 
	#UINT16_MAX
 65535

	)

340 #unde‡
INT32_MIN


341 #unde‡
INT32_MAX


342 #unde‡
UINT32_MAX


343 
	#INT32_MIN
 (~ 
INT32_MAX
)

	)

344 
	#INT32_MAX
 2147483647

	)

345 
	#UINT32_MAX
 4294967295U

	)

347 #i‡
deföed
 
GL_INT64_T
 && ! deföed 
INT64_MAX


350 
	#INT64_MIN
 (- 
	`INTMAX_C
 (1Ë<< 63)

	)

351 
	#INT64_MAX
 
	`INTMAX_C
 (9223372036854775807)

	)

354 #i‡
deföed
 
GL_UINT64_T
 && ! deföed 
UINT64_MAX


355 
	#UINT64_MAX
 
	`UINTMAX_C
 (18446744073709551615)

	)

364 #unde‡
INT_LEAST8_MIN


365 #unde‡
INT_LEAST8_MAX


366 #unde‡
UINT_LEAST8_MAX


367 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

368 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

369 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

371 #unde‡
INT_LEAST16_MIN


372 #unde‡
INT_LEAST16_MAX


373 #unde‡
UINT_LEAST16_MAX


374 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

375 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

376 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

378 #unde‡
INT_LEAST32_MIN


379 #unde‡
INT_LEAST32_MAX


380 #unde‡
UINT_LEAST32_MAX


381 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

382 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

383 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

385 #unde‡
INT_LEAST64_MIN


386 #unde‡
INT_LEAST64_MAX


387 #ifde‡
GL_INT64_T


388 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

389 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

392 #unde‡
UINT_LEAST64_MAX


393 #ifde‡
GL_UINT64_T


394 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

403 #unde‡
INT_FAST8_MIN


404 #unde‡
INT_FAST8_MAX


405 #unde‡
UINT_FAST8_MAX


406 
	#INT_FAST8_MIN
 
LONG_MIN


	)

407 
	#INT_FAST8_MAX
 
LONG_MAX


	)

408 
	#UINT_FAST8_MAX
 
ULONG_MAX


	)

410 #unde‡
INT_FAST16_MIN


411 #unde‡
INT_FAST16_MAX


412 #unde‡
UINT_FAST16_MAX


413 
	#INT_FAST16_MIN
 
LONG_MIN


	)

414 
	#INT_FAST16_MAX
 
LONG_MAX


	)

415 
	#UINT_FAST16_MAX
 
ULONG_MAX


	)

417 #unde‡
INT_FAST32_MIN


418 #unde‡
INT_FAST32_MAX


419 #unde‡
UINT_FAST32_MAX


420 
	#INT_FAST32_MIN
 
LONG_MIN


	)

421 
	#INT_FAST32_MAX
 
LONG_MAX


	)

422 
	#UINT_FAST32_MAX
 
ULONG_MAX


	)

424 #unde‡
INT_FAST64_MIN


425 #unde‡
INT_FAST64_MAX


426 #ifde‡
GL_INT64_T


427 
	#INT_FAST64_MIN
 
INT64_MIN


	)

428 
	#INT_FAST64_MAX
 
INT64_MAX


	)

431 #unde‡
UINT_FAST64_MAX


432 #ifde‡
GL_UINT64_T


433 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

438 #unde‡
INTPTR_MIN


439 #unde‡
INTPTR_MAX


440 #unde‡
UINTPTR_MAX


441 
	#INTPTR_MIN
 
LONG_MIN


	)

442 
	#INTPTR_MAX
 
LONG_MAX


	)

443 
	#UINTPTR_MAX
 
ULONG_MAX


	)

447 #i‚de‡
INTMAX_MAX


448 #unde‡
INTMAX_MIN


449 #ifde‡
INT64_MAX


450 
	#INTMAX_MIN
 
INT64_MIN


	)

451 
	#INTMAX_MAX
 
INT64_MAX


	)

453 
	#INTMAX_MIN
 
INT32_MIN


	)

454 
	#INTMAX_MAX
 
INT32_MAX


	)

458 #i‚de‡
UINTMAX_MAX


459 #ifde‡
UINT64_MAX


460 
	#UINTMAX_MAX
 
UINT64_MAX


	)

462 
	#UINTMAX_MAX
 
UINT32_MAX


	)

469 #unde‡
PTRDIFF_MIN


470 #unde‡
PTRDIFF_MAX


472 #ifde‡
_LP64


473 
	#PTRDIFF_MIN
 
	`_STDINT_MIN
 (1, 64, 0l)

	)

474 
	#PTRDIFF_MAX
 
	`_STDINT_MAX
 (1, 64, 0l)

	)

476 
	#PTRDIFF_MIN
 
	`_STDINT_MIN
 (1, 32, 0)

	)

477 
	#PTRDIFF_MAX
 
	`_STDINT_MAX
 (1, 32, 0)

	)

480 
	#PTRDIFF_MIN
 \

481 
	`_STDINT_MIN
 (1, 64, 0l)

	)

482 
	#PTRDIFF_MAX
 \

483 
	`_STDINT_MAX
 (1, 64, 0l)

	)

487 #unde‡
SIG_ATOMIC_MIN


488 #unde‡
SIG_ATOMIC_MAX


489 
	#SIG_ATOMIC_MIN
 \

490 
	`_STDINT_MIN
 (1, 32, \

491 0)

	)

492 
	#SIG_ATOMIC_MAX
 \

493 
	`_STDINT_MAX
 (1, 32, \

494 0)

	)

498 #unde‡
SIZE_MAX


500 #ifde‡
_LP64


501 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, 64, 0ul)

	)

503 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, 32, 0ul)

	)

506 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, 64, 0ul)

	)

515 #i‡1 && ! (
deföed
 
WCHAR_MIN
 && deföed 
WCHAR_MAX
)

518 
	~<°ddef.h
>

519 
	~<°dio.h
>

520 
	~<time.h
>

521 
	#_GL_JUST_INCLUDE_SYSTEM_WCHAR_H


	)

522 
	~<wch¨.h
>

523 #unde‡
_GL_JUST_INCLUDE_SYSTEM_WCHAR_H


525 #unde‡
WCHAR_MIN


526 #unde‡
WCHAR_MAX


527 
	#WCHAR_MIN
 \

528 
	`_STDINT_MIN
 (1, 32, 0)

	)

529 
	#WCHAR_MAX
 \

530 
	`_STDINT_MAX
 (1, 32, 0)

	)

533 #unde‡
WINT_MIN


534 #unde‡
WINT_MAX


535 
	#WINT_MIN
 \

536 
	`_STDINT_MIN
 (0, 32, 0u)

	)

537 
	#WINT_MAX
 \

538 
	`_STDINT_MAX
 (0, 32, 0u)

	)

544 #i‡! 
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


552 #unde‡
INT8_C


553 #unde‡
UINT8_C


554 
	#INT8_C
(
x
Ë
	)
x

555 
	#UINT8_C
(
x
Ë
	)
x

557 #unde‡
INT16_C


558 #unde‡
UINT16_C


559 
	#INT16_C
(
x
Ë
	)
x

560 
	#UINT16_C
(
x
Ë
	)
x

562 #unde‡
INT32_C


563 #unde‡
UINT32_C


564 
	#INT32_C
(
x
Ë
	)
x

565 
	#UINT32_C
(
x
Ëx ## 
U


	)

567 #unde‡
INT64_C


568 #unde‡
UINT64_C


569 #i‡
LONG_MAX
 >> 31 >> 31 == 1

570 
	#INT64_C
(
x
Ëx##
L


	)

571 #ñi‡
deföed
 
_MSC_VER


572 
	#INT64_C
(
x
Ëx##
i64


	)

574 
	#INT64_C
(
x
Ëx##
LL


	)

576 #i‡
ULONG_MAX
 >> 31 >> 31 >> 1 == 1

577 
	#UINT64_C
(
x
Ëx##
UL


	)

578 #ñi‡
deföed
 
_MSC_VER


579 
	#UINT64_C
(
x
Ëx##
ui64


	)

581 
	#UINT64_C
(
x
Ëx##
ULL


	)

586 #i‚de‡
INTMAX_C


587 #i‡1 && 
LONG_MAX
 >> 30 == 1

588 
	#INTMAX_C
(
x
Ëx##
LL


	)

589 #ñi‡
deföed
 
GL_INT64_T


590 
	#INTMAX_C
(
x
Ë
	`INT64_C
(x)

	)

592 
	#INTMAX_C
(
x
Ëx##
L


	)

596 #i‚de‡
UINTMAX_C


597 #i‡1 && 
ULONG_MAX
 >> 31 == 1

598 
	#UINTMAX_C
(
x
Ëx##
ULL


	)

599 #ñi‡
deföed
 
GL_UINT64_T


600 
	#UINTMAX_C
(
x
Ë
	`UINT64_C
(x)

	)

602 
	#UINTMAX_C
(
x
Ëx##
UL


	)

	@lib/stdint.in.h

26 #i‚de‡
_
@
GUARD_PREFIX
@
_STDINT_H


28 #i‡
__GNUC__
 >= 3

29 @
	gPRAGMA_SYSTEM_HEADER
@

31 @
	gPRAGMA_COLUMNS
@

37 
	#_GL_JUST_INCLUDE_SYSTEM_INTTYPES_H


	)

47 #i‡@
HAVE_STDINT_H
@

48 #i‡
deföed
 
__sgi
 && ! deföed 
__c99


52 
	#__STDINT_H__


	)

59 #@
INCLUDE_NEXT
@ @
NEXT_STDINT_H
@

62 #i‡! 
deföed
 
_
@
GUARD_PREFIX
@
_STDINT_H
 && ! deföed 
_GL_JUST_INCLUDE_SYSTEM_STDINT_H


63 
	#_
@
GUARD_PREFIX
@
_STDINT_H


	)

71 #i‡@
HAVE_SYS_TYPES_H
@ && ! 
deföed
 
_AIX


72 
	~<sys/ty≥s.h
>

76 
	~<limôs.h
>

78 #i‡@
HAVE_INTTYPES_H
@

82 
	~<öây≥s.h
>

83 #ñi‡@
HAVE_SYS_INTTYPES_H
@

86 
	~<sys/öây≥s.h
>

89 #i‡@
HAVE_SYS_BITYPES_H
@ && ! 
deföed
 
__BIT_TYPES_DEFINED__


93 
	~<sys/bôy≥s.h
>

96 #unde‡
_GL_JUST_INCLUDE_SYSTEM_INTTYPES_H


102 
	#_STDINT_MIN
(sig√d, 
bôs
, 
zîo
) \

103 ((sig√dË? (- ((
zîo
Ë+ 1Ë<< ((
bôs
Ë? (bôsË- 1 : 0)Ë: (zîo))

	)

105 
	#_STDINT_MAX
(sig√d, 
bôs
, 
zîo
) \

107 ? ~ 
	`_STDINT_MIN
 (sig√d, 
bôs
, 
zîo
) \

111 ((((
zîo
Ë+ 1Ë<< ((
bôs
Ë? (bôsË- 1 - (sig√dË: 0)Ë- 1Ë* 2 + 1)

	)

113 #i‡!
GNULIB_deföed_°döt_ty≥s


120 #unde‡
öt8_t


121 #unde‡
uöt8_t


122 sig√d 
	tgl_öt8_t
;

123 
	tgl_uöt8_t
;

124 
	#öt8_t
 
gl_öt8_t


	)

125 
	#uöt8_t
 
gl_uöt8_t


	)

127 #unde‡
öt16_t


128 #unde‡
uöt16_t


129 
	tgl_öt16_t
;

130 
	tgl_uöt16_t
;

131 
	#öt16_t
 
gl_öt16_t


	)

132 
	#uöt16_t
 
gl_uöt16_t


	)

134 #unde‡
öt32_t


135 #unde‡
uöt32_t


136 
	tgl_öt32_t
;

137 
	tgl_uöt32_t
;

138 
	#öt32_t
 
gl_öt32_t


	)

139 
	#uöt32_t
 
gl_uöt32_t


	)

147 #ifde‡
INT64_MAX


148 
	#GL_INT64_T


	)

152 #i‡
LONG_MAX
 >> 31 >> 31 == 1

153 #unde‡
öt64_t


154 
	tgl_öt64_t
;

155 
	#öt64_t
 
gl_öt64_t


	)

156 
	#GL_INT64_T


	)

157 #ñi‡
deföed
 
_MSC_VER


158 #unde‡
öt64_t


159 
__öt64
 
	tgl_öt64_t
;

160 
	#öt64_t
 
gl_öt64_t


	)

161 
	#GL_INT64_T


	)

162 #ñi‡@
HAVE_LONG_LONG_INT
@

163 #unde‡
öt64_t


164 
	tgl_öt64_t
;

165 
	#öt64_t
 
gl_öt64_t


	)

166 
	#GL_INT64_T


	)

170 #ifde‡
UINT64_MAX


171 
	#GL_UINT64_T


	)

173 #i‡
ULONG_MAX
 >> 31 >> 31 >> 1 == 1

174 #unde‡
uöt64_t


175 
	tgl_uöt64_t
;

176 
	#uöt64_t
 
gl_uöt64_t


	)

177 
	#GL_UINT64_T


	)

178 #ñi‡
deföed
 
_MSC_VER


179 #unde‡
uöt64_t


180 
	t__öt64
 
	tgl_uöt64_t
;

181 
	#uöt64_t
 
gl_uöt64_t


	)

182 
	#GL_UINT64_T


	)

183 #ñi‡@
HAVE_UNSIGNED_LONG_LONG_INT
@

184 #unde‡
uöt64_t


185 
	tgl_uöt64_t
;

186 
	#uöt64_t
 
gl_uöt64_t


	)

187 
	#GL_UINT64_T


	)

192 
	#_UINT8_T


	)

193 
	#_UINT32_T


	)

194 
	#_UINT64_T


	)

203 #unde‡
öt_Àa°8_t


204 #unde‡
uöt_Àa°8_t


205 #unde‡
öt_Àa°16_t


206 #unde‡
uöt_Àa°16_t


207 #unde‡
öt_Àa°32_t


208 #unde‡
uöt_Àa°32_t


209 #unde‡
öt_Àa°64_t


210 #unde‡
uöt_Àa°64_t


211 
	#öt_Àa°8_t
 
öt8_t


	)

212 
	#uöt_Àa°8_t
 
uöt8_t


	)

213 
	#öt_Àa°16_t
 
öt16_t


	)

214 
	#uöt_Àa°16_t
 
uöt16_t


	)

215 
	#öt_Àa°32_t
 
öt32_t


	)

216 
	#uöt_Àa°32_t
 
uöt32_t


	)

217 #ifde‡
GL_INT64_T


218 
	#öt_Àa°64_t
 
öt64_t


	)

220 #ifde‡
GL_UINT64_T


221 
	#uöt_Àa°64_t
 
uöt64_t


	)

234 #unde‡
öt_Á°8_t


235 #unde‡
uöt_Á°8_t


236 #unde‡
öt_Á°16_t


237 #unde‡
uöt_Á°16_t


238 #unde‡
öt_Á°32_t


239 #unde‡
uöt_Á°32_t


240 #unde‡
öt_Á°64_t


241 #unde‡
uöt_Á°64_t


242 
	tgl_öt_Á°8_t
;

243 
	tgl_uöt_Á°8_t
;

244 
	tgl_öt_Á°16_t
;

245 
	tgl_uöt_Á°16_t
;

246 
	tgl_öt_Á°32_t
;

247 
	tgl_uöt_Á°32_t
;

248 
	#öt_Á°8_t
 
gl_öt_Á°8_t


	)

249 
	#uöt_Á°8_t
 
gl_uöt_Á°8_t


	)

250 
	#öt_Á°16_t
 
gl_öt_Á°16_t


	)

251 
	#uöt_Á°16_t
 
gl_uöt_Á°16_t


	)

252 
	#öt_Á°32_t
 
gl_öt_Á°32_t


	)

253 
	#uöt_Á°32_t
 
gl_uöt_Á°32_t


	)

254 #ifde‡
GL_INT64_T


255 
	#öt_Á°64_t
 
öt64_t


	)

257 #ifde‡
GL_UINT64_T


258 
	#uöt_Á°64_t
 
uöt64_t


	)

263 #unde‡
öçå_t


264 #unde‡
uöçå_t


265 
	tgl_öçå_t
;

266 
	tgl_uöçå_t
;

267 
	#öçå_t
 
gl_öçå_t


	)

268 
	#uöçå_t
 
gl_uöçå_t


	)

279 #i‚de‡
INTMAX_MAX


280 #unde‡
INTMAX_C


281 #unde‡
ötmax_t


282 #i‡@
HAVE_LONG_LONG_INT
@ && 
LONG_MAX
 >> 30 == 1

283 
	tgl_ötmax_t
;

284 
	#ötmax_t
 
gl_ötmax_t


	)

285 #ñi‡
deföed
 
GL_INT64_T


286 
	#ötmax_t
 
öt64_t


	)

288 
	tgl_ötmax_t
;

289 
	#ötmax_t
 
gl_ötmax_t


	)

293 #i‚de‡
UINTMAX_MAX


294 #unde‡
UINTMAX_C


295 #unde‡
uötmax_t


296 #i‡@
HAVE_UNSIGNED_LONG_LONG_INT
@ && 
ULONG_MAX
 >> 31 == 1

297 
	tgl_uötmax_t
;

298 
	#uötmax_t
 
gl_uötmax_t


	)

299 #ñi‡
deföed
 
GL_UINT64_T


300 
	#uötmax_t
 
uöt64_t


	)

302 
	tgl_uötmax_t
;

303 
	#uötmax_t
 
gl_uötmax_t


	)

310 
	t_vîify_ötmax_size
[ (
ötmax_t
Ë= (
uötmax_t
)

313 
	#GNULIB_deföed_°döt_ty≥s
 1

	)

318 #i‡! 
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


325 #unde‡
INT8_MIN


326 #unde‡
INT8_MAX


327 #unde‡
UINT8_MAX


328 
	#INT8_MIN
 (~ 
INT8_MAX
)

	)

329 
	#INT8_MAX
 127

	)

330 
	#UINT8_MAX
 255

	)

332 #unde‡
INT16_MIN


333 #unde‡
INT16_MAX


334 #unde‡
UINT16_MAX


335 
	#INT16_MIN
 (~ 
INT16_MAX
)

	)

336 
	#INT16_MAX
 32767

	)

337 
	#UINT16_MAX
 65535

	)

339 #unde‡
INT32_MIN


340 #unde‡
INT32_MAX


341 #unde‡
UINT32_MAX


342 
	#INT32_MIN
 (~ 
INT32_MAX
)

	)

343 
	#INT32_MAX
 2147483647

	)

344 
	#UINT32_MAX
 4294967295U

	)

346 #i‡
deföed
 
GL_INT64_T
 && ! deföed 
INT64_MAX


349 
	#INT64_MIN
 (- 
	`INTMAX_C
 (1Ë<< 63)

	)

350 
	#INT64_MAX
 
	`INTMAX_C
 (9223372036854775807)

	)

353 #i‡
deföed
 
GL_UINT64_T
 && ! deföed 
UINT64_MAX


354 
	#UINT64_MAX
 
	`UINTMAX_C
 (18446744073709551615)

	)

363 #unde‡
INT_LEAST8_MIN


364 #unde‡
INT_LEAST8_MAX


365 #unde‡
UINT_LEAST8_MAX


366 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

367 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

368 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

370 #unde‡
INT_LEAST16_MIN


371 #unde‡
INT_LEAST16_MAX


372 #unde‡
UINT_LEAST16_MAX


373 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

374 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

375 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

377 #unde‡
INT_LEAST32_MIN


378 #unde‡
INT_LEAST32_MAX


379 #unde‡
UINT_LEAST32_MAX


380 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

381 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

382 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

384 #unde‡
INT_LEAST64_MIN


385 #unde‡
INT_LEAST64_MAX


386 #ifde‡
GL_INT64_T


387 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

388 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

391 #unde‡
UINT_LEAST64_MAX


392 #ifde‡
GL_UINT64_T


393 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

402 #unde‡
INT_FAST8_MIN


403 #unde‡
INT_FAST8_MAX


404 #unde‡
UINT_FAST8_MAX


405 
	#INT_FAST8_MIN
 
LONG_MIN


	)

406 
	#INT_FAST8_MAX
 
LONG_MAX


	)

407 
	#UINT_FAST8_MAX
 
ULONG_MAX


	)

409 #unde‡
INT_FAST16_MIN


410 #unde‡
INT_FAST16_MAX


411 #unde‡
UINT_FAST16_MAX


412 
	#INT_FAST16_MIN
 
LONG_MIN


	)

413 
	#INT_FAST16_MAX
 
LONG_MAX


	)

414 
	#UINT_FAST16_MAX
 
ULONG_MAX


	)

416 #unde‡
INT_FAST32_MIN


417 #unde‡
INT_FAST32_MAX


418 #unde‡
UINT_FAST32_MAX


419 
	#INT_FAST32_MIN
 
LONG_MIN


	)

420 
	#INT_FAST32_MAX
 
LONG_MAX


	)

421 
	#UINT_FAST32_MAX
 
ULONG_MAX


	)

423 #unde‡
INT_FAST64_MIN


424 #unde‡
INT_FAST64_MAX


425 #ifde‡
GL_INT64_T


426 
	#INT_FAST64_MIN
 
INT64_MIN


	)

427 
	#INT_FAST64_MAX
 
INT64_MAX


	)

430 #unde‡
UINT_FAST64_MAX


431 #ifde‡
GL_UINT64_T


432 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

437 #unde‡
INTPTR_MIN


438 #unde‡
INTPTR_MAX


439 #unde‡
UINTPTR_MAX


440 
	#INTPTR_MIN
 
LONG_MIN


	)

441 
	#INTPTR_MAX
 
LONG_MAX


	)

442 
	#UINTPTR_MAX
 
ULONG_MAX


	)

446 #i‚de‡
INTMAX_MAX


447 #unde‡
INTMAX_MIN


448 #ifde‡
INT64_MAX


449 
	#INTMAX_MIN
 
INT64_MIN


	)

450 
	#INTMAX_MAX
 
INT64_MAX


	)

452 
	#INTMAX_MIN
 
INT32_MIN


	)

453 
	#INTMAX_MAX
 
INT32_MAX


	)

457 #i‚de‡
UINTMAX_MAX


458 #ifde‡
UINT64_MAX


459 
	#UINTMAX_MAX
 
UINT64_MAX


	)

461 
	#UINTMAX_MAX
 
UINT32_MAX


	)

468 #unde‡
PTRDIFF_MIN


469 #unde‡
PTRDIFF_MAX


470 #i‡@
APPLE_UNIVERSAL_BUILD
@

471 #ifde‡
_LP64


472 
	#PTRDIFF_MIN
 
	`_STDINT_MIN
 (1, 64, 0l)

	)

473 
	#PTRDIFF_MAX
 
	`_STDINT_MAX
 (1, 64, 0l)

	)

475 
	#PTRDIFF_MIN
 
	`_STDINT_MIN
 (1, 32, 0)

	)

476 
	#PTRDIFF_MAX
 
	`_STDINT_MAX
 (1, 32, 0)

	)

479 
	#PTRDIFF_MIN
 \

480 
	`_STDINT_MIN
 (1, @
BITSIZEOF_PTRDIFF_T
@, 0@
PTRDIFF_T_SUFFIX
@)

	)

481 
	#PTRDIFF_MAX
 \

482 
	`_STDINT_MAX
 (1, @
BITSIZEOF_PTRDIFF_T
@, 0@
PTRDIFF_T_SUFFIX
@)

	)

486 #unde‡
SIG_ATOMIC_MIN


487 #unde‡
SIG_ATOMIC_MAX


488 
	#SIG_ATOMIC_MIN
 \

489 
	`_STDINT_MIN
 (@
HAVE_SIGNED_SIG_ATOMIC_T
@, @
BITSIZEOF_SIG_ATOMIC_T
@, \

490 0@
SIG_ATOMIC_T_SUFFIX
@)

	)

491 
	#SIG_ATOMIC_MAX
 \

492 
	`_STDINT_MAX
 (@
HAVE_SIGNED_SIG_ATOMIC_T
@, @
BITSIZEOF_SIG_ATOMIC_T
@, \

493 0@
SIG_ATOMIC_T_SUFFIX
@)

	)

497 #unde‡
SIZE_MAX


498 #i‡@
APPLE_UNIVERSAL_BUILD
@

499 #ifde‡
_LP64


500 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, 64, 0ul)

	)

502 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, 32, 0ul)

	)

505 
	#SIZE_MAX
 
	`_STDINT_MAX
 (0, @
BITSIZEOF_SIZE_T
@, 0@
SIZE_T_SUFFIX
@)

	)

514 #i‡@
HAVE_WCHAR_H
@ && ! (
deföed
 
WCHAR_MIN
 && deföed 
WCHAR_MAX
)

517 
	~<°ddef.h
>

518 
	~<°dio.h
>

519 
	~<time.h
>

520 
	#_GL_JUST_INCLUDE_SYSTEM_WCHAR_H


	)

521 
	~<wch¨.h
>

522 #unde‡
_GL_JUST_INCLUDE_SYSTEM_WCHAR_H


524 #unde‡
WCHAR_MIN


525 #unde‡
WCHAR_MAX


526 
	#WCHAR_MIN
 \

527 
	`_STDINT_MIN
 (@
HAVE_SIGNED_WCHAR_T
@, @
BITSIZEOF_WCHAR_T
@, 0@
WCHAR_T_SUFFIX
@)

	)

528 
	#WCHAR_MAX
 \

529 
	`_STDINT_MAX
 (@
HAVE_SIGNED_WCHAR_T
@, @
BITSIZEOF_WCHAR_T
@, 0@
WCHAR_T_SUFFIX
@)

	)

532 #unde‡
WINT_MIN


533 #unde‡
WINT_MAX


534 
	#WINT_MIN
 \

535 
	`_STDINT_MIN
 (@
HAVE_SIGNED_WINT_T
@, @
BITSIZEOF_WINT_T
@, 0@
WINT_T_SUFFIX
@)

	)

536 
	#WINT_MAX
 \

537 
	`_STDINT_MAX
 (@
HAVE_SIGNED_WINT_T
@, @
BITSIZEOF_WINT_T
@, 0@
WINT_T_SUFFIX
@)

	)

543 #i‡! 
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


551 #unde‡
INT8_C


552 #unde‡
UINT8_C


553 
	#INT8_C
(
x
Ë
	)
x

554 
	#UINT8_C
(
x
Ë
	)
x

556 #unde‡
INT16_C


557 #unde‡
UINT16_C


558 
	#INT16_C
(
x
Ë
	)
x

559 
	#UINT16_C
(
x
Ë
	)
x

561 #unde‡
INT32_C


562 #unde‡
UINT32_C


563 
	#INT32_C
(
x
Ë
	)
x

564 
	#UINT32_C
(
x
Ëx ## 
U


	)

566 #unde‡
INT64_C


567 #unde‡
UINT64_C


568 #i‡
LONG_MAX
 >> 31 >> 31 == 1

569 
	#INT64_C
(
x
Ëx##
L


	)

570 #ñi‡
deföed
 
_MSC_VER


571 
	#INT64_C
(
x
Ëx##
i64


	)

572 #ñi‡@
HAVE_LONG_LONG_INT
@

573 
	#INT64_C
(
x
Ëx##
LL


	)

575 #i‡
ULONG_MAX
 >> 31 >> 31 >> 1 == 1

576 
	#UINT64_C
(
x
Ëx##
UL


	)

577 #ñi‡
deföed
 
_MSC_VER


578 
	#UINT64_C
(
x
Ëx##
ui64


	)

579 #ñi‡@
HAVE_UNSIGNED_LONG_LONG_INT
@

580 
	#UINT64_C
(
x
Ëx##
ULL


	)

585 #i‚de‡
INTMAX_C


586 #i‡@
HAVE_LONG_LONG_INT
@ && 
LONG_MAX
 >> 30 == 1

587 
	#INTMAX_C
(
x
Ëx##
LL


	)

588 #ñi‡
deföed
 
GL_INT64_T


589 
	#INTMAX_C
(
x
Ë
	`INT64_C
(x)

	)

591 
	#INTMAX_C
(
x
Ëx##
L


	)

595 #i‚de‡
UINTMAX_C


596 #i‡@
HAVE_UNSIGNED_LONG_LONG_INT
@ && 
ULONG_MAX
 >> 31 == 1

597 
	#UINTMAX_C
(
x
Ëx##
ULL


	)

598 #ñi‡
deföed
 
GL_UINT64_T


599 
	#UINTMAX_C
(
x
Ë
	`UINT64_C
(x)

	)

601 
	#UINTMAX_C
(
x
Ëx##
UL


	)

	@lib/stdio-impl.h

24 #i‡
deföed
 
__NëBSD__


26 
	~<sys/∑øm.h
>

29 #i‡
deföed
 
__s„º‹
 || deföed 
__Døg⁄Fly__


31 #i‡
deföed
 
__Døg⁄Fly__


33 
	#Â_
 ((°ru˘ { 
__FILE_public
 
pub
; \

34 °ru˘ { *
_ba£
; 
_size
; } 
_bf
; \

35 *
cookõ
; \

36 *
_˛o£
; \

37 *
_ªad
; \

38 *
_£ek
; \

39 *
_wrôe
; \

40 °ru˘ { *
_ba£
; 
_size
; } 
_ub
; \

41 
_ur
; \

42 
_ubuf
[3]; \

43 
_nbuf
[1]; \

44 °ru˘ { *
_ba£
; 
_size
; } 
_lb
; \

45 
_blksize
; \

46 
Âos_t
 
_off£t
; \

48 } *Ë
Â
)

	)

50 
	#_p
 
pub
.
_p


	)

51 
	#_Êags
 
pub
.
_Êags


	)

52 
	#_r
 
pub
.
_r


	)

53 
	#_w
 
pub
.
_w


	)

55 
	#Â_
 
Â


	)

58 #i‡(
deföed
 
__NëBSD__
 && 
__NëBSD_Vîsi⁄__
 >105270000Ë|| deföed 
__O≥nBSD__


61 
	s__sfûìxt


63 
__sbuf
 
	m_ub
;

66 
	#Â_ub
 ((
__sfûìxt
 *Ë
Â
->
_ext
.
_ba£
)->
_ub


	)

68 
	#Â_ub
 
Â_
->
_ub


	)

71 
	#HASUB
(
Â
Ë(
Â_ub
.
_ba£
 !
NULL
)

	)

78 #ifde‡
__TANDEM


79 #i‚de‡
_IOERR


82 
	#_IOERR
 0x40

	)

83 
	#_IOREAD
 0x80

	)

84 
	#_IOWRT
 0x4

	)

85 
	#_IORW
 0x100

	)

89 #i‡
deföed
 
_IOERR


91 #i‡
deföed
 
__sun
 && deföed 
_LP64


92 
	#Â_
 ((°ru˘ { *
_±r
; \

93 *
_ba£
; \

94 *
_íd
; \

95 
_˙t
; \

96 
_fûe
; \

97 
_Êag
; \

98 } *Ë
Â
)

	)

100 
	#Â_
 
Â


	)

103 #i‡
deföed
 
_SCO_DS


104 
	#_˙t
 
__˙t


	)

105 
	#_±r
 
__±r


	)

106 
	#_ba£
 
__ba£


	)

107 
	#_Êag
 
__Êag


	)

	@lib/stdio-write.c

18 
	~<c⁄fig.h
>

21 
	~<°dio.h
>

25 #i‡
GNULIB_NONBLOCKING
 || 
GNULIB_SIGPIPE


33 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


35 
	~<î∫o.h
>

36 
	~<sig«l.h
>

37 
	~<io.h
>

39 
	#WIN32_LEAN_AND_MEAN


	)

40 
	~<wödows.h
>

42 #i‡
GNULIB_NONBLOCKING


43 
	#CLEAR_ERRNO
 \

44 
î∫o
 = 0;

	)

45 
	#HANDLE_ENOSPC
 \

46 i‡(
î∫o
 =
ENOSPC
 && 
	`„º‹
 (
°ªam
)) \

48 
fd
 = 
	`fûío
 (
°ªam
); \

49 i‡(
fd
 >= 0) \

51 
HANDLE
 
h
 = (HANDLEË
	`_gë_osfh™dÀ
 (
fd
); \

52 i‡(
	`GëFûeTy≥
 (
h
Ë=
FILE_TYPE_PIPE
) \

55 
DWORD
 
°©e
; \

56 i‡(
	`GëNamedPùeH™dÀSèã
 (
h
, &
°©e
, 
NULL
, NULL, \

57 
NULL
, NULL, 0) \

58 && (
°©e
 & 
PIPE_NOWAIT
) != 0) \

61 
î∫o
 = 
EAGAIN
; \

65 

	)

67 
	#CLEAR_ERRNO


	)

68 
	#HANDLE_ENOSPC


	)

71 #i‡
GNULIB_SIGPIPE


72 
	#CLEAR_La°Eº‹
 \

73 
	`SëLa°Eº‹
 (0);

	)

74 
	#HANDLE_ERROR_NO_DATA
 \

75 i‡(
	`GëLa°Eº‹
 (Ë=
ERROR_NO_DATA
 && 
	`„º‹
 (
°ªam
)) \

77 
fd
 = 
	`fûío
 (
°ªam
); \

78 i‡(
fd
 >= 0 \

79 && 
	`GëFûeTy≥
 ((
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
)) \

80 =
FILE_TYPE_PIPE
) \

83 
	`øi£
 (
SIGPIPE
); \

86 
î∫o
 = 
EPIPE
; \

89 

	)

91 
	#CLEAR_La°Eº‹


	)

92 
	#HANDLE_ERROR_NO_DATA


	)

95 
	#CALL_WITH_SIGPIPE_EMULATION
(
RETTYPE
, 
EXPRESSION
, 
FAILED
) \

96 i‡(
	`„º‹
 (
°ªam
)) \

97  (
EXPRESSION
); \

100 
RETTYPE
 
ªt
; \

101 
CLEAR_ERRNO
 \

102 
CLEAR_La°Eº‹
 \

103 
ªt
 = (
EXPRESSION
); \

104 i‡(
FAILED
) \

106 
HANDLE_ENOSPC
 \

107 
HANDLE_ERROR_NO_DATA
 \

110  
ªt
; \

111 }

	)

113 #i‡!
REPLACE_PRINTF_POSIX


115 
	$¥ötf
 (c⁄° *
f‹m©
, ...)

117 
ªtvÆ
;

118 
va_li°
 
¨gs
;

120 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

121 
ªtvÆ
 = 
	`vÂrötf
 (
°dout
, 
f‹m©
, 
¨gs
);

122 
	`va_íd
 (
¨gs
);

124  
ªtvÆ
;

125 
	}
}

128 #i‡!
REPLACE_FPRINTF_POSIX


130 
	$Ârötf
 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...)

132 
ªtvÆ
;

133 
va_li°
 
¨gs
;

135 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

136 
ªtvÆ
 = 
	`vÂrötf
 (
°ªam
, 
f‹m©
, 
¨gs
);

137 
	`va_íd
 (
¨gs
);

139  
ªtvÆ
;

140 
	}
}

143 #i‡!
REPLACE_VPRINTF_POSIX


145 
	$v¥ötf
 (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

147  
	`vÂrötf
 (
°dout
, 
f‹m©
, 
¨gs
);

148 
	}
}

151 #i‡!
REPLACE_VFPRINTF_POSIX


153 
	$vÂrötf
 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

154 #unde‡
vÂrötf


156 
	`CALL_WITH_SIGPIPE_EMULATION
 (, 
	`vÂrötf
 (
°ªam
, 
f‹m©
, 
¨gs
), 
ªt
 =
EOF
)

157 
	}
}

161 
	$putch¨
 (
c
)

163  
	`Âutc
 (
c
, 
°dout
);

164 
	}
}

167 
	$Âutc
 (
c
, 
FILE
 *
°ªam
)

168 #unde‡
Âutc


170 
	`CALL_WITH_SIGPIPE_EMULATION
 (, 
	`Âutc
 (
c
, 
°ªam
), 
ªt
 =
EOF
)

171 
	}
}

174 
	$Âuts
 (c⁄° *
°rög
, 
FILE
 *
°ªam
)

175 #unde‡
Âuts


177 
	`CALL_WITH_SIGPIPE_EMULATION
 (, 
	`Âuts
 (
°rög
, 
°ªam
), 
ªt
 =
EOF
)

178 
	}
}

181 
	$puts
 (c⁄° *
°rög
)

182 #unde‡
puts


184 
FILE
 *
°ªam
 = 
°dout
;

185 
	`CALL_WITH_SIGPIPE_EMULATION
 (, 
	`puts
 (
°rög
), 
ªt
 =
EOF
)

186 
	}
}

188 
size_t


189 
	$fwrôe
 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
)

190 #unde‡
fwrôe


192 
	`CALL_WITH_SIGPIPE_EMULATION
 (
size_t
, 
	`fwrôe
 (
±r
, 
s
, 
n
, 
°ªam
), 
ªt
 <Ç)

193 
	}
}

	@lib/stdio.h

22 #i‡
__GNUC__
 >= 3

23 #¥agm®
GCC
 
sy°em_hódî


27 #i‡
deföed
 
__√ed_FILE
 || deföed 
__√ed___FILE
 || deföed 
_GL_ALREADY_INCLUDING_STDIO_H


36 #ö˛ude_√xà<
°dio
.
h
>

41 #i‚de‡
_GL_STDIO_H


43 
	#_GL_ALREADY_INCLUDING_STDIO_H


	)

46 #ö˛ude_√xà<
°dio
.
h
>

48 #unde‡
_GL_ALREADY_INCLUDING_STDIO_H


50 #i‚de‡
_GL_STDIO_H


51 
	#_GL_STDIO_H


	)

54 
	~<°d¨g.h
>

56 
	~<°ddef.h
>

60 
	~<sys/ty≥s.h
>

68 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 7)

69 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë
	`__©åibuã__
 ((
__f‹m©__
 s≥c))

	)

71 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë

	)

78 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4)

79 
	#_GL_ATTRIBUTE_FORMAT_PRINTF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

80 
	`_GL_ATTRIBUTE_FORMAT
 ((
__gnu_¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

82 
	#_GL_ATTRIBUTE_FORMAT_PRINTF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

83 
	`_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

90 
	#_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

91 
	`_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

97 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4)

98 
	#_GL_ATTRIBUTE_FORMAT_SCANF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

99 
	`_GL_ATTRIBUTE_FORMAT
 ((
__gnu_sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

101 
	#_GL_ATTRIBUTE_FORMAT_SCANF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

102 
	`_GL_ATTRIBUTE_FORMAT
 ((
__sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

109 
	#_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

110 
	`_GL_ATTRIBUTE_FORMAT
 ((
__sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

114 #i‡(0 || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__sun
 \

115 && ! 
deföed
 
	g__GLIBC__


116 
	~<uni°d.h
>

121 #i‚de‡
_GL_CXXDEFS_H


122 
	#_GL_CXXDEFS_H


	)

185 #i‡
deföed
 
__˝lu•lus


186 
	#_GL_EXTERN_C
 "C"

	)

188 
	#_GL_EXTERN_C
 

	)

198 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

199 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

200 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

201 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

210 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

211 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

219 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

220 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

221 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


222 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

223 
«me•a˚
 
GNULIB_NAMESPACE
 \

225 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

227 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

229 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

230 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

238 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


239 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

240 
«me•a˚
 
GNULIB_NAMESPACE
 \

242 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

243 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

245 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

247 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

248 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

258 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


265 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

266 
«me•a˚
 
GNULIB_NAMESPACE
 \

268 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

270 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

272 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

273 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

281 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


282 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

283 
«me•a˚
 
GNULIB_NAMESPACE
 \

285 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

286 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

288 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

290 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

291 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

300 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


306 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

307 
«me•a˚
 
GNULIB_NAMESPACE
 \

309 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

310 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

311 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

313 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

315 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

316 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

323 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


324 
	#_GL_CXXALIASWARN
(
func
) \

325 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

326 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

327 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

330 #i‡!
__OPTIMIZE__


331 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

332 
	`_GL_WARN_ON_USE
 (
func
, \

334 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

335 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


336 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

337 
	`__ty≥of__
 (
func
Ë
	)
func

339 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

340 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

343 
	#_GL_CXXALIASWARN
(
func
) \

344 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

350 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


351 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

352 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

353 
GNULIB_NAMESPACE
)

	)

354 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

355 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

358 #i‡!
__OPTIMIZE__


359 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

360 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

362 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

363 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


364 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

365 
	`__ty≥of__
 (
func
Ë
	)
func

367 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

368 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

371 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

372 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

381 #i‚de‡
_GL_ARG_NONNULL


382 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

383 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

385 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

390 #i‚de‡
_GL_WARN_ON_USE


392 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

394 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

395 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

396 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


398 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

399 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

401 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

402 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

412 #i‚de‡
_GL_WARN_ON_USE_CXX


413 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

414 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

415 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

416 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

417 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


419 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

420 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

422 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

423 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

429 #i‚de‡
_GL_WARN_EXTERN_C


430 #i‡
deföed
 
__˝lu•lus


431 
	#_GL_WARN_EXTERN_C
 "C"

	)

433 
	#_GL_WARN_EXTERN_C
 

	)

438 
	#_GL_STDIO_STRINGIZE
(
tokí
Ë#tokí

	)

439 
	#_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
tokí
Ë
	`_GL_STDIO_STRINGIZE
—okí)

	)

444 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

445 
	#d¥ötf
 
Ωl_d¥ötf


	)

447 
_GL_FUNCDECL_RPL
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...)

448 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

449 
	`_GL_ARG_NONNULL
 ((2)));

450 
	`_GL_CXXALIAS_RPL
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...));

453 
	`_GL_FUNCDECL_SYS
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...)

454 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

455 
	`_GL_ARG_NONNULL
 ((2)));

457 
	`_GL_CXXALIAS_SYS
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...));

459 
	`_GL_CXXALIASWARN
 (
d¥ötf
);

460 #ñi‡
deföed
 
GNULIB_POSIXCHECK


461 #unde‡
d¥ötf


462 #i‡
HAVE_RAW_DECL_DPRINTF


463 
	`_GL_WARN_ON_USE
 (
d¥ötf
, "dprintf is unportable - "

471 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

472 
	#f˛o£
 
Ωl_f˛o£


	)

474 
	`_GL_FUNCDECL_RPL
 (
f˛o£
, , (
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

475 
	`_GL_CXXALIAS_RPL
 (
f˛o£
, , (
FILE
 *
°ªam
));

477 
	`_GL_CXXALIAS_SYS
 (
f˛o£
, , (
FILE
 *
°ªam
));

479 
	`_GL_CXXALIASWARN
 (
f˛o£
);

480 #ñi‡
deföed
 
GNULIB_POSIXCHECK


481 #unde‡
f˛o£


483 
	`_GL_WARN_ON_USE
 (
f˛o£
, "fclose isÇotálways POSIX compliant - "

495 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

496 
	#fÊush
 
Ωl_fÊush


	)

498 
	`_GL_FUNCDECL_RPL
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

499 
	`_GL_CXXALIAS_RPL
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

501 
	`_GL_CXXALIAS_SYS
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

503 
	`_GL_CXXALIASWARN
 (
fÊush
);

504 #ñi‡
deföed
 
GNULIB_POSIXCHECK


505 #unde‡
fÊush


507 
	`_GL_WARN_ON_USE
 (
fÊush
, "fflush isÇotálways POSIX compliant - "

513 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

514 #unde‡
fgëc


515 
	#fgëc
 
Ωl_fgëc


	)

517 
	`_GL_FUNCDECL_RPL
 (
fgëc
, , (
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

518 
	`_GL_CXXALIAS_RPL
 (
fgëc
, , (
FILE
 *
°ªam
));

520 
	`_GL_CXXALIAS_SYS
 (
fgëc
, , (
FILE
 *
°ªam
));

522 
	`_GL_CXXALIASWARN
 (
fgëc
);

527 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

528 #unde‡
fgës


529 
	#fgës
 
Ωl_fgës


	)

531 
	`_GL_FUNCDECL_RPL
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
)

532 
	`_GL_ARG_NONNULL
 ((1, 3)));

533 
	`_GL_CXXALIAS_RPL
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
));

535 
	`_GL_CXXALIAS_SYS
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
));

537 
	`_GL_CXXALIASWARN
 (
fgës
);

542 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

543 #unde‡
f›í


544 
	#f›í
 
Ωl_f›í


	)

546 
	`_GL_FUNCDECL_RPL
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
)

547 
	`_GL_ARG_NONNULL
 ((1, 2)));

548 
	`_GL_CXXALIAS_RPL
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
));

550 
	`_GL_CXXALIAS_SYS
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
));

552 
	`_GL_CXXALIASWARN
 (
f›í
);

553 #ñi‡
deföed
 
GNULIB_POSIXCHECK


554 #unde‡
f›í


556 
	`_GL_WARN_ON_USE
 (
f›í
, "fopen on Win32Ölatforms isÇot POSIX compatible - "

563 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

564 
	#Ârötf
 
Ωl_Ârötf


	)

566 
	#GNULIB_ovîrides_Ârötf
 1

	)

568 
	`_GL_FUNCDECL_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...)

569 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

570 
	`_GL_ARG_NONNULL
 ((1, 2)));

572 
	`_GL_FUNCDECL_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...)

573 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (2, 3)

574 
	`_GL_ARG_NONNULL
 ((1, 2)));

576 
	`_GL_CXXALIAS_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...));

578 
	`_GL_CXXALIAS_SYS
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...));

580 
	`_GL_CXXALIASWARN
 (
Ârötf
);

582 #i‡!0 && 
deföed
 
GNULIB_POSIXCHECK


583 #i‡!
GNULIB_ovîrides_Ârötf


584 #unde‡
Ârötf


587 
	`_GL_WARN_ON_USE
 (
Ârötf
, "fprintf isÇotálways POSIX compliant - "

600 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

601 
	#Âurge
 
Ωl_Âurge


	)

603 
	`_GL_FUNCDECL_RPL
 (
Âurge
, , (
FILE
 *
gl_°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

604 
	`_GL_CXXALIAS_RPL
 (
Âurge
, , (
FILE
 *
gl_°ªam
));

607 
	`_GL_FUNCDECL_SYS
 (
Âurge
, , (
FILE
 *
gl_°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

609 
	`_GL_CXXALIAS_SYS
 (
Âurge
, , (
FILE
 *
gl_°ªam
));

611 
	`_GL_CXXALIASWARN
 (
Âurge
);

612 #ñi‡
deföed
 
GNULIB_POSIXCHECK


613 #unde‡
Âurge


614 #i‡
HAVE_RAW_DECL_FPURGE


615 
	`_GL_WARN_ON_USE
 (
Âurge
, "fpurge isÇotálwaysÖresent - "

622 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

623 #unde‡
Âutc


624 
	#Âutc
 
Ωl_Âutc


	)

626 
	`_GL_FUNCDECL_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((2)));

627 
	`_GL_CXXALIAS_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
));

629 
	`_GL_CXXALIAS_SYS
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
));

631 
	`_GL_CXXALIASWARN
 (
Âutc
);

636 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

637 #unde‡
Âuts


638 
	#Âuts
 
Ωl_Âuts


	)

640 
	`_GL_FUNCDECL_RPL
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
)

641 
	`_GL_ARG_NONNULL
 ((1, 2)));

642 
	`_GL_CXXALIAS_RPL
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
));

644 
	`_GL_CXXALIAS_SYS
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
));

646 
	`_GL_CXXALIASWARN
 (
Âuts
);

651 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

652 #unde‡
‰ód


653 
	#‰ód
 
Ωl_‰ód


	)

655 
	`_GL_FUNCDECL_RPL
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
)

656 
	`_GL_ARG_NONNULL
 ((4)));

657 
	`_GL_CXXALIAS_RPL
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
));

659 
	`_GL_CXXALIAS_SYS
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
));

661 
	`_GL_CXXALIASWARN
 (
‰ód
);

666 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

667 #unde‡
‰e›í


668 
	#‰e›í
 
Ωl_‰e›í


	)

670 
	`_GL_FUNCDECL_RPL
 (
‰e›í
, 
FILE
 *,

671 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
)

672 
	`_GL_ARG_NONNULL
 ((2, 3)));

673 
	`_GL_CXXALIAS_RPL
 (
‰e›í
, 
FILE
 *,

674 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
));

676 
	`_GL_CXXALIAS_SYS
 (
‰e›í
, 
FILE
 *,

677 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
));

679 
	`_GL_CXXALIASWARN
 (
‰e›í
);

680 #ñi‡
deföed
 
GNULIB_POSIXCHECK


681 #unde‡
‰e›í


683 
	`_GL_WARN_ON_USE
 (
‰e›í
,

690 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

691 #unde‡
fsˇnf


692 
	#fsˇnf
 
Ωl_fsˇnf


	)

694 
	`_GL_FUNCDECL_RPL
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...)

695 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (2, 3)

696 
	`_GL_ARG_NONNULL
 ((1, 2)));

697 
	`_GL_CXXALIAS_RPL
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...));

699 
	`_GL_CXXALIAS_SYS
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...));

701 
	`_GL_CXXALIASWARN
 (
fsˇnf
);

737 #i‡
deföed
 
GNULIB_POSIXCHECK
 && !deföed 
_GL_NO_LARGE_FILES


738 
	#_GL_FSEEK_WARN


	)

739 #unde‡
f£ek


742 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

743 #unde‡
f£ek


744 
	#f£ek
 
Ωl_f£ek


	)

746 
	`_GL_FUNCDECL_RPL
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
)

747 
	`_GL_ARG_NONNULL
 ((1)));

748 
	`_GL_CXXALIAS_RPL
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
));

750 
	`_GL_CXXALIAS_SYS
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
));

752 
	`_GL_CXXALIASWARN
 (
f£ek
);

756 #i‡!1 && !
deföed
 
_GL_NO_LARGE_FILES


757 
	#_GL_FSEEK_WARN


	)

758 #unde‡
f£ek


763 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

764 #unde‡
f£eko


765 
	#f£eko
 
Ωl_f£eko


	)

767 
	`_GL_FUNCDECL_RPL
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
)

768 
	`_GL_ARG_NONNULL
 ((1)));

769 
	`_GL_CXXALIAS_RPL
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
));

772 
	`_GL_FUNCDECL_SYS
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
)

773 
	`_GL_ARG_NONNULL
 ((1)));

775 
	`_GL_CXXALIAS_SYS
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
));

777 
	`_GL_CXXALIASWARN
 (
f£eko
);

778 #ñi‡
deföed
 
GNULIB_POSIXCHECK


779 
	#_GL_FSEEK_WARN


	)

780 #unde‡
f£ek


781 #unde‡
f£eko


782 #i‡
HAVE_RAW_DECL_FSEEKO


783 
	`_GL_WARN_ON_USE
 (
f£eko
, "fseeko is unportable - "

788 #ifde‡
_GL_FSEEK_WARN


789 #unde‡
_GL_FSEEK_WARN


792 
	`_GL_WARN_ON_USE
 (
f£ek
, "fseek cannot handle filesÜargerÅhan 4 GB "

801 #i‡
deföed
 
GNULIB_POSIXCHECK
 && !deföed 
_GL_NO_LARGE_FILES


802 
	#_GL_FTELL_WARN


	)

803 #unde‡
·ñl


806 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

807 #unde‡
·ñl


808 
	#·ñl
 
Ωl_·ñl


	)

810 
	`_GL_FUNCDECL_RPL
 (
·ñl
, , (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

811 
	`_GL_CXXALIAS_RPL
 (
·ñl
, , (
FILE
 *
Â
));

813 
	`_GL_CXXALIAS_SYS
 (
·ñl
, , (
FILE
 *
Â
));

815 
	`_GL_CXXALIASWARN
 (
·ñl
);

819 #i‡!0 && !
deföed
 
_GL_NO_LARGE_FILES


820 
	#_GL_FTELL_WARN


	)

821 #unde‡
·ñl


824 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

825 #unde‡
·ñlo


826 
	#·ñlo
 
Ωl_·ñlo


	)

828 
	`_GL_FUNCDECL_RPL
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

829 
	`_GL_CXXALIAS_RPL
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
));

832 
	`_GL_FUNCDECL_SYS
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

834 
	`_GL_CXXALIAS_SYS
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
));

836 
	`_GL_CXXALIASWARN
 (
·ñlo
);

837 #ñi‡
deföed
 
GNULIB_POSIXCHECK


838 
	#_GL_FTELL_WARN


	)

839 #unde‡
·ñl


840 #unde‡
·ñlo


841 #i‡
HAVE_RAW_DECL_FTELLO


842 
	`_GL_WARN_ON_USE
 (
·ñlo
, "ftello is unportable - "

847 #ifde‡
_GL_FTELL_WARN


848 #unde‡
_GL_FTELL_WARN


851 
	`_GL_WARN_ON_USE
 (
·ñl
, "ftell cannot handle filesÜargerÅhan 4 GB "

859 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

860 #unde‡
fwrôe


861 
	#fwrôe
 
Ωl_fwrôe


	)

863 
	`_GL_FUNCDECL_RPL
 (
fwrôe
, 
size_t
,

864 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
)

865 
	`_GL_ARG_NONNULL
 ((1, 4)));

866 
	`_GL_CXXALIAS_RPL
 (
fwrôe
, 
size_t
,

867 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
));

869 
	`_GL_CXXALIAS_SYS
 (
fwrôe
, 
size_t
,

870 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
));

877 #i‡!
deföed
 
__˝lu•lus
 && 0 < 
__USE_FORTIFY_LEVEL


878 
ölöe
 
size_t
 
	`_GL_ARG_NONNULL
 ((1, 4))

879 
	$Ωl_fwrôe
 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
)

881 
size_t
 
r
 = 
	`fwrôe
 (
±r
, 
s
, 
n
, 
°ªam
);

882 (Ë
r
;

883  
r
;

884 
	}
}

885 #unde‡
fwrôe


886 
	#fwrôe
 
Ωl_fwrôe


	)

889 
_GL_CXXALIASWARN
 (
fwrôe
);

894 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

895 #unde‡
gëc


896 
	#gëc
 
Ωl_fgëc


	)

898 
_GL_FUNCDECL_RPL
 (
fgëc
, , (
FILE
 *
°ªam
Ë
_GL_ARG_NONNULL
 ((1)));

899 
_GL_CXXALIAS_RPL_1
 (
gëc
, 
Ωl_fgëc
, , (
FILE
 *
°ªam
));

901 
_GL_CXXALIAS_SYS
 (
gëc
, , (
FILE
 *
°ªam
));

903 
_GL_CXXALIASWARN
 (
gëc
);

908 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

909 #unde‡
gëch¨


910 
	#gëch¨
 
Ωl_gëch¨


	)

912 
_GL_FUNCDECL_RPL
 (
gëch¨
, , ());

913 
_GL_CXXALIAS_RPL
 (
gëch¨
, , ());

915 
_GL_CXXALIAS_SYS
 (
gëch¨
, , ());

917 
_GL_CXXALIASWARN
 (
gëch¨
);

928 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

929 #unde‡
gëdñim


930 
	#gëdñim
 
Ωl_gëdñim


	)

932 
_GL_FUNCDECL_RPL
 (
gëdñim
, 
ssize_t
,

933 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

934 
FILE
 *
°ªam
)

935 
_GL_ARG_NONNULL
 ((1, 2, 4)));

936 
_GL_CXXALIAS_RPL
 (
gëdñim
, 
ssize_t
,

937 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

938 
FILE
 *
°ªam
));

941 
_GL_FUNCDECL_SYS
 (
gëdñim
, 
ssize_t
,

942 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

943 
FILE
 *
°ªam
)

944 
_GL_ARG_NONNULL
 ((1, 2, 4)));

946 
_GL_CXXALIAS_SYS
 (
gëdñim
, 
ssize_t
,

947 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

948 
FILE
 *
°ªam
));

950 
_GL_CXXALIASWARN
 (
gëdñim
);

951 #ñi‡
deföed
 
GNULIB_POSIXCHECK


952 #unde‡
gëdñim


953 #i‡
HAVE_RAW_DECL_GETDELIM


954 
_GL_WARN_ON_USE
 (
gëdñim
, "getdelim is unportable - "

967 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

968 #unde‡
gëlöe


969 
	#gëlöe
 
Ωl_gëlöe


	)

971 
_GL_FUNCDECL_RPL
 (
gëlöe
, 
ssize_t
,

972 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
)

973 
_GL_ARG_NONNULL
 ((1, 2, 3)));

974 
_GL_CXXALIAS_RPL
 (
gëlöe
, 
ssize_t
,

975 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
));

978 
_GL_FUNCDECL_SYS
 (
gëlöe
, 
ssize_t
,

979 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
)

980 
_GL_ARG_NONNULL
 ((1, 2, 3)));

982 
_GL_CXXALIAS_SYS
 (
gëlöe
, 
ssize_t
,

983 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
));

986 
_GL_CXXALIASWARN
 (
gëlöe
);

988 #ñi‡
deföed
 
GNULIB_POSIXCHECK


989 #unde‡
gëlöe


990 #i‡
HAVE_RAW_DECL_GETLINE


991 
_GL_WARN_ON_USE
 (
gëlöe
, "getline is unportable - "

998 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

999 #unde‡
gës


1000 
	#gës
 
Ωl_gës


	)

1002 
_GL_FUNCDECL_RPL
 (
gës
, *, (*
s
Ë
_GL_ARG_NONNULL
 ((1)));

1003 
_GL_CXXALIAS_RPL
 (
gës
, *, (*
s
));

1005 
_GL_CXXALIAS_SYS
 (
gës
, *, (*
s
));

1006 #unde‡
gës


1008 
_GL_CXXALIASWARN
 (
gës
);

1012 
_GL_WARN_ON_USE
 (
gës
, "gets isá security hole - use fgets instead");

1017 
	gob°ack
;

1024 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1025 
	#ob°ack_¥ötf
 
Ωl_ob°ack_¥ötf


	)

1027 
_GL_FUNCDECL_RPL
 (
ob°ack_¥ötf
, ,

1028 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...)

1029 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1030 
	`_GL_ARG_NONNULL
 ((1, 2)));

1031 
	`_GL_CXXALIAS_RPL
 (
ob°ack_¥ötf
, ,

1032 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...));

1035 
	`_GL_FUNCDECL_SYS
 (
ob°ack_¥ötf
, ,

1036 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...)

1037 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1038 
	`_GL_ARG_NONNULL
 ((1, 2)));

1040 
	`_GL_CXXALIAS_SYS
 (
ob°ack_¥ötf
, ,

1041 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...));

1043 
	`_GL_CXXALIASWARN
 (
ob°ack_¥ötf
);

1045 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1046 
	#ob°ack_v¥ötf
 
Ωl_ob°ack_v¥ötf


	)

1048 
	`_GL_FUNCDECL_RPL
 (
ob°ack_v¥ötf
, ,

1049 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1050 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1051 
	`_GL_ARG_NONNULL
 ((1, 2)));

1052 
	`_GL_CXXALIAS_RPL
 (
ob°ack_v¥ötf
, ,

1053 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1056 
	`_GL_FUNCDECL_SYS
 (
ob°ack_v¥ötf
, ,

1057 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1058 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1059 
	`_GL_ARG_NONNULL
 ((1, 2)));

1061 
	`_GL_CXXALIAS_SYS
 (
ob°ack_v¥ötf
, ,

1062 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1064 
	`_GL_CXXALIASWARN
 (
ob°ack_v¥ötf
);

1072 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1073 
	#≥º‹
 
Ωl_≥º‹


	)

1075 
	`_GL_FUNCDECL_RPL
 (
≥º‹
, , (c⁄° *
°rög
));

1076 
	`_GL_CXXALIAS_RPL
 (
≥º‹
, , (c⁄° *
°rög
));

1078 
	`_GL_CXXALIAS_SYS
 (
≥º‹
, , (c⁄° *
°rög
));

1080 
	`_GL_CXXALIASWARN
 (
≥º‹
);

1081 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1082 #unde‡
≥º‹


1084 
	`_GL_WARN_ON_USE
 (
≥º‹
, "perror isÇotálways POSIX compliant - "

1090 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1091 #unde‡
p›í


1092 
	#p›í
 
Ωl_p›í


	)

1094 
	`_GL_FUNCDECL_RPL
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
)

1095 
	`_GL_ARG_NONNULL
 ((1, 2)));

1096 
	`_GL_CXXALIAS_RPL
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
));

1098 
	`_GL_CXXALIAS_SYS
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
));

1100 
	`_GL_CXXALIASWARN
 (
p›í
);

1101 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1102 #unde‡
p›í


1103 #i‡
HAVE_RAW_DECL_POPEN


1104 
	`_GL_WARN_ON_USE
 (
p›í
, "popen is buggy on someÖlatforms - "

1112 #i‡
deföed
 
__GNUC__


1113 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1115 
	#¥ötf
 
__¥ötf__


	)

1118 
	`_GL_FUNCDECL_RPL_1
 (
__¥ötf__
, ,

1119 (c⁄° *
f‹m©
, ...)

1120 
	`__asm__
 (""

1121 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_¥ötf
))

1122 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 2)

1123 
	`_GL_ARG_NONNULL
 ((1)));

1125 
	`_GL_FUNCDECL_RPL_1
 (
__¥ötf__
, ,

1126 (c⁄° *
f‹m©
, ...)

1127 
	`__asm__
 (""

1128 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_¥ötf
))

1129 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (1, 2)

1130 
	`_GL_ARG_NONNULL
 ((1)));

1132 
	`_GL_CXXALIAS_RPL_1
 (
¥ötf
, 
__¥ötf__
, , (c⁄° *
f‹m©
, ...));

1134 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1135 
	#¥ötf
 
Ωl_¥ötf


	)

1137 
	`_GL_FUNCDECL_RPL
 (
¥ötf
, ,

1138 (c⁄° *
f‹m©
, ...)

1139 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 2)

1140 
	`_GL_ARG_NONNULL
 ((1)));

1141 
	`_GL_CXXALIAS_RPL
 (
¥ötf
, , (c⁄° *
f‹m©
, ...));

1143 
	#GNULIB_ovîrides_¥ötf
 1

	)

1145 
	`_GL_CXXALIAS_SYS
 (
¥ötf
, , (c⁄° *
f‹m©
, ...));

1147 
	`_GL_CXXALIASWARN
 (
¥ötf
);

1149 #i‡!0 && 
deföed
 
GNULIB_POSIXCHECK


1150 #i‡!
GNULIB_ovîrides_¥ötf


1151 #unde‡
¥ötf


1154 
	`_GL_WARN_ON_USE
 (
¥ötf
, "printf isÇotálways POSIX compliant - "

1161 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1162 #unde‡
putc


1163 
	#putc
 
Ωl_Âutc


	)

1165 
	`_GL_FUNCDECL_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((2)));

1166 
	`_GL_CXXALIAS_RPL_1
 (
putc
, 
Ωl_Âutc
, , (
c
, 
FILE
 *
°ªam
));

1168 
	`_GL_CXXALIAS_SYS
 (
putc
, , (
c
, 
FILE
 *
°ªam
));

1170 
	`_GL_CXXALIASWARN
 (
putc
);

1175 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1176 #unde‡
putch¨


1177 
	#putch¨
 
Ωl_putch¨


	)

1179 
	`_GL_FUNCDECL_RPL
 (
putch¨
, , (
c
));

1180 
	`_GL_CXXALIAS_RPL
 (
putch¨
, , (
c
));

1182 
	`_GL_CXXALIAS_SYS
 (
putch¨
, , (
c
));

1184 
	`_GL_CXXALIASWARN
 (
putch¨
);

1189 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1190 #unde‡
puts


1191 
	#puts
 
Ωl_puts


	)

1193 
	`_GL_FUNCDECL_RPL
 (
puts
, , (c⁄° *
°rög
Ë
	`_GL_ARG_NONNULL
 ((1)));

1194 
	`_GL_CXXALIAS_RPL
 (
puts
, , (c⁄° *
°rög
));

1196 
	`_GL_CXXALIAS_SYS
 (
puts
, , (c⁄° *
°rög
));

1198 
	`_GL_CXXALIASWARN
 (
puts
);

1203 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1204 #unde‡
ªmove


1205 
	#ªmove
 
Ωl_ªmove


	)

1207 
	`_GL_FUNCDECL_RPL
 (
ªmove
, , (c⁄° *
«me
Ë
	`_GL_ARG_NONNULL
 ((1)));

1208 
	`_GL_CXXALIAS_RPL
 (
ªmove
, , (c⁄° *
«me
));

1210 
	`_GL_CXXALIAS_SYS
 (
ªmove
, , (c⁄° *
«me
));

1212 
	`_GL_CXXALIASWARN
 (
ªmove
);

1213 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1214 #unde‡
ªmove


1216 
	`_GL_WARN_ON_USE
 (
ªmove
, "remove cannot handle directories on someÖlatforms - "

1222 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1223 #unde‡
ª«me


1224 
	#ª«me
 
Ωl_ª«me


	)

1226 
	`_GL_FUNCDECL_RPL
 (
ª«me
, ,

1227 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
)

1228 
	`_GL_ARG_NONNULL
 ((1, 2)));

1229 
	`_GL_CXXALIAS_RPL
 (
ª«me
, ,

1230 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
));

1232 
	`_GL_CXXALIAS_SYS
 (
ª«me
, ,

1233 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
));

1235 
	`_GL_CXXALIASWARN
 (
ª«me
);

1236 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1237 #unde‡
ª«me


1239 
	`_GL_WARN_ON_USE
 (
ª«me
, "rename is buggy on someÖlatforms - "

1245 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1246 #unde‡
ª«mót


1247 
	#ª«mót
 
Ωl_ª«mót


	)

1249 
	`_GL_FUNCDECL_RPL
 (
ª«mót
, ,

1250 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
)

1251 
	`_GL_ARG_NONNULL
 ((2, 4)));

1252 
	`_GL_CXXALIAS_RPL
 (
ª«mót
, ,

1253 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
));

1256 
	`_GL_FUNCDECL_SYS
 (
ª«mót
, ,

1257 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
)

1258 
	`_GL_ARG_NONNULL
 ((2, 4)));

1260 
	`_GL_CXXALIAS_SYS
 (
ª«mót
, ,

1261 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
));

1263 
	`_GL_CXXALIASWARN
 (
ª«mót
);

1264 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1265 #unde‡
ª«mót


1266 #i‡
HAVE_RAW_DECL_RENAMEAT


1267 
	`_GL_WARN_ON_USE
 (
ª«mót
, "renameat isÇotÖortable - "

1274 #i‡
deföed
 
__GNUC__


1275 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1276 #unde‡
sˇnf


1278 
	#sˇnf
 
__sˇnf__


	)

1280 
	`_GL_FUNCDECL_RPL_1
 (
__sˇnf__
, ,

1281 (c⁄° *
f‹m©
, ...)

1282 
	`__asm__
 (""

1283 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_sˇnf
))

1284 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 2)

1285 
	`_GL_ARG_NONNULL
 ((1)));

1286 
	`_GL_CXXALIAS_RPL_1
 (
sˇnf
, 
__sˇnf__
, , (c⁄° *
f‹m©
, ...));

1288 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1289 #unde‡
sˇnf


1290 
	#sˇnf
 
Ωl_sˇnf


	)

1292 
	`_GL_FUNCDECL_RPL
 (
sˇnf
, , (c⁄° *
f‹m©
, ...)

1293 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 2)

1294 
	`_GL_ARG_NONNULL
 ((1)));

1295 
	`_GL_CXXALIAS_RPL
 (
sˇnf
, , (c⁄° *
f‹m©
, ...));

1298 
	`_GL_CXXALIAS_SYS
 (
sˇnf
, , (c⁄° *
f‹m©
, ...));

1300 
	`_GL_CXXALIASWARN
 (
sˇnf
);

1305 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1306 
	#¢¥ötf
 
Ωl_¢¥ötf


	)

1308 
	`_GL_FUNCDECL_RPL
 (
¢¥ötf
, ,

1309 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...)

1310 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 4)

1311 
	`_GL_ARG_NONNULL
 ((3)));

1312 
	`_GL_CXXALIAS_RPL
 (
¢¥ötf
, ,

1313 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...));

1316 
	`_GL_FUNCDECL_SYS
 (
¢¥ötf
, ,

1317 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...)

1318 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 4)

1319 
	`_GL_ARG_NONNULL
 ((3)));

1321 
	`_GL_CXXALIAS_SYS
 (
¢¥ötf
, ,

1322 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...));

1324 
	`_GL_CXXALIASWARN
 (
¢¥ötf
);

1325 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1326 #unde‡
¢¥ötf


1327 #i‡
HAVE_RAW_DECL_SNPRINTF


1328 
	`_GL_WARN_ON_USE
 (
¢¥ötf
, "snprintf is unportable - "

1344 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1345 
	#•rötf
 
Ωl_•rötf


	)

1347 
	`_GL_FUNCDECL_RPL
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...)

1348 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1349 
	`_GL_ARG_NONNULL
 ((1, 2)));

1350 
	`_GL_CXXALIAS_RPL
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...));

1352 
	`_GL_CXXALIAS_SYS
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...));

1354 
	`_GL_CXXALIASWARN
 (
•rötf
);

1355 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1356 #unde‡
•rötf


1358 
	`_GL_WARN_ON_USE
 (
•rötf
, "sprintf isÇotálways POSIX compliant - "

1365 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1366 
	#tmpfûe
 
Ωl_tmpfûe


	)

1368 
	`_GL_FUNCDECL_RPL
 (
tmpfûe
, 
FILE
 *, ());

1369 
	`_GL_CXXALIAS_RPL
 (
tmpfûe
, 
FILE
 *, ());

1371 
	`_GL_CXXALIAS_SYS
 (
tmpfûe
, 
FILE
 *, ());

1373 
	`_GL_CXXALIASWARN
 (
tmpfûe
);

1374 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1375 #unde‡
tmpfûe


1376 #i‡
HAVE_RAW_DECL_TMPFILE


1377 
	`_GL_WARN_ON_USE
 (
tmpfûe
, "tmpfile isÇot usable on mingw - "

1388 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1389 
	#a•rötf
 
Ωl_a•rötf


	)

1391 
	`_GL_FUNCDECL_RPL
 (
a•rötf
, ,

1392 (**
ªsu…
, c⁄° *
f‹m©
, ...)

1393 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1394 
	`_GL_ARG_NONNULL
 ((1, 2)));

1395 
	`_GL_CXXALIAS_RPL
 (
a•rötf
, ,

1396 (**
ªsu…
, c⁄° *
f‹m©
, ...));

1399 
	`_GL_FUNCDECL_SYS
 (
a•rötf
, ,

1400 (**
ªsu…
, c⁄° *
f‹m©
, ...)

1401 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1402 
	`_GL_ARG_NONNULL
 ((1, 2)));

1404 
	`_GL_CXXALIAS_SYS
 (
a•rötf
, ,

1405 (**
ªsu…
, c⁄° *
f‹m©
, ...));

1407 
	`_GL_CXXALIASWARN
 (
a•rötf
);

1409 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1410 
	#va•rötf
 
Ωl_va•rötf


	)

1412 
	`_GL_FUNCDECL_RPL
 (
va•rötf
, ,

1413 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1414 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1415 
	`_GL_ARG_NONNULL
 ((1, 2)));

1416 
	`_GL_CXXALIAS_RPL
 (
va•rötf
, ,

1417 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1420 
	`_GL_FUNCDECL_SYS
 (
va•rötf
, ,

1421 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1422 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1423 
	`_GL_ARG_NONNULL
 ((1, 2)));

1425 
	`_GL_CXXALIAS_SYS
 (
va•rötf
, ,

1426 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1428 
	`_GL_CXXALIASWARN
 (
va•rötf
);

1433 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1434 
	#vd¥ötf
 
Ωl_vd¥ötf


	)

1436 
	`_GL_FUNCDECL_RPL
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1437 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1438 
	`_GL_ARG_NONNULL
 ((2)));

1439 
	`_GL_CXXALIAS_RPL
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1442 
	`_GL_FUNCDECL_SYS
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1443 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1444 
	`_GL_ARG_NONNULL
 ((2)));

1448 
	`_GL_CXXALIAS_SYS_CAST
 (
vd¥ötf
, ,

1449 (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1451 
	`_GL_CXXALIASWARN
 (
vd¥ötf
);

1452 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1453 #unde‡
vd¥ötf


1454 #i‡
HAVE_RAW_DECL_VDPRINTF


1455 
	`_GL_WARN_ON_USE
 (
vd¥ötf
, "vdprintf is unportable - "

1463 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1464 
	#vÂrötf
 
Ωl_vÂrötf


	)

1466 
	#GNULIB_ovîrides_vÂrötf
 1

	)

1468 
	`_GL_FUNCDECL_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1469 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1470 
	`_GL_ARG_NONNULL
 ((1, 2)));

1472 
	`_GL_FUNCDECL_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1473 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (2, 0)

1474 
	`_GL_ARG_NONNULL
 ((1, 2)));

1476 
	`_GL_CXXALIAS_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1481 
	`_GL_CXXALIAS_SYS_CAST
 (
vÂrötf
, ,

1482 (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1484 
	`_GL_CXXALIASWARN
 (
vÂrötf
);

1486 #i‡!0 && 
deföed
 
GNULIB_POSIXCHECK


1487 #i‡!
GNULIB_ovîrides_vÂrötf


1488 #unde‡
vÂrötf


1491 
	`_GL_WARN_ON_USE
 (
vÂrötf
, "vfprintf isÇotálways POSIX compliant - "

1498 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1499 #unde‡
vfsˇnf


1500 
	#vfsˇnf
 
Ωl_vfsˇnf


	)

1502 
	`_GL_FUNCDECL_RPL
 (
vfsˇnf
, ,

1503 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1504 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (2, 0)

1505 
	`_GL_ARG_NONNULL
 ((1, 2)));

1506 
	`_GL_CXXALIAS_RPL
 (
vfsˇnf
, ,

1507 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1509 
	`_GL_CXXALIAS_SYS
 (
vfsˇnf
, ,

1510 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1512 
	`_GL_CXXALIASWARN
 (
vfsˇnf
);

1518 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1519 
	#v¥ötf
 
Ωl_v¥ötf


	)

1521 
	#GNULIB_ovîrides_v¥ötf
 1

	)

1523 
	`_GL_FUNCDECL_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1524 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 0)

1525 
	`_GL_ARG_NONNULL
 ((1)));

1527 
	`_GL_FUNCDECL_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1528 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (1, 0)

1529 
	`_GL_ARG_NONNULL
 ((1)));

1531 
	`_GL_CXXALIAS_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1536 
	`_GL_CXXALIAS_SYS_CAST
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1538 
	`_GL_CXXALIASWARN
 (
v¥ötf
);

1540 #i‡!0 && 
deföed
 
GNULIB_POSIXCHECK


1541 #i‡!
GNULIB_ovîrides_v¥ötf


1542 #unde‡
v¥ötf


1545 
	`_GL_WARN_ON_USE
 (
v¥ötf
, "vprintf isÇotálways POSIX compliant - "

1552 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1553 #unde‡
vsˇnf


1554 
	#vsˇnf
 
Ωl_vsˇnf


	)

1556 
	`_GL_FUNCDECL_RPL
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1557 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 0)

1558 
	`_GL_ARG_NONNULL
 ((1)));

1559 
	`_GL_CXXALIAS_RPL
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1561 
	`_GL_CXXALIAS_SYS
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1563 
	`_GL_CXXALIASWARN
 (
vsˇnf
);

1568 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1569 
	#v¢¥ötf
 
Ωl_v¢¥ötf


	)

1571 
	`_GL_FUNCDECL_RPL
 (
v¢¥ötf
, ,

1572 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1573 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 0)

1574 
	`_GL_ARG_NONNULL
 ((3)));

1575 
	`_GL_CXXALIAS_RPL
 (
v¢¥ötf
, ,

1576 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1579 
	`_GL_FUNCDECL_SYS
 (
v¢¥ötf
, ,

1580 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1581 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 0)

1582 
	`_GL_ARG_NONNULL
 ((3)));

1584 
	`_GL_CXXALIAS_SYS
 (
v¢¥ötf
, ,

1585 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1587 
	`_GL_CXXALIASWARN
 (
v¢¥ötf
);

1588 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1589 #unde‡
v¢¥ötf


1590 #i‡
HAVE_RAW_DECL_VSNPRINTF


1591 
	`_GL_WARN_ON_USE
 (
v¢¥ötf
, "vsnprintf is unportable - "

1598 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1599 
	#v•rötf
 
Ωl_v•rötf


	)

1601 
	`_GL_FUNCDECL_RPL
 (
v•rötf
, ,

1602 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1603 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1604 
	`_GL_ARG_NONNULL
 ((1, 2)));

1605 
	`_GL_CXXALIAS_RPL
 (
v•rötf
, ,

1606 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1611 
	`_GL_CXXALIAS_SYS_CAST
 (
v•rötf
, ,

1612 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1614 
	`_GL_CXXALIASWARN
 (
v•rötf
);

1615 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1616 #unde‡
v•rötf


1618 
	`_GL_WARN_ON_USE
 (
v•rötf
, "vsprintf isÇotálways POSIX compliant - "

	@lib/stdio.in.h

21 #i‡
__GNUC__
 >= 3

22 @
	gPRAGMA_SYSTEM_HEADER
@

24 @
	gPRAGMA_COLUMNS
@

26 #i‡
deföed
 
__√ed_FILE
 || deföed 
__√ed___FILE
 || deföed 
_GL_ALREADY_INCLUDING_STDIO_H


35 #@
INCLUDE_NEXT
@ @
NEXT_STDIO_H
@

40 #i‚de‡
_
@
GUARD_PREFIX
@
_STDIO_H


42 
	#_GL_ALREADY_INCLUDING_STDIO_H


	)

45 #@
INCLUDE_NEXT
@ @
NEXT_STDIO_H
@

47 #unde‡
_GL_ALREADY_INCLUDING_STDIO_H


49 #i‚de‡
_
@
GUARD_PREFIX
@
_STDIO_H


50 
	#_
@
GUARD_PREFIX
@
_STDIO_H


	)

53 
	~<°d¨g.h
>

55 
	~<°ddef.h
>

59 
	~<sys/ty≥s.h
>

67 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 7)

68 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë
	`__©åibuã__
 ((
__f‹m©__
 s≥c))

	)

70 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë

	)

77 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4)

78 
	#_GL_ATTRIBUTE_FORMAT_PRINTF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

79 
	`_GL_ATTRIBUTE_FORMAT
 ((
__gnu_¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

81 
	#_GL_ATTRIBUTE_FORMAT_PRINTF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

82 
	`_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

89 
	#_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

90 
	`_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

96 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4)

97 
	#_GL_ATTRIBUTE_FORMAT_SCANF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

98 
	`_GL_ATTRIBUTE_FORMAT
 ((
__gnu_sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

100 
	#_GL_ATTRIBUTE_FORMAT_SCANF
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

101 
	`_GL_ATTRIBUTE_FORMAT
 ((
__sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

108 
	#_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
(
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
) \

109 
	`_GL_ATTRIBUTE_FORMAT
 ((
__sˇnf__
, 
f‹m©°rög_∑ømëî
, 
fú°_¨gumít
))

	)

113 #i‡(@
GNULIB_RENAMEAT
@ || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__sun
 \

114 && ! 
deföed
 
	g__GLIBC__


115 
	~<uni°d.h
>

126 
	#_GL_STDIO_STRINGIZE
(
tokí
Ë#tokí

	)

127 
	#_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
tokí
Ë
	`_GL_STDIO_STRINGIZE
—okí)

	)

130 #i‡@
GNULIB_DPRINTF
@

131 #i‡@
REPLACE_DPRINTF
@

132 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

133 
	#d¥ötf
 
Ωl_d¥ötf


	)

135 
_GL_FUNCDECL_RPL
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...)

136 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

137 
	`_GL_ARG_NONNULL
 ((2)));

138 
	`_GL_CXXALIAS_RPL
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...));

140 #i‡!@
HAVE_DPRINTF
@

141 
	`_GL_FUNCDECL_SYS
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...)

142 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

143 
	`_GL_ARG_NONNULL
 ((2)));

145 
	`_GL_CXXALIAS_SYS
 (
d¥ötf
, , (
fd
, c⁄° *
f‹m©
, ...));

147 
	`_GL_CXXALIASWARN
 (
d¥ötf
);

148 #ñi‡
deföed
 
GNULIB_POSIXCHECK


149 #unde‡
d¥ötf


150 #i‡
HAVE_RAW_DECL_DPRINTF


151 
	`_GL_WARN_ON_USE
 (
d¥ötf
, "dprintf is unportable - "

156 #i‡@
GNULIB_FCLOSE
@

158 #i‡@
REPLACE_FCLOSE
@

159 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

160 
	#f˛o£
 
Ωl_f˛o£


	)

162 
	`_GL_FUNCDECL_RPL
 (
f˛o£
, , (
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

163 
	`_GL_CXXALIAS_RPL
 (
f˛o£
, , (
FILE
 *
°ªam
));

165 
	`_GL_CXXALIAS_SYS
 (
f˛o£
, , (
FILE
 *
°ªam
));

167 
	`_GL_CXXALIASWARN
 (
f˛o£
);

168 #ñi‡
deföed
 
GNULIB_POSIXCHECK


169 #unde‡
f˛o£


171 
	`_GL_WARN_ON_USE
 (
f˛o£
, "fclose isÇotálways POSIX compliant - "

175 #i‡@
GNULIB_FFLUSH
@

182 #i‡@
REPLACE_FFLUSH
@

183 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

184 
	#fÊush
 
Ωl_fÊush


	)

186 
	`_GL_FUNCDECL_RPL
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

187 
	`_GL_CXXALIAS_RPL
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

189 
	`_GL_CXXALIAS_SYS
 (
fÊush
, , (
FILE
 *
gl_°ªam
));

191 
	`_GL_CXXALIASWARN
 (
fÊush
);

192 #ñi‡
deföed
 
GNULIB_POSIXCHECK


193 #unde‡
fÊush


195 
	`_GL_WARN_ON_USE
 (
fÊush
, "fflush isÇotálways POSIX compliant - "

199 #i‡@
GNULIB_FGETC
@

200 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

201 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

202 #unde‡
fgëc


203 
	#fgëc
 
Ωl_fgëc


	)

205 
	`_GL_FUNCDECL_RPL
 (
fgëc
, , (
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

206 
	`_GL_CXXALIAS_RPL
 (
fgëc
, , (
FILE
 *
°ªam
));

208 
	`_GL_CXXALIAS_SYS
 (
fgëc
, , (
FILE
 *
°ªam
));

210 
	`_GL_CXXALIASWARN
 (
fgëc
);

213 #i‡@
GNULIB_FGETS
@

214 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

215 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

216 #unde‡
fgës


217 
	#fgës
 
Ωl_fgës


	)

219 
	`_GL_FUNCDECL_RPL
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
)

220 
	`_GL_ARG_NONNULL
 ((1, 3)));

221 
	`_GL_CXXALIAS_RPL
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
));

223 
	`_GL_CXXALIAS_SYS
 (
fgës
, *, (*
s
, 
n
, 
FILE
 *
°ªam
));

225 
	`_GL_CXXALIASWARN
 (
fgës
);

228 #i‡@
GNULIB_FOPEN
@

229 #i‡@
REPLACE_FOPEN
@

230 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

231 #unde‡
f›í


232 
	#f›í
 
Ωl_f›í


	)

234 
	`_GL_FUNCDECL_RPL
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
)

235 
	`_GL_ARG_NONNULL
 ((1, 2)));

236 
	`_GL_CXXALIAS_RPL
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
));

238 
	`_GL_CXXALIAS_SYS
 (
f›í
, 
FILE
 *, (c⁄° *
fûíame
, c⁄° *
mode
));

240 
	`_GL_CXXALIASWARN
 (
f›í
);

241 #ñi‡
deföed
 
GNULIB_POSIXCHECK


242 #unde‡
f›í


244 
	`_GL_WARN_ON_USE
 (
f›í
, "fopen on Win32Ölatforms isÇot POSIX compatible - "

248 #i‡@
GNULIB_FPRINTF_POSIX
@ || @
GNULIB_FPRINTF
@

249 #i‡(@
GNULIB_FPRINTF_POSIX
@ && @
REPLACE_FPRINTF
@) \

250 || (@
GNULIB_FPRINTF
@ && @
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@))

251 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

252 
	#Ârötf
 
Ωl_Ârötf


	)

254 
	#GNULIB_ovîrides_Ârötf
 1

	)

255 #i‡@
GNULIB_FPRINTF_POSIX
@ || @
GNULIB_VFPRINTF_POSIX
@

256 
	`_GL_FUNCDECL_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...)

257 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

258 
	`_GL_ARG_NONNULL
 ((1, 2)));

260 
	`_GL_FUNCDECL_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...)

261 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (2, 3)

262 
	`_GL_ARG_NONNULL
 ((1, 2)));

264 
	`_GL_CXXALIAS_RPL
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...));

266 
	`_GL_CXXALIAS_SYS
 (
Ârötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, ...));

268 
	`_GL_CXXALIASWARN
 (
Ârötf
);

270 #i‡!@
GNULIB_FPRINTF_POSIX
@ && 
deföed
 
GNULIB_POSIXCHECK


271 #i‡!
GNULIB_ovîrides_Ârötf


272 #unde‡
Ârötf


275 
	`_GL_WARN_ON_USE
 (
Ârötf
, "fprintf isÇotálways POSIX compliant - "

280 #i‡@
GNULIB_FPURGE
@

287 #i‡@
REPLACE_FPURGE
@

288 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

289 
	#Âurge
 
Ωl_Âurge


	)

291 
	`_GL_FUNCDECL_RPL
 (
Âurge
, , (
FILE
 *
gl_°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

292 
	`_GL_CXXALIAS_RPL
 (
Âurge
, , (
FILE
 *
gl_°ªam
));

294 #i‡!@
HAVE_DECL_FPURGE
@

295 
	`_GL_FUNCDECL_SYS
 (
Âurge
, , (
FILE
 *
gl_°ªam
Ë
	`_GL_ARG_NONNULL
 ((1)));

297 
	`_GL_CXXALIAS_SYS
 (
Âurge
, , (
FILE
 *
gl_°ªam
));

299 
	`_GL_CXXALIASWARN
 (
Âurge
);

300 #ñi‡
deföed
 
GNULIB_POSIXCHECK


301 #unde‡
Âurge


302 #i‡
HAVE_RAW_DECL_FPURGE


303 
	`_GL_WARN_ON_USE
 (
Âurge
, "fpurge isÇotálwaysÖresent - "

308 #i‡@
GNULIB_FPUTC
@

309 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

310 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

311 #unde‡
Âutc


312 
	#Âutc
 
Ωl_Âutc


	)

314 
	`_GL_FUNCDECL_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((2)));

315 
	`_GL_CXXALIAS_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
));

317 
	`_GL_CXXALIAS_SYS
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
));

319 
	`_GL_CXXALIASWARN
 (
Âutc
);

322 #i‡@
GNULIB_FPUTS
@

323 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

324 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

325 #unde‡
Âuts


326 
	#Âuts
 
Ωl_Âuts


	)

328 
	`_GL_FUNCDECL_RPL
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
)

329 
	`_GL_ARG_NONNULL
 ((1, 2)));

330 
	`_GL_CXXALIAS_RPL
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
));

332 
	`_GL_CXXALIAS_SYS
 (
Âuts
, , (c⁄° *
°rög
, 
FILE
 *
°ªam
));

334 
	`_GL_CXXALIASWARN
 (
Âuts
);

337 #i‡@
GNULIB_FREAD
@

338 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

339 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

340 #unde‡
‰ód


341 
	#‰ód
 
Ωl_‰ód


	)

343 
	`_GL_FUNCDECL_RPL
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
)

344 
	`_GL_ARG_NONNULL
 ((4)));

345 
	`_GL_CXXALIAS_RPL
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
));

347 
	`_GL_CXXALIAS_SYS
 (
‰ód
, 
size_t
, (*
±r
, size_à
s
, size_à
n
, 
FILE
 *
°ªam
));

349 
	`_GL_CXXALIASWARN
 (
‰ód
);

352 #i‡@
GNULIB_FREOPEN
@

353 #i‡@
REPLACE_FREOPEN
@

354 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

355 #unde‡
‰e›í


356 
	#‰e›í
 
Ωl_‰e›í


	)

358 
	`_GL_FUNCDECL_RPL
 (
‰e›í
, 
FILE
 *,

359 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
)

360 
	`_GL_ARG_NONNULL
 ((2, 3)));

361 
	`_GL_CXXALIAS_RPL
 (
‰e›í
, 
FILE
 *,

362 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
));

364 
	`_GL_CXXALIAS_SYS
 (
‰e›í
, 
FILE
 *,

365 (c⁄° *
fûíame
, c⁄° *
mode
, 
FILE
 *
°ªam
));

367 
	`_GL_CXXALIASWARN
 (
‰e›í
);

368 #ñi‡
deföed
 
GNULIB_POSIXCHECK


369 #unde‡
‰e›í


371 
	`_GL_WARN_ON_USE
 (
‰e›í
,

376 #i‡@
GNULIB_FSCANF
@

377 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

378 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

379 #unde‡
fsˇnf


380 
	#fsˇnf
 
Ωl_fsˇnf


	)

382 
	`_GL_FUNCDECL_RPL
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...)

383 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (2, 3)

384 
	`_GL_ARG_NONNULL
 ((1, 2)));

385 
	`_GL_CXXALIAS_RPL
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...));

387 
	`_GL_CXXALIAS_SYS
 (
fsˇnf
, , (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...));

389 
	`_GL_CXXALIASWARN
 (
fsˇnf
);

424 #i‡@
GNULIB_FSEEK
@

425 #i‡
deföed
 
GNULIB_POSIXCHECK
 && !deföed 
_GL_NO_LARGE_FILES


426 
	#_GL_FSEEK_WARN


	)

427 #unde‡
f£ek


429 #i‡@
REPLACE_FSEEK
@

430 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

431 #unde‡
f£ek


432 
	#f£ek
 
Ωl_f£ek


	)

434 
	`_GL_FUNCDECL_RPL
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
)

435 
	`_GL_ARG_NONNULL
 ((1)));

436 
	`_GL_CXXALIAS_RPL
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
));

438 
	`_GL_CXXALIAS_SYS
 (
f£ek
, , (
FILE
 *
Â
, 
off£t
, 
whí˚
));

440 
	`_GL_CXXALIASWARN
 (
f£ek
);

443 #i‡@
GNULIB_FSEEKO
@

444 #i‡!@
GNULIB_FSEEK
@ && !
deföed
 
_GL_NO_LARGE_FILES


445 
	#_GL_FSEEK_WARN


	)

446 #unde‡
f£ek


448 #i‡@
REPLACE_FSEEKO
@

451 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

452 #unde‡
f£eko


453 
	#f£eko
 
Ωl_f£eko


	)

455 
	`_GL_FUNCDECL_RPL
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
)

456 
	`_GL_ARG_NONNULL
 ((1)));

457 
	`_GL_CXXALIAS_RPL
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
));

459 #i‡! @
HAVE_DECL_FSEEKO
@

460 
	`_GL_FUNCDECL_SYS
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
)

461 
	`_GL_ARG_NONNULL
 ((1)));

463 
	`_GL_CXXALIAS_SYS
 (
f£eko
, , (
FILE
 *
Â
, 
off_t
 
off£t
, 
whí˚
));

465 
	`_GL_CXXALIASWARN
 (
f£eko
);

466 #ñi‡
deföed
 
GNULIB_POSIXCHECK


467 
	#_GL_FSEEK_WARN


	)

468 #unde‡
f£ek


469 #unde‡
f£eko


470 #i‡
HAVE_RAW_DECL_FSEEKO


471 
	`_GL_WARN_ON_USE
 (
f£eko
, "fseeko is unportable - "

476 #ifde‡
_GL_FSEEK_WARN


477 #unde‡
_GL_FSEEK_WARN


480 
	`_GL_WARN_ON_USE
 (
f£ek
, "fseek cannot handle filesÜargerÅhan 4 GB "

488 #i‡@
GNULIB_FTELL
@

489 #i‡
deföed
 
GNULIB_POSIXCHECK
 && !deföed 
_GL_NO_LARGE_FILES


490 
	#_GL_FTELL_WARN


	)

491 #unde‡
·ñl


493 #i‡@
REPLACE_FTELL
@

494 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

495 #unde‡
·ñl


496 
	#·ñl
 
Ωl_·ñl


	)

498 
	`_GL_FUNCDECL_RPL
 (
·ñl
, , (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

499 
	`_GL_CXXALIAS_RPL
 (
·ñl
, , (
FILE
 *
Â
));

501 
	`_GL_CXXALIAS_SYS
 (
·ñl
, , (
FILE
 *
Â
));

503 
	`_GL_CXXALIASWARN
 (
·ñl
);

506 #i‡@
GNULIB_FTELLO
@

507 #i‡!@
GNULIB_FTELL
@ && !
deföed
 
_GL_NO_LARGE_FILES


508 
	#_GL_FTELL_WARN


	)

509 #unde‡
·ñl


511 #i‡@
REPLACE_FTELLO
@

512 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

513 #unde‡
·ñlo


514 
	#·ñlo
 
Ωl_·ñlo


	)

516 
	`_GL_FUNCDECL_RPL
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

517 
	`_GL_CXXALIAS_RPL
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
));

519 #i‡! @
HAVE_DECL_FTELLO
@

520 
	`_GL_FUNCDECL_SYS
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
Ë
	`_GL_ARG_NONNULL
 ((1)));

522 
	`_GL_CXXALIAS_SYS
 (
·ñlo
, 
off_t
, (
FILE
 *
Â
));

524 
	`_GL_CXXALIASWARN
 (
·ñlo
);

525 #ñi‡
deföed
 
GNULIB_POSIXCHECK


526 
	#_GL_FTELL_WARN


	)

527 #unde‡
·ñl


528 #unde‡
·ñlo


529 #i‡
HAVE_RAW_DECL_FTELLO


530 
	`_GL_WARN_ON_USE
 (
·ñlo
, "ftello is unportable - "

535 #ifde‡
_GL_FTELL_WARN


536 #unde‡
_GL_FTELL_WARN


539 
	`_GL_WARN_ON_USE
 (
·ñl
, "ftell cannot handle filesÜargerÅhan 4 GB "

545 #i‡@
GNULIB_FWRITE
@

546 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

547 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

548 #unde‡
fwrôe


549 
	#fwrôe
 
Ωl_fwrôe


	)

551 
	`_GL_FUNCDECL_RPL
 (
fwrôe
, 
size_t
,

552 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
)

553 
	`_GL_ARG_NONNULL
 ((1, 4)));

554 
	`_GL_CXXALIAS_RPL
 (
fwrôe
, 
size_t
,

555 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
));

557 
	`_GL_CXXALIAS_SYS
 (
fwrôe
, 
size_t
,

558 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
));

565 #i‡!
deföed
 
__˝lu•lus
 && 0 < 
__USE_FORTIFY_LEVEL


566 
ölöe
 
size_t
 
	`_GL_ARG_NONNULL
 ((1, 4))

567 
	$Ωl_fwrôe
 (c⁄° *
±r
, 
size_t
 
s
, size_à
n
, 
FILE
 *
°ªam
)

569 
size_t
 
r
 = 
	`fwrôe
 (
±r
, 
s
, 
n
, 
°ªam
);

570 (Ë
r
;

571  
r
;

572 
	}
}

573 #unde‡
fwrôe


574 
	#fwrôe
 
Ωl_fwrôe


	)

577 
_GL_CXXALIASWARN
 (
fwrôe
);

580 #i‡@
GNULIB_GETC
@

581 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

582 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

583 #unde‡
gëc


584 
	#gëc
 
Ωl_fgëc


	)

586 
_GL_FUNCDECL_RPL
 (
fgëc
, , (
FILE
 *
°ªam
Ë
_GL_ARG_NONNULL
 ((1)));

587 
_GL_CXXALIAS_RPL_1
 (
gëc
, 
Ωl_fgëc
, , (
FILE
 *
°ªam
));

589 
_GL_CXXALIAS_SYS
 (
gëc
, , (
FILE
 *
°ªam
));

591 
_GL_CXXALIASWARN
 (
gëc
);

594 #i‡@
GNULIB_GETCHAR
@

595 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

596 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

597 #unde‡
gëch¨


598 
	#gëch¨
 
Ωl_gëch¨


	)

600 
_GL_FUNCDECL_RPL
 (
gëch¨
, , ());

601 
_GL_CXXALIAS_RPL
 (
gëch¨
, , ());

603 
_GL_CXXALIAS_SYS
 (
gëch¨
, , ());

605 
_GL_CXXALIASWARN
 (
gëch¨
);

608 #i‡@
GNULIB_GETDELIM
@

615 #i‡@
REPLACE_GETDELIM
@

616 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

617 #unde‡
gëdñim


618 
	#gëdñim
 
Ωl_gëdñim


	)

620 
_GL_FUNCDECL_RPL
 (
gëdñim
, 
ssize_t
,

621 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

622 
FILE
 *
°ªam
)

623 
_GL_ARG_NONNULL
 ((1, 2, 4)));

624 
_GL_CXXALIAS_RPL
 (
gëdñim
, 
ssize_t
,

625 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

626 
FILE
 *
°ªam
));

628 #i‡!@
HAVE_DECL_GETDELIM
@

629 
_GL_FUNCDECL_SYS
 (
gëdñim
, 
ssize_t
,

630 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

631 
FILE
 *
°ªam
)

632 
_GL_ARG_NONNULL
 ((1, 2, 4)));

634 
_GL_CXXALIAS_SYS
 (
gëdñim
, 
ssize_t
,

635 (**
löïå
, 
size_t
 *
löesize
, 
dñimôî
,

636 
FILE
 *
°ªam
));

638 
_GL_CXXALIASWARN
 (
gëdñim
);

639 #ñi‡
deföed
 
GNULIB_POSIXCHECK


640 #unde‡
gëdñim


641 #i‡
HAVE_RAW_DECL_GETDELIM


642 
_GL_WARN_ON_USE
 (
gëdñim
, "getdelim is unportable - "

647 #i‡@
GNULIB_GETLINE
@

654 #i‡@
REPLACE_GETLINE
@

655 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

656 #unde‡
gëlöe


657 
	#gëlöe
 
Ωl_gëlöe


	)

659 
_GL_FUNCDECL_RPL
 (
gëlöe
, 
ssize_t
,

660 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
)

661 
_GL_ARG_NONNULL
 ((1, 2, 3)));

662 
_GL_CXXALIAS_RPL
 (
gëlöe
, 
ssize_t
,

663 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
));

665 #i‡!@
HAVE_DECL_GETLINE
@

666 
_GL_FUNCDECL_SYS
 (
gëlöe
, 
ssize_t
,

667 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
)

668 
_GL_ARG_NONNULL
 ((1, 2, 3)));

670 
_GL_CXXALIAS_SYS
 (
gëlöe
, 
ssize_t
,

671 (**
löïå
, 
size_t
 *
löesize
, 
FILE
 *
°ªam
));

673 #i‡@
HAVE_DECL_GETLINE
@

674 
_GL_CXXALIASWARN
 (
gëlöe
);

676 #ñi‡
deföed
 
GNULIB_POSIXCHECK


677 #unde‡
gëlöe


678 #i‡
HAVE_RAW_DECL_GETLINE


679 
_GL_WARN_ON_USE
 (
gëlöe
, "getline is unportable - "

684 #i‡@
GNULIB_GETS
@

685 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

686 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

687 #unde‡
gës


688 
	#gës
 
Ωl_gës


	)

690 
_GL_FUNCDECL_RPL
 (
gës
, *, (*
s
Ë
_GL_ARG_NONNULL
 ((1)));

691 
_GL_CXXALIAS_RPL
 (
gës
, *, (*
s
));

693 
_GL_CXXALIAS_SYS
 (
gës
, *, (*
s
));

694 #unde‡
gës


696 
_GL_CXXALIASWARN
 (
gës
);

700 
_GL_WARN_ON_USE
 (
gës
, "gets isá security hole - use fgets instead");

704 #i‡@
GNULIB_OBSTACK_PRINTF
@ || @
GNULIB_OBSTACK_PRINTF_POSIX
@

705 
	gob°ack
;

711 #i‡@
REPLACE_OBSTACK_PRINTF
@

712 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

713 
	#ob°ack_¥ötf
 
Ωl_ob°ack_¥ötf


	)

715 
_GL_FUNCDECL_RPL
 (
ob°ack_¥ötf
, ,

716 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...)

717 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

718 
	`_GL_ARG_NONNULL
 ((1, 2)));

719 
	`_GL_CXXALIAS_RPL
 (
ob°ack_¥ötf
, ,

720 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...));

722 #i‡!@
HAVE_DECL_OBSTACK_PRINTF
@

723 
	`_GL_FUNCDECL_SYS
 (
ob°ack_¥ötf
, ,

724 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...)

725 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

726 
	`_GL_ARG_NONNULL
 ((1, 2)));

728 
	`_GL_CXXALIAS_SYS
 (
ob°ack_¥ötf
, ,

729 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, ...));

731 
	`_GL_CXXALIASWARN
 (
ob°ack_¥ötf
);

732 #i‡@
REPLACE_OBSTACK_PRINTF
@

733 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

734 
	#ob°ack_v¥ötf
 
Ωl_ob°ack_v¥ötf


	)

736 
	`_GL_FUNCDECL_RPL
 (
ob°ack_v¥ötf
, ,

737 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

738 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

739 
	`_GL_ARG_NONNULL
 ((1, 2)));

740 
	`_GL_CXXALIAS_RPL
 (
ob°ack_v¥ötf
, ,

741 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

743 #i‡!@
HAVE_DECL_OBSTACK_PRINTF
@

744 
	`_GL_FUNCDECL_SYS
 (
ob°ack_v¥ötf
, ,

745 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

746 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

747 
	`_GL_ARG_NONNULL
 ((1, 2)));

749 
	`_GL_CXXALIAS_SYS
 (
ob°ack_v¥ötf
, ,

750 (
ob°ack
 *
obs
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

752 
	`_GL_CXXALIASWARN
 (
ob°ack_v¥ötf
);

755 #i‡@
GNULIB_PERROR
@

759 #i‡@
REPLACE_PERROR
@

760 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

761 
	#≥º‹
 
Ωl_≥º‹


	)

763 
	`_GL_FUNCDECL_RPL
 (
≥º‹
, , (c⁄° *
°rög
));

764 
	`_GL_CXXALIAS_RPL
 (
≥º‹
, , (c⁄° *
°rög
));

766 
	`_GL_CXXALIAS_SYS
 (
≥º‹
, , (c⁄° *
°rög
));

768 
	`_GL_CXXALIASWARN
 (
≥º‹
);

769 #ñi‡
deföed
 
GNULIB_POSIXCHECK


770 #unde‡
≥º‹


772 
	`_GL_WARN_ON_USE
 (
≥º‹
, "perror isÇotálways POSIX compliant - "

776 #i‡@
GNULIB_POPEN
@

777 #i‡@
REPLACE_POPEN
@

778 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

779 #unde‡
p›í


780 
	#p›í
 
Ωl_p›í


	)

782 
	`_GL_FUNCDECL_RPL
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
)

783 
	`_GL_ARG_NONNULL
 ((1, 2)));

784 
	`_GL_CXXALIAS_RPL
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
));

786 
	`_GL_CXXALIAS_SYS
 (
p›í
, 
FILE
 *, (c⁄° *
cmd
, c⁄° *
mode
));

788 
	`_GL_CXXALIASWARN
 (
p›í
);

789 #ñi‡
deföed
 
GNULIB_POSIXCHECK


790 #unde‡
p›í


791 #i‡
HAVE_RAW_DECL_POPEN


792 
	`_GL_WARN_ON_USE
 (
p›í
, "popen is buggy on someÖlatforms - "

797 #i‡@
GNULIB_PRINTF_POSIX
@ || @
GNULIB_PRINTF
@

798 #i‡(@
GNULIB_PRINTF_POSIX
@ && @
REPLACE_PRINTF
@) \

799 || (@
GNULIB_PRINTF
@ && @
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@))

800 #i‡
deföed
 
__GNUC__


801 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

803 
	#¥ötf
 
__¥ötf__


	)

805 #i‡@
GNULIB_PRINTF_POSIX
@ || @
GNULIB_VFPRINTF_POSIX
@

806 
	`_GL_FUNCDECL_RPL_1
 (
__¥ötf__
, ,

807 (c⁄° *
f‹m©
, ...)

808 
	`__asm__
 (@
ASM_SYMBOL_PREFIX
@

809 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_¥ötf
))

810 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 2)

811 
	`_GL_ARG_NONNULL
 ((1)));

813 
	`_GL_FUNCDECL_RPL_1
 (
__¥ötf__
, ,

814 (c⁄° *
f‹m©
, ...)

815 
	`__asm__
 (@
ASM_SYMBOL_PREFIX
@

816 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_¥ötf
))

817 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (1, 2)

818 
	`_GL_ARG_NONNULL
 ((1)));

820 
	`_GL_CXXALIAS_RPL_1
 (
¥ötf
, 
__¥ötf__
, , (c⁄° *
f‹m©
, ...));

822 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

823 
	#¥ötf
 
Ωl_¥ötf


	)

825 
	`_GL_FUNCDECL_RPL
 (
¥ötf
, ,

826 (c⁄° *
f‹m©
, ...)

827 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 2)

828 
	`_GL_ARG_NONNULL
 ((1)));

829 
	`_GL_CXXALIAS_RPL
 (
¥ötf
, , (c⁄° *
f‹m©
, ...));

831 
	#GNULIB_ovîrides_¥ötf
 1

	)

833 
	`_GL_CXXALIAS_SYS
 (
¥ötf
, , (c⁄° *
f‹m©
, ...));

835 
	`_GL_CXXALIASWARN
 (
¥ötf
);

837 #i‡!@
GNULIB_PRINTF_POSIX
@ && 
deföed
 
GNULIB_POSIXCHECK


838 #i‡!
GNULIB_ovîrides_¥ötf


839 #unde‡
¥ötf


842 
	`_GL_WARN_ON_USE
 (
¥ötf
, "printf isÇotálways POSIX compliant - "

847 #i‡@
GNULIB_PUTC
@

848 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

849 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

850 #unde‡
putc


851 
	#putc
 
Ωl_Âutc


	)

853 
	`_GL_FUNCDECL_RPL
 (
Âutc
, , (
c
, 
FILE
 *
°ªam
Ë
	`_GL_ARG_NONNULL
 ((2)));

854 
	`_GL_CXXALIAS_RPL_1
 (
putc
, 
Ωl_Âutc
, , (
c
, 
FILE
 *
°ªam
));

856 
	`_GL_CXXALIAS_SYS
 (
putc
, , (
c
, 
FILE
 *
°ªam
));

858 
	`_GL_CXXALIASWARN
 (
putc
);

861 #i‡@
GNULIB_PUTCHAR
@

862 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

863 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

864 #unde‡
putch¨


865 
	#putch¨
 
Ωl_putch¨


	)

867 
	`_GL_FUNCDECL_RPL
 (
putch¨
, , (
c
));

868 
	`_GL_CXXALIAS_RPL
 (
putch¨
, , (
c
));

870 
	`_GL_CXXALIAS_SYS
 (
putch¨
, , (
c
));

872 
	`_GL_CXXALIASWARN
 (
putch¨
);

875 #i‡@
GNULIB_PUTS
@

876 #i‡@
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@)

877 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

878 #unde‡
puts


879 
	#puts
 
Ωl_puts


	)

881 
	`_GL_FUNCDECL_RPL
 (
puts
, , (c⁄° *
°rög
Ë
	`_GL_ARG_NONNULL
 ((1)));

882 
	`_GL_CXXALIAS_RPL
 (
puts
, , (c⁄° *
°rög
));

884 
	`_GL_CXXALIAS_SYS
 (
puts
, , (c⁄° *
°rög
));

886 
	`_GL_CXXALIASWARN
 (
puts
);

889 #i‡@
GNULIB_REMOVE
@

890 #i‡@
REPLACE_REMOVE
@

891 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

892 #unde‡
ªmove


893 
	#ªmove
 
Ωl_ªmove


	)

895 
	`_GL_FUNCDECL_RPL
 (
ªmove
, , (c⁄° *
«me
Ë
	`_GL_ARG_NONNULL
 ((1)));

896 
	`_GL_CXXALIAS_RPL
 (
ªmove
, , (c⁄° *
«me
));

898 
	`_GL_CXXALIAS_SYS
 (
ªmove
, , (c⁄° *
«me
));

900 
	`_GL_CXXALIASWARN
 (
ªmove
);

901 #ñi‡
deföed
 
GNULIB_POSIXCHECK


902 #unde‡
ªmove


904 
	`_GL_WARN_ON_USE
 (
ªmove
, "remove cannot handle directories on someÖlatforms - "

908 #i‡@
GNULIB_RENAME
@

909 #i‡@
REPLACE_RENAME
@

910 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

911 #unde‡
ª«me


912 
	#ª«me
 
Ωl_ª«me


	)

914 
	`_GL_FUNCDECL_RPL
 (
ª«me
, ,

915 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
)

916 
	`_GL_ARG_NONNULL
 ((1, 2)));

917 
	`_GL_CXXALIAS_RPL
 (
ª«me
, ,

918 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
));

920 
	`_GL_CXXALIAS_SYS
 (
ª«me
, ,

921 (c⁄° *
ﬁd_fûíame
, c⁄° *
√w_fûíame
));

923 
	`_GL_CXXALIASWARN
 (
ª«me
);

924 #ñi‡
deföed
 
GNULIB_POSIXCHECK


925 #unde‡
ª«me


927 
	`_GL_WARN_ON_USE
 (
ª«me
, "rename is buggy on someÖlatforms - "

931 #i‡@
GNULIB_RENAMEAT
@

932 #i‡@
REPLACE_RENAMEAT
@

933 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

934 #unde‡
ª«mót


935 
	#ª«mót
 
Ωl_ª«mót


	)

937 
	`_GL_FUNCDECL_RPL
 (
ª«mót
, ,

938 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
)

939 
	`_GL_ARG_NONNULL
 ((2, 4)));

940 
	`_GL_CXXALIAS_RPL
 (
ª«mót
, ,

941 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
));

943 #i‡!@
HAVE_RENAMEAT
@

944 
	`_GL_FUNCDECL_SYS
 (
ª«mót
, ,

945 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
)

946 
	`_GL_ARG_NONNULL
 ((2, 4)));

948 
	`_GL_CXXALIAS_SYS
 (
ª«mót
, ,

949 (
fd1
, c⁄° *
fûe1
, 
fd2
, c⁄° *
fûe2
));

951 
	`_GL_CXXALIASWARN
 (
ª«mót
);

952 #ñi‡
deföed
 
GNULIB_POSIXCHECK


953 #unde‡
ª«mót


954 #i‡
HAVE_RAW_DECL_RENAMEAT


955 
	`_GL_WARN_ON_USE
 (
ª«mót
, "renameat isÇotÖortable - "

960 #i‡@
GNULIB_SCANF
@

961 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

962 #i‡
deföed
 
__GNUC__


963 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

964 #unde‡
sˇnf


966 
	#sˇnf
 
__sˇnf__


	)

968 
	`_GL_FUNCDECL_RPL_1
 (
__sˇnf__
, ,

969 (c⁄° *
f‹m©
, ...)

970 
	`__asm__
 (@
ASM_SYMBOL_PREFIX
@

971 
	$_GL_STDIO_MACROEXPAND_AND_STRINGIZE
(
Ωl_sˇnf
))

972 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 2)

973 
	`_GL_ARG_NONNULL
 ((1)));

974 
	`_GL_CXXALIAS_RPL_1
 (
sˇnf
, 
__sˇnf__
, , (c⁄° *
f‹m©
, ...));

976 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

977 #unde‡
sˇnf


978 
	#sˇnf
 
Ωl_sˇnf


	)

980 
	`_GL_FUNCDECL_RPL
 (
sˇnf
, , (c⁄° *
f‹m©
, ...)

981 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 2)

982 
	`_GL_ARG_NONNULL
 ((1)));

983 
	`_GL_CXXALIAS_RPL
 (
sˇnf
, , (c⁄° *
f‹m©
, ...));

986 
	`_GL_CXXALIAS_SYS
 (
sˇnf
, , (c⁄° *
f‹m©
, ...));

988 
	`_GL_CXXALIASWARN
 (
sˇnf
);

991 #i‡@
GNULIB_SNPRINTF
@

992 #i‡@
REPLACE_SNPRINTF
@

993 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

994 
	#¢¥ötf
 
Ωl_¢¥ötf


	)

996 
	`_GL_FUNCDECL_RPL
 (
¢¥ötf
, ,

997 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...)

998 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 4)

999 
	`_GL_ARG_NONNULL
 ((3)));

1000 
	`_GL_CXXALIAS_RPL
 (
¢¥ötf
, ,

1001 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...));

1003 #i‡!@
HAVE_DECL_SNPRINTF
@

1004 
	`_GL_FUNCDECL_SYS
 (
¢¥ötf
, ,

1005 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...)

1006 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 4)

1007 
	`_GL_ARG_NONNULL
 ((3)));

1009 
	`_GL_CXXALIAS_SYS
 (
¢¥ötf
, ,

1010 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, ...));

1012 
	`_GL_CXXALIASWARN
 (
¢¥ötf
);

1013 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1014 #unde‡
¢¥ötf


1015 #i‡
HAVE_RAW_DECL_SNPRINTF


1016 
	`_GL_WARN_ON_USE
 (
¢¥ötf
, "snprintf is unportable - "

1030 #i‡@
GNULIB_SPRINTF_POSIX
@

1031 #i‡@
REPLACE_SPRINTF
@

1032 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1033 
	#•rötf
 
Ωl_•rötf


	)

1035 
	`_GL_FUNCDECL_RPL
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...)

1036 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1037 
	`_GL_ARG_NONNULL
 ((1, 2)));

1038 
	`_GL_CXXALIAS_RPL
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...));

1040 
	`_GL_CXXALIAS_SYS
 (
•rötf
, , (*
°r
, c⁄° *
f‹m©
, ...));

1042 
	`_GL_CXXALIASWARN
 (
•rötf
);

1043 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1044 #unde‡
•rötf


1046 
	`_GL_WARN_ON_USE
 (
•rötf
, "sprintf isÇotálways POSIX compliant - "

1051 #i‡@
GNULIB_TMPFILE
@

1052 #i‡@
REPLACE_TMPFILE
@

1053 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1054 
	#tmpfûe
 
Ωl_tmpfûe


	)

1056 
	`_GL_FUNCDECL_RPL
 (
tmpfûe
, 
FILE
 *, ());

1057 
	`_GL_CXXALIAS_RPL
 (
tmpfûe
, 
FILE
 *, ());

1059 
	`_GL_CXXALIAS_SYS
 (
tmpfûe
, 
FILE
 *, ());

1061 
	`_GL_CXXALIASWARN
 (
tmpfûe
);

1062 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1063 #unde‡
tmpfûe


1064 #i‡
HAVE_RAW_DECL_TMPFILE


1065 
	`_GL_WARN_ON_USE
 (
tmpfûe
, "tmpfile isÇot usable on mingw - "

1070 #i‡@
GNULIB_VASPRINTF
@

1075 #i‡@
REPLACE_VASPRINTF
@

1076 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1077 
	#a•rötf
 
Ωl_a•rötf


	)

1079 
	`_GL_FUNCDECL_RPL
 (
a•rötf
, ,

1080 (**
ªsu…
, c⁄° *
f‹m©
, ...)

1081 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1082 
	`_GL_ARG_NONNULL
 ((1, 2)));

1083 
	`_GL_CXXALIAS_RPL
 (
a•rötf
, ,

1084 (**
ªsu…
, c⁄° *
f‹m©
, ...));

1086 #i‡!@
HAVE_VASPRINTF
@

1087 
	`_GL_FUNCDECL_SYS
 (
a•rötf
, ,

1088 (**
ªsu…
, c⁄° *
f‹m©
, ...)

1089 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 3)

1090 
	`_GL_ARG_NONNULL
 ((1, 2)));

1092 
	`_GL_CXXALIAS_SYS
 (
a•rötf
, ,

1093 (**
ªsu…
, c⁄° *
f‹m©
, ...));

1095 
	`_GL_CXXALIASWARN
 (
a•rötf
);

1096 #i‡@
REPLACE_VASPRINTF
@

1097 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1098 
	#va•rötf
 
Ωl_va•rötf


	)

1100 
	`_GL_FUNCDECL_RPL
 (
va•rötf
, ,

1101 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1102 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1103 
	`_GL_ARG_NONNULL
 ((1, 2)));

1104 
	`_GL_CXXALIAS_RPL
 (
va•rötf
, ,

1105 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1107 #i‡!@
HAVE_VASPRINTF
@

1108 
	`_GL_FUNCDECL_SYS
 (
va•rötf
, ,

1109 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1110 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1111 
	`_GL_ARG_NONNULL
 ((1, 2)));

1113 
	`_GL_CXXALIAS_SYS
 (
va•rötf
, ,

1114 (**
ªsu…
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1116 
	`_GL_CXXALIASWARN
 (
va•rötf
);

1119 #i‡@
GNULIB_VDPRINTF
@

1120 #i‡@
REPLACE_VDPRINTF
@

1121 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1122 
	#vd¥ötf
 
Ωl_vd¥ötf


	)

1124 
	`_GL_FUNCDECL_RPL
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1125 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1126 
	`_GL_ARG_NONNULL
 ((2)));

1127 
	`_GL_CXXALIAS_RPL
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1129 #i‡!@
HAVE_VDPRINTF
@

1130 
	`_GL_FUNCDECL_SYS
 (
vd¥ötf
, , (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1131 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1132 
	`_GL_ARG_NONNULL
 ((2)));

1136 
	`_GL_CXXALIAS_SYS_CAST
 (
vd¥ötf
, ,

1137 (
fd
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1139 
	`_GL_CXXALIASWARN
 (
vd¥ötf
);

1140 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1141 #unde‡
vd¥ötf


1142 #i‡
HAVE_RAW_DECL_VDPRINTF


1143 
	`_GL_WARN_ON_USE
 (
vd¥ötf
, "vdprintf is unportable - "

1148 #i‡@
GNULIB_VFPRINTF_POSIX
@ || @
GNULIB_VFPRINTF
@

1149 #i‡(@
GNULIB_VFPRINTF_POSIX
@ && @
REPLACE_VFPRINTF
@) \

1150 || (@
GNULIB_VFPRINTF
@ && @
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@))

1151 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1152 
	#vÂrötf
 
Ωl_vÂrötf


	)

1154 
	#GNULIB_ovîrides_vÂrötf
 1

	)

1155 #i‡@
GNULIB_VFPRINTF_POSIX
@

1156 
	`_GL_FUNCDECL_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1157 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1158 
	`_GL_ARG_NONNULL
 ((1, 2)));

1160 
	`_GL_FUNCDECL_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1161 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (2, 0)

1162 
	`_GL_ARG_NONNULL
 ((1, 2)));

1164 
	`_GL_CXXALIAS_RPL
 (
vÂrötf
, , (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1169 
	`_GL_CXXALIAS_SYS_CAST
 (
vÂrötf
, ,

1170 (
FILE
 *
Â
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1172 
	`_GL_CXXALIASWARN
 (
vÂrötf
);

1174 #i‡!@
GNULIB_VFPRINTF_POSIX
@ && 
deföed
 
GNULIB_POSIXCHECK


1175 #i‡!
GNULIB_ovîrides_vÂrötf


1176 #unde‡
vÂrötf


1179 
	`_GL_WARN_ON_USE
 (
vÂrötf
, "vfprintf isÇotálways POSIX compliant - "

1184 #i‡@
GNULIB_VFSCANF
@

1185 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

1186 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1187 #unde‡
vfsˇnf


1188 
	#vfsˇnf
 
Ωl_vfsˇnf


	)

1190 
	`_GL_FUNCDECL_RPL
 (
vfsˇnf
, ,

1191 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1192 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (2, 0)

1193 
	`_GL_ARG_NONNULL
 ((1, 2)));

1194 
	`_GL_CXXALIAS_RPL
 (
vfsˇnf
, ,

1195 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1197 
	`_GL_CXXALIAS_SYS
 (
vfsˇnf
, ,

1198 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1200 
	`_GL_CXXALIASWARN
 (
vfsˇnf
);

1203 #i‡@
GNULIB_VPRINTF_POSIX
@ || @
GNULIB_VPRINTF
@

1204 #i‡(@
GNULIB_VPRINTF_POSIX
@ && @
REPLACE_VPRINTF
@) \

1205 || (@
GNULIB_VPRINTF
@ && @
REPLACE_STDIO_WRITE_FUNCS
@ && (@
GNULIB_STDIO_H_NONBLOCKING
@ || @
GNULIB_STDIO_H_SIGPIPE
@))

1206 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1207 
	#v¥ötf
 
Ωl_v¥ötf


	)

1209 
	#GNULIB_ovîrides_v¥ötf
 1

	)

1210 #i‡@
GNULIB_VPRINTF_POSIX
@ || @
GNULIB_VFPRINTF_POSIX
@

1211 
	`_GL_FUNCDECL_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1212 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (1, 0)

1213 
	`_GL_ARG_NONNULL
 ((1)));

1215 
	`_GL_FUNCDECL_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1216 
	$_GL_ATTRIBUTE_FORMAT_PRINTF_SYSTEM
 (1, 0)

1217 
	`_GL_ARG_NONNULL
 ((1)));

1219 
	`_GL_CXXALIAS_RPL
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1224 
	`_GL_CXXALIAS_SYS_CAST
 (
v¥ötf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1226 
	`_GL_CXXALIASWARN
 (
v¥ötf
);

1228 #i‡!@
GNULIB_VPRINTF_POSIX
@ && 
deföed
 
GNULIB_POSIXCHECK


1229 #i‡!
GNULIB_ovîrides_v¥ötf


1230 #unde‡
v¥ötf


1233 
	`_GL_WARN_ON_USE
 (
v¥ötf
, "vprintf isÇotálways POSIX compliant - "

1238 #i‡@
GNULIB_VSCANF
@

1239 #i‡@
REPLACE_STDIO_READ_FUNCS
@ && @
GNULIB_STDIO_H_NONBLOCKING
@

1240 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1241 #unde‡
vsˇnf


1242 
	#vsˇnf
 
Ωl_vsˇnf


	)

1244 
	`_GL_FUNCDECL_RPL
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1245 
	$_GL_ATTRIBUTE_FORMAT_SCANF_SYSTEM
 (1, 0)

1246 
	`_GL_ARG_NONNULL
 ((1)));

1247 
	`_GL_CXXALIAS_RPL
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1249 
	`_GL_CXXALIAS_SYS
 (
vsˇnf
, , (c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1251 
	`_GL_CXXALIASWARN
 (
vsˇnf
);

1254 #i‡@
GNULIB_VSNPRINTF
@

1255 #i‡@
REPLACE_VSNPRINTF
@

1256 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1257 
	#v¢¥ötf
 
Ωl_v¢¥ötf


	)

1259 
	`_GL_FUNCDECL_RPL
 (
v¢¥ötf
, ,

1260 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1261 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 0)

1262 
	`_GL_ARG_NONNULL
 ((3)));

1263 
	`_GL_CXXALIAS_RPL
 (
v¢¥ötf
, ,

1264 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1266 #i‡!@
HAVE_DECL_VSNPRINTF
@

1267 
	`_GL_FUNCDECL_SYS
 (
v¢¥ötf
, ,

1268 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1269 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (3, 0)

1270 
	`_GL_ARG_NONNULL
 ((3)));

1272 
	`_GL_CXXALIAS_SYS
 (
v¢¥ötf
, ,

1273 (*
°r
, 
size_t
 
size
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1275 
	`_GL_CXXALIASWARN
 (
v¢¥ötf
);

1276 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1277 #unde‡
v¢¥ötf


1278 #i‡
HAVE_RAW_DECL_VSNPRINTF


1279 
	`_GL_WARN_ON_USE
 (
v¢¥ötf
, "vsnprintf is unportable - "

1284 #i‡@
GNULIB_VSPRINTF_POSIX
@

1285 #i‡@
REPLACE_VSPRINTF
@

1286 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1287 
	#v•rötf
 
Ωl_v•rötf


	)

1289 
	`_GL_FUNCDECL_RPL
 (
v•rötf
, ,

1290 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

1291 
	$_GL_ATTRIBUTE_FORMAT_PRINTF
 (2, 0)

1292 
	`_GL_ARG_NONNULL
 ((1, 2)));

1293 
	`_GL_CXXALIAS_RPL
 (
v•rötf
, ,

1294 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1299 
	`_GL_CXXALIAS_SYS_CAST
 (
v•rötf
, ,

1300 (*
°r
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
));

1302 
	`_GL_CXXALIASWARN
 (
v•rötf
);

1303 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1304 #unde‡
v•rötf


1306 
	`_GL_WARN_ON_USE
 (
v•rötf
, "vsprintf isÇotálways POSIX compliant - "

	@lib/stdlib.h

19 #i‡
__GNUC__
 >= 3

20 #¥agm®
GCC
 
sy°em_hódî


24 #i‡
deföed
 
__√ed_mÆloc_™d_ˇŒoc


27 #ö˛ude_√xà<
°dlib
.
h
>

32 #i‚de‡
_GL_STDLIB_H


35 #ö˛ude_√xà<
°dlib
.
h
>

37 #i‚de‡
_GL_STDLIB_H


38 
	#_GL_STDLIB_H


	)

41 
	~<°ddef.h
>

44 #i‡0 && !
deföed
 
WEXITSTATUS


45 
	~<sys/waô.h
>

49 #i‡(0 || 
deföed
 
GNULIB_POSIXCHECK
) && 0

50 
	~<sys/lﬂdavg.h
>

59 
	~<øndom.h
>

63 
	~<°döt.h
>

69 #i‡!
GNULIB_deföed_°ru˘_øndom_d©a


70 
	søndom_d©a


72 
öt32_t
 *
	mÂå
;

73 
öt32_t
 *
	mΩå
;

74 
öt32_t
 *
	m°©e
;

75 
	mønd_ty≥
;

76 
	mønd_deg
;

77 
	mønd_£p
;

78 
öt32_t
 *
	míd_±r
;

80 
	#GNULIB_deföed_°ru˘_øndom_d©a
 1

	)

85 #i‡(0 || 0 || 0 || 
deföed
 
GNULIB_POSIXCHECK
Ë&& ! deföed 
__GLIBC__
 && !((deföed 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

90 
	~<uni°d.h
>

94 #i‚de‡
_N‹ëu∫


95 #i‡(3 <
__GNUC__
 || (__GNUC__ =2 && 8 <
__GNUC_MINOR__
) \

96 || 0x5110 <
__SUNPRO_C
)

97 
	#_N‹ëu∫
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

	)

98 #ñi‡1200 <
_MSC_VER


99 
	#_N‹ëu∫
 
	`__de˛•ec
 (
n‹ëu∫
)

	)

101 
	#_N‹ëu∫


	)

106 #i‚de‡
_GL_CXXDEFS_H


107 
	#_GL_CXXDEFS_H


	)

170 #i‡
deföed
 
__˝lu•lus


171 
	#_GL_EXTERN_C
 "C"

	)

173 
	#_GL_EXTERN_C
 

	)

183 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

184 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

185 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

186 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

195 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

196 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

204 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

205 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

206 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


207 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

208 
«me•a˚
 
GNULIB_NAMESPACE
 \

210 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

212 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

214 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

215 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

223 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


224 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

225 
«me•a˚
 
GNULIB_NAMESPACE
 \

227 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

228 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

230 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

232 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

233 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

243 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


250 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

251 
«me•a˚
 
GNULIB_NAMESPACE
 \

253 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

255 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

257 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

258 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

266 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


267 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

268 
«me•a˚
 
GNULIB_NAMESPACE
 \

270 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

271 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

273 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

275 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

276 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

285 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


291 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

292 
«me•a˚
 
GNULIB_NAMESPACE
 \

294 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

295 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

296 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

298 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

300 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

301 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

308 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


309 
	#_GL_CXXALIASWARN
(
func
) \

310 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

311 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

312 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

315 #i‡!
__OPTIMIZE__


316 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

317 
	`_GL_WARN_ON_USE
 (
func
, \

319 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

320 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


321 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

322 
	`__ty≥of__
 (
func
Ë
	)
func

324 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

325 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

328 
	#_GL_CXXALIASWARN
(
func
) \

329 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

335 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


336 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

337 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

338 
GNULIB_NAMESPACE
)

	)

339 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

340 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

343 #i‡!
__OPTIMIZE__


344 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

345 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

347 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

348 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


349 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

350 
	`__ty≥of__
 (
func
Ë
	)
func

352 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

353 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

356 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

357 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

366 #i‚de‡
_GL_ARG_NONNULL


367 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

368 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

370 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

375 #i‚de‡
_GL_WARN_ON_USE


377 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

379 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

380 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

381 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


383 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

384 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

386 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

387 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

397 #i‚de‡
_GL_WARN_ON_USE_CXX


398 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

399 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

400 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

401 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

402 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


404 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

405 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

407 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

408 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

414 #i‚de‡
_GL_WARN_EXTERN_C


415 #i‡
deföed
 
__˝lu•lus


416 
	#_GL_WARN_EXTERN_C
 "C"

	)

418 
	#_GL_WARN_EXTERN_C
 

	)

424 #i‚de‡
EXIT_SUCCESS


425 
	#EXIT_SUCCESS
 0

	)

429 #i‚de‡
EXIT_FAILURE


430 
	#EXIT_FAILURE
 1

	)

431 #ñi‡
EXIT_FAILURE
 != 1

432 #unde‡
EXIT_FAILURE


433 
	#EXIT_FAILURE
 1

	)

441 
_GL_FUNCDECL_SYS
 (
_Exô
, 
_N‹ëu∫
 , (
°©us
));

443 
_GL_CXXALIAS_SYS
 (
_Exô
, , (
°©us
));

444 
_GL_CXXALIASWARN
 (
_Exô
);

445 #ñi‡
deföed
 
GNULIB_POSIXCHECK


446 #unde‡
_Exô


447 #i‡
HAVE_RAW_DECL__EXIT


448 
_GL_WARN_ON_USE
 (
_Exô
, "_Exit is unportable - "

458 
_GL_FUNCDECL_SYS
 (
©ﬁl
, , (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

460 
_GL_CXXALIAS_SYS
 (
©ﬁl
, , (c⁄° *
°rög
));

461 
_GL_CXXALIASWARN
 (
©ﬁl
);

462 #ñi‡
deföed
 
GNULIB_POSIXCHECK


463 #unde‡
©ﬁl


464 #i‡
HAVE_RAW_DECL_ATOLL


465 
_GL_WARN_ON_USE
 (
©ﬁl
, "atoll is unportable - "

472 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

473 #unde‡
ˇŒoc


474 
	#ˇŒoc
 
Ωl_ˇŒoc


	)

476 
_GL_FUNCDECL_RPL
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

477 
_GL_CXXALIAS_RPL
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

479 
_GL_CXXALIAS_SYS
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

481 
_GL_CXXALIASWARN
 (
ˇŒoc
);

482 #ñi‡
deföed
 
GNULIB_POSIXCHECK


483 #unde‡
ˇŒoc


485 
_GL_WARN_ON_USE
 (
ˇŒoc
, "calloc isÇot POSIX compliantÉverywhere - "

491 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

492 
	#ˇn⁄iˇlize_fûe_«me
 
Ωl_ˇn⁄iˇlize_fûe_«me


	)

494 
_GL_FUNCDECL_RPL
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
)

495 
_GL_ARG_NONNULL
 ((1)));

496 
_GL_CXXALIAS_RPL
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
));

499 
_GL_FUNCDECL_SYS
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
)

500 
_GL_ARG_NONNULL
 ((1)));

502 
_GL_CXXALIAS_SYS
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
));

504 
_GL_CXXALIASWARN
 (
ˇn⁄iˇlize_fûe_«me
);

505 #ñi‡
deföed
 
GNULIB_POSIXCHECK


506 #unde‡
ˇn⁄iˇlize_fûe_«me


507 #i‡
HAVE_RAW_DECL_CANONICALIZE_FILE_NAME


508 
_GL_WARN_ON_USE
 (
ˇn⁄iˇlize_fûe_«me
,

520 
_GL_FUNCDECL_SYS
 (
gëlﬂdavg
, , (
lﬂdavg
[], 
√Àm
)

521 
_GL_ARG_NONNULL
 ((1)));

523 
_GL_CXXALIAS_SYS
 (
gëlﬂdavg
, , (
lﬂdavg
[], 
√Àm
));

524 
_GL_CXXALIASWARN
 (
gëlﬂdavg
);

525 #ñi‡
deföed
 
GNULIB_POSIXCHECK


526 #unde‡
gëlﬂdavg


527 #i‡
HAVE_RAW_DECL_GETLOADAVG


528 
_GL_WARN_ON_USE
 (
gëlﬂdavg
, "getloadavg isÇotÖortable - "

546 
_GL_FUNCDECL_SYS
 (
gësub›t
, ,

547 (**
›ti⁄p
, *c⁄° *
tokís
, **
vÆuï
)

548 
_GL_ARG_NONNULL
 ((1, 2, 3)));

550 
_GL_CXXALIAS_SYS
 (
gësub›t
, ,

551 (**
›ti⁄p
, *c⁄° *
tokís
, **
vÆuï
));

552 
_GL_CXXALIASWARN
 (
gësub›t
);

553 #ñi‡
deföed
 
GNULIB_POSIXCHECK


554 #unde‡
gësub›t


555 #i‡
HAVE_RAW_DECL_GETSUBOPT


556 
_GL_WARN_ON_USE
 (
gësub›t
, "getsubopt is unportable - "

565 
_GL_FUNCDECL_SYS
 (
gø¡±
, , (
fd
));

567 
_GL_CXXALIAS_SYS
 (
gø¡±
, , (
fd
));

568 
_GL_CXXALIASWARN
 (
gø¡±
);

569 #ñi‡
deföed
 
GNULIB_POSIXCHECK


570 #unde‡
gø¡±


571 #i‡
HAVE_RAW_DECL_GRANTPT


572 
_GL_WARN_ON_USE
 (
±¢ame
, "grantpt isÇotÖortable - "

583 #i‡!((
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
) \

584 || 
	g_GL_USE_STDLIB_ALLOC
)

585 #unde‡
mÆloc


586 
	#mÆloc
 
Ωl_mÆloc


	)

588 
_GL_FUNCDECL_RPL
 (
mÆloc
, *, (
size_t
 
size
));

589 
_GL_CXXALIAS_RPL
 (
mÆloc
, *, (
size_t
 
size
));

591 
_GL_CXXALIAS_SYS
 (
mÆloc
, *, (
size_t
 
size
));

593 
_GL_CXXALIASWARN
 (
mÆloc
);

594 #ñi‡
deföed
 
GNULIB_POSIXCHECK
 && !
_GL_USE_STDLIB_ALLOC


595 #unde‡
mÆloc


597 
_GL_WARN_ON_USE
 (
mÆloc
, "malloc isÇot POSIX compliantÉverywhere - "

604 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

605 #unde‡
mbtowc


606 
	#mbtowc
 
Ωl_mbtowc


	)

608 
_GL_FUNCDECL_RPL
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

609 
_GL_CXXALIAS_RPL
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

611 
_GL_CXXALIAS_SYS
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

613 
_GL_CXXALIASWARN
 (
mbtowc
);

623 
_GL_FUNCDECL_SYS
 (
mkdãmp
, *, (* ) 
_GL_ARG_NONNULL
 ((1)));

625 
_GL_CXXALIAS_SYS
 (
mkdãmp
, *, (* ));

626 
_GL_CXXALIASWARN
 (
mkdãmp
);

627 #ñi‡
deföed
 
GNULIB_POSIXCHECK


628 #unde‡
mkdãmp


629 #i‡
HAVE_RAW_DECL_MKDTEMP


630 
_GL_WARN_ON_USE
 (
mkdãmp
, "mkdtemp is unportable - "

649 
_GL_FUNCDECL_SYS
 (
mko°emp
, , (* , )

650 
_GL_ARG_NONNULL
 ((1)));

652 
_GL_CXXALIAS_SYS
 (
mko°emp
, , (* , ));

653 
_GL_CXXALIASWARN
 (
mko°emp
);

654 #ñi‡
deföed
 
GNULIB_POSIXCHECK


655 #unde‡
mko°emp


656 #i‡
HAVE_RAW_DECL_MKOSTEMP


657 
_GL_WARN_ON_USE
 (
mko°emp
, "mkostemp is unportable - "

677 
_GL_FUNCDECL_SYS
 (
mko°emps
, ,

679 
_GL_ARG_NONNULL
 ((1)));

681 
_GL_CXXALIAS_SYS
 (
mko°emps
, ,

683 
_GL_CXXALIASWARN
 (
mko°emps
);

684 #ñi‡
deföed
 
GNULIB_POSIXCHECK


685 #unde‡
mko°emps


686 #i‡
HAVE_RAW_DECL_MKOSTEMPS


687 
_GL_WARN_ON_USE
 (
mko°emps
, "mkostemps is unportable - "

703 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

704 
	#mk°emp
 
Ωl_mk°emp


	)

706 
_GL_FUNCDECL_RPL
 (
mk°emp
, , (* ) 
_GL_ARG_NONNULL
 ((1)));

707 
_GL_CXXALIAS_RPL
 (
mk°emp
, , (* ));

710 
_GL_FUNCDECL_SYS
 (
mk°emp
, , (* ) 
_GL_ARG_NONNULL
 ((1)));

712 
_GL_CXXALIAS_SYS
 (
mk°emp
, , (* ));

714 
_GL_CXXALIASWARN
 (
mk°emp
);

715 #ñi‡
deföed
 
GNULIB_POSIXCHECK


716 #unde‡
mk°emp


717 #i‡
HAVE_RAW_DECL_MKSTEMP


718 
_GL_WARN_ON_USE
 (
mk°emp
, "mkstemp is unportable - "

735 
_GL_FUNCDECL_SYS
 (
mk°emps
, , (* , )

736 
_GL_ARG_NONNULL
 ((1)));

738 
_GL_CXXALIAS_SYS
 (
mk°emps
, , (* , ));

739 
_GL_CXXALIASWARN
 (
mk°emps
);

740 #ñi‡
deföed
 
GNULIB_POSIXCHECK


741 #unde‡
mk°emps


742 #i‡
HAVE_RAW_DECL_MKSTEMPS


743 
_GL_WARN_ON_USE
 (
mk°emps
, "mkstemps is unportable - "

752 
_GL_FUNCDECL_SYS
 (
±¢ame
, *, (
fd
));

754 
_GL_CXXALIAS_SYS
 (
±¢ame
, *, (
fd
));

755 
_GL_CXXALIASWARN
 (
±¢ame
);

756 #ñi‡
deföed
 
GNULIB_POSIXCHECK


757 #unde‡
±¢ame


758 #i‡
HAVE_RAW_DECL_PTSNAME


759 
_GL_WARN_ON_USE
 (
±¢ame
, "ptsname isÇotÖortable - "

766 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

767 #unde‡
puãnv


768 
	#puãnv
 
Ωl_puãnv


	)

770 
_GL_FUNCDECL_RPL
 (
puãnv
, , (*
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

771 
_GL_CXXALIAS_RPL
 (
puãnv
, , (*
°rög
));

773 
_GL_CXXALIAS_SYS
 (
puãnv
, , (*
°rög
));

775 
_GL_CXXALIASWARN
 (
puãnv
);

781 #i‚de‡
RAND_MAX


782 
	#RAND_MAX
 2147483647

	)

789 
_GL_FUNCDECL_SYS
 (
øndom_r
, , (
øndom_d©a
 *
buf
, 
öt32_t
 *
ªsu…
)

790 
_GL_ARG_NONNULL
 ((1, 2)));

792 
_GL_CXXALIAS_SYS
 (
øndom_r
, , (
øndom_d©a
 *
buf
, 
öt32_t
 *
ªsu…
));

793 
_GL_CXXALIASWARN
 (
øndom_r
);

794 #ñi‡
deföed
 
GNULIB_POSIXCHECK


795 #unde‡
øndom_r


796 #i‡
HAVE_RAW_DECL_RANDOM_R


797 
_GL_WARN_ON_USE
 (
øndom_r
, "random_r is unportable - "

804 
_GL_FUNCDECL_SYS
 (
§™dom_r
, ,

805 (
£ed
, 
øndom_d©a
 *
ønd_°©e
)

806 
_GL_ARG_NONNULL
 ((2)));

808 
_GL_CXXALIAS_SYS
 (
§™dom_r
, ,

809 (
£ed
, 
øndom_d©a
 *
ønd_°©e
));

810 
_GL_CXXALIASWARN
 (
§™dom_r
);

811 #ñi‡
deföed
 
GNULIB_POSIXCHECK


812 #unde‡
§™dom_r


813 #i‡
HAVE_RAW_DECL_SRANDOM_R


814 
_GL_WARN_ON_USE
 (
§™dom_r
, "srandom_r is unportable - "

821 
_GL_FUNCDECL_SYS
 (
öô°©e_r
, ,

822 (
£ed
, *
buf
, 
size_t
 
buf_size
,

823 
øndom_d©a
 *
ønd_°©e
)

824 
_GL_ARG_NONNULL
 ((2, 4)));

826 
_GL_CXXALIAS_SYS
 (
öô°©e_r
, ,

827 (
£ed
, *
buf
, 
size_t
 
buf_size
,

828 
øndom_d©a
 *
ønd_°©e
));

829 
_GL_CXXALIASWARN
 (
öô°©e_r
);

830 #ñi‡
deföed
 
GNULIB_POSIXCHECK


831 #unde‡
öô°©e_r


832 #i‡
HAVE_RAW_DECL_INITSTATE_R


833 
_GL_WARN_ON_USE
 (
öô°©e_r
, "initstate_r is unportable - "

840 
_GL_FUNCDECL_SYS
 (
£t°©e_r
, ,

841 (*
¨g_°©e
, 
øndom_d©a
 *
ønd_°©e
)

842 
_GL_ARG_NONNULL
 ((1, 2)));

844 
_GL_CXXALIAS_SYS
 (
£t°©e_r
, ,

845 (*
¨g_°©e
, 
øndom_d©a
 *
ønd_°©e
));

846 
_GL_CXXALIASWARN
 (
£t°©e_r
);

847 #ñi‡
deföed
 
GNULIB_POSIXCHECK


848 #unde‡
£t°©e_r


849 #i‡
HAVE_RAW_DECL_SETSTATE_R


850 
_GL_WARN_ON_USE
 (
£t°©e_r
, "setstate_r is unportable - "

858 #i‡!((
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
) \

859 || 
	g_GL_USE_STDLIB_ALLOC
)

860 #unde‡
ªÆloc


861 
	#ªÆloc
 
Ωl_ªÆloc


	)

863 
_GL_FUNCDECL_RPL
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

864 
_GL_CXXALIAS_RPL
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

866 
_GL_CXXALIAS_SYS
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

868 
_GL_CXXALIASWARN
 (
ªÆloc
);

869 #ñi‡
deföed
 
GNULIB_POSIXCHECK
 && !
_GL_USE_STDLIB_ALLOC


870 #unde‡
ªÆloc


872 
_GL_WARN_ON_USE
 (
ªÆloc
, "realloc isÇot POSIX compliantÉverywhere - "

878 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

879 
	#ªÆ∑th
 
Ωl_ªÆ∑th


	)

881 
_GL_FUNCDECL_RPL
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
)

882 
_GL_ARG_NONNULL
 ((1)));

883 
_GL_CXXALIAS_RPL
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
));

886 
_GL_FUNCDECL_SYS
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
)

887 
_GL_ARG_NONNULL
 ((1)));

889 
_GL_CXXALIAS_SYS
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
));

891 
_GL_CXXALIASWARN
 (
ªÆ∑th
);

892 #ñi‡
deföed
 
GNULIB_POSIXCHECK


893 #unde‡
ªÆ∑th


894 #i‡
HAVE_RAW_DECL_REALPATH


895 
_GL_WARN_ON_USE
 (
ªÆ∑th
, "realpath is unportable - use gnulib module "

904 
_GL_FUNCDECL_SYS
 (
Ωm©ch
, , (c⁄° *
ª•⁄£
Ë
_GL_ARG_NONNULL
 ((1)));

906 
_GL_CXXALIAS_SYS
 (
Ωm©ch
, , (c⁄° *
ª•⁄£
));

907 
_GL_CXXALIASWARN
 (
Ωm©ch
);

908 #ñi‡
deföed
 
GNULIB_POSIXCHECK


909 #unde‡
Ωm©ch


910 #i‡
HAVE_RAW_DECL_RPMATCH


911 
_GL_WARN_ON_USE
 (
Ωm©ch
, "rpmatch is unportable - "

920 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

921 #unde‡
£ãnv


922 
	#£ãnv
 
Ωl_£ãnv


	)

924 
_GL_FUNCDECL_RPL
 (
£ãnv
, ,

925 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
)

926 
_GL_ARG_NONNULL
 ((1)));

927 
_GL_CXXALIAS_RPL
 (
£ãnv
, ,

928 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
));

931 
_GL_FUNCDECL_SYS
 (
£ãnv
, ,

932 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
)

933 
_GL_ARG_NONNULL
 ((1)));

935 
_GL_CXXALIAS_SYS
 (
£ãnv
, ,

936 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
));

939 
_GL_CXXALIASWARN
 (
£ãnv
);

941 #ñi‡
deföed
 
GNULIB_POSIXCHECK


942 #unde‡
£ãnv


943 #i‡
HAVE_RAW_DECL_SETENV


944 
_GL_WARN_ON_USE
 (
£ãnv
, "setenv is unportable - "

952 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

953 
	#°πod
 
Ωl_°πod


	)

955 
_GL_FUNCDECL_RPL
 (
°πod
, , (c⁄° *
°r
, **
ídp
)

956 
_GL_ARG_NONNULL
 ((1)));

957 
_GL_CXXALIAS_RPL
 (
°πod
, , (c⁄° *
°r
, **
ídp
));

960 
_GL_FUNCDECL_SYS
 (
°πod
, , (c⁄° *
°r
, **
ídp
)

961 
_GL_ARG_NONNULL
 ((1)));

963 
_GL_CXXALIAS_SYS
 (
°πod
, , (c⁄° *
°r
, **
ídp
));

965 
_GL_CXXALIASWARN
 (
°πod
);

966 #ñi‡
deföed
 
GNULIB_POSIXCHECK


967 #unde‡
°πod


968 #i‡
HAVE_RAW_DECL_STRTOD


969 
_GL_WARN_ON_USE
 (
°πod
, "strtod is unportable - "

984 
_GL_FUNCDECL_SYS
 (
°πﬁl
, ,

985 (c⁄° *
°rög
, **
íd±r
, 
ba£
)

986 
_GL_ARG_NONNULL
 ((1)));

988 
_GL_CXXALIAS_SYS
 (
°πﬁl
, ,

989 (c⁄° *
°rög
, **
íd±r
, 
ba£
));

990 
_GL_CXXALIASWARN
 (
°πﬁl
);

991 #ñi‡
deföed
 
GNULIB_POSIXCHECK


992 #unde‡
°πﬁl


993 #i‡
HAVE_RAW_DECL_STRTOLL


994 
_GL_WARN_ON_USE
 (
°πﬁl
, "strtoll is unportable - "

1009 
_GL_FUNCDECL_SYS
 (
°πouŒ
, ,

1010 (c⁄° *
°rög
, **
íd±r
, 
ba£
)

1011 
_GL_ARG_NONNULL
 ((1)));

1013 
_GL_CXXALIAS_SYS
 (
°πouŒ
, ,

1014 (c⁄° *
°rög
, **
íd±r
, 
ba£
));

1015 
_GL_CXXALIASWARN
 (
°πouŒ
);

1016 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1017 #unde‡
°πouŒ


1018 #i‡
HAVE_RAW_DECL_STRTOULL


1019 
_GL_WARN_ON_USE
 (
°πouŒ
, "strtoull is unportable - "

1028 
_GL_FUNCDECL_SYS
 (
u∆ock±
, , (
fd
));

1030 
_GL_CXXALIAS_SYS
 (
u∆ock±
, , (
fd
));

1031 
_GL_CXXALIASWARN
 (
u∆ock±
);

1032 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1033 #unde‡
u∆ock±


1034 #i‡
HAVE_RAW_DECL_UNLOCKPT


1035 
_GL_WARN_ON_USE
 (
u∆ock±
, "unlockpt isÇotÖortable - "

1043 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1044 #unde‡
un£ãnv


1045 
	#un£ãnv
 
Ωl_un£ãnv


	)

1047 
_GL_FUNCDECL_RPL
 (
un£ãnv
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

1048 
_GL_CXXALIAS_RPL
 (
un£ãnv
, , (c⁄° *
«me
));

1051 
_GL_FUNCDECL_SYS
 (
un£ãnv
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

1053 
_GL_CXXALIAS_SYS
 (
un£ãnv
, , (c⁄° *
«me
));

1056 
_GL_CXXALIASWARN
 (
un£ãnv
);

1058 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1059 #unde‡
un£ãnv


1060 #i‡
HAVE_RAW_DECL_UNSETENV


1061 
_GL_WARN_ON_USE
 (
un£ãnv
, "unsetenv is unportable - "

1069 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1070 #unde‡
w˘omb


1071 
	#w˘omb
 
Ωl_w˘omb


	)

1073 
_GL_FUNCDECL_RPL
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

1074 
_GL_CXXALIAS_RPL
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

1076 
_GL_CXXALIAS_SYS
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

1078 
_GL_CXXALIASWARN
 (
w˘omb
);

	@lib/stdlib.in.h

18 #i‡
__GNUC__
 >= 3

19 @
	gPRAGMA_SYSTEM_HEADER
@

21 @
	gPRAGMA_COLUMNS
@

23 #i‡
deföed
 
__√ed_mÆloc_™d_ˇŒoc


26 #@
INCLUDE_NEXT
@ @
NEXT_STDLIB_H
@

31 #i‚de‡
_
@
GUARD_PREFIX
@
_STDLIB_H


34 #@
INCLUDE_NEXT
@ @
NEXT_STDLIB_H
@

36 #i‚de‡
_
@
GUARD_PREFIX
@
_STDLIB_H


37 
	#_
@
GUARD_PREFIX
@
_STDLIB_H


	)

40 
	~<°ddef.h
>

43 #i‡@
GNULIB_SYSTEM_POSIX
@ && !
deföed
 
WEXITSTATUS


44 
	~<sys/waô.h
>

48 #i‡(@
GNULIB_GETLOADAVG
@ || 
deföed
 
GNULIB_POSIXCHECK
Ë&& @
HAVE_SYS_LOADAVG_H
@

49 
	~<sys/lﬂdavg.h
>

52 #i‡@
GNULIB_RANDOM_R
@

57 #i‡@
HAVE_RANDOM_H
@

58 
	~<øndom.h
>

61 #i‡!@
HAVE_STRUCT_RANDOM_DATA
@ || !@
HAVE_RANDOM_R
@

62 
	~<°döt.h
>

65 #i‡!@
HAVE_STRUCT_RANDOM_DATA
@

68 #i‡!
GNULIB_deföed_°ru˘_øndom_d©a


69 
	søndom_d©a


71 
öt32_t
 *
	mÂå
;

72 
öt32_t
 *
	mΩå
;

73 
öt32_t
 *
	m°©e
;

74 
	mønd_ty≥
;

75 
	mønd_deg
;

76 
	mønd_£p
;

77 
öt32_t
 *
	míd_±r
;

79 
	#GNULIB_deföed_°ru˘_øndom_d©a
 1

	)

84 #i‡(@
GNULIB_MKSTEMP
@ || @
GNULIB_MKSTEMPS
@ || @
GNULIB_GETSUBOPT
@ || 
deföed
 
GNULIB_POSIXCHECK
Ë&& ! deföed 
__GLIBC__
 && !((deföed 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

89 
	~<uni°d.h
>

102 #i‚de‡
EXIT_SUCCESS


103 
	#EXIT_SUCCESS
 0

	)

107 #i‚de‡
EXIT_FAILURE


108 
	#EXIT_FAILURE
 1

	)

109 #ñi‡
EXIT_FAILURE
 != 1

110 #unde‡
EXIT_FAILURE


111 
	#EXIT_FAILURE
 1

	)

115 #i‡@
GNULIB__EXIT
@

118 #i‡!@
HAVE__EXIT
@

119 
_GL_FUNCDECL_SYS
 (
_Exô
, 
_N‹ëu∫
 , (
°©us
));

121 
_GL_CXXALIAS_SYS
 (
_Exô
, , (
°©us
));

122 
_GL_CXXALIASWARN
 (
_Exô
);

123 #ñi‡
deföed
 
GNULIB_POSIXCHECK


124 #unde‡
_Exô


125 #i‡
HAVE_RAW_DECL__EXIT


126 
_GL_WARN_ON_USE
 (
_Exô
, "_Exit is unportable - "

132 #i‡@
GNULIB_ATOLL
@

135 #i‡!@
HAVE_ATOLL
@

136 
_GL_FUNCDECL_SYS
 (
©ﬁl
, , (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

138 
_GL_CXXALIAS_SYS
 (
©ﬁl
, , (c⁄° *
°rög
));

139 
_GL_CXXALIASWARN
 (
©ﬁl
);

140 #ñi‡
deföed
 
GNULIB_POSIXCHECK


141 #unde‡
©ﬁl


142 #i‡
HAVE_RAW_DECL_ATOLL


143 
_GL_WARN_ON_USE
 (
©ﬁl
, "atoll is unportable - "

148 #i‡@
GNULIB_CALLOC_POSIX
@

149 #i‡@
REPLACE_CALLOC
@

150 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

151 #unde‡
ˇŒoc


152 
	#ˇŒoc
 
Ωl_ˇŒoc


	)

154 
_GL_FUNCDECL_RPL
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

155 
_GL_CXXALIAS_RPL
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

157 
_GL_CXXALIAS_SYS
 (
ˇŒoc
, *, (
size_t
 
nmemb
, size_à
size
));

159 
_GL_CXXALIASWARN
 (
ˇŒoc
);

160 #ñi‡
deföed
 
GNULIB_POSIXCHECK


161 #unde‡
ˇŒoc


163 
_GL_WARN_ON_USE
 (
ˇŒoc
, "calloc isÇot POSIX compliantÉverywhere - "

167 #i‡@
GNULIB_CANONICALIZE_FILE_NAME
@

168 #i‡@
REPLACE_CANONICALIZE_FILE_NAME
@

169 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

170 
	#ˇn⁄iˇlize_fûe_«me
 
Ωl_ˇn⁄iˇlize_fûe_«me


	)

172 
_GL_FUNCDECL_RPL
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
)

173 
_GL_ARG_NONNULL
 ((1)));

174 
_GL_CXXALIAS_RPL
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
));

176 #i‡!@
HAVE_CANONICALIZE_FILE_NAME
@

177 
_GL_FUNCDECL_SYS
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
)

178 
_GL_ARG_NONNULL
 ((1)));

180 
_GL_CXXALIAS_SYS
 (
ˇn⁄iˇlize_fûe_«me
, *, (c⁄° *
«me
));

182 
_GL_CXXALIASWARN
 (
ˇn⁄iˇlize_fûe_«me
);

183 #ñi‡
deföed
 
GNULIB_POSIXCHECK


184 #unde‡
ˇn⁄iˇlize_fûe_«me


185 #i‡
HAVE_RAW_DECL_CANONICALIZE_FILE_NAME


186 
_GL_WARN_ON_USE
 (
ˇn⁄iˇlize_fûe_«me
,

192 #i‡@
GNULIB_GETLOADAVG
@

197 #i‡!@
HAVE_DECL_GETLOADAVG
@

198 
_GL_FUNCDECL_SYS
 (
gëlﬂdavg
, , (
lﬂdavg
[], 
√Àm
)

199 
_GL_ARG_NONNULL
 ((1)));

201 
_GL_CXXALIAS_SYS
 (
gëlﬂdavg
, , (
lﬂdavg
[], 
√Àm
));

202 
_GL_CXXALIASWARN
 (
gëlﬂdavg
);

203 #ñi‡
deföed
 
GNULIB_POSIXCHECK


204 #unde‡
gëlﬂdavg


205 #i‡
HAVE_RAW_DECL_GETLOADAVG


206 
_GL_WARN_ON_USE
 (
gëlﬂdavg
, "getloadavg isÇotÖortable - "

211 #i‡@
GNULIB_GETSUBOPT
@

223 #i‡!@
HAVE_GETSUBOPT
@

224 
_GL_FUNCDECL_SYS
 (
gësub›t
, ,

225 (**
›ti⁄p
, *c⁄° *
tokís
, **
vÆuï
)

226 
_GL_ARG_NONNULL
 ((1, 2, 3)));

228 
_GL_CXXALIAS_SYS
 (
gësub›t
, ,

229 (**
›ti⁄p
, *c⁄° *
tokís
, **
vÆuï
));

230 
_GL_CXXALIASWARN
 (
gësub›t
);

231 #ñi‡
deföed
 
GNULIB_POSIXCHECK


232 #unde‡
gësub›t


233 #i‡
HAVE_RAW_DECL_GETSUBOPT


234 
_GL_WARN_ON_USE
 (
gësub›t
, "getsubopt is unportable - "

239 #i‡@
GNULIB_GRANTPT
@

242 #i‡!@
HAVE_GRANTPT
@

243 
_GL_FUNCDECL_SYS
 (
gø¡±
, , (
fd
));

245 
_GL_CXXALIAS_SYS
 (
gø¡±
, , (
fd
));

246 
_GL_CXXALIASWARN
 (
gø¡±
);

247 #ñi‡
deföed
 
GNULIB_POSIXCHECK


248 #unde‡
gø¡±


249 #i‡
HAVE_RAW_DECL_GRANTPT


250 
_GL_WARN_ON_USE
 (
±¢ame
, "grantpt isÇotÖortable - "

259 #i‡@
GNULIB_MALLOC_POSIX
@

260 #i‡@
REPLACE_MALLOC
@

261 #i‡!((
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
) \

262 || 
	g_GL_USE_STDLIB_ALLOC
)

263 #unde‡
mÆloc


264 
	#mÆloc
 
Ωl_mÆloc


	)

266 
_GL_FUNCDECL_RPL
 (
mÆloc
, *, (
size_t
 
size
));

267 
_GL_CXXALIAS_RPL
 (
mÆloc
, *, (
size_t
 
size
));

269 
_GL_CXXALIAS_SYS
 (
mÆloc
, *, (
size_t
 
size
));

271 
_GL_CXXALIASWARN
 (
mÆloc
);

272 #ñi‡
deföed
 
GNULIB_POSIXCHECK
 && !
_GL_USE_STDLIB_ALLOC


273 #unde‡
mÆloc


275 
_GL_WARN_ON_USE
 (
mÆloc
, "malloc isÇot POSIX compliantÉverywhere - "

280 #i‡@
GNULIB_MBTOWC
@

281 #i‡@
REPLACE_MBTOWC
@

282 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

283 #unde‡
mbtowc


284 
	#mbtowc
 
Ωl_mbtowc


	)

286 
_GL_FUNCDECL_RPL
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

287 
_GL_CXXALIAS_RPL
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

289 
_GL_CXXALIAS_SYS
 (
mbtowc
, , (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
));

291 
_GL_CXXALIASWARN
 (
mbtowc
);

294 #i‡@
GNULIB_MKDTEMP
@

300 #i‡!@
HAVE_MKDTEMP
@

301 
_GL_FUNCDECL_SYS
 (
mkdãmp
, *, (* ) 
_GL_ARG_NONNULL
 ((1)));

303 
_GL_CXXALIAS_SYS
 (
mkdãmp
, *, (* ));

304 
_GL_CXXALIASWARN
 (
mkdãmp
);

305 #ñi‡
deföed
 
GNULIB_POSIXCHECK


306 #unde‡
mkdãmp


307 #i‡
HAVE_RAW_DECL_MKDTEMP


308 
_GL_WARN_ON_USE
 (
mkdãmp
, "mkdtemp is unportable - "

313 #i‡@
GNULIB_MKOSTEMP
@

326 #i‡!@
HAVE_MKOSTEMP
@

327 
_GL_FUNCDECL_SYS
 (
mko°emp
, , (* , )

328 
_GL_ARG_NONNULL
 ((1)));

330 
_GL_CXXALIAS_SYS
 (
mko°emp
, , (* , ));

331 
_GL_CXXALIASWARN
 (
mko°emp
);

332 #ñi‡
deföed
 
GNULIB_POSIXCHECK


333 #unde‡
mko°emp


334 #i‡
HAVE_RAW_DECL_MKOSTEMP


335 
_GL_WARN_ON_USE
 (
mko°emp
, "mkostemp is unportable - "

340 #i‡@
GNULIB_MKOSTEMPS
@

354 #i‡!@
HAVE_MKOSTEMPS
@

355 
_GL_FUNCDECL_SYS
 (
mko°emps
, ,

357 
_GL_ARG_NONNULL
 ((1)));

359 
_GL_CXXALIAS_SYS
 (
mko°emps
, ,

361 
_GL_CXXALIASWARN
 (
mko°emps
);

362 #ñi‡
deföed
 
GNULIB_POSIXCHECK


363 #unde‡
mko°emps


364 #i‡
HAVE_RAW_DECL_MKOSTEMPS


365 
_GL_WARN_ON_USE
 (
mko°emps
, "mkostemps is unportable - "

370 #i‡@
GNULIB_MKSTEMP
@

380 #i‡@
REPLACE_MKSTEMP
@

381 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

382 
	#mk°emp
 
Ωl_mk°emp


	)

384 
_GL_FUNCDECL_RPL
 (
mk°emp
, , (* ) 
_GL_ARG_NONNULL
 ((1)));

385 
_GL_CXXALIAS_RPL
 (
mk°emp
, , (* ));

387 #i‡! @
HAVE_MKSTEMP
@

388 
_GL_FUNCDECL_SYS
 (
mk°emp
, , (* ) 
_GL_ARG_NONNULL
 ((1)));

390 
_GL_CXXALIAS_SYS
 (
mk°emp
, , (* ));

392 
_GL_CXXALIASWARN
 (
mk°emp
);

393 #ñi‡
deföed
 
GNULIB_POSIXCHECK


394 #unde‡
mk°emp


395 #i‡
HAVE_RAW_DECL_MKSTEMP


396 
_GL_WARN_ON_USE
 (
mk°emp
, "mkstemp is unportable - "

401 #i‡@
GNULIB_MKSTEMPS
@

412 #i‡!@
HAVE_MKSTEMPS
@

413 
_GL_FUNCDECL_SYS
 (
mk°emps
, , (* , )

414 
_GL_ARG_NONNULL
 ((1)));

416 
_GL_CXXALIAS_SYS
 (
mk°emps
, , (* , ));

417 
_GL_CXXALIASWARN
 (
mk°emps
);

418 #ñi‡
deföed
 
GNULIB_POSIXCHECK


419 #unde‡
mk°emps


420 #i‡
HAVE_RAW_DECL_MKSTEMPS


421 
_GL_WARN_ON_USE
 (
mk°emps
, "mkstemps is unportable - "

426 #i‡@
GNULIB_PTSNAME
@

429 #i‡!@
HAVE_PTSNAME
@

430 
_GL_FUNCDECL_SYS
 (
±¢ame
, *, (
fd
));

432 
_GL_CXXALIAS_SYS
 (
±¢ame
, *, (
fd
));

433 
_GL_CXXALIASWARN
 (
±¢ame
);

434 #ñi‡
deföed
 
GNULIB_POSIXCHECK


435 #unde‡
±¢ame


436 #i‡
HAVE_RAW_DECL_PTSNAME


437 
_GL_WARN_ON_USE
 (
±¢ame
, "ptsname isÇotÖortable - "

442 #i‡@
GNULIB_PUTENV
@

443 #i‡@
REPLACE_PUTENV
@

444 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

445 #unde‡
puãnv


446 
	#puãnv
 
Ωl_puãnv


	)

448 
_GL_FUNCDECL_RPL
 (
puãnv
, , (*
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

449 
_GL_CXXALIAS_RPL
 (
puãnv
, , (*
°rög
));

451 
_GL_CXXALIAS_SYS
 (
puãnv
, , (*
°rög
));

453 
_GL_CXXALIASWARN
 (
puãnv
);

457 #i‡@
GNULIB_RANDOM_R
@

458 #i‡!@
HAVE_RANDOM_R
@

459 #i‚de‡
RAND_MAX


460 
	#RAND_MAX
 2147483647

	)

465 #i‡@
GNULIB_RANDOM_R
@

466 #i‡!@
HAVE_RANDOM_R
@

467 
_GL_FUNCDECL_SYS
 (
øndom_r
, , (
øndom_d©a
 *
buf
, 
öt32_t
 *
ªsu…
)

468 
_GL_ARG_NONNULL
 ((1, 2)));

470 
_GL_CXXALIAS_SYS
 (
øndom_r
, , (
øndom_d©a
 *
buf
, 
öt32_t
 *
ªsu…
));

471 
_GL_CXXALIASWARN
 (
øndom_r
);

472 #ñi‡
deföed
 
GNULIB_POSIXCHECK


473 #unde‡
øndom_r


474 #i‡
HAVE_RAW_DECL_RANDOM_R


475 
_GL_WARN_ON_USE
 (
øndom_r
, "random_r is unportable - "

480 #i‡@
GNULIB_RANDOM_R
@

481 #i‡!@
HAVE_RANDOM_R
@

482 
_GL_FUNCDECL_SYS
 (
§™dom_r
, ,

483 (
£ed
, 
øndom_d©a
 *
ønd_°©e
)

484 
_GL_ARG_NONNULL
 ((2)));

486 
_GL_CXXALIAS_SYS
 (
§™dom_r
, ,

487 (
£ed
, 
øndom_d©a
 *
ønd_°©e
));

488 
_GL_CXXALIASWARN
 (
§™dom_r
);

489 #ñi‡
deföed
 
GNULIB_POSIXCHECK


490 #unde‡
§™dom_r


491 #i‡
HAVE_RAW_DECL_SRANDOM_R


492 
_GL_WARN_ON_USE
 (
§™dom_r
, "srandom_r is unportable - "

497 #i‡@
GNULIB_RANDOM_R
@

498 #i‡!@
HAVE_RANDOM_R
@

499 
_GL_FUNCDECL_SYS
 (
öô°©e_r
, ,

500 (
£ed
, *
buf
, 
size_t
 
buf_size
,

501 
øndom_d©a
 *
ønd_°©e
)

502 
_GL_ARG_NONNULL
 ((2, 4)));

504 
_GL_CXXALIAS_SYS
 (
öô°©e_r
, ,

505 (
£ed
, *
buf
, 
size_t
 
buf_size
,

506 
øndom_d©a
 *
ønd_°©e
));

507 
_GL_CXXALIASWARN
 (
öô°©e_r
);

508 #ñi‡
deföed
 
GNULIB_POSIXCHECK


509 #unde‡
öô°©e_r


510 #i‡
HAVE_RAW_DECL_INITSTATE_R


511 
_GL_WARN_ON_USE
 (
öô°©e_r
, "initstate_r is unportable - "

516 #i‡@
GNULIB_RANDOM_R
@

517 #i‡!@
HAVE_RANDOM_R
@

518 
_GL_FUNCDECL_SYS
 (
£t°©e_r
, ,

519 (*
¨g_°©e
, 
øndom_d©a
 *
ønd_°©e
)

520 
_GL_ARG_NONNULL
 ((1, 2)));

522 
_GL_CXXALIAS_SYS
 (
£t°©e_r
, ,

523 (*
¨g_°©e
, 
øndom_d©a
 *
ønd_°©e
));

524 
_GL_CXXALIASWARN
 (
£t°©e_r
);

525 #ñi‡
deföed
 
GNULIB_POSIXCHECK


526 #unde‡
£t°©e_r


527 #i‡
HAVE_RAW_DECL_SETSTATE_R


528 
_GL_WARN_ON_USE
 (
£t°©e_r
, "setstate_r is unportable - "

534 #i‡@
GNULIB_REALLOC_POSIX
@

535 #i‡@
REPLACE_REALLOC
@

536 #i‡!((
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
) \

537 || 
	g_GL_USE_STDLIB_ALLOC
)

538 #unde‡
ªÆloc


539 
	#ªÆloc
 
Ωl_ªÆloc


	)

541 
_GL_FUNCDECL_RPL
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

542 
_GL_CXXALIAS_RPL
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

544 
_GL_CXXALIAS_SYS
 (
ªÆloc
, *, (*
±r
, 
size_t
 
size
));

546 
_GL_CXXALIASWARN
 (
ªÆloc
);

547 #ñi‡
deföed
 
GNULIB_POSIXCHECK
 && !
_GL_USE_STDLIB_ALLOC


548 #unde‡
ªÆloc


550 
_GL_WARN_ON_USE
 (
ªÆloc
, "realloc isÇot POSIX compliantÉverywhere - "

554 #i‡@
GNULIB_REALPATH
@

555 #i‡@
REPLACE_REALPATH
@

556 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

557 
	#ªÆ∑th
 
Ωl_ªÆ∑th


	)

559 
_GL_FUNCDECL_RPL
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
)

560 
_GL_ARG_NONNULL
 ((1)));

561 
_GL_CXXALIAS_RPL
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
));

563 #i‡!@
HAVE_REALPATH
@

564 
_GL_FUNCDECL_SYS
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
)

565 
_GL_ARG_NONNULL
 ((1)));

567 
_GL_CXXALIAS_SYS
 (
ªÆ∑th
, *, (c⁄° *
«me
, *
ªsﬁved
));

569 
_GL_CXXALIASWARN
 (
ªÆ∑th
);

570 #ñi‡
deföed
 
GNULIB_POSIXCHECK


571 #unde‡
ªÆ∑th


572 #i‡
HAVE_RAW_DECL_REALPATH


573 
_GL_WARN_ON_USE
 (
ªÆ∑th
, "realpath is unportable - use gnulib module "

578 #i‡@
GNULIB_RPMATCH
@

581 #i‡!@
HAVE_RPMATCH
@

582 
_GL_FUNCDECL_SYS
 (
Ωm©ch
, , (c⁄° *
ª•⁄£
Ë
_GL_ARG_NONNULL
 ((1)));

584 
_GL_CXXALIAS_SYS
 (
Ωm©ch
, , (c⁄° *
ª•⁄£
));

585 
_GL_CXXALIASWARN
 (
Ωm©ch
);

586 #ñi‡
deföed
 
GNULIB_POSIXCHECK


587 #unde‡
Ωm©ch


588 #i‡
HAVE_RAW_DECL_RPMATCH


589 
_GL_WARN_ON_USE
 (
Ωm©ch
, "rpmatch is unportable - "

594 #i‡@
GNULIB_SETENV
@

597 #i‡@
REPLACE_SETENV
@

598 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

599 #unde‡
£ãnv


600 
	#£ãnv
 
Ωl_£ãnv


	)

602 
_GL_FUNCDECL_RPL
 (
£ãnv
, ,

603 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
)

604 
_GL_ARG_NONNULL
 ((1)));

605 
_GL_CXXALIAS_RPL
 (
£ãnv
, ,

606 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
));

608 #i‡!@
HAVE_DECL_SETENV
@

609 
_GL_FUNCDECL_SYS
 (
£ãnv
, ,

610 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
)

611 
_GL_ARG_NONNULL
 ((1)));

613 
_GL_CXXALIAS_SYS
 (
£ãnv
, ,

614 (c⁄° *
«me
, c⁄° *
vÆue
, 
ª∂a˚
));

616 #i‡!(@
REPLACE_SETENV
@ && !@
HAVE_DECL_SETENV
@)

617 
_GL_CXXALIASWARN
 (
£ãnv
);

619 #ñi‡
deföed
 
GNULIB_POSIXCHECK


620 #unde‡
£ãnv


621 #i‡
HAVE_RAW_DECL_SETENV


622 
_GL_WARN_ON_USE
 (
£ãnv
, "setenv is unportable - "

627 #i‡@
GNULIB_STRTOD
@

629 #i‡@
REPLACE_STRTOD
@

630 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

631 
	#°πod
 
Ωl_°πod


	)

633 
_GL_FUNCDECL_RPL
 (
°πod
, , (c⁄° *
°r
, **
ídp
)

634 
_GL_ARG_NONNULL
 ((1)));

635 
_GL_CXXALIAS_RPL
 (
°πod
, , (c⁄° *
°r
, **
ídp
));

637 #i‡!@
HAVE_STRTOD
@

638 
_GL_FUNCDECL_SYS
 (
°πod
, , (c⁄° *
°r
, **
ídp
)

639 
_GL_ARG_NONNULL
 ((1)));

641 
_GL_CXXALIAS_SYS
 (
°πod
, , (c⁄° *
°r
, **
ídp
));

643 
_GL_CXXALIASWARN
 (
°πod
);

644 #ñi‡
deföed
 
GNULIB_POSIXCHECK


645 #unde‡
°πod


646 #i‡
HAVE_RAW_DECL_STRTOD


647 
_GL_WARN_ON_USE
 (
°πod
, "strtod is unportable - "

652 #i‡@
GNULIB_STRTOLL
@

661 #i‡!@
HAVE_STRTOLL
@

662 
_GL_FUNCDECL_SYS
 (
°πﬁl
, ,

663 (c⁄° *
°rög
, **
íd±r
, 
ba£
)

664 
_GL_ARG_NONNULL
 ((1)));

666 
_GL_CXXALIAS_SYS
 (
°πﬁl
, ,

667 (c⁄° *
°rög
, **
íd±r
, 
ba£
));

668 
_GL_CXXALIASWARN
 (
°πﬁl
);

669 #ñi‡
deföed
 
GNULIB_POSIXCHECK


670 #unde‡
°πﬁl


671 #i‡
HAVE_RAW_DECL_STRTOLL


672 
_GL_WARN_ON_USE
 (
°πﬁl
, "strtoll is unportable - "

677 #i‡@
GNULIB_STRTOULL
@

686 #i‡!@
HAVE_STRTOULL
@

687 
_GL_FUNCDECL_SYS
 (
°πouŒ
, ,

688 (c⁄° *
°rög
, **
íd±r
, 
ba£
)

689 
_GL_ARG_NONNULL
 ((1)));

691 
_GL_CXXALIAS_SYS
 (
°πouŒ
, ,

692 (c⁄° *
°rög
, **
íd±r
, 
ba£
));

693 
_GL_CXXALIASWARN
 (
°πouŒ
);

694 #ñi‡
deföed
 
GNULIB_POSIXCHECK


695 #unde‡
°πouŒ


696 #i‡
HAVE_RAW_DECL_STRTOULL


697 
_GL_WARN_ON_USE
 (
°πouŒ
, "strtoull is unportable - "

702 #i‡@
GNULIB_UNLOCKPT
@

705 #i‡!@
HAVE_UNLOCKPT
@

706 
_GL_FUNCDECL_SYS
 (
u∆ock±
, , (
fd
));

708 
_GL_CXXALIAS_SYS
 (
u∆ock±
, , (
fd
));

709 
_GL_CXXALIASWARN
 (
u∆ock±
);

710 #ñi‡
deföed
 
GNULIB_POSIXCHECK


711 #unde‡
u∆ock±


712 #i‡
HAVE_RAW_DECL_UNLOCKPT


713 
_GL_WARN_ON_USE
 (
u∆ock±
, "unlockpt isÇotÖortable - "

718 #i‡@
GNULIB_UNSETENV
@

720 #i‡@
REPLACE_UNSETENV
@

721 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

722 #unde‡
un£ãnv


723 
	#un£ãnv
 
Ωl_un£ãnv


	)

725 
_GL_FUNCDECL_RPL
 (
un£ãnv
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

726 
_GL_CXXALIAS_RPL
 (
un£ãnv
, , (c⁄° *
«me
));

728 #i‡!@
HAVE_DECL_UNSETENV
@

729 
_GL_FUNCDECL_SYS
 (
un£ãnv
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

731 
_GL_CXXALIAS_SYS
 (
un£ãnv
, , (c⁄° *
«me
));

733 #i‡!(@
REPLACE_UNSETENV
@ && !@
HAVE_DECL_UNSETENV
@)

734 
_GL_CXXALIASWARN
 (
un£ãnv
);

736 #ñi‡
deföed
 
GNULIB_POSIXCHECK


737 #unde‡
un£ãnv


738 #i‡
HAVE_RAW_DECL_UNSETENV


739 
_GL_WARN_ON_USE
 (
un£ãnv
, "unsetenv is unportable - "

745 #i‡@
GNULIB_WCTOMB
@

746 #i‡@
REPLACE_WCTOMB
@

747 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

748 #unde‡
w˘omb


749 
	#w˘omb
 
Ωl_w˘omb


	)

751 
_GL_FUNCDECL_RPL
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

752 
_GL_CXXALIAS_RPL
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

754 
_GL_CXXALIAS_SYS
 (
w˘omb
, , (*
s
, 
wch¨_t
 
wc
));

756 
_GL_CXXALIASWARN
 (
w˘omb
);

	@lib/str-two-way.h

46 
	~<limôs.h
>

47 
	~<°döt.h
>

67 #i‡
CHAR_BIT
 < 10

68 
	#LONG_NEEDLE_THRESHOLD
 32U

	)

70 
	#LONG_NEEDLE_THRESHOLD
 
SIZE_MAX


	)

73 #i‚de‡
MAX


74 
	#MAX
(
a
, 
b
Ë(◊ < bË? (bË: (a))

	)

77 #i‚de‡
CANON_ELEMENT


78 
	#CANON_ELEMENT
(
c
Ë
	)
c

80 #i‚de‡
CMP_FUNC


81 
	#CMP_FUNC
 
memcmp


	)

110 
size_t


111 
	$¸ôiˇl_Á˘‹iz©i⁄
 (c⁄° *
√edÀ
, 
size_t
 
√edÀ_Àn
,

112 
size_t
 *
≥riod
)

115 
size_t
 
max_suffix
, 
max_suffix_ªv
;

116 
size_t
 
j
;

117 
size_t
 
k
;

118 
size_t
 
p
;

119 
a
, 
b
;

123 i‡(
√edÀ_Àn
 < 3)

125 *
≥riod
 = 1;

126  
√edÀ_Àn
 - 1;

139 
max_suffix
 = 
SIZE_MAX
;

140 
j
 = 0;

141 
k
 = 
p
 = 1;

142 
j
 + 
k
 < 
√edÀ_Àn
)

144 
a
 = 
	`CANON_ELEMENT
 (
√edÀ
[
j
 + 
k
]);

145 
b
 = 
	`CANON_ELEMENT
 (
√edÀ
[
max_suffix
 + 
k
]);

146 i‡(
a
 < 
b
)

149 
j
 +
k
;

150 
k
 = 1;

151 
p
 = 
j
 - 
max_suffix
;

153 i‡(
a
 =
b
)

156 i‡(
k
 !
p
)

157 ++
k
;

160 
j
 +
p
;

161 
k
 = 1;

167 
max_suffix
 = 
j
++;

168 
k
 = 
p
 = 1;

171 *
≥riod
 = 
p
;

174 
max_suffix_ªv
 = 
SIZE_MAX
;

175 
j
 = 0;

176 
k
 = 
p
 = 1;

177 
j
 + 
k
 < 
√edÀ_Àn
)

179 
a
 = 
	`CANON_ELEMENT
 (
√edÀ
[
j
 + 
k
]);

180 
b
 = 
	`CANON_ELEMENT
 (
√edÀ
[
max_suffix_ªv
 + 
k
]);

181 i‡(
b
 < 
a
)

184 
j
 +
k
;

185 
k
 = 1;

186 
p
 = 
j
 - 
max_suffix_ªv
;

188 i‡(
a
 =
b
)

191 i‡(
k
 !
p
)

192 ++
k
;

195 
j
 +
p
;

196 
k
 = 1;

202 
max_suffix_ªv
 = 
j
++;

203 
k
 = 
p
 = 1;

221 i‡(
max_suffix_ªv
 + 1 < 
max_suffix
 + 1)

222  
max_suffix
 + 1;

223 *
≥riod
 = 
p
;

224  
max_suffix_ªv
 + 1;

225 
	}
}

237 
RETURN_TYPE


238 
	$two_way_sh‹t_√edÀ
 (c⁄° *
hay°ack
, 
size_t
 
hay°ack_Àn
,

239 c⁄° *
√edÀ
, 
size_t
 
√edÀ_Àn
)

241 
size_t
 
i
;

242 
size_t
 
j
;

243 
size_t
 
≥riod
;

244 
size_t
 
suffix
;

249 
suffix
 = 
	`¸ôiˇl_Á˘‹iz©i⁄
 (
√edÀ
, 
√edÀ_Àn
, &
≥riod
);

253 i‡(
	`CMP_FUNC
 (
√edÀ
,ÇìdÀ + 
≥riod
, 
suffix
) == 0)

258 
size_t
 
mem‹y
 = 0;

259 
j
 = 0;

260 
	`AVAILABLE
 (
hay°ack
, 
hay°ack_Àn
, 
j
, 
√edÀ_Àn
))

263 
i
 = 
	`MAX
 (
suffix
, 
mem‹y
);

264 
i
 < 
√edÀ_Àn
 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

265 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

266 ++
i
;

267 i‡(
√edÀ_Àn
 <
i
)

270 
i
 = 
suffix
 - 1;

271 
mem‹y
 < 
i
 + 1 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

272 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

273 --
i
;

274 i‡(
i
 + 1 < 
mem‹y
 + 1)

275  (
RETURN_TYPE
Ë(
hay°ack
 + 
j
);

278 
j
 +
≥riod
;

279 
mem‹y
 = 
√edÀ_Àn
 - 
≥riod
;

283 
j
 +
i
 - 
suffix
 + 1;

284 
mem‹y
 = 0;

292 
≥riod
 = 
	`MAX
 (
suffix
, 
√edÀ_Àn
 - suffix) + 1;

293 
j
 = 0;

294 
	`AVAILABLE
 (
hay°ack
, 
hay°ack_Àn
, 
j
, 
√edÀ_Àn
))

297 
i
 = 
suffix
;

298 
i
 < 
√edÀ_Àn
 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

299 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

300 ++
i
;

301 i‡(
√edÀ_Àn
 <
i
)

304 
i
 = 
suffix
 - 1;

305 
i
 !
SIZE_MAX
 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

306 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

307 --
i
;

308 i‡(
i
 =
SIZE_MAX
)

309  (
RETURN_TYPE
Ë(
hay°ack
 + 
j
);

310 
j
 +
≥riod
;

313 
j
 +
i
 - 
suffix
 + 1;

316  
NULL
;

317 
	}
}

331 
RETURN_TYPE


332 
	$two_way_l⁄g_√edÀ
 (c⁄° *
hay°ack
, 
size_t
 
hay°ack_Àn
,

333 c⁄° *
√edÀ
, 
size_t
 
√edÀ_Àn
)

335 
size_t
 
i
;

336 
size_t
 
j
;

337 
size_t
 
≥riod
;

338 
size_t
 
suffix
;

339 
size_t
 
shi·_èbÀ
[1U << 
CHAR_BIT
];

344 
suffix
 = 
	`¸ôiˇl_Á˘‹iz©i⁄
 (
√edÀ
, 
√edÀ_Àn
, &
≥riod
);

350 
i
 = 0; i < 1U << 
CHAR_BIT
; i++)

351 
shi·_èbÀ
[
i
] = 
√edÀ_Àn
;

352 
i
 = 0; i < 
√edÀ_Àn
; i++)

353 
shi·_èbÀ
[
	`CANON_ELEMENT
 (
√edÀ
[
i
])] = 
√edÀ_Àn
 - i - 1;

357 i‡(
	`CMP_FUNC
 (
√edÀ
,ÇìdÀ + 
≥riod
, 
suffix
) == 0)

362 
size_t
 
mem‹y
 = 0;

363 
size_t
 
shi·
;

364 
j
 = 0;

365 
	`AVAILABLE
 (
hay°ack
, 
hay°ack_Àn
, 
j
, 
√edÀ_Àn
))

369 
shi·
 = 
shi·_èbÀ
[
	`CANON_ELEMENT
 (
hay°ack
[
j
 + 
√edÀ_Àn
 - 1])];

370 i‡(0 < 
shi·
)

372 i‡(
mem‹y
 && 
shi·
 < 
≥riod
)

377 
shi·
 = 
√edÀ_Àn
 - 
≥riod
;

379 
mem‹y
 = 0;

380 
j
 +
shi·
;

385 
i
 = 
	`MAX
 (
suffix
, 
mem‹y
);

386 
i
 < 
√edÀ_Àn
 - 1 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

387 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

388 ++
i
;

389 i‡(
√edÀ_Àn
 - 1 <
i
)

392 
i
 = 
suffix
 - 1;

393 
mem‹y
 < 
i
 + 1 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

394 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

395 --
i
;

396 i‡(
i
 + 1 < 
mem‹y
 + 1)

397  (
RETURN_TYPE
Ë(
hay°ack
 + 
j
);

400 
j
 +
≥riod
;

401 
mem‹y
 = 
√edÀ_Àn
 - 
≥riod
;

405 
j
 +
i
 - 
suffix
 + 1;

406 
mem‹y
 = 0;

414 
size_t
 
shi·
;

415 
≥riod
 = 
	`MAX
 (
suffix
, 
√edÀ_Àn
 - suffix) + 1;

416 
j
 = 0;

417 
	`AVAILABLE
 (
hay°ack
, 
hay°ack_Àn
, 
j
, 
√edÀ_Àn
))

421 
shi·
 = 
shi·_èbÀ
[
	`CANON_ELEMENT
 (
hay°ack
[
j
 + 
√edÀ_Àn
 - 1])];

422 i‡(0 < 
shi·
)

424 
j
 +
shi·
;

429 
i
 = 
suffix
;

430 
i
 < 
√edÀ_Àn
 - 1 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

431 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

432 ++
i
;

433 i‡(
√edÀ_Àn
 - 1 <
i
)

436 
i
 = 
suffix
 - 1;

437 
i
 !
SIZE_MAX
 && (
	`CANON_ELEMENT
 (
√edÀ
[i])

438 =
	`CANON_ELEMENT
 (
hay°ack
[
i
 + 
j
])))

439 --
i
;

440 i‡(
i
 =
SIZE_MAX
)

441  (
RETURN_TYPE
Ë(
hay°ack
 + 
j
);

442 
j
 +
≥riod
;

445 
j
 +
i
 - 
suffix
 + 1;

448  
NULL
;

449 
	}
}

451 #unde‡
AVAILABLE


452 #unde‡
CANON_ELEMENT


453 #unde‡
CMP_FUNC


454 #unde‡
MAX


455 #unde‡
RETURN_TYPE


	@lib/strcasestr.c

21 
	~<c⁄fig.h
>

24 
	~<°rög.h
>

26 
	~<˘y≥.h
>

27 
	~<°dboﬁ.h
>

28 
	~<°rögs.h
>

30 
	#TOLOWER
(
Ch
Ë(
	`isuµî
 (ChË? 
	`tﬁowî
 (ChË: (Ch))

	)

33 
	#RETURN_TYPE
 *

	)

34 
	#AVAILABLE
(
h
, 
h_l
, 
j
, 
n_l
) \

35 (!
	`memchr
 ((
h
Ë+ (
h_l
), '\0', (
j
Ë+ (
n_l
) - (h_l)) \

36 && ((
h_l
Ë(
j
Ë+ (
n_l
)))

	)

37 
	#CANON_ELEMENT
(
c
Ë
	`TOLOWER
 (c)

	)

38 
	#CMP_FUNC
(
p1
, 
p2
, 
l
) \

39 
	`°∫ˇ£cmp
 ((c⁄° *Ë(
p1
), (c⁄° *Ë(
p2
), 
l
)

	)

40 
	~"°r-two-way.h
"

46 
	$°rˇ£°r
 (c⁄° *
hay°ack_°¨t
, c⁄° *
√edÀ_°¨t
)

48 c⁄° *
hay°ack
 = 
hay°ack_°¨t
;

49 c⁄° *
√edÀ
 = 
√edÀ_°¨t
;

50 
size_t
 
√edÀ_Àn
;

51 
size_t
 
hay°ack_Àn
;

52 
boﬁ
 
ok
 = 
åue
;

57 *
hay°ack
 && *
√edÀ
)

59 
ok
 &(
	`TOLOWER
 ((Ë*
hay°ack
)

60 =
	`TOLOWER
 ((Ë*
√edÀ
));

61 
hay°ack
++;

62 
√edÀ
++;

64 i‡(*
√edÀ
)

65  
NULL
;

66 i‡(
ok
)

67  (*Ë
hay°ack_°¨t
;

68 
√edÀ_Àn
 = 
√edÀ
 - 
√edÀ_°¨t
;

69 
hay°ack
 = 
hay°ack_°¨t
 + 1;

70 
hay°ack_Àn
 = 
√edÀ_Àn
 - 1;

75 i‡(
√edÀ_Àn
 < 
LONG_NEEDLE_THRESHOLD
)

76  
	`two_way_sh‹t_√edÀ
 ((c⁄° *Ë
hay°ack
,

77 
hay°ack_Àn
,

78 (c⁄° *Ë
√edÀ_°¨t
,

79 
√edÀ_Àn
);

80  
	`two_way_l⁄g_√edÀ
 ((c⁄° *Ë
hay°ack
, 
hay°ack_Àn
,

81 (c⁄° *Ë
√edÀ_°¨t
,

82 
√edÀ_Àn
);

83 
	}
}

85 #unde‡
LONG_NEEDLE_THRESHOLD


	@lib/strchrnul.c

17 
	~<c⁄fig.h
>

20 
	~<°rög.h
>

24 
	$°rch∫ul
 (c⁄° *
s
, 
c_ö
)

31 
	tl⁄gw‹d
;

33 c⁄° *
ch¨_±r
;

34 c⁄° 
l⁄gw‹d
 *
l⁄gw‹d_±r
;

35 
l⁄gw‹d
 
ª≥©ed_⁄e
;

36 
l⁄gw‹d
 
ª≥©ed_c
;

37 
c
;

39 
c
 = (Ë
c_ö
;

40 i‡(!
c
)

41  
	`øwmemchr
 (
s
, 0);

45 
ch¨_±r
 = (c⁄° *Ë
s
;

46 (
size_t
Ë
ch¨_±r
 %  (
l⁄gw‹d
) != 0;

47 ++
ch¨_±r
)

48 i‡(!*
ch¨_±r
 || *ch¨_±∏=
c
)

49  (*Ë
ch¨_±r
;

51 
l⁄gw‹d_±r
 = (c⁄° 
l⁄gw‹d
 *Ë
ch¨_±r
;

59 
ª≥©ed_⁄e
 = 0x01010101;

60 
ª≥©ed_c
 = 
c
 | (c << 8);

61 
ª≥©ed_c
 |=Ñepeated_c << 16;

62 i‡(0xffffffffU < (
l⁄gw‹d
) -1)

64 
ª≥©ed_⁄e
 |=Ñepeated_one << 31 << 1;

65 
ª≥©ed_c
 |=Ñepeated_c << 31 << 1;

66 i‡(8 <  (
l⁄gw‹d
))

68 
size_t
 
i
;

70 
i
 = 64; i <  (
l⁄gw‹d
) * 8; i *= 2)

72 
ª≥©ed_⁄e
 |ª≥©ed_⁄ê<< 
i
;

73 
ª≥©ed_c
 |ª≥©ed_¯<< 
i
;

119 
l⁄gw‹d
 
l⁄gw‹d1
 = *
l⁄gw‹d_±r
 ^ 
ª≥©ed_c
;

120 
l⁄gw‹d
 
l⁄gw‹d2
 = *
l⁄gw‹d_±r
;

122 i‡(((((
l⁄gw‹d1
 - 
ª≥©ed_⁄e
) & ~longword1)

123 | ((
l⁄gw‹d2
 - 
ª≥©ed_⁄e
) & ~longword2))

124 & (
ª≥©ed_⁄e
 << 7)) != 0)

126 
l⁄gw‹d_±r
++;

129 
ch¨_±r
 = (c⁄° *Ë
l⁄gw‹d_±r
;

138 
ch¨_±r
 = (*Ë
l⁄gw‹d_±r
;

139 *
ch¨_±r
 && (*ch¨_±∏!
c
))

140 
ch¨_±r
++;

141  (*Ë
ch¨_±r
;

142 
	}
}

	@lib/streq.h

21 #i‚de‡
_GL_STREQ_H


22 
	#_GL_STREQ_H


	)

24 
	~<°rög.h
>

34 #i‡
deföed
 (
__GNUC__
Ë&& deföed (
__OPTIMIZE__
)

36 
ölöe
 

37 
	$°ªq9
 (c⁄° *
s1
, c⁄° *
s2
)

39  
	`°rcmp
 (
s1
 + 9, 
s2
 + 9) == 0;

40 
	}
}

42 
ölöe
 

43 
	$°ªq8
 (c⁄° *
s1
, c⁄° *
s2
, 
s28
)

45 i‡(
s1
[8] =
s28
)

47 i‡(
s28
 == 0)

50  
	`°ªq9
 (
s1
, 
s2
);

54 
	}
}

56 
ölöe
 

57 
	$°ªq7
 (c⁄° *
s1
, c⁄° *
s2
, 
s27
, 
s28
)

59 i‡(
s1
[7] =
s27
)

61 i‡(
s27
 == 0)

64  
	`°ªq8
 (
s1
, 
s2
, 
s28
);

68 
	}
}

70 
ölöe
 

71 
	$°ªq6
 (c⁄° *
s1
, c⁄° *
s2
, 
s26
, 
s27
, 
s28
)

73 i‡(
s1
[6] =
s26
)

75 i‡(
s26
 == 0)

78  
	`°ªq7
 (
s1
, 
s2
, 
s27
, 
s28
);

82 
	}
}

84 
ölöe
 

85 
	$°ªq5
 (c⁄° *
s1
, c⁄° *
s2
, 
s25
, 
s26
, 
s27
, 
s28
)

87 i‡(
s1
[5] =
s25
)

89 i‡(
s25
 == 0)

92  
	`°ªq6
 (
s1
, 
s2
, 
s26
, 
s27
, 
s28
);

96 
	}
}

98 
ölöe
 

99 
	$°ªq4
 (c⁄° *
s1
, c⁄° *
s2
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

101 i‡(
s1
[4] =
s24
)

103 i‡(
s24
 == 0)

106  
	`°ªq5
 (
s1
, 
s2
, 
s25
, 
s26
, 
s27
, 
s28
);

110 
	}
}

112 
ölöe
 

113 
	$°ªq3
 (c⁄° *
s1
, c⁄° *
s2
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

115 i‡(
s1
[3] =
s23
)

117 i‡(
s23
 == 0)

120  
	`°ªq4
 (
s1
, 
s2
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
);

124 
	}
}

126 
ölöe
 

127 
	$°ªq2
 (c⁄° *
s1
, c⁄° *
s2
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

129 i‡(
s1
[2] =
s22
)

131 i‡(
s22
 == 0)

134  
	`°ªq3
 (
s1
, 
s2
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
);

138 
	}
}

140 
ölöe
 

141 
	$°ªq1
 (c⁄° *
s1
, c⁄° *
s2
, 
s21
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

143 i‡(
s1
[1] =
s21
)

145 i‡(
s21
 == 0)

148  
	`°ªq2
 (
s1
, 
s2
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
);

152 
	}
}

154 
ölöe
 

155 
	$°ªq0
 (c⁄° *
s1
, c⁄° *
s2
, 
s20
, 
s21
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

157 i‡(
s1
[0] =
s20
)

159 i‡(
s20
 == 0)

162  
	`°ªq1
 (
s1
, 
s2
, 
s21
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
);

166 
	}
}

168 
	#STREQ
(
s1
,
s2
,
s20
,
s21
,
s22
,
s23
,
s24
,
s25
,
s26
,
s27
,
s28
) \

169 
	`°ªq0
 (
s1
, 
s2
, 
s20
, 
s21
, 
s22
, 
s23
, 
s24
, 
s25
, 
s26
, 
s27
, 
s28
)

	)

173 
	#STREQ
(
s1
,
s2
,
s20
,
s21
,
s22
,
s23
,
s24
,
s25
,
s26
,
s27
,
s28
) \

174 (
	`°rcmp
 (
s1
, 
s2
Ë=0)

	)

	@lib/strerror-override.c

20 
	~<c⁄fig.h
>

22 
	~"°ªº‹-ovîride.h
"

24 
	~<î∫o.h
>

26 #i‡
GNULIB_deföed_ESOCK


27 #i‡
HAVE_WINSOCK2_H


28 
	~<wösock2.h
>

35 
	$°ªº‹_ovîride
 (
î∫um
)

38 
î∫um
)

40 #i‡
REPLACE_STRERROR_0


45 #i‡
GNULIB_deföed_ETXTBSY


46 
ETXTBSY
:

50 #i‡
GNULIB_deföed_ESOCK


52 
EINPROGRESS
:

54 
EALREADY
:

56 
ENOTSOCK
:

58 
EDESTADDRREQ
:

60 
EMSGSIZE
:

62 
EPROTOTYPE
:

64 
ENOPROTOOPT
:

66 
EPROTONOSUPPORT
:

68 
ESOCKTNOSUPPORT
:

70 
EOPNOTSUPP
:

72 
EPFNOSUPPORT
:

74 
EAFNOSUPPORT
:

76 
EADDRINUSE
:

78 
EADDRNOTAVAIL
:

80 
ENETDOWN
:

82 
ENETUNREACH
:

84 
ENETRESET
:

86 
ECONNABORTED
:

88 
ECONNRESET
:

90 
ENOBUFS
:

92 
EISCONN
:

94 
ENOTCONN
:

96 
ESHUTDOWN
:

98 
ETOOMANYREFS
:

100 
ETIMEDOUT
:

102 
ECONNREFUSED
:

104 
ELOOP
:

106 
EHOSTDOWN
:

108 
EHOSTUNREACH
:

110 
EPROCLIM
:

112 
EUSERS
:

114 
EDQUOT
:

116 
ESTALE
:

118 
EREMOTE
:

120 #i‡
HAVE_WINSOCK2_H


124 
WSA_OPERATION_ABORTED
:

126 
WSA_IO_INCOMPLETE
:

128 
WSA_IO_PENDING
:

173 
WSASYSNOTREADY
:

175 
WSAVERNOTSUPPORTED
:

177 
WSANOTINITIALISED
:

179 
WSAEDISCON
:

181 
WSAENOMORE
: 
WSA_E_NO_MORE
:

183 
WSAECANCELLED
: 
WSA_E_CANCELLED
:

185 
WSAEINVALIDPROCTABLE
:

187 
WSAEINVALIDPROVIDER
:

189 
WSAEPROVIDERFAILEDINIT
:

191 
WSASYSCALLFAILURE
:

193 
WSASERVICE_NOT_FOUND
:

195 
WSATYPE_NOT_FOUND
:

197 
WSAEREFUSED
:

199 
WSAHOST_NOT_FOUND
:

201 
WSATRY_AGAIN
:

203 
WSANO_RECOVERY
:

205 
WSANO_DATA
:

211 #i‡
GNULIB_deföed_ENOMSG


212 
ENOMSG
:

216 #i‡
GNULIB_deföed_EIDRM


217 
EIDRM
:

221 #i‡
GNULIB_deföed_ENOLINK


222 
ENOLINK
:

226 #i‡
GNULIB_deföed_EPROTO


227 
EPROTO
:

231 #i‡
GNULIB_deföed_EMULTIHOP


232 
EMULTIHOP
:

236 #i‡
GNULIB_deföed_EBADMSG


237 
EBADMSG
:

241 #i‡
GNULIB_deföed_EOVERFLOW


242 
EOVERFLOW
:

246 #i‡
GNULIB_deföed_ENOTSUP


247 
ENOTSUP
:

251 #i‡
GNULIB_deföed_ENETRESET


252 
ENETRESET
:

256 #i‡
GNULIB_deföed_ECONNABORTED


257 
ECONNABORTED
:

261 #i‡
GNULIB_deföed_ESTALE


262 
ESTALE
:

266 #i‡
GNULIB_deföed_EDQUOT


267 
EDQUOT
:

271 #i‡
GNULIB_deföed_ECANCELED


272 
ECANCELED
:

277  
NULL
;

279 
	}
}

	@lib/strerror-override.h

18 #i‚de‡
_GL_STRERROR_OVERRIDE_H


19 
	#_GL_STRERROR_OVERRIDE_H


	)

21 
	~<î∫o.h
>

22 
	~<°ddef.h
>

27 
	#STACKBUF_LEN
 256

	)

31 #i‡
REPLACE_STRERROR_0
 \

32 || 
	gGNULIB_deföed_ETXTBSY
 \

33 || 
	gGNULIB_deföed_ESOCK
 \

34 || 
	gGNULIB_deföed_ENOMSG
 \

35 || 
	gGNULIB_deföed_EIDRM
 \

36 || 
	gGNULIB_deföed_ENOLINK
 \

37 || 
	gGNULIB_deföed_EPROTO
 \

38 || 
	gGNULIB_deföed_EMULTIHOP
 \

39 || 
	gGNULIB_deföed_EBADMSG
 \

40 || 
	gGNULIB_deföed_EOVERFLOW
 \

41 || 
	gGNULIB_deföed_ENOTSUP
 \

42 || 
	gGNULIB_deföed_ENETRESET
 \

43 || 
	gGNULIB_deföed_ECONNABORTED
 \

44 || 
	gGNULIB_deföed_ESTALE
 \

45 || 
	gGNULIB_deföed_EDQUOT
 \

46 || 
GNULIB_deföed_ECANCELED


47 c⁄° *
°ªº‹_ovîride
 (
î∫um
);

49 
	#°ªº‹_ovîride
(
ign‹ed
Ë
NULL


	)

	@lib/strerror.c

18 
	~<c⁄fig.h
>

21 
	~<°rög.h
>

23 
	~<î∫o.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

28 
	~"öçr›s.h
"

29 
	~"°ªº‹-ovîride.h
"

30 
	~"vîify.h
"

33 #unde‡
•rötf


36 
	$°ªº‹
 (
n
)

37 #unde‡
°ªº‹


39 
buf
[
STACKBUF_LEN
];

40 
size_t
 
Àn
;

44 c⁄° *
msg
 = 
	`°ªº‹_ovîride
 (
n
);

45 i‡(
msg
)

46  (*Ë
msg
;

48 
msg
 = 
	`°ªº‹
 (
n
);

55 i‡(!
msg
 || !*msg)

57 c⁄° 
fmt
[] = "UnknownÉrror %d";

58 
	`vîify
 ( 
buf
 > (
fmt
Ë+ 
	`INT_STRLEN_BOUND
 (
n
));

59 
	`•rötf
 (
buf
, 
fmt
, 
n
);

60 
î∫o
 = 
EINVAL
;

61  
buf
;

65 
Àn
 = 
	`°æí
 (
msg
);

66 i‡( 
buf
 <
Àn
)

67 
	`ab‹t
 ();

69  
	`mem˝y
 (
buf
, 
msg
, 
Àn
 + 1);

70 
	}
}

	@lib/strerror_r.c

20 
	~<c⁄fig.h
>

23 
	#_NETBSD_SOURCE
 1

	)

26 
	~<°rög.h
>

28 
	~<î∫o.h
>

29 
	~<°dio.h
>

30 
	~<°dlib.h
>

32 
	~"°ªº‹-ovîride.h
"

34 #i‡(
__GLIBC__
 >2 || 
deföed
 
__UCLIBC__
 || deföed 
__CYGWIN__
Ë&& 
HAVE___XPG_STRERROR_R


36 
	#USE_XPG_STRERROR_R
 1

	)

38 #ñi‡
HAVE_DECL_STRERROR_R
 && !(
__GLIBC__
 >2 || 
deföed
 
__UCLIBC__
 || deföed 
__CYGWIN__
)

43 
	~<limôs.h
>

45 
	#USE_SYSTEM_STRERROR_R
 1

	)

52 #unde‡
°ªº‹


54 
	#USE_SYSTEM_STRERROR
 1

	)

56 #i‡
deföed
 
__NëBSD__
 || deföed 
__hpux
 || ((deföed 
_WIN32
 || deföed 
__WIN32__
Ë&& !deföed 
__CYGWIN__
Ë|| deföed 
__sgi
 || (deföed 
__sun
 && !deföed 
_LP64
) || defined __CYGWIN__

61 #i‡
HAVE_CATGETS


62 
	~<∆_ty≥s.h
>

67 #i‡
deföed
 
__hpux
 || deföed 
__sgi


68 
sys_√º
;

69 *
sys_îæi°
[];

73 #i‡
deföed
 
__sun
 && !deföed 
_LP64


74 
sys_√º
;

79 
	~"g…hªad/lock.h
"

83 
	$gl_lock_deföe_öôülized
(, 
°ªº‹_lock
)

92 
	$ß„_c›y
 (*
buf
, 
size_t
 
buÊí
, c⁄° *
msg
)

94 
size_t
 
Àn
 = 
	`°æí
 (
msg
);

95 
ªt
;

97 i‡(
Àn
 < 
buÊí
)

101 
	`mem˝y
 (
buf
, 
msg
, 
Àn
 + 1);

102 
ªt
 = 0;

106 
	`mem˝y
 (
buf
, 
msg
, 
buÊí
 - 1);

107 
buf
[
buÊí
 - 1] = '\0';

108 
ªt
 = 
ERANGE
;

110  
ªt
;

111 
	}
}

115 
	$°ªº‹_r
 (
î∫um
, *
buf
, 
size_t
 
buÊí
)

116 #unde‡
°ªº‹_r


120 i‡(
buÊí
 <= 1)

122 i‡(
buÊí
)

123 *
buf
 = '\0';

124  
ERANGE
;

126 *
buf
 = '\0';

130 c⁄° *
msg
 = 
	`°ªº‹_ovîride
 (
î∫um
);

132 i‡(
msg
)

133  
	`ß„_c›y
 (
buf
, 
buÊí
, 
msg
);

137 
ªt
;

138 
ßved_î∫o
 = 
î∫o
;

140 #i‡
USE_XPG_STRERROR_R


143 
	`__xpg_°ªº‹_r
 (
î∫um
, *
buf
, 
size_t
 
buÊí
);

145 
ªt
 = 
	`__xpg_°ªº‹_r
 (
î∫um
, 
buf
, 
buÊí
);

146 i‡(
ªt
 < 0)

147 
ªt
 = 
î∫o
;

148 i‡(!*
buf
)

153 
	`ß„_c›y
 (
buf
, 
buÊí
, 
	`°ªº‹_r
 (
î∫um
, buf, buflen));

157 #ñi‡
USE_SYSTEM_STRERROR_R


159 i‡(
buÊí
 > 
INT_MAX
)

160 
buÊí
 = 
INT_MAX
;

162 #ifde‡
__hpux


166 
°ackbuf
[80];

168 i‡(
buÊí
 <  
°ackbuf
)

170 
ªt
 = 
	`°ªº‹_r
 (
î∫um
, 
°ackbuf
,  stackbuf);

171 i‡(
ªt
 == 0)

172 
ªt
 = 
	`ß„_c›y
 (
buf
, 
buÊí
, 
°ackbuf
);

175 
ªt
 = 
	`°ªº‹_r
 (
î∫um
, 
buf
, 
buÊí
);

178 
ªt
 = 
	`°ªº‹_r
 (
î∫um
, 
buf
, 
buÊí
);

181 i‡(
ªt
 < 0)

182 
ªt
 = 
î∫o
;

185 #ifde‡
_AIX


188 i‡(!
ªt
 && 
	`°æí
 (
buf
Ë=
buÊí
 - 1)

190 
°ackbuf
[
STACKBUF_LEN
];

191 
size_t
 
Àn
;

192 
	`°ªº‹_r
 (
î∫um
, 
°ackbuf
,  stackbuf);

193 
Àn
 = 
	`°æí
 (
°ackbuf
);

195 i‡(
Àn
 + 1 = 
°ackbuf
)

196 
	`ab‹t
 ();

197 i‡(
buÊí
 <
Àn
)

198 
ªt
 = 
ERANGE
;

207 i‡(
ªt
 =
ERANGE
 && 
	`°æí
 (
buf
Ë< 
buÊí
 - 1)

209 
°ackbuf
[
STACKBUF_LEN
];

212 i‡(
	`°ªº‹_r
 (
î∫um
, 
°ackbuf
,  sèckbufË=
ERANGE
)

213 
	`ab‹t
 ();

214 
	`ß„_c›y
 (
buf
, 
buÊí
, 
°ackbuf
);

223 #i‡
deföed
 
__NëBSD__
 || deföed 
__hpux
 || ((deföed 
_WIN32
 || deföed 
__WIN32__
Ë&& !deföed 
__CYGWIN__
) || defined __CYGWIN__

230 i‡(
î∫um
 >0 &&Éºnum < 
sys_√º
)

232 #i‡
HAVE_CATGETS
 && (
deföed
 
__NëBSD__
 || deföed 
__hpux
)

233 #i‡
deföed
 
__NëBSD__


234 
∆_ˇtd
 
ˇtd
 = 
	`ˇt›í
 ("libc", 
NL_CAT_LOCALE
);

235 c⁄° *
îrmsg
 =

236 (
ˇtd
 !(
∆_ˇtd
)-1

237 ? 
	`ˇtgës
 (
ˇtd
, 1, 
î∫um
, 
sys_îæi°
[errnum])

238 : 
sys_îæi°
[
î∫um
]);

240 #i‡
deföed
 
__hpux


241 
∆_ˇtd
 
ˇtd
 = 
	`ˇt›í
 ("≥º‹", 
NL_CAT_LOCALE
);

242 c⁄° *
îrmsg
 =

243 (
ˇtd
 !(
∆_ˇtd
)-1

244 ? 
	`ˇtgës
 (
ˇtd
, 1, 1 + 
î∫um
, 
sys_îæi°
[errnum])

245 : 
sys_îæi°
[
î∫um
]);

248 c⁄° *
îrmsg
 = 
sys_îæi°
[
î∫um
];

250 i‡(
îrmsg
 =
NULL
 || *errmsg == '\0')

251 
ªt
 = 
EINVAL
;

253 
ªt
 = 
	`ß„_c›y
 (
buf
, 
buÊí
, 
îrmsg
);

254 #i‡
HAVE_CATGETS
 && (
deföed
 
__NëBSD__
 || deföed 
__hpux
)

255 i‡(
ˇtd
 !(
∆_ˇtd
)-1)

256 
	`ˇt˛o£
 (
ˇtd
);

260 
ªt
 = 
EINVAL
;

262 #ñi‡
deföed
 
__sgi
 || (deföed 
__sun
 && !deföed 
_LP64
)

266 i‡(
î∫um
 >0 &&Éºnum < 
sys_√º
)

268 *
îrmsg
 = 
	`°ªº‹
 (
î∫um
);

270 i‡(
îrmsg
 =
NULL
 || *errmsg == '\0')

271 
ªt
 = 
EINVAL
;

273 
ªt
 = 
	`ß„_c›y
 (
buf
, 
buÊí
, 
îrmsg
);

276 
ªt
 = 
EINVAL
;

280 
	`gl_lock_lock
 (
°ªº‹_lock
);

283 *
îrmsg
 = 
	`°ªº‹
 (
î∫um
);

288 i‡(
îrmsg
 =
NULL
 || *errmsg == '\0')

289 
ªt
 = 
EINVAL
;

291 
ªt
 = 
	`ß„_c›y
 (
buf
, 
buÊí
, 
îrmsg
);

294 
	`gl_lock_u∆ock
 (
°ªº‹_lock
);

300 i‡(
ªt
 =
EINVAL
 && !*
buf
)

301 
	`¢¥ötf
 (
buf
, 
buÊí
, "Unknow¿îr‹ %d", 
î∫um
);

303 
î∫o
 = 
ßved_î∫o
;

304  
ªt
;

306 
	}
}

	@lib/string.h

22 #i‚de‡
_GL_STRING_H


24 #i‡
__GNUC__
 >= 3

25 #¥agm®
GCC
 
sy°em_hódî


30 #ö˛ude_√xà<
°rög
.
h
>

32 #i‚de‡
_GL_STRING_H


33 
	#_GL_STRING_H


	)

36 
	~<°ddef.h
>

39 #i‡0 && 
deföed
 
__MúBSD__


40 
	~<wch¨.h
>

45 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 96)

46 
	#_GL_ATTRIBUTE_PURE
 
	`__©åibuã__
 ((
__puª__
))

	)

48 
	#_GL_ATTRIBUTE_PURE


	)

53 #i‡(0 || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__NëBSD__
 \

54 && ! 
deföed
 
	g__GLIBC__


55 
	~<uni°d.h
>

59 #i‚de‡
_GL_CXXDEFS_H


60 
	#_GL_CXXDEFS_H


	)

123 #i‡
deföed
 
__˝lu•lus


124 
	#_GL_EXTERN_C
 "C"

	)

126 
	#_GL_EXTERN_C
 

	)

136 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

137 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

138 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

139 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

148 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

149 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

157 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

158 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

159 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


160 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

161 
«me•a˚
 
GNULIB_NAMESPACE
 \

163 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

165 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

167 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

168 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

176 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


177 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

178 
«me•a˚
 
GNULIB_NAMESPACE
 \

180 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

181 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

183 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

185 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

186 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

196 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


203 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

204 
«me•a˚
 
GNULIB_NAMESPACE
 \

206 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

208 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

210 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

211 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

219 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


220 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

221 
«me•a˚
 
GNULIB_NAMESPACE
 \

223 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

224 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

226 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

228 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

229 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

238 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


244 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

245 
«me•a˚
 
GNULIB_NAMESPACE
 \

247 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

248 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

249 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

251 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

253 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

254 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

261 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


262 
	#_GL_CXXALIASWARN
(
func
) \

263 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

264 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

265 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

268 #i‡!
__OPTIMIZE__


269 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

270 
	`_GL_WARN_ON_USE
 (
func
, \

272 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

273 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


274 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

275 
	`__ty≥of__
 (
func
Ë
	)
func

277 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

278 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

281 
	#_GL_CXXALIASWARN
(
func
) \

282 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

288 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


289 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

290 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

291 
GNULIB_NAMESPACE
)

	)

292 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

293 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

296 #i‡!
__OPTIMIZE__


297 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

298 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

300 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

301 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


302 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

303 
	`__ty≥of__
 (
func
Ë
	)
func

305 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

306 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

309 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

310 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

319 #i‚de‡
_GL_ARG_NONNULL


320 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

321 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

323 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

328 #i‚de‡
_GL_WARN_ON_USE


330 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

332 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

333 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

334 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


336 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

337 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

339 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

340 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

350 #i‚de‡
_GL_WARN_ON_USE_CXX


351 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

352 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

353 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

354 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

355 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


357 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

358 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

360 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

361 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

367 #i‚de‡
_GL_WARN_EXTERN_C


368 #i‡
deföed
 
__˝lu•lus


369 
	#_GL_WARN_EXTERN_C
 "C"

	)

371 
	#_GL_WARN_EXTERN_C
 

	)

379 
_GL_FUNCDECL_SYS
 (
ff¶
, , (
i
));

381 
_GL_CXXALIAS_SYS
 (
ff¶
, , (
i
));

382 
_GL_CXXALIASWARN
 (
ff¶
);

383 #ñi‡
deföed
 
GNULIB_POSIXCHECK


384 #unde‡
ff¶


385 #i‡
HAVE_RAW_DECL_FFSL


386 
_GL_WARN_ON_USE
 (
ff¶
, "ffsl isÇotÖortable - useÅhe ffsl module");

394 
_GL_FUNCDECL_SYS
 (
ff¶l
, , (
i
));

396 
_GL_CXXALIAS_SYS
 (
ff¶l
, , (
i
));

397 
_GL_CXXALIASWARN
 (
ff¶l
);

398 #ñi‡
deföed
 
GNULIB_POSIXCHECK


399 #unde‡
ff¶l


400 #i‡
HAVE_RAW_DECL_FFSLL


401 
_GL_WARN_ON_USE
 (
ff¶l
, "ffsll isÇotÖortable - useÅhe ffsll module");

409 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

410 
	#memchr
 
Ωl_memchr


	)

412 
_GL_FUNCDECL_RPL
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

413 
_GL_ATTRIBUTE_PURE


414 
_GL_ARG_NONNULL
 ((1)));

415 
_GL_CXXALIAS_RPL
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

418 
_GL_FUNCDECL_SYS
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

419 
_GL_ATTRIBUTE_PURE


420 
_GL_ARG_NONNULL
 ((1)));

425 
_GL_CXXALIAS_SYS_CAST2
 (
memchr
,

426 *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
),

427 c⁄° *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

429 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

430 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

431 
_GL_CXXALIASWARN1
 (
memchr
, *, (*
__s
, 
__c
, 
size_t
 
__n
));

432 
_GL_CXXALIASWARN1
 (
memchr
, const *,

433 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

435 
_GL_CXXALIASWARN
 (
memchr
);

437 #ñi‡
deföed
 
GNULIB_POSIXCHECK


438 #unde‡
memchr


440 
_GL_WARN_ON_USE
 (
memchr
, "memchr hasÖlatform-specific bugs - "

447 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

448 
	#memmem
 
Ωl_memmem


	)

450 
_GL_FUNCDECL_RPL
 (
memmem
, *,

451 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

452 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
)

453 
_GL_ATTRIBUTE_PURE


454 
_GL_ARG_NONNULL
 ((1, 3)));

455 
_GL_CXXALIAS_RPL
 (
memmem
, *,

456 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

457 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
));

460 
_GL_FUNCDECL_SYS
 (
memmem
, *,

461 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

462 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
)

463 
_GL_ATTRIBUTE_PURE


464 
_GL_ARG_NONNULL
 ((1, 3)));

466 
_GL_CXXALIAS_SYS
 (
memmem
, *,

467 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

468 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
));

470 
_GL_CXXALIASWARN
 (
memmem
);

471 #ñi‡
deföed
 
GNULIB_POSIXCHECK


472 #unde‡
memmem


473 #i‡
HAVE_RAW_DECL_MEMMEM


474 
_GL_WARN_ON_USE
 (
memmem
, "memmem is unportableánd often quadratic - "

484 
_GL_FUNCDECL_SYS
 (
memp˝y
, *,

485 (*
ª°ri˘
 
__de°
, c⁄° *ª°ri˘ 
__§c
,

486 
size_t
 
__n
)

487 
_GL_ARG_NONNULL
 ((1, 2)));

489 
_GL_CXXALIAS_SYS
 (
memp˝y
, *,

490 (*
ª°ri˘
 
__de°
, c⁄° *ª°ri˘ 
__§c
,

491 
size_t
 
__n
));

492 
_GL_CXXALIASWARN
 (
memp˝y
);

493 #ñi‡
deföed
 
GNULIB_POSIXCHECK


494 #unde‡
memp˝y


495 #i‡
HAVE_RAW_DECL_MEMPCPY


496 
_GL_WARN_ON_USE
 (
memp˝y
, "mempcpy is unportable - "

504 
_GL_FUNCDECL_SYS
 (
memrchr
, *, (c⁄° *, , 
size_t
)

505 
_GL_ATTRIBUTE_PURE


506 
_GL_ARG_NONNULL
 ((1)));

511 
_GL_CXXALIAS_SYS_CAST2
 (
memrchr
,

512 *, (c⁄° *, , 
size_t
),

513 c⁄° *, (c⁄° *, , 
size_t
));

514 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

515 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

516 
_GL_CXXALIASWARN1
 (
memrchr
, *, (*, , 
size_t
));

517 
_GL_CXXALIASWARN1
 (
memrchr
, c⁄° *, (c⁄° *, , 
size_t
));

519 
_GL_CXXALIASWARN
 (
memrchr
);

521 #ñi‡
deföed
 
GNULIB_POSIXCHECK


522 #unde‡
memrchr


523 #i‡
HAVE_RAW_DECL_MEMRCHR


524 
_GL_WARN_ON_USE
 (
memrchr
, "memrchr is unportable - "

534 
_GL_FUNCDECL_SYS
 (
øwmemchr
, *, (c⁄° *
__s
, 
__c_ö
)

535 
_GL_ATTRIBUTE_PURE


536 
_GL_ARG_NONNULL
 ((1)));

541 
_GL_CXXALIAS_SYS_CAST2
 (
øwmemchr
,

542 *, (c⁄° *
__s
, 
__c_ö
),

543 c⁄° *, (c⁄° *
__s
, 
__c_ö
));

544 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

545 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

546 
_GL_CXXALIASWARN1
 (
øwmemchr
, *, (*
__s
, 
__c_ö
));

547 
_GL_CXXALIASWARN1
 (
øwmemchr
, c⁄° *, (c⁄° *
__s
, 
__c_ö
));

549 
_GL_CXXALIASWARN
 (
øwmemchr
);

551 #ñi‡
deföed
 
GNULIB_POSIXCHECK


552 #unde‡
øwmemchr


553 #i‡
HAVE_RAW_DECL_RAWMEMCHR


554 
_GL_WARN_ON_USE
 (
øwmemchr
, "rawmemchr is unportable - "

562 
_GL_FUNCDECL_SYS
 (
°p˝y
, *,

563 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
)

564 
_GL_ARG_NONNULL
 ((1, 2)));

566 
_GL_CXXALIAS_SYS
 (
°p˝y
, *,

567 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
));

568 
_GL_CXXALIASWARN
 (
°p˝y
);

569 #ñi‡
deföed
 
GNULIB_POSIXCHECK


570 #unde‡
°p˝y


571 #i‡
HAVE_RAW_DECL_STPCPY


572 
_GL_WARN_ON_USE
 (
°p˝y
, "stpcpy is unportable - "

581 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

582 #unde‡
°≤˝y


583 
	#°≤˝y
 
Ωl_°≤˝y


	)

585 
_GL_FUNCDECL_RPL
 (
°≤˝y
, *,

586 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

587 
size_t
 
__n
)

588 
_GL_ARG_NONNULL
 ((1, 2)));

589 
_GL_CXXALIAS_RPL
 (
°≤˝y
, *,

590 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

591 
size_t
 
__n
));

594 
_GL_FUNCDECL_SYS
 (
°≤˝y
, *,

595 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

596 
size_t
 
__n
)

597 
_GL_ARG_NONNULL
 ((1, 2)));

599 
_GL_CXXALIAS_SYS
 (
°≤˝y
, *,

600 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

601 
size_t
 
__n
));

603 
_GL_CXXALIASWARN
 (
°≤˝y
);

604 #ñi‡
deföed
 
GNULIB_POSIXCHECK


605 #unde‡
°≤˝y


606 #i‡
HAVE_RAW_DECL_STPNCPY


607 
_GL_WARN_ON_USE
 (
°≤˝y
, "stpncpy is unportable - "

612 #i‡
deföed
 
GNULIB_POSIXCHECK


615 #unde‡
°rchr


617 
_GL_WARN_ON_USE
 (
°rchr
, "strchr cannot work correctly on character strings "

625 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

626 
	#°rch∫ul
 
Ωl_°rch∫ul


	)

628 
_GL_FUNCDECL_RPL
 (
°rch∫ul
, *, (c⁄° *
__s
, 
__c_ö
)

629 
_GL_ATTRIBUTE_PURE


630 
_GL_ARG_NONNULL
 ((1)));

631 
_GL_CXXALIAS_RPL
 (
°rch∫ul
, *,

632 (c⁄° *
°r
, 
ch
));

635 
_GL_FUNCDECL_SYS
 (
°rch∫ul
, *, (c⁄° *
__s
, 
__c_ö
)

636 
_GL_ATTRIBUTE_PURE


637 
_GL_ARG_NONNULL
 ((1)));

642 
_GL_CXXALIAS_SYS_CAST2
 (
°rch∫ul
,

643 *, (c⁄° *
__s
, 
__c_ö
),

644 c⁄° *, (c⁄° *
__s
, 
__c_ö
));

646 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

647 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

648 
_GL_CXXALIASWARN1
 (
°rch∫ul
, *, (*
__s
, 
__c_ö
));

649 
_GL_CXXALIASWARN1
 (
°rch∫ul
, c⁄° *, (c⁄° *
__s
, 
__c_ö
));

651 
_GL_CXXALIASWARN
 (
°rch∫ul
);

653 #ñi‡
deföed
 
GNULIB_POSIXCHECK


654 #unde‡
°rch∫ul


655 #i‡
HAVE_RAW_DECL_STRCHRNUL


656 
_GL_WARN_ON_USE
 (
°rch∫ul
, "strchrnul is unportable - "

664 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

665 #unde‡
°rdup


666 
	#°rdup
 
Ωl_°rdup


	)

668 
_GL_FUNCDECL_RPL
 (
°rdup
, *, (c⁄° *
__s
Ë
_GL_ARG_NONNULL
 ((1)));

669 
_GL_CXXALIAS_RPL
 (
°rdup
, *, (c⁄° *
__s
));

671 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && deföed 
°rdup


673 #unde‡
°rdup


675 #i‡!(1 || 
deföed
 
°rdup
)

676 
_GL_FUNCDECL_SYS
 (
°rdup
, *, (c⁄° *
__s
Ë
_GL_ARG_NONNULL
 ((1)));

678 
_GL_CXXALIAS_SYS
 (
°rdup
, *, (c⁄° *
__s
));

680 
_GL_CXXALIASWARN
 (
°rdup
);

681 #ñi‡
deföed
 
GNULIB_POSIXCHECK


682 #unde‡
°rdup


683 #i‡
HAVE_RAW_DECL_STRDUP


684 
_GL_WARN_ON_USE
 (
°rdup
, "strdup is unportable - "

692 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

693 #unde‡
°∫ˇt


694 
	#°∫ˇt
 
Ωl_°∫ˇt


	)

696 
_GL_FUNCDECL_RPL
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
)

697 
_GL_ARG_NONNULL
 ((1, 2)));

698 
_GL_CXXALIAS_RPL
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
));

700 
_GL_CXXALIAS_SYS
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
));

702 
_GL_CXXALIASWARN
 (
°∫ˇt
);

703 #ñi‡
deföed
 
GNULIB_POSIXCHECK


704 #unde‡
°∫ˇt


705 #i‡
HAVE_RAW_DECL_STRNCAT


706 
_GL_WARN_ON_USE
 (
°∫ˇt
, "strncat is unportable - "

714 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

715 #unde‡
°∫dup


716 
	#°∫dup
 
Ωl_°∫dup


	)

718 
_GL_FUNCDECL_RPL
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
)

719 
_GL_ARG_NONNULL
 ((1)));

720 
_GL_CXXALIAS_RPL
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
));

723 
_GL_FUNCDECL_SYS
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
)

724 
_GL_ARG_NONNULL
 ((1)));

726 
_GL_CXXALIAS_SYS
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
));

728 
_GL_CXXALIASWARN
 (
°∫dup
);

729 #ñi‡
deföed
 
GNULIB_POSIXCHECK


730 #unde‡
°∫dup


731 #i‡
HAVE_RAW_DECL_STRNDUP


732 
_GL_WARN_ON_USE
 (
°∫dup
, "strndup is unportable - "

742 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

743 #unde‡
°∫Àn


744 
	#°∫Àn
 
Ωl_°∫Àn


	)

746 
_GL_FUNCDECL_RPL
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
)

747 
_GL_ATTRIBUTE_PURE


748 
_GL_ARG_NONNULL
 ((1)));

749 
_GL_CXXALIAS_RPL
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
));

752 
_GL_FUNCDECL_SYS
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
)

753 
_GL_ATTRIBUTE_PURE


754 
_GL_ARG_NONNULL
 ((1)));

756 
_GL_CXXALIAS_SYS
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
));

758 
_GL_CXXALIASWARN
 (
°∫Àn
);

759 #ñi‡
deföed
 
GNULIB_POSIXCHECK


760 #unde‡
°∫Àn


761 #i‡
HAVE_RAW_DECL_STRNLEN


762 
_GL_WARN_ON_USE
 (
°∫Àn
, "strnlen is unportable - "

767 #i‡
deföed
 
GNULIB_POSIXCHECK


772 #unde‡
°rc•n


774 
_GL_WARN_ON_USE
 (
°rc•n
, "strcspn cannot work correctly on character strings "

782 
_GL_FUNCDECL_SYS
 (
°Ωbrk
, *, (c⁄° *
__s
, c⁄° *
__ac˚±
)

783 
_GL_ATTRIBUTE_PURE


784 
_GL_ARG_NONNULL
 ((1, 2)));

789 
_GL_CXXALIAS_SYS_CAST2
 (
°Ωbrk
,

790 *, (c⁄° *
__s
, c⁄° *
__ac˚±
),

791 c⁄° *, (c⁄° *
__s
, c⁄° *
__ac˚±
));

792 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

793 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

794 
_GL_CXXALIASWARN1
 (
°Ωbrk
, *, (*
__s
, c⁄° *
__ac˚±
));

795 
_GL_CXXALIASWARN1
 (
°Ωbrk
, const *,

796 (c⁄° *
__s
, c⁄° *
__ac˚±
));

798 
_GL_CXXALIASWARN
 (
°Ωbrk
);

800 #i‡
deföed
 
GNULIB_POSIXCHECK


805 #unde‡
°Ωbrk


806 
_GL_WARN_ON_USE
 (
°Ωbrk
, "strpbrk cannot work correctly on character strings "

810 #ñi‡
deföed
 
GNULIB_POSIXCHECK


811 #unde‡
°Ωbrk


812 #i‡
HAVE_RAW_DECL_STRPBRK


813 
_GL_WARN_ON_USE
 (
°Ωbrk
, "strpbrk is unportable - "

818 #i‡
deföed
 
GNULIB_POSIXCHECK


821 #unde‡
°r•n


823 
_GL_WARN_ON_USE
 (
°r•n
, "strspn cannot work correctly on character strings "

828 #i‡
deföed
 
GNULIB_POSIXCHECK


831 #unde‡
°ºchr


833 
_GL_WARN_ON_USE
 (
°ºchr
, "strrchr cannot work correctly on character strings "

856 
_GL_FUNCDECL_SYS
 (
°r£p
, *,

857 (**
ª°ri˘
 
__°rögp
, c⁄° *ª°ri˘ 
__dñim
)

858 
_GL_ARG_NONNULL
 ((1, 2)));

860 
_GL_CXXALIAS_SYS
 (
°r£p
, *,

861 (**
ª°ri˘
 
__°rögp
, c⁄° *ª°ri˘ 
__dñim
));

862 
_GL_CXXALIASWARN
 (
°r£p
);

863 #i‡
deföed
 
GNULIB_POSIXCHECK


864 #unde‡
°r£p


865 
_GL_WARN_ON_USE
 (
°r£p
, "strsep cannot work correctly on character strings "

869 #ñi‡
deföed
 
GNULIB_POSIXCHECK


870 #unde‡
°r£p


871 #i‡
HAVE_RAW_DECL_STRSEP


872 
_GL_WARN_ON_USE
 (
°r£p
, "strsep is unportable - "

879 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

880 
	#°r°r
 
Ωl_°r°r


	)

882 
_GL_FUNCDECL_RPL
 (
°r°r
, *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

883 
_GL_ATTRIBUTE_PURE


884 
_GL_ARG_NONNULL
 ((1, 2)));

885 
_GL_CXXALIAS_RPL
 (
°r°r
, *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

890 
_GL_CXXALIAS_SYS_CAST2
 (
°r°r
,

891 *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
),

892 c⁄° *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

894 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

895 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

896 
_GL_CXXALIASWARN1
 (
°r°r
, *, (*
hay°ack
, c⁄° *
√edÀ
));

897 
_GL_CXXALIASWARN1
 (
°r°r
, const *,

898 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

900 
_GL_CXXALIASWARN
 (
°r°r
);

902 #ñi‡
deföed
 
GNULIB_POSIXCHECK


907 #unde‡
°r°r


909 
_GL_WARN_ON_USE
 (
°r°r
, "strstr is quadratic on many systems,ánd cannot "

920 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

921 
	#°rˇ£°r
 
Ωl_°rˇ£°r


	)

923 
_GL_FUNCDECL_RPL
 (
°rˇ£°r
, *,

924 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

925 
_GL_ATTRIBUTE_PURE


926 
_GL_ARG_NONNULL
 ((1, 2)));

927 
_GL_CXXALIAS_RPL
 (
°rˇ£°r
, *,

928 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

931 
_GL_FUNCDECL_SYS
 (
°rˇ£°r
, *,

932 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

933 
_GL_ATTRIBUTE_PURE


934 
_GL_ARG_NONNULL
 ((1, 2)));

939 
_GL_CXXALIAS_SYS_CAST2
 (
°rˇ£°r
,

940 *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
),

941 c⁄° *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

943 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

944 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

945 
_GL_CXXALIASWARN1
 (
°rˇ£°r
, *, (*
hay°ack
, c⁄° *
√edÀ
));

946 
_GL_CXXALIASWARN1
 (
°rˇ£°r
, const *,

947 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

949 
_GL_CXXALIASWARN
 (
°rˇ£°r
);

951 #ñi‡
deföed
 
GNULIB_POSIXCHECK


955 #unde‡
°rˇ£°r


956 #i‡
HAVE_RAW_DECL_STRCASESTR


957 
_GL_WARN_ON_USE
 (
°rˇ£°r
, "strcasestr does work correctly on character "

989 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

990 #unde‡
°πok_r


991 
	#°πok_r
 
Ωl_°πok_r


	)

993 
_GL_FUNCDECL_RPL
 (
°πok_r
, *,

994 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

995 **
ª°ri˘
 
ßve_±r
)

996 
_GL_ARG_NONNULL
 ((2, 3)));

997 
_GL_CXXALIAS_RPL
 (
°πok_r
, *,

998 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

999 **
ª°ri˘
 
ßve_±r
));

1001 #i‡0 || 
deföed
 
GNULIB_POSIXCHECK


1002 #unde‡
°πok_r


1005 
_GL_FUNCDECL_SYS
 (
°πok_r
, *,

1006 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

1007 **
ª°ri˘
 
ßve_±r
)

1008 
_GL_ARG_NONNULL
 ((2, 3)));

1010 
_GL_CXXALIAS_SYS
 (
°πok_r
, *,

1011 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

1012 **
ª°ri˘
 
ßve_±r
));

1014 
_GL_CXXALIASWARN
 (
°πok_r
);

1015 #i‡
deföed
 
GNULIB_POSIXCHECK


1016 
_GL_WARN_ON_USE
 (
°πok_r
, "strtok_r cannot work correctly on character "

1020 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1021 #unde‡
°πok_r


1022 #i‡
HAVE_RAW_DECL_STRTOK_R


1023 
_GL_WARN_ON_USE
 (
°πok_r
, "strtok_r is unportable - "

1035 #ifde‡
__MúBSD__


1036 #unde‡
mb¶í


1039 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1040 
	#mb¶í
 
Ωl_mb¶í


	)

1042 
_GL_FUNCDECL_RPL
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

1043 
_GL_CXXALIAS_RPL
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
));

1045 
_GL_FUNCDECL_SYS
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

1046 
_GL_CXXALIAS_SYS
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
));

1048 
_GL_CXXALIASWARN
 (
mb¶í
);

1054 
_GL_EXTERN_C
 
size_t
 
	$mb¢Àn
 (c⁄° *
°rög
, 
size_t
 
Àn
)

1055 
	`_GL_ARG_NONNULL
 ((1));

1063 #i‡
deföed
 
__hpux


1064 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1065 
	#mbschr
 
Ωl_mbschr


	)

1067 
	`_GL_FUNCDECL_RPL
 (
mbschr
, *, (c⁄° *
°rög
, 
c
)

1068 
	`_GL_ARG_NONNULL
 ((1)));

1069 
	`_GL_CXXALIAS_RPL
 (
mbschr
, *, (c⁄° *
°rög
, 
c
));

1071 
	`_GL_FUNCDECL_SYS
 (
mbschr
, *, (c⁄° *
°rög
, 
c
)

1072 
	`_GL_ARG_NONNULL
 ((1)));

1073 
	`_GL_CXXALIAS_SYS
 (
mbschr
, *, (c⁄° *
°rög
, 
c
));

1075 
	`_GL_CXXALIASWARN
 (
mbschr
);

1083 #i‡
deföed
 
__hpux
 || deföed 
__INTERIX


1084 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1085 
	#mb§chr
 
Ωl_mb§chr


	)

1087 
	`_GL_FUNCDECL_RPL
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
)

1088 
	`_GL_ARG_NONNULL
 ((1)));

1089 
	`_GL_CXXALIAS_RPL
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
));

1091 
	`_GL_FUNCDECL_SYS
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
)

1092 
	`_GL_ARG_NONNULL
 ((1)));

1093 
	`_GL_CXXALIAS_SYS
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
));

1095 
	`_GL_CXXALIASWARN
 (
mb§chr
);

1103 
_GL_EXTERN_C
 * 
	$mbs°r
 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

1104 
	`_GL_ARG_NONNULL
 ((1, 2));

1114 
_GL_EXTERN_C
 
	$mbsˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
)

1115 
	`_GL_ARG_NONNULL
 ((1, 2));

1128 
_GL_EXTERN_C
 
	$mb¢ˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
)

1129 
	`_GL_ARG_NONNULL
 ((1, 2));

1141 
_GL_EXTERN_C
 * 
	$mb•ˇ£cmp
 (c⁄° *
°rög
, c⁄° *
¥efix
)

1142 
	`_GL_ARG_NONNULL
 ((1, 2));

1151 
_GL_EXTERN_C
 * 
	$mbsˇ£°r
 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

1152 
	`_GL_ARG_NONNULL
 ((1, 2));

1161 
_GL_EXTERN_C
 
size_t
 
	$mbsc•n
 (c⁄° *
°rög
, c⁄° *
ac˚±
)

1162 
	`_GL_ARG_NONNULL
 ((1, 2));

1170 #i‡
deföed
 
__hpux


1171 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1172 
	#mb•brk
 
Ωl_mb•brk


	)

1174 
	`_GL_FUNCDECL_RPL
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
)

1175 
	`_GL_ARG_NONNULL
 ((1, 2)));

1176 
	`_GL_CXXALIAS_RPL
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
));

1178 
	`_GL_FUNCDECL_SYS
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
)

1179 
	`_GL_ARG_NONNULL
 ((1, 2)));

1180 
	`_GL_CXXALIAS_SYS
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
));

1182 
	`_GL_CXXALIASWARN
 (
mb•brk
);

1191 
_GL_EXTERN_C
 
size_t
 
	$mbs•n
 (c⁄° *
°rög
, c⁄° *
ªje˘
)

1192 
	`_GL_ARG_NONNULL
 ((1, 2));

1210 
_GL_EXTERN_C
 * 
	$mbs£p
 (**
°rögp
, c⁄° *
dñim
)

1211 
	`_GL_ARG_NONNULL
 ((1, 2));

1231 
_GL_EXTERN_C
 * 
	$mb°ok_r
 (*
°rög
, c⁄° *
dñim
, **
ßve_±r
)

1232 
	`_GL_ARG_NONNULL
 ((2, 3));

1238 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1239 #unde‡
°ªº‹


1240 
	#°ªº‹
 
Ωl_°ªº‹


	)

1242 
	`_GL_FUNCDECL_RPL
 (
°ªº‹
, *, ());

1243 
	`_GL_CXXALIAS_RPL
 (
°ªº‹
, *, ());

1245 
	`_GL_CXXALIAS_SYS
 (
°ªº‹
, *, ());

1247 
	`_GL_CXXALIASWARN
 (
°ªº‹
);

1248 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1249 #unde‡
°ªº‹


1251 
	`_GL_WARN_ON_USE
 (
°ªº‹
, "strerror is unportable - "

1259 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1260 #unde‡
°ªº‹_r


1261 
	#°ªº‹_r
 
Ωl_°ªº‹_r


	)

1263 
	`_GL_FUNCDECL_RPL
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
)

1264 
	`_GL_ARG_NONNULL
 ((2)));

1265 
	`_GL_CXXALIAS_RPL
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
));

1268 
	`_GL_FUNCDECL_SYS
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
)

1269 
	`_GL_ARG_NONNULL
 ((2)));

1271 
	`_GL_CXXALIAS_SYS
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
));

1274 
	`_GL_CXXALIASWARN
 (
°ªº‹_r
);

1276 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1277 #unde‡
°ªº‹_r


1278 #i‡
HAVE_RAW_DECL_STRERROR_R


1279 
	`_GL_WARN_ON_USE
 (
°ªº‹_r
, "strerror_r is unportable - "

1286 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1287 
	#°rsig«l
 
Ωl_°rsig«l


	)

1289 
	`_GL_FUNCDECL_RPL
 (
°rsig«l
, *, (
__sig
));

1290 
	`_GL_CXXALIAS_RPL
 (
°rsig«l
, *, (
__sig
));

1293 
	`_GL_FUNCDECL_SYS
 (
°rsig«l
, *, (
__sig
));

1297 
	`_GL_CXXALIAS_SYS_CAST
 (
°rsig«l
, *, (
__sig
));

1299 
	`_GL_CXXALIASWARN
 (
°rsig«l
);

1300 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1301 #unde‡
°rsig«l


1302 #i‡
HAVE_RAW_DECL_STRSIGNAL


1303 
	`_GL_WARN_ON_USE
 (
°rsig«l
, "strsignal is unportable - "

1310 
	`_GL_FUNCDECL_SYS
 (
°rvîscmp
, , (const *, const *)

1311 
	`_GL_ARG_NONNULL
 ((1, 2)));

1313 
	`_GL_CXXALIAS_SYS
 (
°rvîscmp
, , (const *, const *));

1314 
	`_GL_CXXALIASWARN
 (
°rvîscmp
);

1315 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1316 #unde‡
°rvîscmp


1317 #i‡
HAVE_RAW_DECL_STRVERSCMP


1318 
	`_GL_WARN_ON_USE
 (
°rvîscmp
, "strverscmp is unportable - "

	@lib/string.in.h

21 #i‚de‡
_
@
GUARD_PREFIX
@
_STRING_H


23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

29 #@
INCLUDE_NEXT
@ @
NEXT_STRING_H
@

31 #i‚de‡
_
@
GUARD_PREFIX
@
_STRING_H


32 
	#_
@
GUARD_PREFIX
@
_STRING_H


	)

35 
	~<°ddef.h
>

38 #i‡@
GNULIB_MBSLEN
@ && 
deföed
 
__MúBSD__


39 
	~<wch¨.h
>

44 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 96)

45 
	#_GL_ATTRIBUTE_PURE
 
	`__©åibuã__
 ((
__puª__
))

	)

47 
	#_GL_ATTRIBUTE_PURE


	)

52 #i‡(@
GNULIB_STRSIGNAL
@ || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__NëBSD__
 \

53 && ! 
deföed
 
	g__GLIBC__


54 
	~<uni°d.h
>

65 #i‡@
GNULIB_FFSL
@

66 #i‡!@
HAVE_FFSL
@

67 
_GL_FUNCDECL_SYS
 (
ff¶
, , (
i
));

69 
_GL_CXXALIAS_SYS
 (
ff¶
, , (
i
));

70 
_GL_CXXALIASWARN
 (
ff¶
);

71 #ñi‡
deföed
 
GNULIB_POSIXCHECK


72 #unde‡
ff¶


73 #i‡
HAVE_RAW_DECL_FFSL


74 
_GL_WARN_ON_USE
 (
ff¶
, "ffsl isÇotÖortable - useÅhe ffsl module");

80 #i‡@
GNULIB_FFSLL
@

81 #i‡!@
HAVE_FFSLL
@

82 
_GL_FUNCDECL_SYS
 (
ff¶l
, , (
i
));

84 
_GL_CXXALIAS_SYS
 (
ff¶l
, , (
i
));

85 
_GL_CXXALIASWARN
 (
ff¶l
);

86 #ñi‡
deföed
 
GNULIB_POSIXCHECK


87 #unde‡
ff¶l


88 #i‡
HAVE_RAW_DECL_FFSLL


89 
_GL_WARN_ON_USE
 (
ff¶l
, "ffsll isÇotÖortable - useÅhe ffsll module");

95 #i‡@
GNULIB_MEMCHR
@

96 #i‡@
REPLACE_MEMCHR
@

97 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

98 
	#memchr
 
Ωl_memchr


	)

100 
_GL_FUNCDECL_RPL
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

101 
_GL_ATTRIBUTE_PURE


102 
_GL_ARG_NONNULL
 ((1)));

103 
_GL_CXXALIAS_RPL
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

105 #i‡! @
HAVE_MEMCHR
@

106 
_GL_FUNCDECL_SYS
 (
memchr
, *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

107 
_GL_ATTRIBUTE_PURE


108 
_GL_ARG_NONNULL
 ((1)));

113 
_GL_CXXALIAS_SYS_CAST2
 (
memchr
,

114 *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
),

115 c⁄° *, (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

117 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

118 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

119 
_GL_CXXALIASWARN1
 (
memchr
, *, (*
__s
, 
__c
, 
size_t
 
__n
));

120 
_GL_CXXALIASWARN1
 (
memchr
, const *,

121 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
));

123 
_GL_CXXALIASWARN
 (
memchr
);

125 #ñi‡
deföed
 
GNULIB_POSIXCHECK


126 #unde‡
memchr


128 
_GL_WARN_ON_USE
 (
memchr
, "memchr hasÖlatform-specific bugs - "

133 #i‡@
GNULIB_MEMMEM
@

134 #i‡@
REPLACE_MEMMEM
@

135 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

136 
	#memmem
 
Ωl_memmem


	)

138 
_GL_FUNCDECL_RPL
 (
memmem
, *,

139 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

140 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
)

141 
_GL_ATTRIBUTE_PURE


142 
_GL_ARG_NONNULL
 ((1, 3)));

143 
_GL_CXXALIAS_RPL
 (
memmem
, *,

144 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

145 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
));

147 #i‡! @
HAVE_DECL_MEMMEM
@

148 
_GL_FUNCDECL_SYS
 (
memmem
, *,

149 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

150 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
)

151 
_GL_ATTRIBUTE_PURE


152 
_GL_ARG_NONNULL
 ((1, 3)));

154 
_GL_CXXALIAS_SYS
 (
memmem
, *,

155 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ack_Àn
,

156 c⁄° *
__√edÀ
, 
size_t
 
__√edÀ_Àn
));

158 
_GL_CXXALIASWARN
 (
memmem
);

159 #ñi‡
deföed
 
GNULIB_POSIXCHECK


160 #unde‡
memmem


161 #i‡
HAVE_RAW_DECL_MEMMEM


162 
_GL_WARN_ON_USE
 (
memmem
, "memmem is unportableánd often quadratic - "

170 #i‡@
GNULIB_MEMPCPY
@

171 #i‡! @
HAVE_MEMPCPY
@

172 
_GL_FUNCDECL_SYS
 (
memp˝y
, *,

173 (*
ª°ri˘
 
__de°
, c⁄° *ª°ri˘ 
__§c
,

174 
size_t
 
__n
)

175 
_GL_ARG_NONNULL
 ((1, 2)));

177 
_GL_CXXALIAS_SYS
 (
memp˝y
, *,

178 (*
ª°ri˘
 
__de°
, c⁄° *ª°ri˘ 
__§c
,

179 
size_t
 
__n
));

180 
_GL_CXXALIASWARN
 (
memp˝y
);

181 #ñi‡
deföed
 
GNULIB_POSIXCHECK


182 #unde‡
memp˝y


183 #i‡
HAVE_RAW_DECL_MEMPCPY


184 
_GL_WARN_ON_USE
 (
memp˝y
, "mempcpy is unportable - "

190 #i‡@
GNULIB_MEMRCHR
@

191 #i‡! @
HAVE_DECL_MEMRCHR
@

192 
_GL_FUNCDECL_SYS
 (
memrchr
, *, (c⁄° *, , 
size_t
)

193 
_GL_ATTRIBUTE_PURE


194 
_GL_ARG_NONNULL
 ((1)));

199 
_GL_CXXALIAS_SYS_CAST2
 (
memrchr
,

200 *, (c⁄° *, , 
size_t
),

201 c⁄° *, (c⁄° *, , 
size_t
));

202 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

203 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

204 
_GL_CXXALIASWARN1
 (
memrchr
, *, (*, , 
size_t
));

205 
_GL_CXXALIASWARN1
 (
memrchr
, c⁄° *, (c⁄° *, , 
size_t
));

207 
_GL_CXXALIASWARN
 (
memrchr
);

209 #ñi‡
deföed
 
GNULIB_POSIXCHECK


210 #unde‡
memrchr


211 #i‡
HAVE_RAW_DECL_MEMRCHR


212 
_GL_WARN_ON_USE
 (
memrchr
, "memrchr is unportable - "

220 #i‡@
GNULIB_RAWMEMCHR
@

221 #i‡! @
HAVE_RAWMEMCHR
@

222 
_GL_FUNCDECL_SYS
 (
øwmemchr
, *, (c⁄° *
__s
, 
__c_ö
)

223 
_GL_ATTRIBUTE_PURE


224 
_GL_ARG_NONNULL
 ((1)));

229 
_GL_CXXALIAS_SYS_CAST2
 (
øwmemchr
,

230 *, (c⁄° *
__s
, 
__c_ö
),

231 c⁄° *, (c⁄° *
__s
, 
__c_ö
));

232 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

233 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

234 
_GL_CXXALIASWARN1
 (
øwmemchr
, *, (*
__s
, 
__c_ö
));

235 
_GL_CXXALIASWARN1
 (
øwmemchr
, c⁄° *, (c⁄° *
__s
, 
__c_ö
));

237 
_GL_CXXALIASWARN
 (
øwmemchr
);

239 #ñi‡
deföed
 
GNULIB_POSIXCHECK


240 #unde‡
øwmemchr


241 #i‡
HAVE_RAW_DECL_RAWMEMCHR


242 
_GL_WARN_ON_USE
 (
øwmemchr
, "rawmemchr is unportable - "

248 #i‡@
GNULIB_STPCPY
@

249 #i‡! @
HAVE_STPCPY
@

250 
_GL_FUNCDECL_SYS
 (
°p˝y
, *,

251 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
)

252 
_GL_ARG_NONNULL
 ((1, 2)));

254 
_GL_CXXALIAS_SYS
 (
°p˝y
, *,

255 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
));

256 
_GL_CXXALIASWARN
 (
°p˝y
);

257 #ñi‡
deföed
 
GNULIB_POSIXCHECK


258 #unde‡
°p˝y


259 #i‡
HAVE_RAW_DECL_STPCPY


260 
_GL_WARN_ON_USE
 (
°p˝y
, "stpcpy is unportable - "

267 #i‡@
GNULIB_STPNCPY
@

268 #i‡@
REPLACE_STPNCPY
@

269 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

270 #unde‡
°≤˝y


271 
	#°≤˝y
 
Ωl_°≤˝y


	)

273 
_GL_FUNCDECL_RPL
 (
°≤˝y
, *,

274 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

275 
size_t
 
__n
)

276 
_GL_ARG_NONNULL
 ((1, 2)));

277 
_GL_CXXALIAS_RPL
 (
°≤˝y
, *,

278 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

279 
size_t
 
__n
));

281 #i‡! @
HAVE_STPNCPY
@

282 
_GL_FUNCDECL_SYS
 (
°≤˝y
, *,

283 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

284 
size_t
 
__n
)

285 
_GL_ARG_NONNULL
 ((1, 2)));

287 
_GL_CXXALIAS_SYS
 (
°≤˝y
, *,

288 (*
ª°ri˘
 
__d°
, c⁄° *ª°ri˘ 
__§c
,

289 
size_t
 
__n
));

291 
_GL_CXXALIASWARN
 (
°≤˝y
);

292 #ñi‡
deföed
 
GNULIB_POSIXCHECK


293 #unde‡
°≤˝y


294 #i‡
HAVE_RAW_DECL_STPNCPY


295 
_GL_WARN_ON_USE
 (
°≤˝y
, "stpncpy is unportable - "

300 #i‡
deföed
 
GNULIB_POSIXCHECK


303 #unde‡
°rchr


305 
_GL_WARN_ON_USE
 (
°rchr
, "strchr cannot work correctly on character strings "

311 #i‡@
GNULIB_STRCHRNUL
@

312 #i‡@
REPLACE_STRCHRNUL
@

313 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

314 
	#°rch∫ul
 
Ωl_°rch∫ul


	)

316 
_GL_FUNCDECL_RPL
 (
°rch∫ul
, *, (c⁄° *
__s
, 
__c_ö
)

317 
_GL_ATTRIBUTE_PURE


318 
_GL_ARG_NONNULL
 ((1)));

319 
_GL_CXXALIAS_RPL
 (
°rch∫ul
, *,

320 (c⁄° *
°r
, 
ch
));

322 #i‡! @
HAVE_STRCHRNUL
@

323 
_GL_FUNCDECL_SYS
 (
°rch∫ul
, *, (c⁄° *
__s
, 
__c_ö
)

324 
_GL_ATTRIBUTE_PURE


325 
_GL_ARG_NONNULL
 ((1)));

330 
_GL_CXXALIAS_SYS_CAST2
 (
°rch∫ul
,

331 *, (c⁄° *
__s
, 
__c_ö
),

332 c⁄° *, (c⁄° *
__s
, 
__c_ö
));

334 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

335 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

336 
_GL_CXXALIASWARN1
 (
°rch∫ul
, *, (*
__s
, 
__c_ö
));

337 
_GL_CXXALIASWARN1
 (
°rch∫ul
, c⁄° *, (c⁄° *
__s
, 
__c_ö
));

339 
_GL_CXXALIASWARN
 (
°rch∫ul
);

341 #ñi‡
deföed
 
GNULIB_POSIXCHECK


342 #unde‡
°rch∫ul


343 #i‡
HAVE_RAW_DECL_STRCHRNUL


344 
_GL_WARN_ON_USE
 (
°rch∫ul
, "strchrnul is unportable - "

350 #i‡@
GNULIB_STRDUP
@

351 #i‡@
REPLACE_STRDUP
@

352 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

353 #unde‡
°rdup


354 
	#°rdup
 
Ωl_°rdup


	)

356 
_GL_FUNCDECL_RPL
 (
°rdup
, *, (c⁄° *
__s
Ë
_GL_ARG_NONNULL
 ((1)));

357 
_GL_CXXALIAS_RPL
 (
°rdup
, *, (c⁄° *
__s
));

359 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
 && deföed 
°rdup


361 #unde‡
°rdup


363 #i‡!(@
HAVE_DECL_STRDUP
@ || 
deföed
 
°rdup
)

364 
_GL_FUNCDECL_SYS
 (
°rdup
, *, (c⁄° *
__s
Ë
_GL_ARG_NONNULL
 ((1)));

366 
_GL_CXXALIAS_SYS
 (
°rdup
, *, (c⁄° *
__s
));

368 
_GL_CXXALIASWARN
 (
°rdup
);

369 #ñi‡
deföed
 
GNULIB_POSIXCHECK


370 #unde‡
°rdup


371 #i‡
HAVE_RAW_DECL_STRDUP


372 
_GL_WARN_ON_USE
 (
°rdup
, "strdup is unportable - "

378 #i‡@
GNULIB_STRNCAT
@

379 #i‡@
REPLACE_STRNCAT
@

380 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

381 #unde‡
°∫ˇt


382 
	#°∫ˇt
 
Ωl_°∫ˇt


	)

384 
_GL_FUNCDECL_RPL
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
)

385 
_GL_ARG_NONNULL
 ((1, 2)));

386 
_GL_CXXALIAS_RPL
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
));

388 
_GL_CXXALIAS_SYS
 (
°∫ˇt
, *, (*
de°
, c⁄° *
§c
, 
size_t
 
n
));

390 
_GL_CXXALIASWARN
 (
°∫ˇt
);

391 #ñi‡
deföed
 
GNULIB_POSIXCHECK


392 #unde‡
°∫ˇt


393 #i‡
HAVE_RAW_DECL_STRNCAT


394 
_GL_WARN_ON_USE
 (
°∫ˇt
, "strncat is unportable - "

400 #i‡@
GNULIB_STRNDUP
@

401 #i‡@
REPLACE_STRNDUP
@

402 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

403 #unde‡
°∫dup


404 
	#°∫dup
 
Ωl_°∫dup


	)

406 
_GL_FUNCDECL_RPL
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
)

407 
_GL_ARG_NONNULL
 ((1)));

408 
_GL_CXXALIAS_RPL
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
));

410 #i‡! @
HAVE_DECL_STRNDUP
@

411 
_GL_FUNCDECL_SYS
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
)

412 
_GL_ARG_NONNULL
 ((1)));

414 
_GL_CXXALIAS_SYS
 (
°∫dup
, *, (c⁄° *
__°rög
, 
size_t
 
__n
));

416 
_GL_CXXALIASWARN
 (
°∫dup
);

417 #ñi‡
deföed
 
GNULIB_POSIXCHECK


418 #unde‡
°∫dup


419 #i‡
HAVE_RAW_DECL_STRNDUP


420 
_GL_WARN_ON_USE
 (
°∫dup
, "strndup is unportable - "

428 #i‡@
GNULIB_STRNLEN
@

429 #i‡@
REPLACE_STRNLEN
@

430 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

431 #unde‡
°∫Àn


432 
	#°∫Àn
 
Ωl_°∫Àn


	)

434 
_GL_FUNCDECL_RPL
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
)

435 
_GL_ATTRIBUTE_PURE


436 
_GL_ARG_NONNULL
 ((1)));

437 
_GL_CXXALIAS_RPL
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
));

439 #i‡! @
HAVE_DECL_STRNLEN
@

440 
_GL_FUNCDECL_SYS
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
)

441 
_GL_ATTRIBUTE_PURE


442 
_GL_ARG_NONNULL
 ((1)));

444 
_GL_CXXALIAS_SYS
 (
°∫Àn
, 
size_t
, (c⁄° *
__°rög
, size_à
__maxÀn
));

446 
_GL_CXXALIASWARN
 (
°∫Àn
);

447 #ñi‡
deföed
 
GNULIB_POSIXCHECK


448 #unde‡
°∫Àn


449 #i‡
HAVE_RAW_DECL_STRNLEN


450 
_GL_WARN_ON_USE
 (
°∫Àn
, "strnlen is unportable - "

455 #i‡
deföed
 
GNULIB_POSIXCHECK


460 #unde‡
°rc•n


462 
_GL_WARN_ON_USE
 (
°rc•n
, "strcspn cannot work correctly on character strings "

468 #i‡@
GNULIB_STRPBRK
@

469 #i‡! @
HAVE_STRPBRK
@

470 
_GL_FUNCDECL_SYS
 (
°Ωbrk
, *, (c⁄° *
__s
, c⁄° *
__ac˚±
)

471 
_GL_ATTRIBUTE_PURE


472 
_GL_ARG_NONNULL
 ((1, 2)));

477 
_GL_CXXALIAS_SYS_CAST2
 (
°Ωbrk
,

478 *, (c⁄° *
__s
, c⁄° *
__ac˚±
),

479 c⁄° *, (c⁄° *
__s
, c⁄° *
__ac˚±
));

480 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

481 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

482 
_GL_CXXALIASWARN1
 (
°Ωbrk
, *, (*
__s
, c⁄° *
__ac˚±
));

483 
_GL_CXXALIASWARN1
 (
°Ωbrk
, const *,

484 (c⁄° *
__s
, c⁄° *
__ac˚±
));

486 
_GL_CXXALIASWARN
 (
°Ωbrk
);

488 #i‡
deföed
 
GNULIB_POSIXCHECK


493 #unde‡
°Ωbrk


494 
_GL_WARN_ON_USE
 (
°Ωbrk
, "strpbrk cannot work correctly on character strings "

498 #ñi‡
deföed
 
GNULIB_POSIXCHECK


499 #unde‡
°Ωbrk


500 #i‡
HAVE_RAW_DECL_STRPBRK


501 
_GL_WARN_ON_USE
 (
°Ωbrk
, "strpbrk is unportable - "

506 #i‡
deföed
 
GNULIB_POSIXCHECK


509 #unde‡
°r•n


511 
_GL_WARN_ON_USE
 (
°r•n
, "strspn cannot work correctly on character strings "

516 #i‡
deföed
 
GNULIB_POSIXCHECK


519 #unde‡
°ºchr


521 
_GL_WARN_ON_USE
 (
°ºchr
, "strrchr cannot work correctly on character strings "

542 #i‡@
GNULIB_STRSEP
@

543 #i‡! @
HAVE_STRSEP
@

544 
_GL_FUNCDECL_SYS
 (
°r£p
, *,

545 (**
ª°ri˘
 
__°rögp
, c⁄° *ª°ri˘ 
__dñim
)

546 
_GL_ARG_NONNULL
 ((1, 2)));

548 
_GL_CXXALIAS_SYS
 (
°r£p
, *,

549 (**
ª°ri˘
 
__°rögp
, c⁄° *ª°ri˘ 
__dñim
));

550 
_GL_CXXALIASWARN
 (
°r£p
);

551 #i‡
deföed
 
GNULIB_POSIXCHECK


552 #unde‡
°r£p


553 
_GL_WARN_ON_USE
 (
°r£p
, "strsep cannot work correctly on character strings "

557 #ñi‡
deföed
 
GNULIB_POSIXCHECK


558 #unde‡
°r£p


559 #i‡
HAVE_RAW_DECL_STRSEP


560 
_GL_WARN_ON_USE
 (
°r£p
, "strsep is unportable - "

565 #i‡@
GNULIB_STRSTR
@

566 #i‡@
REPLACE_STRSTR
@

567 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

568 
	#°r°r
 
Ωl_°r°r


	)

570 
_GL_FUNCDECL_RPL
 (
°r°r
, *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

571 
_GL_ATTRIBUTE_PURE


572 
_GL_ARG_NONNULL
 ((1, 2)));

573 
_GL_CXXALIAS_RPL
 (
°r°r
, *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

578 
_GL_CXXALIAS_SYS_CAST2
 (
°r°r
,

579 *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
),

580 c⁄° *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

582 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

583 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

584 
_GL_CXXALIASWARN1
 (
°r°r
, *, (*
hay°ack
, c⁄° *
√edÀ
));

585 
_GL_CXXALIASWARN1
 (
°r°r
, const *,

586 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

588 
_GL_CXXALIASWARN
 (
°r°r
);

590 #ñi‡
deföed
 
GNULIB_POSIXCHECK


595 #unde‡
°r°r


597 
_GL_WARN_ON_USE
 (
°r°r
, "strstr is quadratic on many systems,ánd cannot "

606 #i‡@
GNULIB_STRCASESTR
@

607 #i‡@
REPLACE_STRCASESTR
@

608 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

609 
	#°rˇ£°r
 
Ωl_°rˇ£°r


	)

611 
_GL_FUNCDECL_RPL
 (
°rˇ£°r
, *,

612 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

613 
_GL_ATTRIBUTE_PURE


614 
_GL_ARG_NONNULL
 ((1, 2)));

615 
_GL_CXXALIAS_RPL
 (
°rˇ£°r
, *,

616 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

618 #i‡! @
HAVE_STRCASESTR
@

619 
_GL_FUNCDECL_SYS
 (
°rˇ£°r
, *,

620 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

621 
_GL_ATTRIBUTE_PURE


622 
_GL_ARG_NONNULL
 ((1, 2)));

627 
_GL_CXXALIAS_SYS_CAST2
 (
°rˇ£°r
,

628 *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
),

629 c⁄° *, (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

631 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

632 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

633 
_GL_CXXALIASWARN1
 (
°rˇ£°r
, *, (*
hay°ack
, c⁄° *
√edÀ
));

634 
_GL_CXXALIASWARN1
 (
°rˇ£°r
, const *,

635 (c⁄° *
hay°ack
, c⁄° *
√edÀ
));

637 
_GL_CXXALIASWARN
 (
°rˇ£°r
);

639 #ñi‡
deföed
 
GNULIB_POSIXCHECK


643 #unde‡
°rˇ£°r


644 #i‡
HAVE_RAW_DECL_STRCASESTR


645 
_GL_WARN_ON_USE
 (
°rˇ£°r
, "strcasestr does work correctly on character "

675 #i‡@
GNULIB_STRTOK_R
@

676 #i‡@
REPLACE_STRTOK_R
@

677 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

678 #unde‡
°πok_r


679 
	#°πok_r
 
Ωl_°πok_r


	)

681 
_GL_FUNCDECL_RPL
 (
°πok_r
, *,

682 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

683 **
ª°ri˘
 
ßve_±r
)

684 
_GL_ARG_NONNULL
 ((2, 3)));

685 
_GL_CXXALIAS_RPL
 (
°πok_r
, *,

686 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

687 **
ª°ri˘
 
ßve_±r
));

689 #i‡@
UNDEFINE_STRTOK_R
@ || 
deföed
 
GNULIB_POSIXCHECK


690 #unde‡
°πok_r


692 #i‡! @
HAVE_DECL_STRTOK_R
@

693 
_GL_FUNCDECL_SYS
 (
°πok_r
, *,

694 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

695 **
ª°ri˘
 
ßve_±r
)

696 
_GL_ARG_NONNULL
 ((2, 3)));

698 
_GL_CXXALIAS_SYS
 (
°πok_r
, *,

699 (*
ª°ri˘
 
s
, c⁄° *ª°ri˘ 
dñim
,

700 **
ª°ri˘
 
ßve_±r
));

702 
_GL_CXXALIASWARN
 (
°πok_r
);

703 #i‡
deföed
 
GNULIB_POSIXCHECK


704 
_GL_WARN_ON_USE
 (
°πok_r
, "strtok_r cannot work correctly on character "

708 #ñi‡
deföed
 
GNULIB_POSIXCHECK


709 #unde‡
°πok_r


710 #i‡
HAVE_RAW_DECL_STRTOK_R


711 
_GL_WARN_ON_USE
 (
°πok_r
, "strtok_r is unportable - "

720 #i‡@
GNULIB_MBSLEN
@

723 #ifde‡
__MúBSD__


724 #unde‡
mb¶í


726 #i‡@
HAVE_MBSLEN
@

727 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

728 
	#mb¶í
 
Ωl_mb¶í


	)

730 
_GL_FUNCDECL_RPL
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

731 
_GL_CXXALIAS_RPL
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
));

733 
_GL_FUNCDECL_SYS
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
Ë
_GL_ARG_NONNULL
 ((1)));

734 
_GL_CXXALIAS_SYS
 (
mb¶í
, 
size_t
, (c⁄° *
°rög
));

736 
_GL_CXXALIASWARN
 (
mb¶í
);

739 #i‡@
GNULIB_MBSNLEN
@

742 
_GL_EXTERN_C
 
size_t
 
	$mb¢Àn
 (c⁄° *
°rög
, 
size_t
 
Àn
)

743 
	`_GL_ARG_NONNULL
 ((1));

746 #i‡@
GNULIB_MBSCHR
@

751 #i‡
deföed
 
__hpux


752 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

753 
	#mbschr
 
Ωl_mbschr


	)

755 
	`_GL_FUNCDECL_RPL
 (
mbschr
, *, (c⁄° *
°rög
, 
c
)

756 
	`_GL_ARG_NONNULL
 ((1)));

757 
	`_GL_CXXALIAS_RPL
 (
mbschr
, *, (c⁄° *
°rög
, 
c
));

759 
	`_GL_FUNCDECL_SYS
 (
mbschr
, *, (c⁄° *
°rög
, 
c
)

760 
	`_GL_ARG_NONNULL
 ((1)));

761 
	`_GL_CXXALIAS_SYS
 (
mbschr
, *, (c⁄° *
°rög
, 
c
));

763 
	`_GL_CXXALIASWARN
 (
mbschr
);

766 #i‡@
GNULIB_MBSRCHR
@

771 #i‡
deföed
 
__hpux
 || deföed 
__INTERIX


772 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

773 
	#mb§chr
 
Ωl_mb§chr


	)

775 
	`_GL_FUNCDECL_RPL
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
)

776 
	`_GL_ARG_NONNULL
 ((1)));

777 
	`_GL_CXXALIAS_RPL
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
));

779 
	`_GL_FUNCDECL_SYS
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
)

780 
	`_GL_ARG_NONNULL
 ((1)));

781 
	`_GL_CXXALIAS_SYS
 (
mb§chr
, *, (c⁄° *
°rög
, 
c
));

783 
	`_GL_CXXALIASWARN
 (
mb§chr
);

786 #i‡@
GNULIB_MBSSTR
@

791 
_GL_EXTERN_C
 * 
	$mbs°r
 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

792 
	`_GL_ARG_NONNULL
 ((1, 2));

795 #i‡@
GNULIB_MBSCASECMP
@

802 
_GL_EXTERN_C
 
	$mbsˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
)

803 
	`_GL_ARG_NONNULL
 ((1, 2));

806 #i‡@
GNULIB_MBSNCASECMP
@

816 
_GL_EXTERN_C
 
	$mb¢ˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
)

817 
	`_GL_ARG_NONNULL
 ((1, 2));

820 #i‡@
GNULIB_MBSPCASECMP
@

829 
_GL_EXTERN_C
 * 
	$mb•ˇ£cmp
 (c⁄° *
°rög
, c⁄° *
¥efix
)

830 
	`_GL_ARG_NONNULL
 ((1, 2));

833 #i‡@
GNULIB_MBSCASESTR
@

839 
_GL_EXTERN_C
 * 
	$mbsˇ£°r
 (c⁄° *
hay°ack
, c⁄° *
√edÀ
)

840 
	`_GL_ARG_NONNULL
 ((1, 2));

843 #i‡@
GNULIB_MBSCSPN
@

849 
_GL_EXTERN_C
 
size_t
 
	$mbsc•n
 (c⁄° *
°rög
, c⁄° *
ac˚±
)

850 
	`_GL_ARG_NONNULL
 ((1, 2));

853 #i‡@
GNULIB_MBSPBRK
@

858 #i‡
deföed
 
__hpux


859 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

860 
	#mb•brk
 
Ωl_mb•brk


	)

862 
	`_GL_FUNCDECL_RPL
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
)

863 
	`_GL_ARG_NONNULL
 ((1, 2)));

864 
	`_GL_CXXALIAS_RPL
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
));

866 
	`_GL_FUNCDECL_SYS
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
)

867 
	`_GL_ARG_NONNULL
 ((1, 2)));

868 
	`_GL_CXXALIAS_SYS
 (
mb•brk
, *, (c⁄° *
°rög
, c⁄° *
ac˚±
));

870 
	`_GL_CXXALIASWARN
 (
mb•brk
);

873 #i‡@
GNULIB_MBSSPN
@

879 
_GL_EXTERN_C
 
size_t
 
	$mbs•n
 (c⁄° *
°rög
, c⁄° *
ªje˘
)

880 
	`_GL_ARG_NONNULL
 ((1, 2));

883 #i‡@
GNULIB_MBSSEP
@

898 
_GL_EXTERN_C
 * 
	$mbs£p
 (**
°rögp
, c⁄° *
dñim
)

899 
	`_GL_ARG_NONNULL
 ((1, 2));

902 #i‡@
GNULIB_MBSTOK_R
@

919 
_GL_EXTERN_C
 * 
	$mb°ok_r
 (*
°rög
, c⁄° *
dñim
, **
ßve_±r
)

920 
	`_GL_ARG_NONNULL
 ((2, 3));

924 #i‡@
GNULIB_STRERROR
@

925 #i‡@
REPLACE_STRERROR
@

926 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

927 #unde‡
°ªº‹


928 
	#°ªº‹
 
Ωl_°ªº‹


	)

930 
	`_GL_FUNCDECL_RPL
 (
°ªº‹
, *, ());

931 
	`_GL_CXXALIAS_RPL
 (
°ªº‹
, *, ());

933 
	`_GL_CXXALIAS_SYS
 (
°ªº‹
, *, ());

935 
	`_GL_CXXALIASWARN
 (
°ªº‹
);

936 #ñi‡
deföed
 
GNULIB_POSIXCHECK


937 #unde‡
°ªº‹


939 
	`_GL_WARN_ON_USE
 (
°ªº‹
, "strerror is unportable - "

945 #i‡@
GNULIB_STRERROR_R
@

946 #i‡@
REPLACE_STRERROR_R
@

947 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

948 #unde‡
°ªº‹_r


949 
	#°ªº‹_r
 
Ωl_°ªº‹_r


	)

951 
	`_GL_FUNCDECL_RPL
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
)

952 
	`_GL_ARG_NONNULL
 ((2)));

953 
	`_GL_CXXALIAS_RPL
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
));

955 #i‡!@
HAVE_DECL_STRERROR_R
@

956 
	`_GL_FUNCDECL_SYS
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
)

957 
	`_GL_ARG_NONNULL
 ((2)));

959 
	`_GL_CXXALIAS_SYS
 (
°ªº‹_r
, , (
î∫um
, *
buf
, 
size_t
 
buÊí
));

961 #i‡@
HAVE_DECL_STRERROR_R
@

962 
	`_GL_CXXALIASWARN
 (
°ªº‹_r
);

964 #ñi‡
deföed
 
GNULIB_POSIXCHECK


965 #unde‡
°ªº‹_r


966 #i‡
HAVE_RAW_DECL_STRERROR_R


967 
	`_GL_WARN_ON_USE
 (
°ªº‹_r
, "strerror_r is unportable - "

972 #i‡@
GNULIB_STRSIGNAL
@

973 #i‡@
REPLACE_STRSIGNAL
@

974 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

975 
	#°rsig«l
 
Ωl_°rsig«l


	)

977 
	`_GL_FUNCDECL_RPL
 (
°rsig«l
, *, (
__sig
));

978 
	`_GL_CXXALIAS_RPL
 (
°rsig«l
, *, (
__sig
));

980 #i‡! @
HAVE_DECL_STRSIGNAL
@

981 
	`_GL_FUNCDECL_SYS
 (
°rsig«l
, *, (
__sig
));

985 
	`_GL_CXXALIAS_SYS_CAST
 (
°rsig«l
, *, (
__sig
));

987 
	`_GL_CXXALIASWARN
 (
°rsig«l
);

988 #ñi‡
deföed
 
GNULIB_POSIXCHECK


989 #unde‡
°rsig«l


990 #i‡
HAVE_RAW_DECL_STRSIGNAL


991 
	`_GL_WARN_ON_USE
 (
°rsig«l
, "strsignal is unportable - "

996 #i‡@
GNULIB_STRVERSCMP
@

997 #i‡!@
HAVE_STRVERSCMP
@

998 
	`_GL_FUNCDECL_SYS
 (
°rvîscmp
, , (const *, const *)

999 
	`_GL_ARG_NONNULL
 ((1, 2)));

1001 
	`_GL_CXXALIAS_SYS
 (
°rvîscmp
, , (const *, const *));

1002 
	`_GL_CXXALIASWARN
 (
°rvîscmp
);

1003 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1004 #unde‡
°rvîscmp


1005 #i‡
HAVE_RAW_DECL_STRVERSCMP


1006 
	`_GL_WARN_ON_USE
 (
°rvîscmp
, "strverscmp is unportable - "

	@lib/stripslash.c

19 
	~<c⁄fig.h
>

21 
	~"dú«me.h
"

30 
boﬁ


31 
	$°rù_åaûög_¶ashes
 (*
fûe
)

33 *
ba£
 = 
	`œ°_comp⁄ít
 (
fûe
);

34 *
ba£_lim
;

35 
boﬁ
 
had_¶ash
;

39 i‡(! *
ba£
)

40 
ba£
 = 
fûe
;

41 
ba£_lim
 = 
ba£
 + 
	`ba£_Àn
 (base);

42 
had_¶ash
 = (*
ba£_lim
 != '\0');

43 *
ba£_lim
 = '\0';

44  
had_¶ash
;

45 
	}
}

	@lib/sys/ioctl.h

21 #i‚de‡
_GL_SYS_IOCTL_H


23 #i‡
__GNUC__
 >= 3

24 #¥agm®
GCC
 
sy°em_hódî


30 #ö˛ude_√xà<
sys
/
io˘l
.
h
>

33 #i‚de‡
_GL_SYS_IOCTL_H


34 
	#_GL_SYS_IOCTL_H


	)

39 #i‚de‡
__GLIBC__


40 
	~<uni°d.h
>

44 #i‚de‡
_GL_CXXDEFS_H


45 
	#_GL_CXXDEFS_H


	)

108 #i‡
deföed
 
__˝lu•lus


109 
	#_GL_EXTERN_C
 "C"

	)

111 
	#_GL_EXTERN_C
 

	)

121 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

122 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

123 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

124 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

133 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

134 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

142 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

143 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

144 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


145 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

146 
«me•a˚
 
GNULIB_NAMESPACE
 \

148 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

150 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

152 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

153 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

161 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


162 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

163 
«me•a˚
 
GNULIB_NAMESPACE
 \

165 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

166 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

168 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

170 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

171 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

181 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


188 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

189 
«me•a˚
 
GNULIB_NAMESPACE
 \

191 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

193 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

195 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

196 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

204 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


205 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

206 
«me•a˚
 
GNULIB_NAMESPACE
 \

208 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

209 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

211 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

213 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

214 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

223 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


229 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

230 
«me•a˚
 
GNULIB_NAMESPACE
 \

232 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

233 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

234 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

236 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

238 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

239 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

246 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


247 
	#_GL_CXXALIASWARN
(
func
) \

248 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

249 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

250 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

253 #i‡!
__OPTIMIZE__


254 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

255 
	`_GL_WARN_ON_USE
 (
func
, \

257 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

258 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


259 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

260 
	`__ty≥of__
 (
func
Ë
	)
func

262 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

263 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

266 
	#_GL_CXXALIASWARN
(
func
) \

267 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

273 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


274 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

275 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

276 
GNULIB_NAMESPACE
)

	)

277 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

278 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

281 #i‡!
__OPTIMIZE__


282 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

283 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

285 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

286 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


287 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

288 
	`__ty≥of__
 (
func
Ë
	)
func

290 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

291 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

294 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

295 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

301 #i‚de‡
_GL_WARN_ON_USE


303 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

305 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

306 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

307 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


309 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

310 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

312 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

313 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

323 #i‚de‡
_GL_WARN_ON_USE_CXX


324 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

325 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

326 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

327 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

328 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


330 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

331 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

333 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

334 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

340 #i‚de‡
_GL_WARN_EXTERN_C


341 #i‡
deföed
 
__˝lu•lus


342 
	#_GL_WARN_EXTERN_C
 "C"

	)

344 
	#_GL_WARN_EXTERN_C
 

	)

353 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

354 #unde‡
io˘l


355 
	#io˘l
 
Ωl_io˘l


	)

357 
_GL_FUNCDECL_RPL
 (
io˘l
, ,

358 (
fd
, 
ªque°
, ... ));

359 
_GL_CXXALIAS_RPL
 (
io˘l
, ,

360 (
fd
, 
ªque°
, ... ));

363 
_GL_FUNCDECL_SYS
 (
io˘l
, ,

364 (
fd
, 
ªque°
, ... ));

366 
_GL_CXXALIAS_SYS
 (
io˘l
, ,

367 (
fd
, 
ªque°
, ... ));

369 
_GL_CXXALIASWARN
 (
io˘l
);

371 #unde‡
io˘l


372 
	#io˘l
 
io˘l_u£d_wôhout_ªque°ög_gnulib_moduÀ_io˘l


	)

373 #ñi‡
deföed
 
GNULIB_POSIXCHECK


374 #unde‡
io˘l


375 #i‡
HAVE_RAW_DECL_IOCTL


376 
_GL_WARN_ON_USE
 (
io˘l
, "ioctl doesÇotÖortably work on sockets - "

	@lib/sys/select.h

21 #i‡
__GNUC__
 >= 3

22 #¥agm®
GCC
 
sy°em_hódî


28 #i‡1 && 
deföed
 
__osf__
 && (deföed 
_SYS_TYPES_H_
 && !deföed 
_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TYPES_H
Ë&& deföed 
_OSF_SOURCE


30 
	#_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TYPES_H


	)

31 #ö˛ude_√xà<
sys
/
£À˘
.
h
>

33 #ñi‡1 && 
deföed
 
__osf__
 && (deföed 
_SYS_TIME_H_
 && !deföed 
_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TIME_H
Ë&& deföed 
_OSF_SOURCE


35 
	#_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TIME_H


	)

36 #ö˛ude_√xà<
sys
/
£À˘
.
h
>

40 #i‚de‡
_GL_SYS_SELECT_H


45 
	~<sys/ty≥s.h
>

49 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

50 
	~<sig«l.h
>

60 #i‚de‡
__GLIBC__


61 
	~<sys/time.h
>

67 #i‡(
deföed
 
__O≥nBSD__
 || deföed 
_AIX
 || deföed 
__sun
 || deföed 
__osf__
 || deföed 
__BEOS__
) \

68 && ! 
deföed
 
	g__GLIBC__


69 
	~<°rög.h
>

73 #ö˛ude_√xà<
sys
/
£À˘
.
h
>

77 #i‚de‡
_GL_SYS_SELECT_H


78 
	#_GL_SYS_SELECT_H


	)

84 
	~<sys/time.h
>

87 #i‡
deföed
 
__hpux


88 
	~<°rög.h
>

92 #i‡0 && !
deföed
 
_GL_INCLUDING_WINSOCK2_H


93 
	#_GL_INCLUDING_WINSOCK2_H


	)

94 
	~<wösock2.h
>

95 #unde‡
_GL_INCLUDING_WINSOCK2_H


100 #i‚de‡
_GL_CXXDEFS_H


101 
	#_GL_CXXDEFS_H


	)

164 #i‡
deföed
 
__˝lu•lus


165 
	#_GL_EXTERN_C
 "C"

	)

167 
	#_GL_EXTERN_C
 

	)

177 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

178 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

179 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

180 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

189 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

190 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

198 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

199 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

200 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


201 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

202 
«me•a˚
 
GNULIB_NAMESPACE
 \

204 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

206 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

209 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

217 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


218 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

219 
«me•a˚
 
GNULIB_NAMESPACE
 \

221 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

222 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

224 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

226 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

227 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

237 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


244 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

245 
«me•a˚
 
GNULIB_NAMESPACE
 \

247 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

249 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

251 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

252 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

260 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


261 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

262 
«me•a˚
 
GNULIB_NAMESPACE
 \

264 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

265 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

267 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

269 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

270 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

279 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


285 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

286 
«me•a˚
 
GNULIB_NAMESPACE
 \

288 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

289 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

290 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

292 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

294 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

295 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

302 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


303 
	#_GL_CXXALIASWARN
(
func
) \

304 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

305 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

306 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

309 #i‡!
__OPTIMIZE__


310 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

311 
	`_GL_WARN_ON_USE
 (
func
, \

313 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

314 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


315 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

316 
	`__ty≥of__
 (
func
Ë
	)
func

318 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

319 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

322 
	#_GL_CXXALIASWARN
(
func
) \

323 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

329 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


330 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

331 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

332 
GNULIB_NAMESPACE
)

	)

333 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

334 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

337 #i‡!
__OPTIMIZE__


338 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

339 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

341 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

342 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


343 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

344 
	`__ty≥of__
 (
func
Ë
	)
func

346 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

347 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

350 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

351 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

357 #i‚de‡
_GL_WARN_ON_USE


359 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

361 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

362 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

363 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


365 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

366 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

368 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

369 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

379 #i‚de‡
_GL_WARN_ON_USE_CXX


380 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

381 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

382 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

383 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

384 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


386 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

387 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

389 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

390 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

396 #i‚de‡
_GL_WARN_EXTERN_C


397 #i‡
deföed
 
__˝lu•lus


398 
	#_GL_WARN_EXTERN_C
 "C"

	)

400 
	#_GL_WARN_EXTERN_C
 

	)

409 #i‡!
GNULIB_deföed_Ωl_fd_is£t


413 
ölöe
 

414 
	$Ωl_fd_is£t
 (
SOCKET
 
fd
, 
fd_£t
 * 
£t
)

416 
u_öt
 
i
;

417 i‡(
£t
 =
NULL
)

420 
i
 = 0; i < 
£t
->
fd_cou¡
; i++)

421 i‡(
£t
->
fd_¨øy
[
i
] =
fd
)

425 
	}
}

427 
	#GNULIB_deföed_Ωl_fd_is£t
 1

	)

430 #unde‡
FD_ISSET


431 
	#FD_ISSET
(
fd
, 
£t
Ë
	`Ωl_fd_is£t
(fd, së)

	)

438 #i‡!
deföed
 
_GL_UNISTD_H


439 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

440 #unde‡
˛o£


441 
	#˛o£
 
˛o£_u£d_wôhout_ö˛udög_uni°d_h


	)

443 
_GL_WARN_ON_USE
 (
˛o£
,

446 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

447 #unde‡
gëho°«me


448 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ö˛udög_uni°d_h


	)

450 
_GL_WARN_ON_USE
 (
gëho°«me
,

454 #i‡!
deföed
 
_GL_SYS_SOCKET_H


455 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

456 #unde‡
sockë


457 
	#sockë
 
sockë_u£d_wôhout_ö˛udög_sys_sockë_h


	)

458 #unde‡
c⁄√˘


459 
	#c⁄√˘
 
c⁄√˘_u£d_wôhout_ö˛udög_sys_sockë_h


	)

460 #unde‡
ac˚±


461 
	#ac˚±
 
ac˚±_u£d_wôhout_ö˛udög_sys_sockë_h


	)

462 #unde‡
böd


463 
	#böd
 
böd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

464 #unde‡
gë≥î«me


465 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

466 #unde‡
gësock«me


467 
	#gësock«me
 
gësock«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

468 #unde‡
gësock›t


469 
	#gësock›t
 
gësock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

470 #unde‡
li°í


471 
	#li°í
 
li°í_u£d_wôhout_ö˛udög_sys_sockë_h


	)

472 #unde‡
ªcv


473 
	#ªcv
 
ªcv_u£d_wôhout_ö˛udög_sys_sockë_h


	)

474 #unde‡
£nd


475 
	#£nd
 
£nd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

476 #unde‡
ªcv‰om


477 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ö˛udög_sys_sockë_h


	)

478 #unde‡
£ndto


479 
	#£ndto
 
£ndto_u£d_wôhout_ö˛udög_sys_sockë_h


	)

480 #unde‡
£tsock›t


481 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

482 #unde‡
shutdown


483 
	#shutdown
 
shutdown_u£d_wôhout_ö˛udög_sys_sockë_h


	)

485 
_GL_WARN_ON_USE
 (
sockë
,

487 
_GL_WARN_ON_USE
 (
c⁄√˘
,

489 
_GL_WARN_ON_USE
 (
ac˚±
,

491 
_GL_WARN_ON_USE
 (
böd
,

493 
_GL_WARN_ON_USE
 (
gë≥î«me
,

495 
_GL_WARN_ON_USE
 (
gësock«me
,

497 
_GL_WARN_ON_USE
 (
gësock›t
,

499 
_GL_WARN_ON_USE
 (
li°í
,

501 
_GL_WARN_ON_USE
 (
ªcv
,

503 
_GL_WARN_ON_USE
 (
£nd
,

505 
_GL_WARN_ON_USE
 (
ªcv‰om
,

507 
_GL_WARN_ON_USE
 (
£ndto
,

509 
_GL_WARN_ON_USE
 (
£tsock›t
,

511 
_GL_WARN_ON_USE
 (
shutdown
,

520 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

521 #unde‡
p£À˘


522 
	#p£À˘
 
Ωl_p£À˘


	)

524 
_GL_FUNCDECL_RPL
 (
p£À˘
, ,

525 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

526 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

527 
_GL_CXXALIAS_RPL
 (
p£À˘
, ,

528 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

529 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

532 
_GL_FUNCDECL_SYS
 (
p£À˘
, ,

533 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

534 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

536 
_GL_CXXALIAS_SYS
 (
p£À˘
, ,

537 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

538 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

540 
_GL_CXXALIASWARN
 (
p£À˘
);

541 #ñi‡
deföed
 
GNULIB_POSIXCHECK


542 #unde‡
p£À˘


543 #i‡
HAVE_RAW_DECL_PSELECT


544 
_GL_WARN_ON_USE
 (
p£À˘
, "pselect isÇotÖortable - "

551 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

552 #unde‡
£À˘


553 
	#£À˘
 
Ωl_£À˘


	)

555 
_GL_FUNCDECL_RPL
 (
£À˘
, ,

556 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

557 
_GL_CXXALIAS_RPL
 (
£À˘
, ,

558 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

560 
_GL_CXXALIAS_SYS
 (
£À˘
, ,

561 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

563 
_GL_CXXALIASWARN
 (
£À˘
);

565 #unde‡
£À˘


566 
	#£À˘
 
£À˘_u£d_wôhout_ªque°ög_gnulib_moduÀ_£À˘


	)

567 #ñi‡
deföed
 
GNULIB_POSIXCHECK


568 #unde‡
£À˘


569 #i‡
HAVE_RAW_DECL_SELECT


570 
_GL_WARN_ON_USE
 (
£À˘
, "select isÇotálways POSIX compliant - "

	@lib/sys/socket.h

29 #i‡
__GNUC__
 >= 3

30 #¥agm®
GCC
 
sy°em_hódî


34 #i‡
deföed
 
_GL_ALREADY_INCLUDING_SYS_SOCKET_H


41 #ö˛ude_√xà<
sys
/
sockë
.
h
>

46 #i‚de‡
_GL_SYS_SOCKET_H


50 
	#_GL_ALREADY_INCLUDING_SYS_SOCKET_H


	)

54 
	~<sys/ty≥s.h
>

58 
	~<°ddef.h
>

61 #ö˛ude_√xà<
sys
/
sockë
.
h
>

63 #unde‡
_GL_ALREADY_INCLUDING_SYS_SOCKET_H


67 #i‚de‡
_GL_SYS_SOCKET_H


68 
	#_GL_SYS_SOCKET_H


	)

71 #i‚de‡
_GL_CXXDEFS_H


72 
	#_GL_CXXDEFS_H


	)

135 #i‡
deföed
 
__˝lu•lus


136 
	#_GL_EXTERN_C
 "C"

	)

138 
	#_GL_EXTERN_C
 

	)

148 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

149 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

150 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

151 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

160 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

161 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

169 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

170 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

171 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


172 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

173 
«me•a˚
 
GNULIB_NAMESPACE
 \

175 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

177 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

179 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

180 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

188 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


189 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

190 
«me•a˚
 
GNULIB_NAMESPACE
 \

192 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

193 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

195 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

197 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

198 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


215 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

216 
«me•a˚
 
GNULIB_NAMESPACE
 \

218 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

220 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

222 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

223 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

231 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


232 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

233 
«me•a˚
 
GNULIB_NAMESPACE
 \

235 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

236 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

238 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

240 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

241 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

250 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


256 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

257 
«me•a˚
 
GNULIB_NAMESPACE
 \

259 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

260 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

261 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

263 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

265 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

266 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

273 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


274 
	#_GL_CXXALIASWARN
(
func
) \

275 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

276 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

277 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

280 #i‡!
__OPTIMIZE__


281 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

282 
	`_GL_WARN_ON_USE
 (
func
, \

284 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

285 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


286 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

287 
	`__ty≥of__
 (
func
Ë
	)
func

289 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

290 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

293 
	#_GL_CXXALIASWARN
(
func
) \

294 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

300 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


301 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

302 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

303 
GNULIB_NAMESPACE
)

	)

304 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

305 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

308 #i‡!
__OPTIMIZE__


309 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

310 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

312 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

313 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


314 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

315 
	`__ty≥of__
 (
func
Ë
	)
func

317 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

318 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

321 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

322 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

331 #i‚de‡
_GL_ARG_NONNULL


332 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

333 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

335 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

340 #i‚de‡
_GL_WARN_ON_USE


342 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

344 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

345 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

346 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


348 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

349 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

351 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

352 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

362 #i‚de‡
_GL_WARN_ON_USE_CXX


363 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

364 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

365 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

366 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

367 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


369 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

370 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

372 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

373 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

379 #i‚de‡
_GL_WARN_EXTERN_C


380 #i‡
deföed
 
__˝lu•lus


381 
	#_GL_WARN_EXTERN_C
 "C"

	)

383 
	#_GL_WARN_EXTERN_C
 

	)

388 #i‡!
GNULIB_deföed_ß_Ámûy_t


389 
	tß_Ámûy_t
;

390 
	#GNULIB_deföed_ß_Ámûy_t
 1

	)

397 #i‚de‡
ss_Ámûy


398 
	#ss_Ámûy
 
__ss_Ámûy


	)

402 
	~<Æignof.h
>

405 
	#__ss_Æig¡y≥
 

	)

406 
	#_SS_SIZE
 256

	)

407 
	#_SS_PADSIZE
 \

408 (
_SS_SIZE
 - (( (
ß_Ámûy_t
Ë>
	`Æignof
 (
__ss_Æig¡y≥
) \

409 ?  (
ß_Ámûy_t
) \

410 : 
	`Æignof
 (
__ss_Æig¡y≥
)) \

411 +  (
__ss_Æig¡y≥
)))

	)

413 #i‡!
GNULIB_deföed_°ru˘_sockaddr_°‹age


414 
	ssockaddr_°‹age


416 
ß_Ámûy_t
 
	mss_Ámûy
;

417 
__ss_Æig¡y≥
 
	m__ss_Æign
;

418 
	m__ss_∑ddög
[
_SS_PADSIZE
];

420 
	#GNULIB_deföed_°ru˘_sockaddr_°‹age
 1

	)

427 #i‡! 
deföed
 
__GLIBC__


428 
	~<sys/uio.h
>

436 #i‡!
deföed
 
SHUT_RD


437 
	#SHUT_RD
 0

	)

439 #i‡!
deföed
 
SHUT_WR


440 
	#SHUT_WR
 1

	)

442 #i‡!
deföed
 
SHUT_RDWR


443 
	#SHUT_RDWR
 2

	)

448 #ifde‡
__CYGWIN__


470 
	~<wösock2.h
>

473 
	~<ws2t˝ù.h
>

477 #i‡!
deföed
 
SHUT_RD
 && deföed 
SD_RECEIVE


478 
	#SHUT_RD
 
SD_RECEIVE


	)

480 #i‡!
deföed
 
SHUT_WR
 && deföed 
SD_SEND


481 
	#SHUT_WR
 
SD_SEND


	)

483 #i‡!
deföed
 
SHUT_RDWR
 && deföed 
SD_BOTH


484 
	#SHUT_RDWR
 
SD_BOTH


	)

489 
	~<sys/ty≥s.h
>

490 
	~<io.h
>

492 #i‡!
GNULIB_deföed_sockÀn_t


493 
	tsockÀn_t
;

494 
	#GNULIB_deföed_sockÀn_t
 1

	)

501 
	smsghdr
 {

502 *
	mmsg_«me
;

503 
sockÀn_t
 
	mmsg_«mñí
;

504 
iovec
 *
	mmsg_iov
;

505 
	mmsg_iovÀn
;

506 
	mmsg_Êags
;

515 #i‡!
GNULIB_deföed_Ωl_fd_is£t


519 
ölöe
 

520 
	$Ωl_fd_is£t
 (
SOCKET
 
fd
, 
fd_£t
 * 
£t
)

522 
u_öt
 
i
;

523 i‡(
£t
 =
NULL
)

526 
i
 = 0; i < 
£t
->
fd_cou¡
; i++)

527 i‡(
£t
->
fd_¨øy
[
i
] =
fd
)

531 
	}
}

533 
	#GNULIB_deföed_Ωl_fd_is£t
 1

	)

536 #unde‡
FD_ISSET


537 
	#FD_ISSET
(
fd
, 
£t
Ë
	`Ωl_fd_is£t
(fd, së)

	)

544 #i‡!
deföed
 
_GL_UNISTD_H


545 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

546 #unde‡
˛o£


547 
	#˛o£
 
˛o£_u£d_wôhout_ö˛udög_uni°d_h


	)

549 
_GL_WARN_ON_USE
 (
˛o£
,

552 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

553 #unde‡
gëho°«me


554 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ö˛udög_uni°d_h


	)

556 
_GL_WARN_ON_USE
 (
gëho°«me
,

560 #i‡!
deföed
 
_GL_SYS_SELECT_H


561 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

562 #unde‡
£À˘


563 
	#£À˘
 
£À˘_u£d_wôhout_ö˛udög_sys_£À˘_h


	)

565 
_GL_WARN_ON_USE
 (
£À˘
,

575 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

576 #unde‡
sockë


577 
	#sockë
 
Ωl_sockë


	)

579 
_GL_FUNCDECL_RPL
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

580 
_GL_CXXALIAS_RPL
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

582 
_GL_CXXALIAS_SYS
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

584 
_GL_CXXALIASWARN
 (
sockë
);

586 #unde‡
sockë


587 
	#sockë
 
sockë_u£d_wôhout_ªque°ög_gnulib_moduÀ_sockë


	)

588 #ñi‡
deföed
 
GNULIB_POSIXCHECK


589 #unde‡
sockë


590 #i‡
HAVE_RAW_DECL_SOCKET


591 
_GL_WARN_ON_USE
 (
sockë
, "socket isÇotálways POSIX compliant - "

598 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

599 #unde‡
c⁄√˘


600 
	#c⁄√˘
 
Ωl_c⁄√˘


	)

602 
_GL_FUNCDECL_RPL
 (
c⁄√˘
, ,

603 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
)

604 
_GL_ARG_NONNULL
 ((2)));

605 
_GL_CXXALIAS_RPL
 (
c⁄√˘
, ,

606 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

610 
_GL_CXXALIAS_SYS_CAST
 (
c⁄√˘
, ,

611 (
fd
,

612 c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

614 
_GL_CXXALIASWARN
 (
c⁄√˘
);

616 #unde‡
c⁄√˘


617 
	#c⁄√˘
 
sockë_u£d_wôhout_ªque°ög_gnulib_moduÀ_c⁄√˘


	)

618 #ñi‡
deföed
 
GNULIB_POSIXCHECK


619 #unde‡
c⁄√˘


620 #i‡
HAVE_RAW_DECL_CONNECT


621 
_GL_WARN_ON_USE
 (
c⁄√˘
, "connect isÇotálways POSIX compliant - "

628 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

629 #unde‡
ac˚±


630 
	#ac˚±
 
Ωl_ac˚±


	)

632 
_GL_FUNCDECL_RPL
 (
ac˚±
, ,

633 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

634 
_GL_CXXALIAS_RPL
 (
ac˚±
, ,

635 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

639 
_GL_CXXALIAS_SYS_CAST
 (
ac˚±
, ,

640 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

642 
_GL_CXXALIASWARN
 (
ac˚±
);

644 #unde‡
ac˚±


645 
	#ac˚±
 
ac˚±_u£d_wôhout_ªque°ög_gnulib_moduÀ_ac˚±


	)

646 #ñi‡
deföed
 
GNULIB_POSIXCHECK


647 #unde‡
ac˚±


648 #i‡
HAVE_RAW_DECL_ACCEPT


649 
_GL_WARN_ON_USE
 (
ac˚±
, "accept isÇotálways POSIX compliant - "

656 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

657 #unde‡
böd


658 
	#böd
 
Ωl_böd


	)

660 
_GL_FUNCDECL_RPL
 (
böd
, ,

661 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
)

662 
_GL_ARG_NONNULL
 ((2)));

663 
_GL_CXXALIAS_RPL
 (
böd
, ,

664 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

668 
_GL_CXXALIAS_SYS_CAST
 (
böd
, ,

669 (
fd
,

670 c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

672 
_GL_CXXALIASWARN
 (
böd
);

674 #unde‡
böd


675 
	#böd
 
böd_u£d_wôhout_ªque°ög_gnulib_moduÀ_böd


	)

676 #ñi‡
deföed
 
GNULIB_POSIXCHECK


677 #unde‡
böd


678 #i‡
HAVE_RAW_DECL_BIND


679 
_GL_WARN_ON_USE
 (
böd
, "bind isÇotálways POSIX compliant - "

686 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

687 #unde‡
gë≥î«me


688 
	#gë≥î«me
 
Ωl_gë≥î«me


	)

690 
_GL_FUNCDECL_RPL
 (
gë≥î«me
, ,

691 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

692 
_GL_ARG_NONNULL
 ((2, 3)));

693 
_GL_CXXALIAS_RPL
 (
gë≥î«me
, ,

694 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

698 
_GL_CXXALIAS_SYS_CAST
 (
gë≥î«me
, ,

699 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

701 
_GL_CXXALIASWARN
 (
gë≥î«me
);

703 #unde‡
gë≥î«me


704 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gë≥î«me


	)

705 #ñi‡
deföed
 
GNULIB_POSIXCHECK


706 #unde‡
gë≥î«me


707 #i‡
HAVE_RAW_DECL_GETPEERNAME


708 
_GL_WARN_ON_USE
 (
gë≥î«me
, "getpeername isÇotálways POSIX compliant - "

715 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

716 #unde‡
gësock«me


717 
	#gësock«me
 
Ωl_gësock«me


	)

719 
_GL_FUNCDECL_RPL
 (
gësock«me
, ,

720 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

721 
_GL_ARG_NONNULL
 ((2, 3)));

722 
_GL_CXXALIAS_RPL
 (
gësock«me
, ,

723 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

727 
_GL_CXXALIAS_SYS_CAST
 (
gësock«me
, ,

728 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

730 
_GL_CXXALIASWARN
 (
gësock«me
);

732 #unde‡
gësock«me


733 
	#gësock«me
 
gësock«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gësock«me


	)

734 #ñi‡
deföed
 
GNULIB_POSIXCHECK


735 #unde‡
gësock«me


736 #i‡
HAVE_RAW_DECL_GETSOCKNAME


737 
_GL_WARN_ON_USE
 (
gësock«me
, "getsockname isÇotálways POSIX compliant - "

744 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

745 #unde‡
gësock›t


746 
	#gësock›t
 
Ωl_gësock›t


	)

748 
_GL_FUNCDECL_RPL
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

749 *
›tvÆ
, 
sockÀn_t
 *
›éí
)

750 
_GL_ARG_NONNULL
 ((4, 5)));

751 
_GL_CXXALIAS_RPL
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

752 *
›tvÆ
, 
sockÀn_t
 *
›éí
));

756 
_GL_CXXALIAS_SYS_CAST
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

757 *
›tvÆ
, 
sockÀn_t
 *
›éí
));

759 
_GL_CXXALIASWARN
 (
gësock›t
);

761 #unde‡
gësock›t


762 
	#gësock›t
 
gësock›t_u£d_wôhout_ªque°ög_gnulib_moduÀ_gësock›t


	)

763 #ñi‡
deföed
 
GNULIB_POSIXCHECK


764 #unde‡
gësock›t


765 #i‡
HAVE_RAW_DECL_GETSOCKOPT


766 
_GL_WARN_ON_USE
 (
gësock›t
, "getsockopt isÇotálways POSIX compliant - "

773 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

774 #unde‡
li°í


775 
	#li°í
 
Ωl_li°í


	)

777 
_GL_FUNCDECL_RPL
 (
li°í
, , (
fd
, 
backlog
));

778 
_GL_CXXALIAS_RPL
 (
li°í
, , (
fd
, 
backlog
));

780 
_GL_CXXALIAS_SYS
 (
li°í
, , (
fd
, 
backlog
));

782 
_GL_CXXALIASWARN
 (
li°í
);

784 #unde‡
li°í


785 
	#li°í
 
li°í_u£d_wôhout_ªque°ög_gnulib_moduÀ_li°í


	)

786 #ñi‡
deföed
 
GNULIB_POSIXCHECK


787 #unde‡
li°í


788 #i‡
HAVE_RAW_DECL_LISTEN


789 
_GL_WARN_ON_USE
 (
li°í
, "listen isÇotálways POSIX compliant - "

796 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

797 #unde‡
ªcv


798 
	#ªcv
 
Ωl_ªcv


	)

800 
_GL_FUNCDECL_RPL
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
)

801 
_GL_ARG_NONNULL
 ((2)));

802 
_GL_CXXALIAS_RPL
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
));

804 
_GL_CXXALIAS_SYS
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
));

806 
_GL_CXXALIASWARN
 (
ªcv
);

808 #unde‡
ªcv


809 
	#ªcv
 
ªcv_u£d_wôhout_ªque°ög_gnulib_moduÀ_ªcv


	)

810 #ñi‡
deföed
 
GNULIB_POSIXCHECK


811 #unde‡
ªcv


812 #i‡
HAVE_RAW_DECL_RECV


813 
_GL_WARN_ON_USE
 (
ªcv
, "recv isÇotálways POSIX compliant - "

820 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

821 #unde‡
£nd


822 
	#£nd
 
Ωl_£nd


	)

824 
_GL_FUNCDECL_RPL
 (
£nd
, 
ssize_t
,

825 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
)

826 
_GL_ARG_NONNULL
 ((2)));

827 
_GL_CXXALIAS_RPL
 (
£nd
, 
ssize_t
,

828 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
));

830 
_GL_CXXALIAS_SYS
 (
£nd
, 
ssize_t
,

831 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
));

833 
_GL_CXXALIASWARN
 (
£nd
);

835 #unde‡
£nd


836 
	#£nd
 
£nd_u£d_wôhout_ªque°ög_gnulib_moduÀ_£nd


	)

837 #ñi‡
deföed
 
GNULIB_POSIXCHECK


838 #unde‡
£nd


839 #i‡
HAVE_RAW_DECL_SEND


840 
_GL_WARN_ON_USE
 (
£nd
, "send isÇotálways POSIX compliant - "

847 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

848 #unde‡
ªcv‰om


849 
	#ªcv‰om
 
Ωl_ªcv‰om


	)

851 
_GL_FUNCDECL_RPL
 (
ªcv‰om
, 
ssize_t
,

852 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

853 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
)

854 
_GL_ARG_NONNULL
 ((2)));

855 
_GL_CXXALIAS_RPL
 (
ªcv‰om
, 
ssize_t
,

856 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

857 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
));

861 
_GL_CXXALIAS_SYS_CAST
 (
ªcv‰om
, 
ssize_t
,

862 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

863 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
));

865 
_GL_CXXALIASWARN
 (
ªcv‰om
);

867 #unde‡
ªcv‰om


868 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ªque°ög_gnulib_moduÀ_ªcv‰om


	)

869 #ñi‡
deföed
 
GNULIB_POSIXCHECK


870 #unde‡
ªcv‰om


871 #i‡
HAVE_RAW_DECL_RECVFROM


872 
_GL_WARN_ON_USE
 (
ªcv‰om
, "recvfrom isÇotálways POSIX compliant - "

879 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

880 #unde‡
£ndto


881 
	#£ndto
 
Ωl_£ndto


	)

883 
_GL_FUNCDECL_RPL
 (
£ndto
, 
ssize_t
,

884 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

885 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
)

886 
_GL_ARG_NONNULL
 ((2)));

887 
_GL_CXXALIAS_RPL
 (
£ndto
, 
ssize_t
,

888 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

889 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
));

893 
_GL_CXXALIAS_SYS_CAST
 (
£ndto
, 
ssize_t
,

894 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

895 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
));

897 
_GL_CXXALIASWARN
 (
£ndto
);

899 #unde‡
£ndto


900 
	#£ndto
 
£ndto_u£d_wôhout_ªque°ög_gnulib_moduÀ_£ndto


	)

901 #ñi‡
deföed
 
GNULIB_POSIXCHECK


902 #unde‡
£ndto


903 #i‡
HAVE_RAW_DECL_SENDTO


904 
_GL_WARN_ON_USE
 (
£ndto
, "sendto isÇotálways POSIX compliant - "

911 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

912 #unde‡
£tsock›t


913 
	#£tsock›t
 
Ωl_£tsock›t


	)

915 
_GL_FUNCDECL_RPL
 (
£tsock›t
, , (
fd
, 
Àvñ
, 
›äame
,

916 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
)

917 
_GL_ARG_NONNULL
 ((4)));

918 
_GL_CXXALIAS_RPL
 (
£tsock›t
, , (
fd
, 
Àvñ
, 
›äame
,

919 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
));

923 
_GL_CXXALIAS_SYS_CAST
 (
£tsock›t
, ,

924 (
fd
, 
Àvñ
, 
›äame
,

925 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
));

927 
_GL_CXXALIASWARN
 (
£tsock›t
);

929 #unde‡
£tsock›t


930 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ªque°ög_gnulib_moduÀ_£tsock›t


	)

931 #ñi‡
deföed
 
GNULIB_POSIXCHECK


932 #unde‡
£tsock›t


933 #i‡
HAVE_RAW_DECL_SETSOCKOPT


934 
_GL_WARN_ON_USE
 (
£tsock›t
, "setsockopt isÇotálways POSIX compliant - "

941 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

942 #unde‡
shutdown


943 
	#shutdown
 
Ωl_shutdown


	)

945 
_GL_FUNCDECL_RPL
 (
shutdown
, , (
fd
, 
how
));

946 
_GL_CXXALIAS_RPL
 (
shutdown
, , (
fd
, 
how
));

948 
_GL_CXXALIAS_SYS
 (
shutdown
, , (
fd
, 
how
));

950 
_GL_CXXALIASWARN
 (
shutdown
);

952 #unde‡
shutdown


953 
	#shutdown
 
shutdown_u£d_wôhout_ªque°ög_gnulib_moduÀ_shutdown


	)

954 #ñi‡
deföed
 
GNULIB_POSIXCHECK


955 #unde‡
shutdown


956 #i‡
HAVE_RAW_DECL_SHUTDOWN


957 
_GL_WARN_ON_USE
 (
shutdown
, "shutdown isÇotálways POSIX compliant - "

969 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

970 
	#ac˚±4
 
Ωl_ac˚±4


	)

972 
_GL_FUNCDECL_RPL
 (
ac˚±4
, ,

973 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

974 
Êags
));

975 
_GL_CXXALIAS_RPL
 (
ac˚±4
, ,

976 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

977 
Êags
));

979 
_GL_FUNCDECL_SYS
 (
ac˚±4
, ,

980 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

981 
Êags
));

982 
_GL_CXXALIAS_SYS
 (
ac˚±4
, ,

983 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

984 
Êags
));

986 
_GL_CXXALIASWARN
 (
ac˚±4
);

987 #ñi‡
deföed
 
GNULIB_POSIXCHECK


988 #unde‡
ac˚±4


989 #i‡
HAVE_RAW_DECL_ACCEPT4


990 
_GL_WARN_ON_USE
 (
ac˚±4
, "accept4 is unportable - "

	@lib/sys/stat.h

27 #i‡
__GNUC__
 >= 3

28 #¥agm®
GCC
 
sy°em_hódî


32 #i‡
deföed
 
__√ed_sy°em_sys_°©_h


35 #ö˛ude_√xà<
sys
/
°©
.
h
>

40 #i‚de‡
_GL_SYS_STAT_H


43 
	~<sys/ty≥s.h
>

46 
	~<time.h
>

49 #ö˛ude_√xà<
sys
/
°©
.
h
>

51 #i‚de‡
_GL_SYS_STAT_H


52 
	#_GL_SYS_STAT_H


	)

55 #i‚de‡
_GL_CXXDEFS_H


56 
	#_GL_CXXDEFS_H


	)

119 #i‡
deföed
 
__˝lu•lus


120 
	#_GL_EXTERN_C
 "C"

	)

122 
	#_GL_EXTERN_C
 

	)

132 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

133 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

134 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

135 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

144 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

145 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

153 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

154 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

155 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


156 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

157 
«me•a˚
 
GNULIB_NAMESPACE
 \

159 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

161 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

163 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

164 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

172 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


173 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

174 
«me•a˚
 
GNULIB_NAMESPACE
 \

176 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

177 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

179 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

181 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

182 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

192 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


199 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

200 
«me•a˚
 
GNULIB_NAMESPACE
 \

202 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

204 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

206 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

207 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

215 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


216 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

217 
«me•a˚
 
GNULIB_NAMESPACE
 \

219 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

220 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

222 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

224 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

225 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

234 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


240 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

241 
«me•a˚
 
GNULIB_NAMESPACE
 \

243 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

244 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

245 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

247 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

249 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

250 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

257 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


258 
	#_GL_CXXALIASWARN
(
func
) \

259 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

260 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

261 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

264 #i‡!
__OPTIMIZE__


265 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

266 
	`_GL_WARN_ON_USE
 (
func
, \

268 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

269 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


270 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

271 
	`__ty≥of__
 (
func
Ë
	)
func

273 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

274 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

277 
	#_GL_CXXALIASWARN
(
func
) \

278 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

284 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


285 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

286 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

287 
GNULIB_NAMESPACE
)

	)

288 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

289 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

292 #i‡!
__OPTIMIZE__


293 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

294 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

296 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

297 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


298 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

299 
	`__ty≥of__
 (
func
Ë
	)
func

301 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

302 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

305 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

306 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

315 #i‚de‡
_GL_ARG_NONNULL


316 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

317 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

319 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

324 #i‚de‡
_GL_WARN_ON_USE


326 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

328 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

329 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

330 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


332 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

333 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

335 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

336 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

346 #i‚de‡
_GL_WARN_ON_USE_CXX


347 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

348 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

349 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

350 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

351 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


353 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

354 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

356 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

357 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

363 #i‚de‡
_GL_WARN_EXTERN_C


364 #i‡
deföed
 
__˝lu•lus


365 
	#_GL_WARN_EXTERN_C
 "C"

	)

367 
	#_GL_WARN_EXTERN_C
 

	)

373 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


374 
	~<io.h
>

375 
	~<dúe˘.h
>

378 #i‚de‡
S_IFMT


379 
	#S_IFMT
 0170000

	)

382 #i‡
STAT_MACROS_BROKEN


383 #unde‡
S_ISBLK


384 #unde‡
S_ISCHR


385 #unde‡
S_ISDIR


386 #unde‡
S_ISFIFO


387 #unde‡
S_ISLNK


388 #unde‡
S_ISNAM


389 #unde‡
S_ISMPB


390 #unde‡
S_ISMPC


391 #unde‡
S_ISNWK


392 #unde‡
S_ISREG


393 #unde‡
S_ISSOCK


396 #i‚de‡
S_ISBLK


397 #ifde‡
S_IFBLK


398 
	#S_ISBLK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFBLK
)

	)

400 
	#S_ISBLK
(
m
Ë0

	)

404 #i‚de‡
S_ISCHR


405 #ifde‡
S_IFCHR


406 
	#S_ISCHR
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFCHR
)

	)

408 
	#S_ISCHR
(
m
Ë0

	)

412 #i‚de‡
S_ISDIR


413 #ifde‡
S_IFDIR


414 
	#S_ISDIR
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFDIR
)

	)

416 
	#S_ISDIR
(
m
Ë0

	)

420 #i‚de‡
S_ISDOOR


421 
	#S_ISDOOR
(
m
Ë0

	)

424 #i‚de‡
S_ISFIFO


425 #ifde‡
S_IFIFO


426 
	#S_ISFIFO
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFIFO
)

	)

428 
	#S_ISFIFO
(
m
Ë0

	)

432 #i‚de‡
S_ISLNK


433 #ifde‡
S_IFLNK


434 
	#S_ISLNK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFLNK
)

	)

436 
	#S_ISLNK
(
m
Ë0

	)

440 #i‚de‡
S_ISMPB


441 #ifde‡
S_IFMPB


442 
	#S_ISMPB
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFMPB
)

	)

443 
	#S_ISMPC
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFMPC
)

	)

445 
	#S_ISMPB
(
m
Ë0

	)

446 
	#S_ISMPC
(
m
Ë0

	)

450 #i‚de‡
S_ISNAM


451 #ifde‡
S_IFNAM


452 
	#S_ISNAM
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFNAM
)

	)

454 
	#S_ISNAM
(
m
Ë0

	)

458 #i‚de‡
S_ISNWK


459 #ifde‡
S_IFNWK


460 
	#S_ISNWK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFNWK
)

	)

462 
	#S_ISNWK
(
m
Ë0

	)

466 #i‚de‡
S_ISPORT


467 
	#S_ISPORT
(
m
Ë0

	)

470 #i‚de‡
S_ISREG


471 #ifde‡
S_IFREG


472 
	#S_ISREG
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFREG
)

	)

474 
	#S_ISREG
(
m
Ë0

	)

478 #i‚de‡
S_ISSOCK


479 #ifde‡
S_IFSOCK


480 
	#S_ISSOCK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFSOCK
)

	)

482 
	#S_ISSOCK
(
m
Ë0

	)

487 #i‚de‡
S_TYPEISMQ


488 
	#S_TYPEISMQ
(
p
Ë0

	)

491 #i‚de‡
S_TYPEISTMO


492 
	#S_TYPEISTMO
(
p
Ë0

	)

496 #i‚de‡
S_TYPEISSEM


497 #ifde‡
S_INSEM


498 
	#S_TYPEISSEM
(
p
Ë(
	`S_ISNAM
 (’)->
°_mode
Ë&& (p)->
°_rdev
 =
S_INSEM
)

	)

500 
	#S_TYPEISSEM
(
p
Ë0

	)

504 #i‚de‡
S_TYPEISSHM


505 #ifde‡
S_INSHD


506 
	#S_TYPEISSHM
(
p
Ë(
	`S_ISNAM
 (’)->
°_mode
Ë&& (p)->
°_rdev
 =
S_INSHD
)

	)

508 
	#S_TYPEISSHM
(
p
Ë0

	)

513 #i‚de‡
S_ISCTG


514 
	#S_ISCTG
(
p
Ë0

	)

518 #i‚de‡
S_ISOFD


519 
	#S_ISOFD
(
p
Ë0

	)

523 #i‚de‡
S_ISOFL


524 
	#S_ISOFL
(
p
Ë0

	)

528 #i‚de‡
S_ISWHT


529 
	#S_ISWHT
(
m
Ë0

	)

534 #i‡!
S_ISUID


535 
	#S_ISUID
 04000

	)

537 #i‡!
S_ISGID


538 
	#S_ISGID
 02000

	)

542 #i‚de‡
S_ISVTX


543 
	#S_ISVTX
 01000

	)

546 #i‡!
S_IRUSR
 && 
S_IREAD


547 
	#S_IRUSR
 
S_IREAD


	)

549 #i‡!
S_IRUSR


550 
	#S_IRUSR
 00400

	)

552 #i‡!
S_IRGRP


553 
	#S_IRGRP
 (
S_IRUSR
 >> 3)

	)

555 #i‡!
S_IROTH


556 
	#S_IROTH
 (
S_IRUSR
 >> 6)

	)

559 #i‡!
S_IWUSR
 && 
S_IWRITE


560 
	#S_IWUSR
 
S_IWRITE


	)

562 #i‡!
S_IWUSR


563 
	#S_IWUSR
 00200

	)

565 #i‡!
S_IWGRP


566 
	#S_IWGRP
 (
S_IWUSR
 >> 3)

	)

568 #i‡!
S_IWOTH


569 
	#S_IWOTH
 (
S_IWUSR
 >> 6)

	)

572 #i‡!
S_IXUSR
 && 
S_IEXEC


573 
	#S_IXUSR
 
S_IEXEC


	)

575 #i‡!
S_IXUSR


576 
	#S_IXUSR
 00100

	)

578 #i‡!
S_IXGRP


579 
	#S_IXGRP
 (
S_IXUSR
 >> 3)

	)

581 #i‡!
S_IXOTH


582 
	#S_IXOTH
 (
S_IXUSR
 >> 6)

	)

585 #i‡!
S_IRWXU


586 
	#S_IRWXU
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IXUSR
)

	)

588 #i‡!
S_IRWXG


589 
	#S_IRWXG
 (
S_IRGRP
 | 
S_IWGRP
 | 
S_IXGRP
)

	)

591 #i‡!
S_IRWXO


592 
	#S_IRWXO
 (
S_IROTH
 | 
S_IWOTH
 | 
S_IXOTH
)

	)

596 #i‡!
S_IXUGO


597 
	#S_IXUGO
 (
S_IXUSR
 | 
S_IXGRP
 | 
S_IXOTH
)

	)

600 #i‚de‡
S_IRWXUGO


601 
	#S_IRWXUGO
 (
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
)

	)

605 #i‚de‡
UTIME_NOW


606 
	#UTIME_NOW
 (-1)

	)

607 
	#UTIME_OMIT
 (-2)

	)

613 
_GL_FUNCDECL_SYS
 (
fchmod©
, ,

614 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
Êag
)

615 
_GL_ARG_NONNULL
 ((2)));

617 
_GL_CXXALIAS_SYS
 (
fchmod©
, ,

618 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
Êag
));

619 
_GL_CXXALIASWARN
 (
fchmod©
);

620 #ñi‡
deföed
 
GNULIB_POSIXCHECK


621 #unde‡
fchmod©


622 #i‡
HAVE_RAW_DECL_FCHMODAT


623 
_GL_WARN_ON_USE
 (
fchmod©
, "fchmodat isÇotÖortable - "

630 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

631 
	#f°©
 
Ωl_f°©


	)

633 
_GL_FUNCDECL_RPL
 (
f°©
, , (
fd
, 
°©
 *
buf
Ë
_GL_ARG_NONNULL
 ((2)));

634 
_GL_CXXALIAS_RPL
 (
f°©
, , (
fd
, 
°©
 *
buf
));

636 
_GL_CXXALIAS_SYS
 (
f°©
, , (
fd
, 
°©
 *
buf
));

638 
_GL_CXXALIASWARN
 (
f°©
);

643 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

644 #unde‡
f°©©


645 
	#f°©©
 
Ωl_f°©©


	)

647 
_GL_FUNCDECL_RPL
 (
f°©©
, ,

648 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
)

649 
_GL_ARG_NONNULL
 ((2, 3)));

650 
_GL_CXXALIAS_RPL
 (
f°©©
, ,

651 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
));

654 
_GL_FUNCDECL_SYS
 (
f°©©
, ,

655 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
)

656 
_GL_ARG_NONNULL
 ((2, 3)));

658 
_GL_CXXALIAS_SYS
 (
f°©©
, ,

659 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
));

661 
_GL_CXXALIASWARN
 (
f°©©
);

662 #ñi‡
deföed
 
GNULIB_POSIXCHECK


663 #unde‡
f°©©


664 #i‡
HAVE_RAW_DECL_FSTATAT


665 
_GL_WARN_ON_USE
 (
f°©©
, "fstatat isÇotÖortable - "

676 #i‡0 || (!0 && 
deföed
 
__sun
)

677 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

678 #unde‡
futimís


679 
	#futimís
 
Ωl_futimís


	)

681 
_GL_FUNCDECL_RPL
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

682 
_GL_CXXALIAS_RPL
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

685 
_GL_FUNCDECL_SYS
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

687 
_GL_CXXALIAS_SYS
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

690 
_GL_CXXALIASWARN
 (
futimís
);

692 #ñi‡
deföed
 
GNULIB_POSIXCHECK


693 #unde‡
futimís


694 #i‡
HAVE_RAW_DECL_FUTIMENS


695 
_GL_WARN_ON_USE
 (
futimís
, "futimens isÇotÖortable - "

712 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

713 
	#lchmod
 
chmod


	)

717 
_GL_CXXALIAS_RPL_CAST_1
 (
lchmod
, 
chmod
, ,

718 (c⁄° *
fûíame
, 
mode_t
 
mode
));

721 
_GL_FUNCDECL_SYS
 (
lchmod
, , (c⁄° *
fûíame
, 
mode_t
 
mode
)

722 
_GL_ARG_NONNULL
 ((1)));

724 
_GL_CXXALIAS_SYS
 (
lchmod
, , (c⁄° *
fûíame
, 
mode_t
 
mode
));

727 
_GL_CXXALIASWARN
 (
lchmod
);

729 #ñi‡
deföed
 
GNULIB_POSIXCHECK


730 #unde‡
lchmod


731 #i‡
HAVE_RAW_DECL_LCHMOD


732 
_GL_WARN_ON_USE
 (
lchmod
, "lchmod is unportable - "

742 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

743 
	#l°©
 
°©


	)

745 
_GL_CXXALIAS_RPL_1
 (
l°©
, 
°©
, , (c⁄° *
«me
, °© *
buf
));

747 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

748 #unde‡
l°©


749 
	#l°©
 
Ωl_l°©


	)

751 
_GL_FUNCDECL_RPL
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
)

752 
_GL_ARG_NONNULL
 ((1, 2)));

753 
_GL_CXXALIAS_RPL
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
));

755 
_GL_CXXALIAS_SYS
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
));

758 
_GL_CXXALIASWARN
 (
l°©
);

760 #ñi‡
deföed
 
GNULIB_POSIXCHECK


761 #unde‡
l°©


762 #i‡
HAVE_RAW_DECL_LSTAT


763 
_GL_WARN_ON_USE
 (
l°©
, "lstat is unportable - "

770 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

771 #unde‡
mkdú


772 
	#mkdú
 
Ωl_mkdú


	)

774 
_GL_FUNCDECL_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
)

775 
_GL_ARG_NONNULL
 ((1)));

776 
_GL_CXXALIAS_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

782 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


784 #i‡!
GNULIB_deföed_Ωl_mkdú


785 
ölöe
 

786 
	$Ωl_mkdú
 (c⁄° *
«me
, 
mode_t
 
mode
)

788  
	`_mkdú
 (
«me
);

789 
	}
}

790 
	#GNULIB_deföed_Ωl_mkdú
 1

	)

793 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

794 
	#mkdú
 
Ωl_mkdú


	)

796 
_GL_CXXALIAS_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

798 
_GL_CXXALIAS_SYS
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

801 
_GL_CXXALIASWARN
 (
mkdú
);

806 
_GL_FUNCDECL_SYS
 (
mkdú©
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
)

807 
_GL_ARG_NONNULL
 ((2)));

809 
_GL_CXXALIAS_SYS
 (
mkdú©
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
));

810 
_GL_CXXALIASWARN
 (
mkdú©
);

811 #ñi‡
deföed
 
GNULIB_POSIXCHECK


812 #unde‡
mkdú©


813 #i‡
HAVE_RAW_DECL_MKDIRAT


814 
_GL_WARN_ON_USE
 (
mkdú©
, "mkdirat isÇotÖortable - "

822 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

823 #unde‡
mkfifo


824 
	#mkfifo
 
Ωl_mkfifo


	)

826 
_GL_FUNCDECL_RPL
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
)

827 
_GL_ARG_NONNULL
 ((1)));

828 
_GL_CXXALIAS_RPL
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
));

831 
_GL_FUNCDECL_SYS
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
)

832 
_GL_ARG_NONNULL
 ((1)));

834 
_GL_CXXALIAS_SYS
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
));

836 
_GL_CXXALIASWARN
 (
mkfifo
);

837 #ñi‡
deföed
 
GNULIB_POSIXCHECK


838 #unde‡
mkfifo


839 #i‡
HAVE_RAW_DECL_MKFIFO


840 
_GL_WARN_ON_USE
 (
mkfifo
, "mkfifo isÇotÖortable - "

848 
_GL_FUNCDECL_SYS
 (
mkfifﬂt
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
)

849 
_GL_ARG_NONNULL
 ((2)));

851 
_GL_CXXALIAS_SYS
 (
mkfifﬂt
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
));

852 
_GL_CXXALIASWARN
 (
mkfifﬂt
);

853 #ñi‡
deföed
 
GNULIB_POSIXCHECK


854 #unde‡
mkfifﬂt


855 #i‡
HAVE_RAW_DECL_MKFIFOAT


856 
_GL_WARN_ON_USE
 (
mkfifﬂt
, "mkfifoat isÇotÖortable - "

864 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

865 #unde‡
mknod


866 
	#mknod
 
Ωl_mknod


	)

868 
_GL_FUNCDECL_RPL
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

869 
_GL_ARG_NONNULL
 ((1)));

870 
_GL_CXXALIAS_RPL
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

873 
_GL_FUNCDECL_SYS
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

874 
_GL_ARG_NONNULL
 ((1)));

877 
_GL_CXXALIAS_SYS_CAST
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

879 
_GL_CXXALIASWARN
 (
mknod
);

880 #ñi‡
deföed
 
GNULIB_POSIXCHECK


881 #unde‡
mknod


882 #i‡
HAVE_RAW_DECL_MKNOD


883 
_GL_WARN_ON_USE
 (
mknod
, "mknod isÇotÖortable - "

891 
_GL_FUNCDECL_SYS
 (
mknod©
, ,

892 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

893 
_GL_ARG_NONNULL
 ((2)));

895 
_GL_CXXALIAS_SYS
 (
mknod©
, ,

896 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

897 
_GL_CXXALIASWARN
 (
mknod©
);

898 #ñi‡
deföed
 
GNULIB_POSIXCHECK


899 #unde‡
mknod©


900 #i‡
HAVE_RAW_DECL_MKNODAT


901 
_GL_WARN_ON_USE
 (
mknod©
, "mknodat isÇotÖortable - "

912 #unde‡
°©


913 #ifde‡
_LARGE_FILES


916 
	#°©
 
°©64


	)

917 #unde‡
°©64


918 
	#°©64
(
«me
, 
°
Ë
	`Ωl_°©
 («me, st)

	)

920 
	#°©
(
«me
, 
°
Ë
	`Ωl_°©
 («me, st)

	)

922 
_GL_EXTERN_C
 
	$°©
 (c⁄° *
«me
, 
°©
 *
buf
)

923 
	`_GL_ARG_NONNULL
 ((1, 2));

925 #ñi‡
deföed
 
GNULIB_POSIXCHECK


926 #unde‡
°©


927 #i‡
HAVE_RAW_DECL_STAT


928 
	`_GL_WARN_ON_USE
 (
°©
, "stat is unportable - "

939 #i‡0 || (!1 && 
deföed
 
__sun
)

940 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

941 #unde‡
utimíßt


942 
	#utimíßt
 
Ωl_utimíßt


	)

944 
	`_GL_FUNCDECL_RPL
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

945 
time•ec
 c⁄° 
times
[2], 
Êag
)

946 
	`_GL_ARG_NONNULL
 ((2)));

947 
	`_GL_CXXALIAS_RPL
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

948 
time•ec
 c⁄° 
times
[2], 
Êag
));

951 
	`_GL_FUNCDECL_SYS
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

952 
time•ec
 c⁄° 
times
[2], 
Êag
)

953 
	`_GL_ARG_NONNULL
 ((2)));

955 
	`_GL_CXXALIAS_SYS
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

956 
time•ec
 c⁄° 
times
[2], 
Êag
));

959 
	`_GL_CXXALIASWARN
 (
utimíßt
);

961 #ñi‡
deföed
 
GNULIB_POSIXCHECK


962 #unde‡
utimíßt


963 #i‡
HAVE_RAW_DECL_UTIMENSAT


964 
	`_GL_WARN_ON_USE
 (
utimíßt
, "utimensat isÇotÖortable - "

	@lib/sys/time.h

24 #i‡
__GNUC__
 >= 3

25 #¥agm®
GCC
 
sy°em_hódî


29 #i‡
deföed
 
_GL_SYS_TIME_H


33 #ö˛ude_√xà<
sys
/
time
.
h
>

38 
	#_GL_SYS_TIME_H


	)

41 #ö˛ude_√xà<
sys
/
time
.
h
>

43 
	~<time.h
>

47 #i‚de‡
_GL_CXXDEFS_H


48 
	#_GL_CXXDEFS_H


	)

111 #i‡
deföed
 
__˝lu•lus


112 
	#_GL_EXTERN_C
 "C"

	)

114 
	#_GL_EXTERN_C
 

	)

124 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

125 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

126 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

127 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

136 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

137 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

145 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

146 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

147 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


148 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

149 
«me•a˚
 
GNULIB_NAMESPACE
 \

151 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

153 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

155 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

156 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

164 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


165 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

166 
«me•a˚
 
GNULIB_NAMESPACE
 \

168 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

169 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

171 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

173 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

174 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

184 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


191 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

192 
«me•a˚
 
GNULIB_NAMESPACE
 \

194 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

196 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

198 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

199 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

207 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


208 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

209 
«me•a˚
 
GNULIB_NAMESPACE
 \

211 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

212 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

214 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

216 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

217 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

226 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


232 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

233 
«me•a˚
 
GNULIB_NAMESPACE
 \

235 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

236 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

237 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

239 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

241 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

242 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

249 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


250 
	#_GL_CXXALIASWARN
(
func
) \

251 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

252 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

253 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

256 #i‡!
__OPTIMIZE__


257 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

258 
	`_GL_WARN_ON_USE
 (
func
, \

260 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

261 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


262 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

263 
	`__ty≥of__
 (
func
Ë
	)
func

265 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

266 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

269 
	#_GL_CXXALIASWARN
(
func
) \

270 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

276 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


277 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

278 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

279 
GNULIB_NAMESPACE
)

	)

280 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

281 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

284 #i‡!
__OPTIMIZE__


285 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

286 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

288 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

289 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


290 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

291 
	`__ty≥of__
 (
func
Ë
	)
func

293 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

294 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

297 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

298 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

307 #i‚de‡
_GL_ARG_NONNULL


308 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

309 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

311 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

316 #i‚de‡
_GL_WARN_ON_USE


318 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

320 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

321 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

322 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


324 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

325 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

327 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

328 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

338 #i‚de‡
_GL_WARN_ON_USE_CXX


339 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

340 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

341 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

342 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

343 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


345 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

346 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

348 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

349 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

355 #i‚de‡
_GL_WARN_EXTERN_C


356 #i‡
deföed
 
__˝lu•lus


357 
	#_GL_WARN_EXTERN_C
 "C"

	)

359 
	#_GL_WARN_EXTERN_C
 

	)

363 #ifde‡
__˝lu•lus


369 #i‡!
GNULIB_deföed_°ru˘_timevÆ


370 
	stimevÆ


372 
time_t
 
tv_£c
;

373 
tv_u£c
;

375 
	#GNULIB_deföed_°ru˘_timevÆ
 1

	)

380 #ifde‡
__˝lu•lus


386 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

387 #unde‡
gëtimeofday


388 
	#gëtimeofday
 
Ωl_gëtimeofday


	)

390 
_GL_FUNCDECL_RPL
 (
gëtimeofday
, ,

391 (
timevÆ
 *
ª°ri˘
, *restrict)

392 
_GL_ARG_NONNULL
 ((1)));

393 
_GL_CXXALIAS_RPL
 (
gëtimeofday
, ,

394 (
timevÆ
 *
ª°ri˘
, *restrict));

397 
_GL_FUNCDECL_SYS
 (
gëtimeofday
, ,

398 (
timevÆ
 *
ª°ri˘
, *restrict)

399 
_GL_ARG_NONNULL
 ((1)));

403 
_GL_CXXALIAS_SYS_CAST
 (
gëtimeofday
, ,

404 (
timevÆ
 *
ª°ri˘
, *restrict));

406 
_GL_CXXALIASWARN
 (
gëtimeofday
);

407 #ñi‡
deföed
 
GNULIB_POSIXCHECK


408 #unde‡
gëtimeofday


409 #i‡
HAVE_RAW_DECL_GETTIMEOFDAY


410 
_GL_WARN_ON_USE
 (
gëtimeofday
, "gettimeofday is unportable - "

	@lib/sys/uio.h

21 #i‡
__GNUC__
 >= 3

22 #¥agm®
GCC
 
sy°em_hódî


26 #i‚de‡
_GL_SYS_UIO_H


31 
	~<sys/ty≥s.h
>

34 #ö˛ude_√xà<
sys
/
uio
.
h
>

38 #i‚de‡
_GL_SYS_UIO_H


39 
	#_GL_SYS_UIO_H


	)

44 
	~<sys/ty≥s.h
>

46 #ifde‡
__˝lu•lus


50 #i‡!
GNULIB_deföed_°ru˘_iovec


53 
	siovec
 {

54 *
iov_ba£
;

55 
size_t
 
iov_Àn
;

57 
	#GNULIB_deföed_°ru˘_iovec
 1

	)

60 #ifde‡
__˝lu•lus


	@lib/sys/wait.h

22 #i‚de‡
_GL_SYS_WAIT_H


24 #i‡
__GNUC__
 >= 3

25 #¥agm®
GCC
 
sy°em_hódî


30 #i‡!((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

31 #ö˛ude_√xà<
sys
/
waô
.
h
>

34 #i‚de‡
_GL_SYS_WAIT_H


35 
	#_GL_SYS_WAIT_H


	)

38 
	~<sys/ty≥s.h
>

42 #i‚de‡
_GL_CXXDEFS_H


43 
	#_GL_CXXDEFS_H


	)

106 #i‡
deföed
 
__˝lu•lus


107 
	#_GL_EXTERN_C
 "C"

	)

109 
	#_GL_EXTERN_C
 

	)

119 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

120 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

121 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

122 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

131 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

132 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

140 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

141 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

142 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


143 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

144 
«me•a˚
 
GNULIB_NAMESPACE
 \

146 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

148 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

150 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

151 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

159 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


160 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

161 
«me•a˚
 
GNULIB_NAMESPACE
 \

163 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

164 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

166 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

168 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

169 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

179 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


186 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

187 
«me•a˚
 
GNULIB_NAMESPACE
 \

189 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

191 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

193 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

194 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

202 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


203 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

204 
«me•a˚
 
GNULIB_NAMESPACE
 \

206 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

207 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

209 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

211 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

212 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

221 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


227 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

228 
«me•a˚
 
GNULIB_NAMESPACE
 \

230 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

231 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

232 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

234 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

236 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

237 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

244 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


245 
	#_GL_CXXALIASWARN
(
func
) \

246 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

247 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

248 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

251 #i‡!
__OPTIMIZE__


252 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

253 
	`_GL_WARN_ON_USE
 (
func
, \

255 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

256 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


257 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

258 
	`__ty≥of__
 (
func
Ë
	)
func

260 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

261 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

264 
	#_GL_CXXALIASWARN
(
func
) \

265 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

271 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


272 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

273 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

274 
GNULIB_NAMESPACE
)

	)

275 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

276 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

279 #i‡!
__OPTIMIZE__


280 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

281 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

283 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

284 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


285 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

286 
	`__ty≥of__
 (
func
Ë
	)
func

288 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

289 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

292 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

293 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

299 #i‚de‡
_GL_WARN_ON_USE


301 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

303 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

304 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

305 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


307 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

308 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

310 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

311 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

321 #i‚de‡
_GL_WARN_ON_USE_CXX


322 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

323 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

324 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

325 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

326 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


328 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

329 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

331 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

332 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

338 #i‚de‡
_GL_WARN_EXTERN_C


339 #i‡
deföed
 
__˝lu•lus


340 
	#_GL_WARN_EXTERN_C
 "C"

	)

342 
	#_GL_WARN_EXTERN_C
 

	)

347 #i‡!((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

358 #i‚de‡
WIFSIGNALED


359 
	#WIFSIGNALED
(
x
Ë(
	`WTERMSIG
 (xË!0 && WTERMSIG(xË!0x7f)

	)

361 #i‚de‡
WIFEXITED


362 
	#WIFEXITED
(
x
Ë(
	`WTERMSIG
 (xË=0)

	)

364 #i‚de‡
WIFSTOPPED


365 
	#WIFSTOPPED
(
x
Ë(
	`WTERMSIG
 (xË=0x7f)

	)

369 #i‚de‡
WTERMSIG


370 
	#WTERMSIG
(
x
Ë((xË& 0x7f)

	)

374 #i‚de‡
WEXITSTATUS


375 
	#WEXITSTATUS
(
x
Ë(((xË>> 8Ë& 0xff)

	)

379 #i‚de‡
WSTOPSIG


380 
	#WSTOPSIG
(
x
Ë(((xË>> 8Ë& 0x7f)

	)

384 #i‚de‡
WCOREDUMP


385 
	#WCOREDUMP
(
x
Ë((xË& 0x80)

	)

391 
	~<sig«l.h
>

398 
	#WIFSIGNALED
(
x
Ë((xË=3)

	)

399 
	#WIFEXITED
(
x
Ë((xË!3)

	)

400 
	#WIFSTOPPED
(
x
Ë0

	)

403 
	#WTERMSIG
(
x
Ë
SIGTERM


	)

405 
	#WEXITSTATUS
(
x
Ë(x)

	)

408 
	#WSTOPSIG
(
x
Ë0

	)

411 
	#WCOREDUMP
(
x
Ë0

	)

419 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


420 
_GL_FUNCDECL_SYS
 (
waôpid
, 
pid_t
, (pid_à
pid
, *
°©u•
, 
›ti⁄s
));

422 
_GL_CXXALIAS_SYS
 (
waôpid
, 
pid_t
, (pid_à
pid
, *
°©u•
, 
›ti⁄s
));

423 
_GL_CXXALIASWARN
 (
waôpid
);

424 #ñi‡
deföed
 
GNULIB_POSIXCHECK


425 #unde‡
waôpid


426 #i‡
HAVE_RAW_DECL_WAITPID


427 
_GL_WARN_ON_USE
 (
waôpid
, "waitpid is unportable - "

	@lib/sys_ioctl.in.h

20 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_IOCTL_H


22 #i‡
__GNUC__
 >= 3

23 @
	gPRAGMA_SYSTEM_HEADER
@

25 @
	gPRAGMA_COLUMNS
@

28 #i‡@
HAVE_SYS_IOCTL_H
@

29 #@
INCLUDE_NEXT
@ @
NEXT_SYS_IOCTL_H
@

32 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_IOCTL_H


33 
	#_
@
GUARD_PREFIX
@
_SYS_IOCTL_H


	)

38 #i‚de‡
__GLIBC__


39 
	~<uni°d.h
>

49 #i‡@
GNULIB_IOCTL
@

50 #i‡@
REPLACE_IOCTL
@

51 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

52 #unde‡
io˘l


53 
	#io˘l
 
Ωl_io˘l


	)

55 
_GL_FUNCDECL_RPL
 (
io˘l
, ,

56 (
fd
, 
ªque°
, ... ));

57 
_GL_CXXALIAS_RPL
 (
io˘l
, ,

58 (
fd
, 
ªque°
, ... ));

60 #i‡@
SYS_IOCTL_H_HAVE_WINSOCK2_H
@ || 1

61 
_GL_FUNCDECL_SYS
 (
io˘l
, ,

62 (
fd
, 
ªque°
, ... ));

64 
_GL_CXXALIAS_SYS
 (
io˘l
, ,

65 (
fd
, 
ªque°
, ... ));

67 
_GL_CXXALIASWARN
 (
io˘l
);

68 #ñi‡@
SYS_IOCTL_H_HAVE_WINSOCK2_H_AND_USE_SOCKETS
@

69 #unde‡
io˘l


70 
	#io˘l
 
io˘l_u£d_wôhout_ªque°ög_gnulib_moduÀ_io˘l


	)

71 #ñi‡
deföed
 
GNULIB_POSIXCHECK


72 #unde‡
io˘l


73 #i‡
HAVE_RAW_DECL_IOCTL


74 
_GL_WARN_ON_USE
 (
io˘l
, "ioctl doesÇotÖortably work on sockets - "

	@lib/sys_select.in.h

20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

27 #i‡@
HAVE_SYS_SELECT_H
@ && 
deföed
 
__osf__
 && (deföed 
_SYS_TYPES_H_
 && !deföed 
_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TYPES_H
Ë&& deföed 
_OSF_SOURCE


29 
	#_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TYPES_H


	)

30 #@
INCLUDE_NEXT
@ @
NEXT_SYS_SELECT_H
@

32 #ñi‡@
HAVE_SYS_SELECT_H
@ && 
deföed
 
__osf__
 && (deföed 
_SYS_TIME_H_
 && !deföed 
_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TIME_H
Ë&& deföed 
_OSF_SOURCE


34 
	#_GL_SYS_SELECT_H_REDIRECT_FROM_SYS_TIME_H


	)

35 #@
INCLUDE_NEXT
@ @
NEXT_SYS_SELECT_H
@

39 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_SELECT_H


44 
	~<sys/ty≥s.h
>

48 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

49 
	~<sig«l.h
>

52 #i‡@
HAVE_SYS_SELECT_H
@

59 #i‚de‡
__GLIBC__


60 
	~<sys/time.h
>

66 #i‡(
deföed
 
__O≥nBSD__
 || deföed 
_AIX
 || deföed 
__sun
 || deföed 
__osf__
 || deföed 
__BEOS__
) \

67 && ! 
deföed
 
	g__GLIBC__


68 
	~<°rög.h
>

72 #@
INCLUDE_NEXT
@ @
NEXT_SYS_SELECT_H
@

76 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_SELECT_H


77 
	#_
@
GUARD_PREFIX
@
_SYS_SELECT_H


	)

79 #i‡!@
HAVE_SYS_SELECT_H
@

83 
	~<sys/time.h
>

86 #i‡
deföed
 
__hpux


87 
	~<°rög.h
>

91 #i‡@
HAVE_WINSOCK2_H
@ && !
deföed
 
_GL_INCLUDING_WINSOCK2_H


92 
	#_GL_INCLUDING_WINSOCK2_H


	)

93 
	~<wösock2.h
>

94 #unde‡
_GL_INCLUDING_WINSOCK2_H


105 #i‡@
HAVE_WINSOCK2_H
@

107 #i‡!
GNULIB_deföed_Ωl_fd_is£t


111 
ölöe
 

112 
	$Ωl_fd_is£t
 (
SOCKET
 
fd
, 
fd_£t
 * 
£t
)

114 
u_öt
 
i
;

115 i‡(
£t
 =
NULL
)

118 
i
 = 0; i < 
£t
->
fd_cou¡
; i++)

119 i‡(
£t
->
fd_¨øy
[
i
] =
fd
)

123 
	}
}

125 
	#GNULIB_deföed_Ωl_fd_is£t
 1

	)

128 #unde‡
FD_ISSET


129 
	#FD_ISSET
(
fd
, 
£t
Ë
	`Ωl_fd_is£t
(fd, së)

	)

135 #i‡@
HAVE_WINSOCK2_H
@

136 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_UNISTD_H


137 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

138 #unde‡
˛o£


139 
	#˛o£
 
˛o£_u£d_wôhout_ö˛udög_uni°d_h


	)

141 
_GL_WARN_ON_USE
 (
˛o£
,

144 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

145 #unde‡
gëho°«me


146 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ö˛udög_uni°d_h


	)

148 
_GL_WARN_ON_USE
 (
gëho°«me
,

152 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_SYS_SOCKET_H


153 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

154 #unde‡
sockë


155 
	#sockë
 
sockë_u£d_wôhout_ö˛udög_sys_sockë_h


	)

156 #unde‡
c⁄√˘


157 
	#c⁄√˘
 
c⁄√˘_u£d_wôhout_ö˛udög_sys_sockë_h


	)

158 #unde‡
ac˚±


159 
	#ac˚±
 
ac˚±_u£d_wôhout_ö˛udög_sys_sockë_h


	)

160 #unde‡
böd


161 
	#böd
 
böd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

162 #unde‡
gë≥î«me


163 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

164 #unde‡
gësock«me


165 
	#gësock«me
 
gësock«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

166 #unde‡
gësock›t


167 
	#gësock›t
 
gësock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

168 #unde‡
li°í


169 
	#li°í
 
li°í_u£d_wôhout_ö˛udög_sys_sockë_h


	)

170 #unde‡
ªcv


171 
	#ªcv
 
ªcv_u£d_wôhout_ö˛udög_sys_sockë_h


	)

172 #unde‡
£nd


173 
	#£nd
 
£nd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

174 #unde‡
ªcv‰om


175 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ö˛udög_sys_sockë_h


	)

176 #unde‡
£ndto


177 
	#£ndto
 
£ndto_u£d_wôhout_ö˛udög_sys_sockë_h


	)

178 #unde‡
£tsock›t


179 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

180 #unde‡
shutdown


181 
	#shutdown
 
shutdown_u£d_wôhout_ö˛udög_sys_sockë_h


	)

183 
_GL_WARN_ON_USE
 (
sockë
,

185 
_GL_WARN_ON_USE
 (
c⁄√˘
,

187 
_GL_WARN_ON_USE
 (
ac˚±
,

189 
_GL_WARN_ON_USE
 (
böd
,

191 
_GL_WARN_ON_USE
 (
gë≥î«me
,

193 
_GL_WARN_ON_USE
 (
gësock«me
,

195 
_GL_WARN_ON_USE
 (
gësock›t
,

197 
_GL_WARN_ON_USE
 (
li°í
,

199 
_GL_WARN_ON_USE
 (
ªcv
,

201 
_GL_WARN_ON_USE
 (
£nd
,

203 
_GL_WARN_ON_USE
 (
ªcv‰om
,

205 
_GL_WARN_ON_USE
 (
£ndto
,

207 
_GL_WARN_ON_USE
 (
£tsock›t
,

209 
_GL_WARN_ON_USE
 (
shutdown
,

216 #i‡@
GNULIB_PSELECT
@

217 #i‡@
REPLACE_PSELECT
@

218 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

219 #unde‡
p£À˘


220 
	#p£À˘
 
Ωl_p£À˘


	)

222 
_GL_FUNCDECL_RPL
 (
p£À˘
, ,

223 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

224 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

225 
_GL_CXXALIAS_RPL
 (
p£À˘
, ,

226 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

227 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

229 #i‡!@
HAVE_PSELECT
@

230 
_GL_FUNCDECL_SYS
 (
p£À˘
, ,

231 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

232 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

234 
_GL_CXXALIAS_SYS
 (
p£À˘
, ,

235 (, 
fd_£t
 *
ª°ri˘
, fd_set *restrict, fd_set *restrict,

236 
time•ec
 c⁄° *
ª°ri˘
, c⁄° 
sig£t_t
 *restrict));

238 
_GL_CXXALIASWARN
 (
p£À˘
);

239 #ñi‡
deföed
 
GNULIB_POSIXCHECK


240 #unde‡
p£À˘


241 #i‡
HAVE_RAW_DECL_PSELECT


242 
_GL_WARN_ON_USE
 (
p£À˘
, "pselect isÇotÖortable - "

247 #i‡@
GNULIB_SELECT
@

248 #i‡@
REPLACE_SELECT
@

249 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

250 #unde‡
£À˘


251 
	#£À˘
 
Ωl_£À˘


	)

253 
_GL_FUNCDECL_RPL
 (
£À˘
, ,

254 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

255 
_GL_CXXALIAS_RPL
 (
£À˘
, ,

256 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

258 
_GL_CXXALIAS_SYS
 (
£À˘
, ,

259 (, 
fd_£t
 *, fd_£à*, fd_£à*, 
timevÆ
 *));

261 
_GL_CXXALIASWARN
 (
£À˘
);

262 #ñi‡@
HAVE_WINSOCK2_H
@

263 #unde‡
£À˘


264 
	#£À˘
 
£À˘_u£d_wôhout_ªque°ög_gnulib_moduÀ_£À˘


	)

265 #ñi‡
deföed
 
GNULIB_POSIXCHECK


266 #unde‡
£À˘


267 #i‡
HAVE_RAW_DECL_SELECT


268 
_GL_WARN_ON_USE
 (
£À˘
, "select isÇotálways POSIX compliant - "

	@lib/sys_socket.in.h

28 #i‡
__GNUC__
 >= 3

29 @
	gPRAGMA_SYSTEM_HEADER
@

31 @
	gPRAGMA_COLUMNS
@

33 #i‡
deföed
 
_GL_ALREADY_INCLUDING_SYS_SOCKET_H


40 #@
INCLUDE_NEXT
@ @
NEXT_SYS_SOCKET_H
@

45 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_SOCKET_H


47 #i‡@
HAVE_SYS_SOCKET_H
@

49 
	#_GL_ALREADY_INCLUDING_SYS_SOCKET_H


	)

53 
	~<sys/ty≥s.h
>

57 
	~<°ddef.h
>

60 #@
INCLUDE_NEXT
@ @
NEXT_SYS_SOCKET_H
@

62 #unde‡
_GL_ALREADY_INCLUDING_SYS_SOCKET_H


66 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_SOCKET_H


67 
	#_
@
GUARD_PREFIX
@
_SYS_SOCKET_H


	)

75 #i‡!@
HAVE_SA_FAMILY_T
@

76 #i‡!
GNULIB_deföed_ß_Ámûy_t


77 
	tß_Ámûy_t
;

78 
	#GNULIB_deföed_ß_Ámûy_t
 1

	)

82 #i‡@
HAVE_STRUCT_SOCKADDR_STORAGE
@

84 #i‡!@
HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY
@

85 #i‚de‡
ss_Ámûy


86 
	#ss_Ámûy
 
__ss_Ámûy


	)

90 
	~<Æignof.h
>

93 
	#__ss_Æig¡y≥
 

	)

94 
	#_SS_SIZE
 256

	)

95 
	#_SS_PADSIZE
 \

96 (
_SS_SIZE
 - (( (
ß_Ámûy_t
Ë>
	`Æignof
 (
__ss_Æig¡y≥
) \

97 ?  (
ß_Ámûy_t
) \

98 : 
	`Æignof
 (
__ss_Æig¡y≥
)) \

99 +  (
__ss_Æig¡y≥
)))

	)

101 #i‡!
GNULIB_deföed_°ru˘_sockaddr_°‹age


102 
	ssockaddr_°‹age


104 
ß_Ámûy_t
 
	mss_Ámûy
;

105 
__ss_Æig¡y≥
 
	m__ss_Æign
;

106 
	m__ss_∑ddög
[
_SS_PADSIZE
];

108 
	#GNULIB_deföed_°ru˘_sockaddr_°‹age
 1

	)

115 #i‡! 
deföed
 
__GLIBC__


116 
	~<sys/uio.h
>

119 #i‡@
HAVE_SYS_SOCKET_H
@

124 #i‡!
deföed
 
SHUT_RD


125 
	#SHUT_RD
 0

	)

127 #i‡!
deföed
 
SHUT_WR


128 
	#SHUT_WR
 1

	)

130 #i‡!
deföed
 
SHUT_RDWR


131 
	#SHUT_RDWR
 2

	)

136 #ifde‡
__CYGWIN__


157 #i‡@
HAVE_WINSOCK2_H
@

158 
	~<wösock2.h
>

160 #i‡@
HAVE_WS2TCPIP_H
@

161 
	~<ws2t˝ù.h
>

165 #i‡!
deföed
 
SHUT_RD
 && deföed 
SD_RECEIVE


166 
	#SHUT_RD
 
SD_RECEIVE


	)

168 #i‡!
deföed
 
SHUT_WR
 && deföed 
SD_SEND


169 
	#SHUT_WR
 
SD_SEND


	)

171 #i‡!
deföed
 
SHUT_RDWR
 && deföed 
SD_BOTH


172 
	#SHUT_RDWR
 
SD_BOTH


	)

175 #i‡@
HAVE_WINSOCK2_H
@

177 
	~<sys/ty≥s.h
>

178 
	~<io.h
>

180 #i‡!
GNULIB_deföed_sockÀn_t


181 
	tsockÀn_t
;

182 
	#GNULIB_deföed_sockÀn_t
 1

	)

189 
	smsghdr
 {

190 *
	mmsg_«me
;

191 
sockÀn_t
 
	mmsg_«mñí
;

192 
iovec
 *
	mmsg_iov
;

193 
	mmsg_iovÀn
;

194 
	mmsg_Êags
;

201 #i‡@
HAVE_WINSOCK2_H
@

203 #i‡!
GNULIB_deföed_Ωl_fd_is£t


207 
ölöe
 

208 
	$Ωl_fd_is£t
 (
SOCKET
 
fd
, 
fd_£t
 * 
£t
)

210 
u_öt
 
i
;

211 i‡(
£t
 =
NULL
)

214 
i
 = 0; i < 
£t
->
fd_cou¡
; i++)

215 i‡(
£t
->
fd_¨øy
[
i
] =
fd
)

219 
	}
}

221 
	#GNULIB_deföed_Ωl_fd_is£t
 1

	)

224 #unde‡
FD_ISSET


225 
	#FD_ISSET
(
fd
, 
£t
Ë
	`Ωl_fd_is£t
(fd, së)

	)

231 #i‡@
HAVE_WINSOCK2_H
@

232 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_UNISTD_H


233 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

234 #unde‡
˛o£


235 
	#˛o£
 
˛o£_u£d_wôhout_ö˛udög_uni°d_h


	)

237 
_GL_WARN_ON_USE
 (
˛o£
,

240 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

241 #unde‡
gëho°«me


242 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ö˛udög_uni°d_h


	)

244 
_GL_WARN_ON_USE
 (
gëho°«me
,

248 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_SYS_SELECT_H


249 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

250 #unde‡
£À˘


251 
	#£À˘
 
£À˘_u£d_wôhout_ö˛udög_sys_£À˘_h


	)

253 
_GL_WARN_ON_USE
 (
£À˘
,

261 #i‡@
GNULIB_SOCKET
@

262 #i‡@
HAVE_WINSOCK2_H
@

263 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

264 #unde‡
sockë


265 
	#sockë
 
Ωl_sockë


	)

267 
_GL_FUNCDECL_RPL
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

268 
_GL_CXXALIAS_RPL
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

270 
_GL_CXXALIAS_SYS
 (
sockë
, , (
domaö
, 
ty≥
, 
¥Ÿocﬁ
));

272 
_GL_CXXALIASWARN
 (
sockë
);

273 #ñi‡@
HAVE_WINSOCK2_H
@

274 #unde‡
sockë


275 
	#sockë
 
sockë_u£d_wôhout_ªque°ög_gnulib_moduÀ_sockë


	)

276 #ñi‡
deföed
 
GNULIB_POSIXCHECK


277 #unde‡
sockë


278 #i‡
HAVE_RAW_DECL_SOCKET


279 
_GL_WARN_ON_USE
 (
sockë
, "socket isÇotálways POSIX compliant - "

284 #i‡@
GNULIB_CONNECT
@

285 #i‡@
HAVE_WINSOCK2_H
@

286 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

287 #unde‡
c⁄√˘


288 
	#c⁄√˘
 
Ωl_c⁄√˘


	)

290 
_GL_FUNCDECL_RPL
 (
c⁄√˘
, ,

291 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
)

292 
_GL_ARG_NONNULL
 ((2)));

293 
_GL_CXXALIAS_RPL
 (
c⁄√˘
, ,

294 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

298 
_GL_CXXALIAS_SYS_CAST
 (
c⁄√˘
, ,

299 (
fd
,

300 c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

302 
_GL_CXXALIASWARN
 (
c⁄√˘
);

303 #ñi‡@
HAVE_WINSOCK2_H
@

304 #unde‡
c⁄√˘


305 
	#c⁄√˘
 
sockë_u£d_wôhout_ªque°ög_gnulib_moduÀ_c⁄√˘


	)

306 #ñi‡
deföed
 
GNULIB_POSIXCHECK


307 #unde‡
c⁄√˘


308 #i‡
HAVE_RAW_DECL_CONNECT


309 
_GL_WARN_ON_USE
 (
c⁄√˘
, "connect isÇotálways POSIX compliant - "

314 #i‡@
GNULIB_ACCEPT
@

315 #i‡@
HAVE_WINSOCK2_H
@

316 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

317 #unde‡
ac˚±


318 
	#ac˚±
 
Ωl_ac˚±


	)

320 
_GL_FUNCDECL_RPL
 (
ac˚±
, ,

321 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

322 
_GL_CXXALIAS_RPL
 (
ac˚±
, ,

323 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

327 
_GL_CXXALIAS_SYS_CAST
 (
ac˚±
, ,

328 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

330 
_GL_CXXALIASWARN
 (
ac˚±
);

331 #ñi‡@
HAVE_WINSOCK2_H
@

332 #unde‡
ac˚±


333 
	#ac˚±
 
ac˚±_u£d_wôhout_ªque°ög_gnulib_moduÀ_ac˚±


	)

334 #ñi‡
deföed
 
GNULIB_POSIXCHECK


335 #unde‡
ac˚±


336 #i‡
HAVE_RAW_DECL_ACCEPT


337 
_GL_WARN_ON_USE
 (
ac˚±
, "accept isÇotálways POSIX compliant - "

342 #i‡@
GNULIB_BIND
@

343 #i‡@
HAVE_WINSOCK2_H
@

344 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

345 #unde‡
böd


346 
	#böd
 
Ωl_böd


	)

348 
_GL_FUNCDECL_RPL
 (
böd
, ,

349 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
)

350 
_GL_ARG_NONNULL
 ((2)));

351 
_GL_CXXALIAS_RPL
 (
böd
, ,

352 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

356 
_GL_CXXALIAS_SYS_CAST
 (
böd
, ,

357 (
fd
,

358 c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
));

360 
_GL_CXXALIASWARN
 (
böd
);

361 #ñi‡@
HAVE_WINSOCK2_H
@

362 #unde‡
böd


363 
	#böd
 
böd_u£d_wôhout_ªque°ög_gnulib_moduÀ_böd


	)

364 #ñi‡
deföed
 
GNULIB_POSIXCHECK


365 #unde‡
böd


366 #i‡
HAVE_RAW_DECL_BIND


367 
_GL_WARN_ON_USE
 (
böd
, "bind isÇotálways POSIX compliant - "

372 #i‡@
GNULIB_GETPEERNAME
@

373 #i‡@
HAVE_WINSOCK2_H
@

374 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

375 #unde‡
gë≥î«me


376 
	#gë≥î«me
 
Ωl_gë≥î«me


	)

378 
_GL_FUNCDECL_RPL
 (
gë≥î«me
, ,

379 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

380 
_GL_ARG_NONNULL
 ((2, 3)));

381 
_GL_CXXALIAS_RPL
 (
gë≥î«me
, ,

382 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

386 
_GL_CXXALIAS_SYS_CAST
 (
gë≥î«me
, ,

387 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

389 
_GL_CXXALIASWARN
 (
gë≥î«me
);

390 #ñi‡@
HAVE_WINSOCK2_H
@

391 #unde‡
gë≥î«me


392 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gë≥î«me


	)

393 #ñi‡
deföed
 
GNULIB_POSIXCHECK


394 #unde‡
gë≥î«me


395 #i‡
HAVE_RAW_DECL_GETPEERNAME


396 
_GL_WARN_ON_USE
 (
gë≥î«me
, "getpeername isÇotálways POSIX compliant - "

401 #i‡@
GNULIB_GETSOCKNAME
@

402 #i‡@
HAVE_WINSOCK2_H
@

403 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

404 #unde‡
gësock«me


405 
	#gësock«me
 
Ωl_gësock«me


	)

407 
_GL_FUNCDECL_RPL
 (
gësock«me
, ,

408 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
)

409 
_GL_ARG_NONNULL
 ((2, 3)));

410 
_GL_CXXALIAS_RPL
 (
gësock«me
, ,

411 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

415 
_GL_CXXALIAS_SYS_CAST
 (
gësock«me
, ,

416 (
fd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
));

418 
_GL_CXXALIASWARN
 (
gësock«me
);

419 #ñi‡@
HAVE_WINSOCK2_H
@

420 #unde‡
gësock«me


421 
	#gësock«me
 
gësock«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gësock«me


	)

422 #ñi‡
deföed
 
GNULIB_POSIXCHECK


423 #unde‡
gësock«me


424 #i‡
HAVE_RAW_DECL_GETSOCKNAME


425 
_GL_WARN_ON_USE
 (
gësock«me
, "getsockname isÇotálways POSIX compliant - "

430 #i‡@
GNULIB_GETSOCKOPT
@

431 #i‡@
HAVE_WINSOCK2_H
@

432 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

433 #unde‡
gësock›t


434 
	#gësock›t
 
Ωl_gësock›t


	)

436 
_GL_FUNCDECL_RPL
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

437 *
›tvÆ
, 
sockÀn_t
 *
›éí
)

438 
_GL_ARG_NONNULL
 ((4, 5)));

439 
_GL_CXXALIAS_RPL
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

440 *
›tvÆ
, 
sockÀn_t
 *
›éí
));

444 
_GL_CXXALIAS_SYS_CAST
 (
gësock›t
, , (
fd
, 
Àvñ
, 
›äame
,

445 *
›tvÆ
, 
sockÀn_t
 *
›éí
));

447 
_GL_CXXALIASWARN
 (
gësock›t
);

448 #ñi‡@
HAVE_WINSOCK2_H
@

449 #unde‡
gësock›t


450 
	#gësock›t
 
gësock›t_u£d_wôhout_ªque°ög_gnulib_moduÀ_gësock›t


	)

451 #ñi‡
deföed
 
GNULIB_POSIXCHECK


452 #unde‡
gësock›t


453 #i‡
HAVE_RAW_DECL_GETSOCKOPT


454 
_GL_WARN_ON_USE
 (
gësock›t
, "getsockopt isÇotálways POSIX compliant - "

459 #i‡@
GNULIB_LISTEN
@

460 #i‡@
HAVE_WINSOCK2_H
@

461 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

462 #unde‡
li°í


463 
	#li°í
 
Ωl_li°í


	)

465 
_GL_FUNCDECL_RPL
 (
li°í
, , (
fd
, 
backlog
));

466 
_GL_CXXALIAS_RPL
 (
li°í
, , (
fd
, 
backlog
));

468 
_GL_CXXALIAS_SYS
 (
li°í
, , (
fd
, 
backlog
));

470 
_GL_CXXALIASWARN
 (
li°í
);

471 #ñi‡@
HAVE_WINSOCK2_H
@

472 #unde‡
li°í


473 
	#li°í
 
li°í_u£d_wôhout_ªque°ög_gnulib_moduÀ_li°í


	)

474 #ñi‡
deföed
 
GNULIB_POSIXCHECK


475 #unde‡
li°í


476 #i‡
HAVE_RAW_DECL_LISTEN


477 
_GL_WARN_ON_USE
 (
li°í
, "listen isÇotálways POSIX compliant - "

482 #i‡@
GNULIB_RECV
@

483 #i‡@
HAVE_WINSOCK2_H
@

484 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

485 #unde‡
ªcv


486 
	#ªcv
 
Ωl_ªcv


	)

488 
_GL_FUNCDECL_RPL
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
)

489 
_GL_ARG_NONNULL
 ((2)));

490 
_GL_CXXALIAS_RPL
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
));

492 
_GL_CXXALIAS_SYS
 (
ªcv
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
));

494 
_GL_CXXALIASWARN
 (
ªcv
);

495 #ñi‡@
HAVE_WINSOCK2_H
@

496 #unde‡
ªcv


497 
	#ªcv
 
ªcv_u£d_wôhout_ªque°ög_gnulib_moduÀ_ªcv


	)

498 #ñi‡
deföed
 
GNULIB_POSIXCHECK


499 #unde‡
ªcv


500 #i‡
HAVE_RAW_DECL_RECV


501 
_GL_WARN_ON_USE
 (
ªcv
, "recv isÇotálways POSIX compliant - "

506 #i‡@
GNULIB_SEND
@

507 #i‡@
HAVE_WINSOCK2_H
@

508 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

509 #unde‡
£nd


510 
	#£nd
 
Ωl_£nd


	)

512 
_GL_FUNCDECL_RPL
 (
£nd
, 
ssize_t
,

513 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
)

514 
_GL_ARG_NONNULL
 ((2)));

515 
_GL_CXXALIAS_RPL
 (
£nd
, 
ssize_t
,

516 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
));

518 
_GL_CXXALIAS_SYS
 (
£nd
, 
ssize_t
,

519 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
));

521 
_GL_CXXALIASWARN
 (
£nd
);

522 #ñi‡@
HAVE_WINSOCK2_H
@

523 #unde‡
£nd


524 
	#£nd
 
£nd_u£d_wôhout_ªque°ög_gnulib_moduÀ_£nd


	)

525 #ñi‡
deföed
 
GNULIB_POSIXCHECK


526 #unde‡
£nd


527 #i‡
HAVE_RAW_DECL_SEND


528 
_GL_WARN_ON_USE
 (
£nd
, "send isÇotálways POSIX compliant - "

533 #i‡@
GNULIB_RECVFROM
@

534 #i‡@
HAVE_WINSOCK2_H
@

535 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

536 #unde‡
ªcv‰om


537 
	#ªcv‰om
 
Ωl_ªcv‰om


	)

539 
_GL_FUNCDECL_RPL
 (
ªcv‰om
, 
ssize_t
,

540 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

541 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
)

542 
_GL_ARG_NONNULL
 ((2)));

543 
_GL_CXXALIAS_RPL
 (
ªcv‰om
, 
ssize_t
,

544 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

545 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
));

549 
_GL_CXXALIAS_SYS_CAST
 (
ªcv‰om
, 
ssize_t
,

550 (
fd
, *
buf
, 
size_t
 
Àn
, 
Êags
,

551 
sockaddr
 *
‰om
, 
sockÀn_t
 *
‰omÀn
));

553 
_GL_CXXALIASWARN
 (
ªcv‰om
);

554 #ñi‡@
HAVE_WINSOCK2_H
@

555 #unde‡
ªcv‰om


556 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ªque°ög_gnulib_moduÀ_ªcv‰om


	)

557 #ñi‡
deföed
 
GNULIB_POSIXCHECK


558 #unde‡
ªcv‰om


559 #i‡
HAVE_RAW_DECL_RECVFROM


560 
_GL_WARN_ON_USE
 (
ªcv‰om
, "recvfrom isÇotálways POSIX compliant - "

565 #i‡@
GNULIB_SENDTO
@

566 #i‡@
HAVE_WINSOCK2_H
@

567 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

568 #unde‡
£ndto


569 
	#£ndto
 
Ωl_£ndto


	)

571 
_GL_FUNCDECL_RPL
 (
£ndto
, 
ssize_t
,

572 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

573 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
)

574 
_GL_ARG_NONNULL
 ((2)));

575 
_GL_CXXALIAS_RPL
 (
£ndto
, 
ssize_t
,

576 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

577 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
));

581 
_GL_CXXALIAS_SYS_CAST
 (
£ndto
, 
ssize_t
,

582 (
fd
, c⁄° *
buf
, 
size_t
 
Àn
, 
Êags
,

583 c⁄° 
sockaddr
 *
to
, 
sockÀn_t
 
tﬁí
));

585 
_GL_CXXALIASWARN
 (
£ndto
);

586 #ñi‡@
HAVE_WINSOCK2_H
@

587 #unde‡
£ndto


588 
	#£ndto
 
£ndto_u£d_wôhout_ªque°ög_gnulib_moduÀ_£ndto


	)

589 #ñi‡
deföed
 
GNULIB_POSIXCHECK


590 #unde‡
£ndto


591 #i‡
HAVE_RAW_DECL_SENDTO


592 
_GL_WARN_ON_USE
 (
£ndto
, "sendto isÇotálways POSIX compliant - "

597 #i‡@
GNULIB_SETSOCKOPT
@

598 #i‡@
HAVE_WINSOCK2_H
@

599 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

600 #unde‡
£tsock›t


601 
	#£tsock›t
 
Ωl_£tsock›t


	)

603 
_GL_FUNCDECL_RPL
 (
£tsock›t
, , (
fd
, 
Àvñ
, 
›äame
,

604 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
)

605 
_GL_ARG_NONNULL
 ((4)));

606 
_GL_CXXALIAS_RPL
 (
£tsock›t
, , (
fd
, 
Àvñ
, 
›äame
,

607 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
));

611 
_GL_CXXALIAS_SYS_CAST
 (
£tsock›t
, ,

612 (
fd
, 
Àvñ
, 
›äame
,

613 c⁄° * 
›tvÆ
, 
sockÀn_t
 
›éí
));

615 
_GL_CXXALIASWARN
 (
£tsock›t
);

616 #ñi‡@
HAVE_WINSOCK2_H
@

617 #unde‡
£tsock›t


618 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ªque°ög_gnulib_moduÀ_£tsock›t


	)

619 #ñi‡
deföed
 
GNULIB_POSIXCHECK


620 #unde‡
£tsock›t


621 #i‡
HAVE_RAW_DECL_SETSOCKOPT


622 
_GL_WARN_ON_USE
 (
£tsock›t
, "setsockopt isÇotálways POSIX compliant - "

627 #i‡@
GNULIB_SHUTDOWN
@

628 #i‡@
HAVE_WINSOCK2_H
@

629 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

630 #unde‡
shutdown


631 
	#shutdown
 
Ωl_shutdown


	)

633 
_GL_FUNCDECL_RPL
 (
shutdown
, , (
fd
, 
how
));

634 
_GL_CXXALIAS_RPL
 (
shutdown
, , (
fd
, 
how
));

636 
_GL_CXXALIAS_SYS
 (
shutdown
, , (
fd
, 
how
));

638 
_GL_CXXALIASWARN
 (
shutdown
);

639 #ñi‡@
HAVE_WINSOCK2_H
@

640 #unde‡
shutdown


641 
	#shutdown
 
shutdown_u£d_wôhout_ªque°ög_gnulib_moduÀ_shutdown


	)

642 #ñi‡
deföed
 
GNULIB_POSIXCHECK


643 #unde‡
shutdown


644 #i‡
HAVE_RAW_DECL_SHUTDOWN


645 
_GL_WARN_ON_USE
 (
shutdown
, "shutdown isÇotálways POSIX compliant - "

650 #i‡@
GNULIB_ACCEPT4
@

656 #i‡@
HAVE_ACCEPT4
@

657 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

658 
	#ac˚±4
 
Ωl_ac˚±4


	)

660 
_GL_FUNCDECL_RPL
 (
ac˚±4
, ,

661 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

662 
Êags
));

663 
_GL_CXXALIAS_RPL
 (
ac˚±4
, ,

664 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

665 
Êags
));

667 
_GL_FUNCDECL_SYS
 (
ac˚±4
, ,

668 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

669 
Êags
));

670 
_GL_CXXALIAS_SYS
 (
ac˚±4
, ,

671 (
sockfd
, 
sockaddr
 *
addr
, 
sockÀn_t
 *
addæí
,

672 
Êags
));

674 
_GL_CXXALIASWARN
 (
ac˚±4
);

675 #ñi‡
deföed
 
GNULIB_POSIXCHECK


676 #unde‡
ac˚±4


677 #i‡
HAVE_RAW_DECL_ACCEPT4


678 
_GL_WARN_ON_USE
 (
ac˚±4
, "accept4 is unportable - "

	@lib/sys_stat.in.h

26 #i‡
__GNUC__
 >= 3

27 @
	gPRAGMA_SYSTEM_HEADER
@

29 @
	gPRAGMA_COLUMNS
@

31 #i‡
deföed
 
__√ed_sy°em_sys_°©_h


34 #@
INCLUDE_NEXT
@ @
NEXT_SYS_STAT_H
@

39 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_STAT_H


42 
	~<sys/ty≥s.h
>

45 
	~<time.h
>

48 #@
INCLUDE_NEXT
@ @
NEXT_SYS_STAT_H
@

50 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_STAT_H


51 
	#_
@
GUARD_PREFIX
@
_SYS_STAT_H


	)

61 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


62 
	~<io.h
>

63 
	~<dúe˘.h
>

66 #i‚de‡
S_IFMT


67 
	#S_IFMT
 0170000

	)

70 #i‡
STAT_MACROS_BROKEN


71 #unde‡
S_ISBLK


72 #unde‡
S_ISCHR


73 #unde‡
S_ISDIR


74 #unde‡
S_ISFIFO


75 #unde‡
S_ISLNK


76 #unde‡
S_ISNAM


77 #unde‡
S_ISMPB


78 #unde‡
S_ISMPC


79 #unde‡
S_ISNWK


80 #unde‡
S_ISREG


81 #unde‡
S_ISSOCK


84 #i‚de‡
S_ISBLK


85 #ifde‡
S_IFBLK


86 
	#S_ISBLK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFBLK
)

	)

88 
	#S_ISBLK
(
m
Ë0

	)

92 #i‚de‡
S_ISCHR


93 #ifde‡
S_IFCHR


94 
	#S_ISCHR
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFCHR
)

	)

96 
	#S_ISCHR
(
m
Ë0

	)

100 #i‚de‡
S_ISDIR


101 #ifde‡
S_IFDIR


102 
	#S_ISDIR
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFDIR
)

	)

104 
	#S_ISDIR
(
m
Ë0

	)

108 #i‚de‡
S_ISDOOR


109 
	#S_ISDOOR
(
m
Ë0

	)

112 #i‚de‡
S_ISFIFO


113 #ifde‡
S_IFIFO


114 
	#S_ISFIFO
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFIFO
)

	)

116 
	#S_ISFIFO
(
m
Ë0

	)

120 #i‚de‡
S_ISLNK


121 #ifde‡
S_IFLNK


122 
	#S_ISLNK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFLNK
)

	)

124 
	#S_ISLNK
(
m
Ë0

	)

128 #i‚de‡
S_ISMPB


129 #ifde‡
S_IFMPB


130 
	#S_ISMPB
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFMPB
)

	)

131 
	#S_ISMPC
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFMPC
)

	)

133 
	#S_ISMPB
(
m
Ë0

	)

134 
	#S_ISMPC
(
m
Ë0

	)

138 #i‚de‡
S_ISNAM


139 #ifde‡
S_IFNAM


140 
	#S_ISNAM
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFNAM
)

	)

142 
	#S_ISNAM
(
m
Ë0

	)

146 #i‚de‡
S_ISNWK


147 #ifde‡
S_IFNWK


148 
	#S_ISNWK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFNWK
)

	)

150 
	#S_ISNWK
(
m
Ë0

	)

154 #i‚de‡
S_ISPORT


155 
	#S_ISPORT
(
m
Ë0

	)

158 #i‚de‡
S_ISREG


159 #ifde‡
S_IFREG


160 
	#S_ISREG
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFREG
)

	)

162 
	#S_ISREG
(
m
Ë0

	)

166 #i‚de‡
S_ISSOCK


167 #ifde‡
S_IFSOCK


168 
	#S_ISSOCK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFSOCK
)

	)

170 
	#S_ISSOCK
(
m
Ë0

	)

175 #i‚de‡
S_TYPEISMQ


176 
	#S_TYPEISMQ
(
p
Ë0

	)

179 #i‚de‡
S_TYPEISTMO


180 
	#S_TYPEISTMO
(
p
Ë0

	)

184 #i‚de‡
S_TYPEISSEM


185 #ifde‡
S_INSEM


186 
	#S_TYPEISSEM
(
p
Ë(
	`S_ISNAM
 (’)->
°_mode
Ë&& (p)->
°_rdev
 =
S_INSEM
)

	)

188 
	#S_TYPEISSEM
(
p
Ë0

	)

192 #i‚de‡
S_TYPEISSHM


193 #ifde‡
S_INSHD


194 
	#S_TYPEISSHM
(
p
Ë(
	`S_ISNAM
 (’)->
°_mode
Ë&& (p)->
°_rdev
 =
S_INSHD
)

	)

196 
	#S_TYPEISSHM
(
p
Ë0

	)

201 #i‚de‡
S_ISCTG


202 
	#S_ISCTG
(
p
Ë0

	)

206 #i‚de‡
S_ISOFD


207 
	#S_ISOFD
(
p
Ë0

	)

211 #i‚de‡
S_ISOFL


212 
	#S_ISOFL
(
p
Ë0

	)

216 #i‚de‡
S_ISWHT


217 
	#S_ISWHT
(
m
Ë0

	)

222 #i‡!
S_ISUID


223 
	#S_ISUID
 04000

	)

225 #i‡!
S_ISGID


226 
	#S_ISGID
 02000

	)

230 #i‚de‡
S_ISVTX


231 
	#S_ISVTX
 01000

	)

234 #i‡!
S_IRUSR
 && 
S_IREAD


235 
	#S_IRUSR
 
S_IREAD


	)

237 #i‡!
S_IRUSR


238 
	#S_IRUSR
 00400

	)

240 #i‡!
S_IRGRP


241 
	#S_IRGRP
 (
S_IRUSR
 >> 3)

	)

243 #i‡!
S_IROTH


244 
	#S_IROTH
 (
S_IRUSR
 >> 6)

	)

247 #i‡!
S_IWUSR
 && 
S_IWRITE


248 
	#S_IWUSR
 
S_IWRITE


	)

250 #i‡!
S_IWUSR


251 
	#S_IWUSR
 00200

	)

253 #i‡!
S_IWGRP


254 
	#S_IWGRP
 (
S_IWUSR
 >> 3)

	)

256 #i‡!
S_IWOTH


257 
	#S_IWOTH
 (
S_IWUSR
 >> 6)

	)

260 #i‡!
S_IXUSR
 && 
S_IEXEC


261 
	#S_IXUSR
 
S_IEXEC


	)

263 #i‡!
S_IXUSR


264 
	#S_IXUSR
 00100

	)

266 #i‡!
S_IXGRP


267 
	#S_IXGRP
 (
S_IXUSR
 >> 3)

	)

269 #i‡!
S_IXOTH


270 
	#S_IXOTH
 (
S_IXUSR
 >> 6)

	)

273 #i‡!
S_IRWXU


274 
	#S_IRWXU
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IXUSR
)

	)

276 #i‡!
S_IRWXG


277 
	#S_IRWXG
 (
S_IRGRP
 | 
S_IWGRP
 | 
S_IXGRP
)

	)

279 #i‡!
S_IRWXO


280 
	#S_IRWXO
 (
S_IROTH
 | 
S_IWOTH
 | 
S_IXOTH
)

	)

284 #i‡!
S_IXUGO


285 
	#S_IXUGO
 (
S_IXUSR
 | 
S_IXGRP
 | 
S_IXOTH
)

	)

288 #i‚de‡
S_IRWXUGO


289 
	#S_IRWXUGO
 (
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
)

	)

293 #i‚de‡
UTIME_NOW


294 
	#UTIME_NOW
 (-1)

	)

295 
	#UTIME_OMIT
 (-2)

	)

299 #i‡@
GNULIB_FCHMODAT
@

300 #i‡!@
HAVE_FCHMODAT
@

301 
_GL_FUNCDECL_SYS
 (
fchmod©
, ,

302 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
Êag
)

303 
_GL_ARG_NONNULL
 ((2)));

305 
_GL_CXXALIAS_SYS
 (
fchmod©
, ,

306 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
Êag
));

307 
_GL_CXXALIASWARN
 (
fchmod©
);

308 #ñi‡
deföed
 
GNULIB_POSIXCHECK


309 #unde‡
fchmod©


310 #i‡
HAVE_RAW_DECL_FCHMODAT


311 
_GL_WARN_ON_USE
 (
fchmod©
, "fchmodat isÇotÖortable - "

317 #i‡@
REPLACE_FSTAT
@

318 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

319 
	#f°©
 
Ωl_f°©


	)

321 
_GL_FUNCDECL_RPL
 (
f°©
, , (
fd
, 
°©
 *
buf
Ë
_GL_ARG_NONNULL
 ((2)));

322 
_GL_CXXALIAS_RPL
 (
f°©
, , (
fd
, 
°©
 *
buf
));

324 
_GL_CXXALIAS_SYS
 (
f°©
, , (
fd
, 
°©
 *
buf
));

326 
_GL_CXXALIASWARN
 (
f°©
);

329 #i‡@
GNULIB_FSTATAT
@

330 #i‡@
REPLACE_FSTATAT
@

331 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

332 #unde‡
f°©©


333 
	#f°©©
 
Ωl_f°©©


	)

335 
_GL_FUNCDECL_RPL
 (
f°©©
, ,

336 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
)

337 
_GL_ARG_NONNULL
 ((2, 3)));

338 
_GL_CXXALIAS_RPL
 (
f°©©
, ,

339 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
));

341 #i‡!@
HAVE_FSTATAT
@

342 
_GL_FUNCDECL_SYS
 (
f°©©
, ,

343 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
)

344 
_GL_ARG_NONNULL
 ((2, 3)));

346 
_GL_CXXALIAS_SYS
 (
f°©©
, ,

347 (
fd
, c⁄° *
«me
, 
°©
 *
°
, 
Êags
));

349 
_GL_CXXALIASWARN
 (
f°©©
);

350 #ñi‡
deföed
 
GNULIB_POSIXCHECK


351 #unde‡
f°©©


352 #i‡
HAVE_RAW_DECL_FSTATAT


353 
_GL_WARN_ON_USE
 (
f°©©
, "fstatat isÇotÖortable - "

359 #i‡@
GNULIB_FUTIMENS
@

364 #i‡@
REPLACE_FUTIMENS
@ || (!@
HAVE_FUTIMENS
@ && 
deföed
 
__sun
)

365 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

366 #unde‡
futimís


367 
	#futimís
 
Ωl_futimís


	)

369 
_GL_FUNCDECL_RPL
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

370 
_GL_CXXALIAS_RPL
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

372 #i‡!@
HAVE_FUTIMENS
@

373 
_GL_FUNCDECL_SYS
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

375 
_GL_CXXALIAS_SYS
 (
futimís
, , (
fd
, 
time•ec
 c⁄° 
times
[2]));

377 #i‡@
HAVE_FUTIMENS
@

378 
_GL_CXXALIASWARN
 (
futimís
);

380 #ñi‡
deföed
 
GNULIB_POSIXCHECK


381 #unde‡
futimís


382 #i‡
HAVE_RAW_DECL_FUTIMENS


383 
_GL_WARN_ON_USE
 (
futimís
, "futimens isÇotÖortable - "

389 #i‡@
GNULIB_LCHMOD
@

392 #i‡!@
HAVE_LCHMOD
@

400 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

401 
	#lchmod
 
chmod


	)

405 
_GL_CXXALIAS_RPL_CAST_1
 (
lchmod
, 
chmod
, ,

406 (c⁄° *
fûíame
, 
mode_t
 
mode
));

409 
_GL_FUNCDECL_SYS
 (
lchmod
, , (c⁄° *
fûíame
, 
mode_t
 
mode
)

410 
_GL_ARG_NONNULL
 ((1)));

412 
_GL_CXXALIAS_SYS
 (
lchmod
, , (c⁄° *
fûíame
, 
mode_t
 
mode
));

414 #i‡@
HAVE_LCHMOD
@

415 
_GL_CXXALIASWARN
 (
lchmod
);

417 #ñi‡
deföed
 
GNULIB_POSIXCHECK


418 #unde‡
lchmod


419 #i‡
HAVE_RAW_DECL_LCHMOD


420 
_GL_WARN_ON_USE
 (
lchmod
, "lchmod is unportable - "

426 #i‡@
GNULIB_LSTAT
@

427 #i‡! @
HAVE_LSTAT
@

430 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

431 
	#l°©
 
°©


	)

433 
_GL_CXXALIAS_RPL_1
 (
l°©
, 
°©
, , (c⁄° *
«me
, °© *
buf
));

434 #ñi‡@
REPLACE_LSTAT
@

435 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

436 #unde‡
l°©


437 
	#l°©
 
Ωl_l°©


	)

439 
_GL_FUNCDECL_RPL
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
)

440 
_GL_ARG_NONNULL
 ((1, 2)));

441 
_GL_CXXALIAS_RPL
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
));

443 
_GL_CXXALIAS_SYS
 (
l°©
, , (c⁄° *
«me
, 
°©
 *
buf
));

445 #i‡@
HAVE_LSTAT
@

446 
_GL_CXXALIASWARN
 (
l°©
);

448 #ñi‡
deföed
 
GNULIB_POSIXCHECK


449 #unde‡
l°©


450 #i‡
HAVE_RAW_DECL_LSTAT


451 
_GL_WARN_ON_USE
 (
l°©
, "lstat is unportable - "

457 #i‡@
REPLACE_MKDIR
@

458 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

459 #unde‡
mkdú


460 
	#mkdú
 
Ωl_mkdú


	)

462 
_GL_FUNCDECL_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
)

463 
_GL_ARG_NONNULL
 ((1)));

464 
_GL_CXXALIAS_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

470 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


472 #i‡!
GNULIB_deföed_Ωl_mkdú


473 
ölöe
 

474 
	$Ωl_mkdú
 (c⁄° *
«me
, 
mode_t
 
mode
)

476  
	`_mkdú
 (
«me
);

477 
	}
}

478 
	#GNULIB_deföed_Ωl_mkdú
 1

	)

481 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

482 
	#mkdú
 
Ωl_mkdú


	)

484 
_GL_CXXALIAS_RPL
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

486 
_GL_CXXALIAS_SYS
 (
mkdú
, , (c⁄° *
«me
, 
mode_t
 
mode
));

489 
_GL_CXXALIASWARN
 (
mkdú
);

492 #i‡@
GNULIB_MKDIRAT
@

493 #i‡!@
HAVE_MKDIRAT
@

494 
_GL_FUNCDECL_SYS
 (
mkdú©
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
)

495 
_GL_ARG_NONNULL
 ((2)));

497 
_GL_CXXALIAS_SYS
 (
mkdú©
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
));

498 
_GL_CXXALIASWARN
 (
mkdú©
);

499 #ñi‡
deföed
 
GNULIB_POSIXCHECK


500 #unde‡
mkdú©


501 #i‡
HAVE_RAW_DECL_MKDIRAT


502 
_GL_WARN_ON_USE
 (
mkdú©
, "mkdirat isÇotÖortable - "

508 #i‡@
GNULIB_MKFIFO
@

509 #i‡@
REPLACE_MKFIFO
@

510 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

511 #unde‡
mkfifo


512 
	#mkfifo
 
Ωl_mkfifo


	)

514 
_GL_FUNCDECL_RPL
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
)

515 
_GL_ARG_NONNULL
 ((1)));

516 
_GL_CXXALIAS_RPL
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
));

518 #i‡!@
HAVE_MKFIFO
@

519 
_GL_FUNCDECL_SYS
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
)

520 
_GL_ARG_NONNULL
 ((1)));

522 
_GL_CXXALIAS_SYS
 (
mkfifo
, , (c⁄° *
fûe
, 
mode_t
 
mode
));

524 
_GL_CXXALIASWARN
 (
mkfifo
);

525 #ñi‡
deföed
 
GNULIB_POSIXCHECK


526 #unde‡
mkfifo


527 #i‡
HAVE_RAW_DECL_MKFIFO


528 
_GL_WARN_ON_USE
 (
mkfifo
, "mkfifo isÇotÖortable - "

534 #i‡@
GNULIB_MKFIFOAT
@

535 #i‡!@
HAVE_MKFIFOAT
@

536 
_GL_FUNCDECL_SYS
 (
mkfifﬂt
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
)

537 
_GL_ARG_NONNULL
 ((2)));

539 
_GL_CXXALIAS_SYS
 (
mkfifﬂt
, , (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
));

540 
_GL_CXXALIASWARN
 (
mkfifﬂt
);

541 #ñi‡
deföed
 
GNULIB_POSIXCHECK


542 #unde‡
mkfifﬂt


543 #i‡
HAVE_RAW_DECL_MKFIFOAT


544 
_GL_WARN_ON_USE
 (
mkfifﬂt
, "mkfifoat isÇotÖortable - "

550 #i‡@
GNULIB_MKNOD
@

551 #i‡@
REPLACE_MKNOD
@

552 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

553 #unde‡
mknod


554 
	#mknod
 
Ωl_mknod


	)

556 
_GL_FUNCDECL_RPL
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

557 
_GL_ARG_NONNULL
 ((1)));

558 
_GL_CXXALIAS_RPL
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

560 #i‡!@
HAVE_MKNOD
@

561 
_GL_FUNCDECL_SYS
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

562 
_GL_ARG_NONNULL
 ((1)));

565 
_GL_CXXALIAS_SYS_CAST
 (
mknod
, , (c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

567 
_GL_CXXALIASWARN
 (
mknod
);

568 #ñi‡
deföed
 
GNULIB_POSIXCHECK


569 #unde‡
mknod


570 #i‡
HAVE_RAW_DECL_MKNOD


571 
_GL_WARN_ON_USE
 (
mknod
, "mknod isÇotÖortable - "

577 #i‡@
GNULIB_MKNODAT
@

578 #i‡!@
HAVE_MKNODAT
@

579 
_GL_FUNCDECL_SYS
 (
mknod©
, ,

580 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
)

581 
_GL_ARG_NONNULL
 ((2)));

583 
_GL_CXXALIAS_SYS
 (
mknod©
, ,

584 (
fd
, c⁄° *
fûe
, 
mode_t
 
mode
, 
dev_t
 
dev
));

585 
_GL_CXXALIASWARN
 (
mknod©
);

586 #ñi‡
deföed
 
GNULIB_POSIXCHECK


587 #unde‡
mknod©


588 #i‡
HAVE_RAW_DECL_MKNODAT


589 
_GL_WARN_ON_USE
 (
mknod©
, "mknodat isÇotÖortable - "

595 #i‡@
GNULIB_STAT
@

596 #i‡@
REPLACE_STAT
@

600 #unde‡
°©


601 #ifde‡
_LARGE_FILES


604 
	#°©
 
°©64


	)

605 #unde‡
°©64


606 
	#°©64
(
«me
, 
°
Ë
	`Ωl_°©
 («me, st)

	)

608 
	#°©
(
«me
, 
°
Ë
	`Ωl_°©
 («me, st)

	)

610 
_GL_EXTERN_C
 
	$°©
 (c⁄° *
«me
, 
°©
 *
buf
)

611 
	`_GL_ARG_NONNULL
 ((1, 2));

613 #ñi‡
deföed
 
GNULIB_POSIXCHECK


614 #unde‡
°©


615 #i‡
HAVE_RAW_DECL_STAT


616 
	`_GL_WARN_ON_USE
 (
°©
, "stat is unportable - "

622 #i‡@
GNULIB_UTIMENSAT
@

627 #i‡@
REPLACE_UTIMENSAT
@ || (!@
HAVE_UTIMENSAT
@ && 
deföed
 
__sun
)

628 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

629 #unde‡
utimíßt


630 
	#utimíßt
 
Ωl_utimíßt


	)

632 
	`_GL_FUNCDECL_RPL
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

633 
time•ec
 c⁄° 
times
[2], 
Êag
)

634 
	`_GL_ARG_NONNULL
 ((2)));

635 
	`_GL_CXXALIAS_RPL
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

636 
time•ec
 c⁄° 
times
[2], 
Êag
));

638 #i‡!@
HAVE_UTIMENSAT
@

639 
	`_GL_FUNCDECL_SYS
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

640 
time•ec
 c⁄° 
times
[2], 
Êag
)

641 
	`_GL_ARG_NONNULL
 ((2)));

643 
	`_GL_CXXALIAS_SYS
 (
utimíßt
, , (
fd
, c⁄° *
«me
,

644 
time•ec
 c⁄° 
times
[2], 
Êag
));

646 #i‡@
HAVE_UTIMENSAT
@

647 
	`_GL_CXXALIASWARN
 (
utimíßt
);

649 #ñi‡
deföed
 
GNULIB_POSIXCHECK


650 #unde‡
utimíßt


651 #i‡
HAVE_RAW_DECL_UTIMENSAT


652 
	`_GL_WARN_ON_USE
 (
utimíßt
, "utimensat isÇotÖortable - "

	@lib/sys_time.in.h

23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

28 #i‡
deföed
 
_
@
GUARD_PREFIX
@
_SYS_TIME_H


31 #i‡@
HAVE_SYS_TIME_H
@

32 #@
INCLUDE_NEXT
@ @
NEXT_SYS_TIME_H
@

37 
	#_
@
GUARD_PREFIX
@
_SYS_TIME_H


	)

39 #i‡@
HAVE_SYS_TIME_H
@

40 #@
INCLUDE_NEXT
@ @
NEXT_SYS_TIME_H
@

42 
	~<time.h
>

51 #ifde‡
__˝lu•lus


55 #i‡! @
HAVE_STRUCT_TIMEVAL
@

57 #i‡!
GNULIB_deföed_°ru˘_timevÆ


58 
	stimevÆ


60 
time_t
 
tv_£c
;

61 
tv_u£c
;

63 
	#GNULIB_deföed_°ru˘_timevÆ
 1

	)

68 #ifde‡
__˝lu•lus


72 #i‡@
GNULIB_GETTIMEOFDAY
@

73 #i‡@
REPLACE_GETTIMEOFDAY
@

74 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

75 #unde‡
gëtimeofday


76 
	#gëtimeofday
 
Ωl_gëtimeofday


	)

78 
_GL_FUNCDECL_RPL
 (
gëtimeofday
, ,

79 (
timevÆ
 *
ª°ri˘
, *restrict)

80 
_GL_ARG_NONNULL
 ((1)));

81 
_GL_CXXALIAS_RPL
 (
gëtimeofday
, ,

82 (
timevÆ
 *
ª°ri˘
, *restrict));

84 #i‡!@
HAVE_GETTIMEOFDAY
@

85 
_GL_FUNCDECL_SYS
 (
gëtimeofday
, ,

86 (
timevÆ
 *
ª°ri˘
, *restrict)

87 
_GL_ARG_NONNULL
 ((1)));

91 
_GL_CXXALIAS_SYS_CAST
 (
gëtimeofday
, ,

92 (
timevÆ
 *
ª°ri˘
, *restrict));

94 
_GL_CXXALIASWARN
 (
gëtimeofday
);

95 #ñi‡
deföed
 
GNULIB_POSIXCHECK


96 #unde‡
gëtimeofday


97 #i‡
HAVE_RAW_DECL_GETTIMEOFDAY


98 
_GL_WARN_ON_USE
 (
gëtimeofday
, "gettimeofday is unportable - "

	@lib/sys_uio.in.h

20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

25 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_UIO_H


27 #i‡@
HAVE_SYS_UIO_H
@

30 
	~<sys/ty≥s.h
>

33 #@
INCLUDE_NEXT
@ @
NEXT_SYS_UIO_H
@

37 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_UIO_H


38 
	#_
@
GUARD_PREFIX
@
_SYS_UIO_H


	)

40 #i‡!@
HAVE_SYS_UIO_H
@

43 
	~<sys/ty≥s.h
>

45 #ifde‡
__˝lu•lus


49 #i‡!
GNULIB_deföed_°ru˘_iovec


52 
	siovec
 {

53 *
iov_ba£
;

54 
size_t
 
iov_Àn
;

56 
	#GNULIB_deföed_°ru˘_iovec
 1

	)

59 #ifde‡
__˝lu•lus


	@lib/sys_wait.in.h

21 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_WAIT_H


23 #i‡
__GNUC__
 >= 3

24 @
	gPRAGMA_SYSTEM_HEADER
@

26 @
	gPRAGMA_COLUMNS
@

29 #i‡!((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

30 #@
INCLUDE_NEXT
@ @
NEXT_SYS_WAIT_H
@

33 #i‚de‡
_
@
GUARD_PREFIX
@
_SYS_WAIT_H


34 
	#_
@
GUARD_PREFIX
@
_SYS_WAIT_H


	)

37 
	~<sys/ty≥s.h
>

45 #i‡!((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
)

56 #i‚de‡
WIFSIGNALED


57 
	#WIFSIGNALED
(
x
Ë(
	`WTERMSIG
 (xË!0 && WTERMSIG(xË!0x7f)

	)

59 #i‚de‡
WIFEXITED


60 
	#WIFEXITED
(
x
Ë(
	`WTERMSIG
 (xË=0)

	)

62 #i‚de‡
WIFSTOPPED


63 
	#WIFSTOPPED
(
x
Ë(
	`WTERMSIG
 (xË=0x7f)

	)

67 #i‚de‡
WTERMSIG


68 
	#WTERMSIG
(
x
Ë((xË& 0x7f)

	)

72 #i‚de‡
WEXITSTATUS


73 
	#WEXITSTATUS
(
x
Ë(((xË>> 8Ë& 0xff)

	)

77 #i‚de‡
WSTOPSIG


78 
	#WSTOPSIG
(
x
Ë(((xË>> 8Ë& 0x7f)

	)

82 #i‚de‡
WCOREDUMP


83 
	#WCOREDUMP
(
x
Ë((xË& 0x80)

	)

89 
	~<sig«l.h
>

96 
	#WIFSIGNALED
(
x
Ë((xË=3)

	)

97 
	#WIFEXITED
(
x
Ë((xË!3)

	)

98 
	#WIFSTOPPED
(
x
Ë0

	)

101 
	#WTERMSIG
(
x
Ë
SIGTERM


	)

103 
	#WEXITSTATUS
(
x
Ë(x)

	)

106 
	#WSTOPSIG
(
x
Ë0

	)

109 
	#WCOREDUMP
(
x
Ë0

	)

116 #i‡@
GNULIB_WAITPID
@

117 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


118 
_GL_FUNCDECL_SYS
 (
waôpid
, 
pid_t
, (pid_à
pid
, *
°©u•
, 
›ti⁄s
));

120 
_GL_CXXALIAS_SYS
 (
waôpid
, 
pid_t
, (pid_à
pid
, *
°©u•
, 
›ti⁄s
));

121 
_GL_CXXALIASWARN
 (
waôpid
);

122 #ñi‡
deföed
 
GNULIB_POSIXCHECK


123 #unde‡
waôpid


124 #i‡
HAVE_RAW_DECL_WAITPID


125 
_GL_WARN_ON_USE
 (
waôpid
, "waitpid is unportable - "

	@lib/time.h

22 #i‡
__GNUC__
 >= 3

23 #¥agm®
GCC
 
sy°em_hódî


32 #i‡(
deföed
 
__√ed_time_t
 || deföed 
__√ed_˛ock_t
 \

33 || 
deföed
 
	g__√ed_time•ec
 \

34 || 
deföed
 
	g_GL_TIME_H
)

36 #ö˛ude_√xà<
time
.
h
>

40 
	#_GL_TIME_H


	)

42 #ö˛ude_√xà<
time
.
h
>

45 
	~<°ddef.h
>

48 #i‚de‡
_GL_CXXDEFS_H


49 
	#_GL_CXXDEFS_H


	)

112 #i‡
deföed
 
__˝lu•lus


113 
	#_GL_EXTERN_C
 "C"

	)

115 
	#_GL_EXTERN_C
 

	)

125 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

126 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

127 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

128 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

137 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

138 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

146 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

147 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

148 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


149 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

150 
«me•a˚
 
GNULIB_NAMESPACE
 \

152 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

154 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

156 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

157 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

165 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


166 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

167 
«me•a˚
 
GNULIB_NAMESPACE
 \

169 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

170 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

172 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

174 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

175 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

185 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


192 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

193 
«me•a˚
 
GNULIB_NAMESPACE
 \

195 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

197 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

199 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

200 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


209 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

210 
«me•a˚
 
GNULIB_NAMESPACE
 \

212 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

213 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

215 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

217 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

218 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

227 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


233 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

234 
«me•a˚
 
GNULIB_NAMESPACE
 \

236 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

237 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

238 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

240 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

242 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

243 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

250 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


251 
	#_GL_CXXALIASWARN
(
func
) \

252 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

253 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

254 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

257 #i‡!
__OPTIMIZE__


258 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

259 
	`_GL_WARN_ON_USE
 (
func
, \

261 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

262 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


263 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

264 
	`__ty≥of__
 (
func
Ë
	)
func

266 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

267 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

270 
	#_GL_CXXALIASWARN
(
func
) \

271 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

277 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


278 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

279 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

280 
GNULIB_NAMESPACE
)

	)

281 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

282 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

285 #i‡!
__OPTIMIZE__


286 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

287 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

289 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

290 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


291 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

292 
	`__ty≥of__
 (
func
Ë
	)
func

294 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

295 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

298 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

299 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

308 #i‚de‡
_GL_ARG_NONNULL


309 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

310 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

312 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

317 #i‚de‡
_GL_WARN_ON_USE


319 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

321 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

322 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

323 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


325 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

326 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

328 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

329 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

339 #i‚de‡
_GL_WARN_ON_USE_CXX


340 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

341 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

342 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

343 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

344 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


346 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

347 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

349 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

350 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

356 #i‚de‡
_GL_WARN_EXTERN_C


357 #i‡
deföed
 
__˝lu•lus


358 
	#_GL_WARN_EXTERN_C
 "C"

	)

360 
	#_GL_WARN_EXTERN_C
 

	)

370 
	~<sys/time.h
>

372 
	~<±hªad.h
>

374 #unde‡
as˘ime_r


375 #unde‡
˘ime_r


376 #unde‡
gmtime_r


377 #unde‡
loˇ…ime_r


378 #unde‡
ønd_r


379 #unde‡
°πok_r


382 #ifde‡
__˝lu•lus


386 #i‡!
GNULIB_deföed_°ru˘_time•ec


387 #unde‡
time•ec


388 
	#time•ec
 
Ωl_time•ec


	)

389 
	stime•ec


391 
time_t
 
tv_£c
;

392 
tv_n£c
;

394 
	#GNULIB_deföed_°ru˘_time•ec
 1

	)

397 #ifde‡
__˝lu•lus


404 #i‡!
GNULIB_deföed_°ru˘_time_t_mu°_be_öãgøl


410 
	s__time_t_mu°_be_öãgøl
 {

411 
	m__Êﬂtög_time_t_unsuµ‹ãd
 : (
time_t
) 1;

413 
	#GNULIB_deföed_°ru˘_time_t_mu°_be_öãgøl
 1

	)

420 #i‡
GNULIB_PORTCHECK


421 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

422 
	#«no¶ìp
 
Ωl_«no¶ìp


	)

424 
_GL_FUNCDECL_RPL
 (
«no¶ìp
, ,

425 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
)

426 
_GL_ARG_NONNULL
 ((1)));

427 
_GL_CXXALIAS_RPL
 (
«no¶ìp
, ,

428 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
));

431 
_GL_FUNCDECL_SYS
 (
«no¶ìp
, ,

432 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
)

433 
_GL_ARG_NONNULL
 ((1)));

435 
_GL_CXXALIAS_SYS
 (
«no¶ìp
, ,

436 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
));

438 
_GL_CXXALIASWARN
 (
«no¶ìp
);

443 #i‡
GNULIB_PORTCHECK


444 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

445 
	#mktime
 
Ωl_mktime


	)

447 
_GL_FUNCDECL_RPL
 (
mktime
, 
time_t
, (
tm
 *
__ç
Ë
_GL_ARG_NONNULL
 ((1)));

448 
_GL_CXXALIAS_RPL
 (
mktime
, 
time_t
, (
tm
 *
__ç
));

450 
_GL_CXXALIAS_SYS
 (
mktime
, 
time_t
, (
tm
 *
__ç
));

452 
_GL_CXXALIASWARN
 (
mktime
);

459 #i‡
GNULIB_PORTCHECK


460 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

461 #unde‡
loˇ…ime_r


462 
	#loˇ…ime_r
 
Ωl_loˇ…ime_r


	)

464 
_GL_FUNCDECL_RPL
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

465 
tm
 *
ª°ri˘
 
__ªsu…
)

466 
_GL_ARG_NONNULL
 ((1, 2)));

467 
_GL_CXXALIAS_RPL
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

468 
tm
 *
ª°ri˘
 
__ªsu…
));

471 
_GL_FUNCDECL_SYS
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

472 
tm
 *
ª°ri˘
 
__ªsu…
)

473 
_GL_ARG_NONNULL
 ((1, 2)));

475 
_GL_CXXALIAS_SYS
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

476 
tm
 *
ª°ri˘
 
__ªsu…
));

479 
_GL_CXXALIASWARN
 (
loˇ…ime_r
);

481 #i‡
GNULIB_PORTCHECK


482 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

483 #unde‡
gmtime_r


484 
	#gmtime_r
 
Ωl_gmtime_r


	)

486 
_GL_FUNCDECL_RPL
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

487 
tm
 *
ª°ri˘
 
__ªsu…
)

488 
_GL_ARG_NONNULL
 ((1, 2)));

489 
_GL_CXXALIAS_RPL
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

490 
tm
 *
ª°ri˘
 
__ªsu…
));

493 
_GL_FUNCDECL_SYS
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

494 
tm
 *
ª°ri˘
 
__ªsu…
)

495 
_GL_ARG_NONNULL
 ((1, 2)));

497 
_GL_CXXALIAS_SYS
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

498 
tm
 *
ª°ri˘
 
__ªsu…
));

501 
_GL_CXXALIASWARN
 (
gmtime_r
);

510 
_GL_FUNCDECL_SYS
 (
°Ωtime
, *, (c⁄° *
ª°ri˘
 
__buf
,

511 c⁄° *
ª°ri˘
 
__f‹m©
,

512 
tm
 *
ª°ri˘
 
__tm
)

513 
_GL_ARG_NONNULL
 ((1, 2, 3)));

515 
_GL_CXXALIAS_SYS
 (
°Ωtime
, *, (c⁄° *
ª°ri˘
 
__buf
,

516 c⁄° *
ª°ri˘
 
__f‹m©
,

517 
tm
 *
ª°ri˘
 
__tm
));

518 
_GL_CXXALIASWARN
 (
°Ωtime
);

523 #i‡
GNULIB_PORTCHECK


524 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

525 #unde‡
timegm


526 
	#timegm
 
Ωl_timegm


	)

528 
_GL_FUNCDECL_RPL
 (
timegm
, 
time_t
, (
tm
 *
__tm
Ë
_GL_ARG_NONNULL
 ((1)));

529 
_GL_CXXALIAS_RPL
 (
timegm
, 
time_t
, (
tm
 *
__tm
));

532 
_GL_FUNCDECL_SYS
 (
timegm
, 
time_t
, (
tm
 *
__tm
Ë
_GL_ARG_NONNULL
 ((1)));

534 
_GL_CXXALIAS_SYS
 (
timegm
, 
time_t
, (
tm
 *
__tm
));

536 
_GL_CXXALIASWARN
 (
timegm
);

542 #i‡
deföed
 
GNULIB_POSIXCHECK


543 #unde‡
as˘ime


544 
_GL_WARN_ON_USE
 (
as˘ime
, "asctime can overrun buffers in some cases - "

547 #i‡
deföed
 
GNULIB_POSIXCHECK


548 #unde‡
as˘ime_r


549 
_GL_WARN_ON_USE
 (
as˘ime
, "asctime_r can overrun buffers in some cases - "

552 #i‡
deföed
 
GNULIB_POSIXCHECK


553 #unde‡
˘ime


554 
_GL_WARN_ON_USE
 (
as˘ime
, "ctime can overrun buffers in some cases - "

557 #i‡
deföed
 
GNULIB_POSIXCHECK


558 #unde‡
˘ime_r


559 
_GL_WARN_ON_USE
 (
as˘ime
, "ctime_r can overrun buffers in some cases - "

	@lib/time.in.h

21 #i‡
__GNUC__
 >= 3

22 @
	gPRAGMA_SYSTEM_HEADER
@

24 @
	gPRAGMA_COLUMNS
@

31 #i‡(
deföed
 
__√ed_time_t
 || deföed 
__√ed_˛ock_t
 \

32 || 
deföed
 
	g__√ed_time•ec
 \

33 || 
deföed
 
	g_
@
	gGUARD_PREFIX
@
	g_TIME_H
)

35 #@
INCLUDE_NEXT
@ @
NEXT_TIME_H
@

39 
	#_
@
GUARD_PREFIX
@
_TIME_H


	)

41 #@
INCLUDE_NEXT
@ @
NEXT_TIME_H
@

44 
	~<°ddef.h
>

56 #i‡! @
TIME_H_DEFINES_STRUCT_TIMESPEC
@

57 #i‡@
SYS_TIME_H_DEFINES_STRUCT_TIMESPEC
@

58 
	~<sys/time.h
>

59 #ñi‡@
PTHREAD_H_DEFINES_STRUCT_TIMESPEC
@

60 
	~<±hªad.h
>

62 #unde‡
as˘ime_r


63 #unde‡
˘ime_r


64 #unde‡
gmtime_r


65 #unde‡
loˇ…ime_r


66 #unde‡
ønd_r


67 #unde‡
°πok_r


70 #ifde‡
__˝lu•lus


74 #i‡!
GNULIB_deföed_°ru˘_time•ec


75 #unde‡
time•ec


76 
	#time•ec
 
Ωl_time•ec


	)

77 
	stime•ec


79 
time_t
 
tv_£c
;

80 
tv_n£c
;

82 
	#GNULIB_deföed_°ru˘_time•ec
 1

	)

85 #ifde‡
__˝lu•lus


92 #i‡!
GNULIB_deföed_°ru˘_time_t_mu°_be_öãgøl


98 
	s__time_t_mu°_be_öãgøl
 {

99 
	m__Êﬂtög_time_t_unsuµ‹ãd
 : (
time_t
) 1;

101 
	#GNULIB_deföed_°ru˘_time_t_mu°_be_öãgøl
 1

	)

107 #i‡@
GNULIB_NANOSLEEP
@

108 #i‡@
REPLACE_NANOSLEEP
@

109 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

110 
	#«no¶ìp
 
Ωl_«no¶ìp


	)

112 
_GL_FUNCDECL_RPL
 (
«no¶ìp
, ,

113 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
)

114 
_GL_ARG_NONNULL
 ((1)));

115 
_GL_CXXALIAS_RPL
 (
«no¶ìp
, ,

116 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
));

118 #i‡! @
HAVE_NANOSLEEP
@

119 
_GL_FUNCDECL_SYS
 (
«no¶ìp
, ,

120 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
)

121 
_GL_ARG_NONNULL
 ((1)));

123 
_GL_CXXALIAS_SYS
 (
«no¶ìp
, ,

124 (
time•ec
 c⁄° *
__rqç
, time•e¯*
__rmç
));

126 
_GL_CXXALIASWARN
 (
«no¶ìp
);

130 #i‡@
GNULIB_MKTIME
@

131 #i‡@
REPLACE_MKTIME
@

132 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

133 
	#mktime
 
Ωl_mktime


	)

135 
_GL_FUNCDECL_RPL
 (
mktime
, 
time_t
, (
tm
 *
__ç
Ë
_GL_ARG_NONNULL
 ((1)));

136 
_GL_CXXALIAS_RPL
 (
mktime
, 
time_t
, (
tm
 *
__ç
));

138 
_GL_CXXALIAS_SYS
 (
mktime
, 
time_t
, (
tm
 *
__ç
));

140 
_GL_CXXALIASWARN
 (
mktime
);

146 #i‡@
GNULIB_TIME_R
@

147 #i‡@
REPLACE_LOCALTIME_R
@

148 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

149 #unde‡
loˇ…ime_r


150 
	#loˇ…ime_r
 
Ωl_loˇ…ime_r


	)

152 
_GL_FUNCDECL_RPL
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

153 
tm
 *
ª°ri˘
 
__ªsu…
)

154 
_GL_ARG_NONNULL
 ((1, 2)));

155 
_GL_CXXALIAS_RPL
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

156 
tm
 *
ª°ri˘
 
__ªsu…
));

158 #i‡! @
HAVE_DECL_LOCALTIME_R
@

159 
_GL_FUNCDECL_SYS
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

160 
tm
 *
ª°ri˘
 
__ªsu…
)

161 
_GL_ARG_NONNULL
 ((1, 2)));

163 
_GL_CXXALIAS_SYS
 (
loˇ…ime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

164 
tm
 *
ª°ri˘
 
__ªsu…
));

166 #i‡@
HAVE_DECL_LOCALTIME_R
@

167 
_GL_CXXALIASWARN
 (
loˇ…ime_r
);

169 #i‡@
REPLACE_LOCALTIME_R
@

170 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

171 #unde‡
gmtime_r


172 
	#gmtime_r
 
Ωl_gmtime_r


	)

174 
_GL_FUNCDECL_RPL
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

175 
tm
 *
ª°ri˘
 
__ªsu…
)

176 
_GL_ARG_NONNULL
 ((1, 2)));

177 
_GL_CXXALIAS_RPL
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

178 
tm
 *
ª°ri˘
 
__ªsu…
));

180 #i‡! @
HAVE_DECL_LOCALTIME_R
@

181 
_GL_FUNCDECL_SYS
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

182 
tm
 *
ª°ri˘
 
__ªsu…
)

183 
_GL_ARG_NONNULL
 ((1, 2)));

185 
_GL_CXXALIAS_SYS
 (
gmtime_r
, 
tm
 *, (
time_t
 c⁄° *
ª°ri˘
 
__timî
,

186 
tm
 *
ª°ri˘
 
__ªsu…
));

188 #i‡@
HAVE_DECL_LOCALTIME_R
@

189 
_GL_CXXALIASWARN
 (
gmtime_r
);

196 #i‡@
GNULIB_STRPTIME
@

197 #i‡! @
HAVE_STRPTIME
@

198 
_GL_FUNCDECL_SYS
 (
°Ωtime
, *, (c⁄° *
ª°ri˘
 
__buf
,

199 c⁄° *
ª°ri˘
 
__f‹m©
,

200 
tm
 *
ª°ri˘
 
__tm
)

201 
_GL_ARG_NONNULL
 ((1, 2, 3)));

203 
_GL_CXXALIAS_SYS
 (
°Ωtime
, *, (c⁄° *
ª°ri˘
 
__buf
,

204 c⁄° *
ª°ri˘
 
__f‹m©
,

205 
tm
 *
ª°ri˘
 
__tm
));

206 
_GL_CXXALIASWARN
 (
°Ωtime
);

210 #i‡@
GNULIB_TIMEGM
@

211 #i‡@
REPLACE_TIMEGM
@

212 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

213 #unde‡
timegm


214 
	#timegm
 
Ωl_timegm


	)

216 
_GL_FUNCDECL_RPL
 (
timegm
, 
time_t
, (
tm
 *
__tm
Ë
_GL_ARG_NONNULL
 ((1)));

217 
_GL_CXXALIAS_RPL
 (
timegm
, 
time_t
, (
tm
 *
__tm
));

219 #i‡! @
HAVE_TIMEGM
@

220 
_GL_FUNCDECL_SYS
 (
timegm
, 
time_t
, (
tm
 *
__tm
Ë
_GL_ARG_NONNULL
 ((1)));

222 
_GL_CXXALIAS_SYS
 (
timegm
, 
time_t
, (
tm
 *
__tm
));

224 
_GL_CXXALIASWARN
 (
timegm
);

230 #i‡
deföed
 
GNULIB_POSIXCHECK


231 #unde‡
as˘ime


232 
_GL_WARN_ON_USE
 (
as˘ime
, "asctime can overrun buffers in some cases - "

235 #i‡
deföed
 
GNULIB_POSIXCHECK


236 #unde‡
as˘ime_r


237 
_GL_WARN_ON_USE
 (
as˘ime
, "asctime_r can overrun buffers in some cases - "

240 #i‡
deföed
 
GNULIB_POSIXCHECK


241 #unde‡
˘ime


242 
_GL_WARN_ON_USE
 (
as˘ime
, "ctime can overrun buffers in some cases - "

245 #i‡
deföed
 
GNULIB_POSIXCHECK


246 #unde‡
˘ime_r


247 
_GL_WARN_ON_USE
 (
as˘ime
, "ctime_r can overrun buffers in some cases - "

	@lib/timespec.h

19 #i‡! 
deföed
 
TIMESPEC_H


20 
	#TIMESPEC_H


	)

22 
	~<time.h
>

52 
ölöe
 

53 
	$time•ec_cmp
 (
time•ec
 
a
, time•e¯
b
)

55  (
a
.
tv_£c
 < 
b
.tv_sec ? -1

56 : 
a
.
tv_£c
 > 
b
.tv_sec ? 1

57 : (Ë(
a
.
tv_n£c
 - 
b
.tv_nsec));

58 
	}
}

62 
ölöe
 

63 
	$time•ec_sign
 (
time•ec
 
a
)

65  
a
.
tv_£c
 < 0 ? -1 :á.tv_£¯||á.
tv_n£c
;

66 
	}
}

68 
time•ec
 
time•ec_add
 (timespec, timespec);

69 
time•ec
 
time•ec_sub
 (timespec, timespec);

70 
time•ec
 
dtŸime•ec
 ();

73 
ölöe
 

74 
	$time•e˘od
 (
time•ec
 
a
)

76  
a
.
tv_£c
 +á.
tv_n£c
 / 1e9;

77 
	}
}

79 
gëtime
 (
time•ec
 *);

80 
£âime
 (
time•ec
 const *);

	@lib/unistd--.h

20 
	~<uni°d.h
>

21 
	~"uni°d-ß„r.h
"

23 #unde‡
dup


24 
	#dup
 
dup_ß„r


	)

26 #unde‡
pùe


27 
	#pùe
 
pùe_ß„r


	)

29 #i‡
GNULIB_PIPE2_SAFER


30 #unde‡
pùe2


31 
	#pùe2
 
pùe2_ß„r


	)

	@lib/unistd-safer.h

20 
dup_ß„r
 ();

21 
fd_ß„r
 ();

22 
pùe_ß„r
 ([2]);

24 #i‡
GNULIB_FD_SAFER_FLAG


25 
dup_ß„r_Êag
 (, );

26 
fd_ß„r_Êag
 (, );

29 #i‡
GNULIB_PIPE2_SAFER


30 
pùe2_ß„r
 ([2], );

	@lib/unistd.h

21 #i‡
__GNUC__
 >= 3

22 #¥agm®
GCC
 
sy°em_hódî


31 && !
deföed
 
	g_GL_WINSOCK2_H_WITNESS
 && deföed 
	g_WINSOCK2_H


35 #ö˛ude_√xà<
uni°d
.
h
>

37 #îr‹ 
u√x≥˘ed
; 
ªp‹t
 
this
 
to
 
bug
-
gnulib
@
gnu
.
‹g


39 
	#_GL_WINSOCK2_H_WITNESS


	)

42 #ñi‡!
deföed
 
_GL_UNISTD_H


46 #ö˛ude_√xà<
uni°d
.
h
>

51 && !
deföed
 
	g_GL_INCLUDING_WINSOCK2_H


52 
	#_GL_INCLUDING_WINSOCK2_H


	)

53 
	~<wösock2.h
>

54 #unde‡
_GL_INCLUDING_WINSOCK2_H


57 #i‡!
deföed
 
_GL_UNISTD_H
 && !deföed 
_GL_INCLUDING_WINSOCK2_H


58 
	#_GL_UNISTD_H


	)

61 
	~<°ddef.h
>

66 #i‡(!(
deföed
 
SEEK_CUR
 && deföed 
SEEK_END
 && deföed 
SEEK_SET
) \

67 || ((0 || 
deföed
 
	gGNULIB_POSIXCHECK
) \

68 && 
deföed
 
	g__CYGWIN__
)) \

69 && ! 
deföed
 
	g__GLIBC__


70 
	~<°dio.h
>

75 #i‡(0 || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__CYGWIN__
 \

76 && ! 
deföed
 
	g__GLIBC__


77 
	~<f˙é.h
>

84 #i‚de‡
__GLIBC__


85 
	~<°dlib.h
>

89 #i‡((0 || 
deföed
 
GNULIB_POSIXCHECK
) \

90 && ((
deföed
 
	g_WIN32
 || deföed 
	g__WIN32__
Ë&& ! deföed 
	g__CYGWIN__
))

91 
	~<io.h
>

97 #i‡((0 && (
deföed
 
_AIX
 || deföed 
__osf__
)) \

98 || (0 && 
deföed
 
	g__TANDEM
)) \

99 && !
deföed
 
	g__GLIBC__


100 
	~<√tdb.h
>

105 || 0 || 0 || 
deföed
 
	gGNULIB_POSIXCHECK
)

107 
	~<sys/ty≥s.h
>

112 #i‡1 && !
deföed
 
__GLIBC__
 && !deföed 
_GL_SYSTEM_GETOPT


113 
	~<gë›t.h
>

117 #i‚de‡
_GL_CXXDEFS_H


118 
	#_GL_CXXDEFS_H


	)

181 #i‡
deföed
 
__˝lu•lus


182 
	#_GL_EXTERN_C
 "C"

	)

184 
	#_GL_EXTERN_C
 

	)

194 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

195 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

196 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

197 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

206 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

207 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

215 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

216 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

217 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


218 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

219 
«me•a˚
 
GNULIB_NAMESPACE
 \

221 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

223 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

225 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

226 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

234 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


235 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

236 
«me•a˚
 
GNULIB_NAMESPACE
 \

238 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

239 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

241 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

243 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

244 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

254 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


261 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

262 
«me•a˚
 
GNULIB_NAMESPACE
 \

264 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

266 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

268 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

269 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

277 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


278 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

279 
«me•a˚
 
GNULIB_NAMESPACE
 \

281 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

282 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

284 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

286 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

287 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

296 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


302 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

303 
«me•a˚
 
GNULIB_NAMESPACE
 \

305 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

306 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

307 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

309 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

311 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

312 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

319 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


320 
	#_GL_CXXALIASWARN
(
func
) \

321 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

322 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

323 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

326 #i‡!
__OPTIMIZE__


327 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

328 
	`_GL_WARN_ON_USE
 (
func
, \

330 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

331 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


332 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

333 
	`__ty≥of__
 (
func
Ë
	)
func

335 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

336 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

339 
	#_GL_CXXALIASWARN
(
func
) \

340 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

346 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


347 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

348 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

349 
GNULIB_NAMESPACE
)

	)

350 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

351 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

354 #i‡!
__OPTIMIZE__


355 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

356 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

358 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

359 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


360 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

361 
	`__ty≥of__
 (
func
Ë
	)
func

363 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

364 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

367 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

368 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

377 #i‚de‡
_GL_ARG_NONNULL


378 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

379 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

381 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

386 #i‚de‡
_GL_WARN_ON_USE


388 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

390 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

391 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

392 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


394 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

395 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

397 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

398 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

408 #i‚de‡
_GL_WARN_ON_USE_CXX


409 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

410 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

411 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

412 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

413 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


415 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

416 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

418 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

419 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

425 #i‚de‡
_GL_WARN_EXTERN_C


426 #i‡
deföed
 
__˝lu•lus


427 
	#_GL_WARN_EXTERN_C
 "C"

	)

429 
	#_GL_WARN_EXTERN_C
 

	)

437 #i‡!
deföed
 
_GL_SYS_SOCKET_H


438 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

439 #unde‡
sockë


440 
	#sockë
 
sockë_u£d_wôhout_ö˛udög_sys_sockë_h


	)

441 #unde‡
c⁄√˘


442 
	#c⁄√˘
 
c⁄√˘_u£d_wôhout_ö˛udög_sys_sockë_h


	)

443 #unde‡
ac˚±


444 
	#ac˚±
 
ac˚±_u£d_wôhout_ö˛udög_sys_sockë_h


	)

445 #unde‡
böd


446 
	#böd
 
böd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

447 #unde‡
gë≥î«me


448 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

449 #unde‡
gësock«me


450 
	#gësock«me
 
gësock«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

451 #unde‡
gësock›t


452 
	#gësock›t
 
gësock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

453 #unde‡
li°í


454 
	#li°í
 
li°í_u£d_wôhout_ö˛udög_sys_sockë_h


	)

455 #unde‡
ªcv


456 
	#ªcv
 
ªcv_u£d_wôhout_ö˛udög_sys_sockë_h


	)

457 #unde‡
£nd


458 
	#£nd
 
£nd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

459 #unde‡
ªcv‰om


460 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ö˛udög_sys_sockë_h


	)

461 #unde‡
£ndto


462 
	#£ndto
 
£ndto_u£d_wôhout_ö˛udög_sys_sockë_h


	)

463 #unde‡
£tsock›t


464 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

465 #unde‡
shutdown


466 
	#shutdown
 
shutdown_u£d_wôhout_ö˛udög_sys_sockë_h


	)

468 
_GL_WARN_ON_USE
 (
sockë
,

470 
_GL_WARN_ON_USE
 (
c⁄√˘
,

472 
_GL_WARN_ON_USE
 (
ac˚±
,

474 
_GL_WARN_ON_USE
 (
böd
,

476 
_GL_WARN_ON_USE
 (
gë≥î«me
,

478 
_GL_WARN_ON_USE
 (
gësock«me
,

480 
_GL_WARN_ON_USE
 (
gësock›t
,

482 
_GL_WARN_ON_USE
 (
li°í
,

484 
_GL_WARN_ON_USE
 (
ªcv
,

486 
_GL_WARN_ON_USE
 (
£nd
,

488 
_GL_WARN_ON_USE
 (
ªcv‰om
,

490 
_GL_WARN_ON_USE
 (
£ndto
,

492 
_GL_WARN_ON_USE
 (
£tsock›t
,

494 
_GL_WARN_ON_USE
 (
shutdown
,

498 #i‡!
deföed
 
_GL_SYS_SELECT_H


499 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

500 #unde‡
£À˘


501 
	#£À˘
 
£À˘_u£d_wôhout_ö˛udög_sys_£À˘_h


	)

503 
_GL_WARN_ON_USE
 (
£À˘
,

511 #i‚de‡
STDIN_FILENO


512 
	#STDIN_FILENO
 0

	)

514 #i‚de‡
STDOUT_FILENO


515 
	#STDOUT_FILENO
 1

	)

517 #i‚de‡
STDERR_FILENO


518 
	#STDERR_FILENO
 2

	)

522 #i‚de‡
F_OK


523 
	#F_OK
 0

	)

524 
	#X_OK
 1

	)

525 
	#W_OK
 2

	)

526 
	#R_OK
 4

	)

533 #i‡
deföed
 
GNULIB_POSIXCHECK


535 
_GL_WARN_ON_USE
 (
ac˚ss
, "theáccess function isá securityÑisk - "

547 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

548 #unde‡
chown


549 
	#chown
 
Ωl_chown


	)

551 
_GL_FUNCDECL_RPL
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
)

552 
_GL_ARG_NONNULL
 ((1)));

553 
_GL_CXXALIAS_RPL
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
));

556 
_GL_FUNCDECL_SYS
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
)

557 
_GL_ARG_NONNULL
 ((1)));

559 
_GL_CXXALIAS_SYS
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
));

561 
_GL_CXXALIASWARN
 (
chown
);

562 #ñi‡
deföed
 
GNULIB_POSIXCHECK


563 #unde‡
chown


564 #i‡
HAVE_RAW_DECL_CHOWN


565 
_GL_WARN_ON_USE
 (
chown
, "chown failsÅo follow symlinks on some systemsánd "

575 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

576 #unde‡
˛o£


577 
	#˛o£
 
Ωl_˛o£


	)

579 
_GL_FUNCDECL_RPL
 (
˛o£
, , (
fd
));

580 
_GL_CXXALIAS_RPL
 (
˛o£
, , (
fd
));

582 
_GL_CXXALIAS_SYS
 (
˛o£
, , (
fd
));

584 
_GL_CXXALIASWARN
 (
˛o£
);

586 #unde‡
˛o£


587 
	#˛o£
 
˛o£_u£d_wôhout_ªque°ög_gnulib_moduÀ_˛o£


	)

588 #ñi‡
deföed
 
GNULIB_POSIXCHECK


589 #unde‡
˛o£


591 
_GL_WARN_ON_USE
 (
˛o£
, "close doesÇotÖortably work on sockets - "

597 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

598 
	#dup
 
Ωl_dup


	)

600 
_GL_FUNCDECL_RPL
 (
dup
, , (
ﬁdfd
));

601 
_GL_CXXALIAS_RPL
 (
dup
, , (
ﬁdfd
));

603 
_GL_CXXALIAS_SYS
 (
dup
, , (
ﬁdfd
));

605 
_GL_CXXALIASWARN
 (
dup
);

615 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

616 
	#dup2
 
Ωl_dup2


	)

618 
_GL_FUNCDECL_RPL
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

619 
_GL_CXXALIAS_RPL
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

622 
_GL_FUNCDECL_SYS
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

624 
_GL_CXXALIAS_SYS
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

626 
_GL_CXXALIASWARN
 (
dup2
);

627 #ñi‡
deföed
 
GNULIB_POSIXCHECK


628 #unde‡
dup2


629 #i‡
HAVE_RAW_DECL_DUP2


630 
_GL_WARN_ON_USE
 (
dup2
, "dup2 is unportable - "

646 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

647 
	#dup3
 
Ωl_dup3


	)

649 
_GL_FUNCDECL_RPL
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

650 
_GL_CXXALIAS_RPL
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

652 
_GL_FUNCDECL_SYS
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

653 
_GL_CXXALIAS_SYS
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

655 
_GL_CXXALIASWARN
 (
dup3
);

656 #ñi‡
deföed
 
GNULIB_POSIXCHECK


657 #unde‡
dup3


658 #i‡
HAVE_RAW_DECL_DUP3


659 
_GL_WARN_ON_USE
 (
dup3
, "dup3 is unportable - "

669 #i‡
deföed
 
__APPLE__
 && deföed 
__MACH__


670 
	~<¸t_exã∫s.h
>

671 
	#ívú⁄
 (*
	`_NSGëEnvú⁄
 ())

	)

673 #ifde‡
__˝lu•lus


676 **
ívú⁄
;

677 #ifde‡
__˝lu•lus


682 #ñi‡
deföed
 
GNULIB_POSIXCHECK


683 #i‡
HAVE_RAW_DECL_ENVIRON


684 
ölöe
 ***

685 
	$Ωl_ívú⁄
 ()

687  &
ívú⁄
;

688 
	}
}

689 
_GL_WARN_ON_USE
 (
Ωl_ívú⁄
, "environ is unportable - "

691 #unde‡
ívú⁄


692 
	#ívú⁄
 (*
	`Ωl_ívú⁄
 ())

	)

701 
_GL_FUNCDECL_SYS
 (
euidac˚ss
, , (c⁄° *
fûíame
, 
mode
)

702 
_GL_ARG_NONNULL
 ((1)));

704 
_GL_CXXALIAS_SYS
 (
euidac˚ss
, , (c⁄° *
fûíame
, 
mode
));

705 
_GL_CXXALIASWARN
 (
euidac˚ss
);

706 #i‡
deföed
 
GNULIB_POSIXCHECK


708 
_GL_WARN_ON_USE
 (
euidac˚ss
, "theÉuidaccess function isá securityÑisk - "

711 #ñi‡
deföed
 
GNULIB_POSIXCHECK


712 #unde‡
euidac˚ss


713 #i‡
HAVE_RAW_DECL_EUIDACCESS


714 
_GL_WARN_ON_USE
 (
euidac˚ss
, "euidaccess is unportable - "

722 
_GL_FUNCDECL_SYS
 (
Ác˚sßt
, ,

723 (
fd
, c⁄° *
fûe
, 
mode
, 
Êag
)

724 
_GL_ARG_NONNULL
 ((2)));

726 
_GL_CXXALIAS_SYS
 (
Ác˚sßt
, ,

727 (
fd
, c⁄° *
fûe
, 
mode
, 
Êag
));

728 
_GL_CXXALIASWARN
 (
Ác˚sßt
);

729 #ñi‡
deföed
 
GNULIB_POSIXCHECK


730 #unde‡
Ác˚sßt


731 #i‡
HAVE_RAW_DECL_FACCESSAT


732 
_GL_WARN_ON_USE
 (
Ác˚sßt
, "faccessat isÇotÖortable - "

745 
_GL_FUNCDECL_SYS
 (
fchdú
, , ());

748 
_GL_EXTERN_C
 
	$_gl_ªgi°î_fd
 (
fd
, c⁄° *
fûíame
)

749 
	`_GL_ARG_NONNULL
 ((2));

750 
_GL_EXTERN_C
 
	`_gl_uƒegi°î_fd
 (
fd
);

751 
_GL_EXTERN_C
 
	`_gl_ªgi°î_dup
 (
ﬁdfd
, 
√wfd
);

752 
_GL_EXTERN_C
 c⁄° *
	`_gl_dúe˘‹y_«me
 (
fd
);

756 
	`_GL_FUNCDECL_SYS
 (
fchdú
, , ());

759 
	`_GL_CXXALIAS_SYS
 (
fchdú
, , ());

760 
	`_GL_CXXALIASWARN
 (
fchdú
);

761 #ñi‡
deföed
 
GNULIB_POSIXCHECK


762 #unde‡
fchdú


763 #i‡
HAVE_RAW_DECL_FCHDIR


764 
	`_GL_WARN_ON_USE
 (
fchdú
, "fchdir is unportable - "

772 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

773 #unde‡
fchow«t


774 
	#fchow«t
 
Ωl_fchow«t


	)

776 
	`_GL_FUNCDECL_RPL
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

777 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
)

778 
	`_GL_ARG_NONNULL
 ((2)));

779 
	`_GL_CXXALIAS_RPL
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

780 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
));

783 
	`_GL_FUNCDECL_SYS
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

784 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
)

785 
	`_GL_ARG_NONNULL
 ((2)));

787 
	`_GL_CXXALIAS_SYS
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

788 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
));

790 
	`_GL_CXXALIASWARN
 (
fchow«t
);

791 #ñi‡
deföed
 
GNULIB_POSIXCHECK


792 #unde‡
fchow«t


793 #i‡
HAVE_RAW_DECL_FCHOWNAT


794 
	`_GL_WARN_ON_USE
 (
fchow«t
, "fchownat isÇotÖortable - "

806 
	`_GL_FUNCDECL_SYS
 (
fsync
, , (
fd
));

808 
	`_GL_CXXALIAS_SYS
 (
fsync
, , (
fd
));

809 
	`_GL_CXXALIASWARN
 (
fsync
);

810 #ñi‡
deföed
 
GNULIB_POSIXCHECK


811 #unde‡
fsync


812 #i‡
HAVE_RAW_DECL_FSYNC


813 
	`_GL_WARN_ON_USE
 (
fsync
, "fsync is unportable - "

825 
	`_GL_FUNCDECL_SYS
 (
·runˇã
, , (
fd
, 
off_t
 
Àngth
));

827 
	`_GL_CXXALIAS_SYS
 (
·runˇã
, , (
fd
, 
off_t
 
Àngth
));

828 
	`_GL_CXXALIASWARN
 (
·runˇã
);

829 #ñi‡
deföed
 
GNULIB_POSIXCHECK


830 #unde‡
·runˇã


831 #i‡
HAVE_RAW_DECL_FTRUNCATE


832 
	`_GL_WARN_ON_USE
 (
·runˇã
, "ftruncate is unportable - "

850 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

851 
	#gëcwd
 
Ωl_gëcwd


	)

853 
	`_GL_FUNCDECL_RPL
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

854 
	`_GL_CXXALIAS_RPL
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

858 
	`_GL_CXXALIAS_SYS_CAST
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

860 
	`_GL_CXXALIASWARN
 (
gëcwd
);

861 #ñi‡
deföed
 
GNULIB_POSIXCHECK


862 #unde‡
gëcwd


863 #i‡
HAVE_RAW_DECL_GETCWD


864 
	`_GL_WARN_ON_USE
 (
gëcwd
, "getcwd is unportable - "

882 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

883 #unde‡
gëdomaö«me


884 
	#gëdomaö«me
 
Ωl_gëdomaö«me


	)

886 
	`_GL_FUNCDECL_RPL
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
)

887 
	`_GL_ARG_NONNULL
 ((1)));

888 
	`_GL_CXXALIAS_RPL
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
));

891 
	`_GL_FUNCDECL_SYS
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
)

892 
	`_GL_ARG_NONNULL
 ((1)));

894 
	`_GL_CXXALIAS_SYS
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
));

896 
	`_GL_CXXALIASWARN
 (
gëdomaö«me
);

897 #ñi‡
deföed
 
GNULIB_POSIXCHECK


898 #unde‡
gëdomaö«me


899 #i‡
HAVE_RAW_DECL_GETDOMAINNAME


900 
	`_GL_WARN_ON_USE
 (
gëdomaö«me
, "getdomainname is unportable - "

910 
	`_GL_FUNCDECL_SYS
 (
gëdèbÀsize
, , ());

912 
	`_GL_CXXALIAS_SYS
 (
gëdèbÀsize
, , ());

913 
	`_GL_CXXALIASWARN
 (
gëdèbÀsize
);

914 #ñi‡
deföed
 
GNULIB_POSIXCHECK


915 #unde‡
gëdèbÀsize


916 #i‡
HAVE_RAW_DECL_GETDTABLESIZE


917 
	`_GL_WARN_ON_USE
 (
gëdèbÀsize
, "getdtablesize is unportable - "

930 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

931 #unde‡
gëgroups


932 
	#gëgroups
 
Ωl_gëgroups


	)

934 
	`_GL_FUNCDECL_RPL
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

935 
	`_GL_CXXALIAS_RPL
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

938 
	`_GL_FUNCDECL_SYS
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

940 
	`_GL_CXXALIAS_SYS
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

942 
	`_GL_CXXALIASWARN
 (
gëgroups
);

943 #ñi‡
deföed
 
GNULIB_POSIXCHECK


944 #unde‡
gëgroups


945 #i‡
HAVE_RAW_DECL_GETGROUPS


946 
	`_GL_WARN_ON_USE
 (
gëgroups
, "getgroups is unportable - "

961 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

962 #unde‡
gëho°«me


963 
	#gëho°«me
 
Ωl_gëho°«me


	)

965 
	`_GL_FUNCDECL_RPL
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
)

966 
	`_GL_ARG_NONNULL
 ((1)));

967 
	`_GL_CXXALIAS_RPL
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
));

970 
	`_GL_FUNCDECL_SYS
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
)

971 
	`_GL_ARG_NONNULL
 ((1)));

976 
	`_GL_CXXALIAS_SYS_CAST
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
));

978 
	`_GL_CXXALIASWARN
 (
gëho°«me
);

980 #unde‡
gëho°«me


981 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gëho°«me


	)

982 #ñi‡
deföed
 
GNULIB_POSIXCHECK


983 #unde‡
gëho°«me


984 #i‡
HAVE_RAW_DECL_GETHOSTNAME


985 
	`_GL_WARN_ON_USE
 (
gëho°«me
, "gethostname is unportable - "

1003 
	`_GL_FUNCDECL_SYS
 (
gëlogö
, *, ());

1005 
	`_GL_CXXALIAS_SYS
 (
gëlogö
, *, ());

1006 
	`_GL_CXXALIASWARN
 (
gëlogö
);

1007 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1008 #unde‡
gëlogö


1009 #i‡
HAVE_RAW_DECL_GETLOGIN


1010 
	`_GL_WARN_ON_USE
 (
gëlogö
, "getlogin is unportable - "

1032 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1033 
	#gëlogö_r
 
Ωl_gëlogö_r


	)

1035 
	`_GL_FUNCDECL_RPL
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
)

1036 
	`_GL_ARG_NONNULL
 ((1)));

1037 
	`_GL_CXXALIAS_RPL
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
));

1040 
	`_GL_FUNCDECL_SYS
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
)

1041 
	`_GL_ARG_NONNULL
 ((1)));

1045 
	`_GL_CXXALIAS_SYS_CAST
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
));

1047 
	`_GL_CXXALIASWARN
 (
gëlogö_r
);

1048 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1049 #unde‡
gëlogö_r


1050 #i‡
HAVE_RAW_DECL_GETLOGIN_R


1051 
	`_GL_WARN_ON_USE
 (
gëlogö_r
, "getlogin_r is unportable - "

1059 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1060 
	#gë∑gesize
 
Ωl_gë∑gesize


	)

1062 
	`_GL_FUNCDECL_RPL
 (
gë∑gesize
, , ());

1063 
	`_GL_CXXALIAS_RPL
 (
gë∑gesize
, , ());

1066 #i‡!
deföed
 
gë∑gesize


1068 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
_SC_PAGESIZE


1069 #i‡! (
deföed
 
__VMS
 && 
__VMS_VER
 < 70000000)

1070 
	#_gl_gë∑gesize
(Ë
	`sysc⁄f
 (
_SC_PAGESIZE
)

	)

1074 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
__VMS


1075 #ifde‡
__ALPHA


1076 
	#_gl_gë∑gesize
(Ë8192

	)

1078 
	#_gl_gë∑gesize
(Ë512

	)

1082 #i‡!
deföed
 
_gl_gë∑gesize
 && 0

1083 
	~<OS.h
>

1084 #i‡
deföed
 
B_PAGE_SIZE


1085 
	#_gl_gë∑gesize
(Ë
B_PAGE_SIZE


	)

1089 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
__amigaos4__


1090 
	#_gl_gë∑gesize
(Ë2048

	)

1093 #i‡!
deföed
 
_gl_gë∑gesize
 && 0

1094 
	~<sys/∑øm.h
>

1095 #ifde‡
EXEC_PAGESIZE


1096 
	#_gl_gë∑gesize
(Ë
EXEC_PAGESIZE


	)

1098 #ifde‡
NBPG


1099 #i‚de‡
CLSIZE


1100 
	#CLSIZE
 1

	)

1102 
	#_gl_gë∑gesize
(Ë(
NBPG
 * 
CLSIZE
)

	)

1104 #ifde‡
NBPC


1105 
	#_gl_gë∑gesize
(Ë
NBPC


	)

1110 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1111 
	#gë∑gesize
(Ë
	`_gl_gë∑gesize
 ()

	)

1113 #i‡!
GNULIB_deföed_gë∑gesize_fun˘i⁄


1114 
ölöe
 

1115 
	$gë∑gesize
 ()

1117  
	`_gl_gë∑gesize
 ();

1118 
	}
}

1119 
	#GNULIB_deföed_gë∑gesize_fun˘i⁄
 1

	)

1125 
_GL_CXXALIAS_SYS_CAST
 (
gë∑gesize
, , ());

1128 
_GL_CXXALIASWARN
 (
gë∑gesize
);

1130 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1131 #unde‡
gë∑gesize


1132 #i‡
HAVE_RAW_DECL_GETPAGESIZE


1133 
_GL_WARN_ON_USE
 (
gë∑gesize
, "getpagesize is unportable - "

1143 
_GL_FUNCDECL_SYS
 (
gëu£rshñl
, *, ());

1145 
_GL_CXXALIAS_SYS
 (
gëu£rshñl
, *, ());

1146 
_GL_CXXALIASWARN
 (
gëu£rshñl
);

1147 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1148 #unde‡
gëu£rshñl


1149 #i‡
HAVE_RAW_DECL_GETUSERSHELL


1150 
_GL_WARN_ON_USE
 (
gëu£rshñl
, "getusershell is unportable - "

1158 
_GL_FUNCDECL_SYS
 (
£tu£rshñl
, , ());

1160 
_GL_CXXALIAS_SYS
 (
£tu£rshñl
, , ());

1161 
_GL_CXXALIASWARN
 (
£tu£rshñl
);

1162 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1163 #unde‡
£tu£rshñl


1164 #i‡
HAVE_RAW_DECL_SETUSERSHELL


1165 
_GL_WARN_ON_USE
 (
£tu£rshñl
, "setusershell is unportable - "

1174 
_GL_FUNCDECL_SYS
 (
ídu£rshñl
, , ());

1176 
_GL_CXXALIAS_SYS
 (
ídu£rshñl
, , ());

1177 
_GL_CXXALIASWARN
 (
ídu£rshñl
);

1178 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1179 #unde‡
ídu£rshñl


1180 #i‡
HAVE_RAW_DECL_ENDUSERSHELL


1181 
_GL_WARN_ON_USE
 (
ídu£rshñl
, "endusershell is unportable - "

1190 
_GL_FUNCDECL_SYS
 (
group_membî
, , (
gid_t
 
gid
));

1192 
_GL_CXXALIAS_SYS
 (
group_membî
, , (
gid_t
 
gid
));

1193 
_GL_CXXALIASWARN
 (
group_membî
);

1194 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1195 #unde‡
group_membî


1196 #i‡
HAVE_RAW_DECL_GROUP_MEMBER


1197 
_GL_WARN_ON_USE
 (
group_membî
, "group_member is unportable - "

1210 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1211 #unde‡
lchown


1212 
	#lchown
 
Ωl_lchown


	)

1214 
_GL_FUNCDECL_RPL
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
)

1215 
_GL_ARG_NONNULL
 ((1)));

1216 
_GL_CXXALIAS_RPL
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
));

1219 
_GL_FUNCDECL_SYS
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
)

1220 
_GL_ARG_NONNULL
 ((1)));

1222 
_GL_CXXALIAS_SYS
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
));

1224 
_GL_CXXALIASWARN
 (
lchown
);

1225 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1226 #unde‡
lchown


1227 #i‡
HAVE_RAW_DECL_LCHOWN


1228 
_GL_WARN_ON_USE
 (
lchown
, "lchown is unportableÅoÖre-POSIX.1-2001 systems - "

1240 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1241 
	#lök
 
Ωl_lök


	)

1243 
_GL_FUNCDECL_RPL
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
)

1244 
_GL_ARG_NONNULL
 ((1, 2)));

1245 
_GL_CXXALIAS_RPL
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
));

1248 
_GL_FUNCDECL_SYS
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
)

1249 
_GL_ARG_NONNULL
 ((1, 2)));

1251 
_GL_CXXALIAS_SYS
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
));

1253 
_GL_CXXALIASWARN
 (
lök
);

1254 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1255 #unde‡
lök


1256 #i‡
HAVE_RAW_DECL_LINK


1257 
_GL_WARN_ON_USE
 (
lök
, "link is unportable - "

1268 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1269 #unde‡
lök©


1270 
	#lök©
 
Ωl_lök©


	)

1272 
_GL_FUNCDECL_RPL
 (
lök©
, ,

1273 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

1274 
Êag
)

1275 
_GL_ARG_NONNULL
 ((2, 4)));

1276 
_GL_CXXALIAS_RPL
 (
lök©
, ,

1277 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

1278 
Êag
));

1281 
_GL_FUNCDECL_SYS
 (
lök©
, ,

1282 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

1283 
Êag
)

1284 
_GL_ARG_NONNULL
 ((2, 4)));

1286 
_GL_CXXALIAS_SYS
 (
lök©
, ,

1287 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

1288 
Êag
));

1290 
_GL_CXXALIASWARN
 (
lök©
);

1291 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1292 #unde‡
lök©


1293 #i‡
HAVE_RAW_DECL_LINKAT


1294 
_GL_WARN_ON_USE
 (
lök©
, "linkat is unportable - "

1306 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1307 
	#l£ek
 
Ωl_l£ek


	)

1309 
_GL_FUNCDECL_RPL
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

1310 
_GL_CXXALIAS_RPL
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

1312 
_GL_CXXALIAS_SYS
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

1314 
_GL_CXXALIASWARN
 (
l£ek
);

1315 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1316 #unde‡
l£ek


1317 #i‡
HAVE_RAW_DECL_LSEEK


1318 
_GL_WARN_ON_USE
 (
l£ek
, "lseek doesÇot fail with ESPIPE onÖipes on some "

1329 
_GL_FUNCDECL_SYS
 (
pùe
, , (
fd
[2]Ë
_GL_ARG_NONNULL
 ((1)));

1331 
_GL_CXXALIAS_SYS
 (
pùe
, , (
fd
[2]));

1332 
_GL_CXXALIASWARN
 (
pùe
);

1333 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1334 #unde‡
pùe


1335 #i‡
HAVE_RAW_DECL_PIPE


1336 
_GL_WARN_ON_USE
 (
pùe
, "pipe is unportable - "

1352 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1353 
	#pùe2
 
Ωl_pùe2


	)

1355 
_GL_FUNCDECL_RPL
 (
pùe2
, , (
fd
[2], 
Êags
Ë
_GL_ARG_NONNULL
 ((1)));

1356 
_GL_CXXALIAS_RPL
 (
pùe2
, , (
fd
[2], 
Êags
));

1358 
_GL_FUNCDECL_SYS
 (
pùe2
, , (
fd
[2], 
Êags
Ë
_GL_ARG_NONNULL
 ((1)));

1359 
_GL_CXXALIAS_SYS
 (
pùe2
, , (
fd
[2], 
Êags
));

1361 
_GL_CXXALIASWARN
 (
pùe2
);

1362 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1363 #unde‡
pùe2


1364 #i‡
HAVE_RAW_DECL_PIPE2


1365 
_GL_WARN_ON_USE
 (
pùe2
, "pipe2 is unportable - "

1377 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1378 #unde‡
¥ód


1379 
	#¥ód
 
Ωl_¥ód


	)

1381 
_GL_FUNCDECL_RPL
 (
¥ód
, 
ssize_t
,

1382 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1383 
_GL_ARG_NONNULL
 ((2)));

1384 
_GL_CXXALIAS_RPL
 (
¥ód
, 
ssize_t
,

1385 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1388 
_GL_FUNCDECL_SYS
 (
¥ód
, 
ssize_t
,

1389 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1390 
_GL_ARG_NONNULL
 ((2)));

1392 
_GL_CXXALIAS_SYS
 (
¥ód
, 
ssize_t
,

1393 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1395 
_GL_CXXALIASWARN
 (
¥ód
);

1396 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1397 #unde‡
¥ód


1398 #i‡
HAVE_RAW_DECL_PREAD


1399 
_GL_WARN_ON_USE
 (
¥ód
, "pread is unportable - "

1412 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1413 #unde‡
pwrôe


1414 
	#pwrôe
 
Ωl_pwrôe


	)

1416 
_GL_FUNCDECL_RPL
 (
pwrôe
, 
ssize_t
,

1417 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1418 
_GL_ARG_NONNULL
 ((2)));

1419 
_GL_CXXALIAS_RPL
 (
pwrôe
, 
ssize_t
,

1420 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1423 
_GL_FUNCDECL_SYS
 (
pwrôe
, 
ssize_t
,

1424 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1425 
_GL_ARG_NONNULL
 ((2)));

1427 
_GL_CXXALIAS_SYS
 (
pwrôe
, 
ssize_t
,

1428 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1430 
_GL_CXXALIASWARN
 (
pwrôe
);

1431 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1432 #unde‡
pwrôe


1433 #i‡
HAVE_RAW_DECL_PWRITE


1434 
_GL_WARN_ON_USE
 (
pwrôe
, "pwrite is unportable - "

1445 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1446 #unde‡
ªad


1447 
	#ªad
 
Ωl_ªad


	)

1449 
_GL_FUNCDECL_RPL
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
)

1450 
_GL_ARG_NONNULL
 ((2)));

1451 
_GL_CXXALIAS_RPL
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
));

1456 
_GL_CXXALIAS_SYS_CAST
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
));

1458 
_GL_CXXALIASWARN
 (
ªad
);

1469 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1470 
	#ªadlök
 
Ωl_ªadlök


	)

1472 
_GL_FUNCDECL_RPL
 (
ªadlök
, 
ssize_t
,

1473 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
)

1474 
_GL_ARG_NONNULL
 ((1, 2)));

1475 
_GL_CXXALIAS_RPL
 (
ªadlök
, 
ssize_t
,

1476 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
));

1479 
_GL_FUNCDECL_SYS
 (
ªadlök
, 
ssize_t
,

1480 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
)

1481 
_GL_ARG_NONNULL
 ((1, 2)));

1483 
_GL_CXXALIAS_SYS
 (
ªadlök
, 
ssize_t
,

1484 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
));

1486 
_GL_CXXALIASWARN
 (
ªadlök
);

1487 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1488 #unde‡
ªadlök


1489 #i‡
HAVE_RAW_DECL_READLINK


1490 
_GL_WARN_ON_USE
 (
ªadlök
, "readlink is unportable - "

1498 
_GL_FUNCDECL_SYS
 (
ªadlök©
, 
ssize_t
,

1499 (
fd
, c⁄° *
fûe
, *
buf
, 
size_t
 
Àn
)

1500 
_GL_ARG_NONNULL
 ((2, 3)));

1502 
_GL_CXXALIAS_SYS
 (
ªadlök©
, 
ssize_t
,

1503 (
fd
, c⁄° *
fûe
, *
buf
, 
size_t
 
Àn
));

1504 
_GL_CXXALIASWARN
 (
ªadlök©
);

1505 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1506 #unde‡
ªadlök©


1507 #i‡
HAVE_RAW_DECL_READLINKAT


1508 
_GL_WARN_ON_USE
 (
ªadlök©
, "readlinkat isÇotÖortable - "

1517 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1518 
	#rmdú
 
Ωl_rmdú


	)

1520 
_GL_FUNCDECL_RPL
 (
rmdú
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

1521 
_GL_CXXALIAS_RPL
 (
rmdú
, , (c⁄° *
«me
));

1523 
_GL_CXXALIAS_SYS
 (
rmdú
, , (c⁄° *
«me
));

1525 
_GL_CXXALIASWARN
 (
rmdú
);

1526 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1527 #unde‡
rmdú


1528 #i‡
HAVE_RAW_DECL_RMDIR


1529 
_GL_WARN_ON_USE
 (
rmdú
, "rmdir is unportable - "

1541 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1542 #unde‡
¶ìp


1543 
	#¶ìp
 
Ωl_¶ìp


	)

1545 
_GL_FUNCDECL_RPL
 (
¶ìp
, , (
n
));

1546 
_GL_CXXALIAS_RPL
 (
¶ìp
, , (
n
));

1549 
_GL_FUNCDECL_SYS
 (
¶ìp
, , (
n
));

1551 
_GL_CXXALIAS_SYS
 (
¶ìp
, , (
n
));

1553 
_GL_CXXALIASWARN
 (
¶ìp
);

1554 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1555 #unde‡
¶ìp


1556 #i‡
HAVE_RAW_DECL_SLEEP


1557 
_GL_WARN_ON_USE
 (
¶ìp
, "sleep is unportable - "

1565 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1566 #unde‡
symlök


1567 
	#symlök
 
Ωl_symlök


	)

1569 
_GL_FUNCDECL_RPL
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
)

1570 
_GL_ARG_NONNULL
 ((1, 2)));

1571 
_GL_CXXALIAS_RPL
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
));

1574 
_GL_FUNCDECL_SYS
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
)

1575 
_GL_ARG_NONNULL
 ((1, 2)));

1577 
_GL_CXXALIAS_SYS
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
));

1579 
_GL_CXXALIASWARN
 (
symlök
);

1580 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1581 #unde‡
symlök


1582 #i‡
HAVE_RAW_DECL_SYMLINK


1583 
_GL_WARN_ON_USE
 (
symlök
, "symlink isÇotÖortable - "

1591 
_GL_FUNCDECL_SYS
 (
symlök©
, ,

1592 (c⁄° *
c⁄ã¡s
, 
fd
, c⁄° *
fûe
)

1593 
_GL_ARG_NONNULL
 ((1, 3)));

1595 
_GL_CXXALIAS_SYS
 (
symlök©
, ,

1596 (c⁄° *
c⁄ã¡s
, 
fd
, c⁄° *
fûe
));

1597 
_GL_CXXALIASWARN
 (
symlök©
);

1598 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1599 #unde‡
symlök©


1600 #i‡
HAVE_RAW_DECL_SYMLINKAT


1601 
_GL_WARN_ON_USE
 (
symlök©
, "symlinkat isÇotÖortable - "

1611 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1612 #unde‡
ây«me_r


1613 
	#ây«me_r
 
Ωl_ây«me_r


	)

1615 
_GL_FUNCDECL_RPL
 (
ây«me_r
, ,

1616 (
fd
, *
buf
, 
size_t
 
buÊí
Ë
_GL_ARG_NONNULL
 ((2)));

1617 
_GL_CXXALIAS_RPL
 (
ây«me_r
, ,

1618 (
fd
, *
buf
, 
size_t
 
buÊí
));

1621 
_GL_FUNCDECL_SYS
 (
ây«me_r
, ,

1622 (
fd
, *
buf
, 
size_t
 
buÊí
Ë
_GL_ARG_NONNULL
 ((2)));

1624 
_GL_CXXALIAS_SYS
 (
ây«me_r
, ,

1625 (
fd
, *
buf
, 
size_t
 
buÊí
));

1627 
_GL_CXXALIASWARN
 (
ây«me_r
);

1628 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1629 #unde‡
ây«me_r


1630 #i‡
HAVE_RAW_DECL_TTYNAME_R


1631 
_GL_WARN_ON_USE
 (
ây«me_r
, "ttyname_r isÇotÖortable - "

1639 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1640 #unde‡
u∆ök


1641 
	#u∆ök
 
Ωl_u∆ök


	)

1643 
_GL_FUNCDECL_RPL
 (
u∆ök
, , (c⁄° *
fûe
Ë
_GL_ARG_NONNULL
 ((1)));

1644 
_GL_CXXALIAS_RPL
 (
u∆ök
, , (c⁄° *
fûe
));

1646 
_GL_CXXALIAS_SYS
 (
u∆ök
, , (c⁄° *
fûe
));

1648 
_GL_CXXALIASWARN
 (
u∆ök
);

1649 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1650 #unde‡
u∆ök


1651 #i‡
HAVE_RAW_DECL_UNLINK


1652 
_GL_WARN_ON_USE
 (
u∆ök
, "unlink isÇotÖortable - "

1660 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1661 #unde‡
u∆ök©


1662 
	#u∆ök©
 
Ωl_u∆ök©


	)

1664 
_GL_FUNCDECL_RPL
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
)

1665 
_GL_ARG_NONNULL
 ((2)));

1666 
_GL_CXXALIAS_RPL
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
));

1669 
_GL_FUNCDECL_SYS
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
)

1670 
_GL_ARG_NONNULL
 ((2)));

1672 
_GL_CXXALIAS_SYS
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
));

1674 
_GL_CXXALIASWARN
 (
u∆ök©
);

1675 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1676 #unde‡
u∆ök©


1677 #i‡
HAVE_RAW_DECL_UNLINKAT


1678 
_GL_WARN_ON_USE
 (
u∆ök©
, "unlinkat isÇotÖortable - "

1690 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1691 #unde‡
u¶ìp


1692 
	#u¶ìp
 
Ωl_u¶ìp


	)

1694 
_GL_FUNCDECL_RPL
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1695 
_GL_CXXALIAS_RPL
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1698 
_GL_FUNCDECL_SYS
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1700 
_GL_CXXALIAS_SYS
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1702 
_GL_CXXALIASWARN
 (
u¶ìp
);

1703 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1704 #unde‡
u¶ìp


1705 #i‡
HAVE_RAW_DECL_USLEEP


1706 
_GL_WARN_ON_USE
 (
u¶ìp
, "usleep is unportable - "

1717 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1718 #unde‡
wrôe


1719 
	#wrôe
 
Ωl_wrôe


	)

1721 
_GL_FUNCDECL_RPL
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
)

1722 
_GL_ARG_NONNULL
 ((2)));

1723 
_GL_CXXALIAS_RPL
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
));

1728 
_GL_CXXALIAS_SYS_CAST
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
));

1730 
_GL_CXXALIASWARN
 (
wrôe
);

	@lib/unistd.in.h

20 #i‡
__GNUC__
 >= 3

21 @
	gPRAGMA_SYSTEM_HEADER
@

23 @
	gPRAGMA_COLUMNS
@

29 #i‡@
GNULIB_GETHOSTNAME
@ && @
UNISTD_H_HAVE_WINSOCK2_H
@ \

30 && !
deföed
 
	g_GL_WINSOCK2_H_WITNESS
 && deföed 
	g_WINSOCK2_H


33 #i‡@
HAVE_UNISTD_H
@

34 #@
INCLUDE_NEXT
@ @
NEXT_UNISTD_H
@

36 #îr‹ 
u√x≥˘ed
; 
ªp‹t
 
this
 
to
 
bug
-
gnulib
@
gnu
.
‹g


38 
	#_GL_WINSOCK2_H_WITNESS


	)

41 #ñi‡!
deföed
 
_
@
GUARD_PREFIX
@
_UNISTD_H


44 #i‡@
HAVE_UNISTD_H
@

45 #@
INCLUDE_NEXT
@ @
NEXT_UNISTD_H
@

49 #i‡@
GNULIB_GETHOSTNAME
@ && @
UNISTD_H_HAVE_WINSOCK2_H
@ \

50 && !
deföed
 
	g_GL_INCLUDING_WINSOCK2_H


51 
	#_GL_INCLUDING_WINSOCK2_H


	)

52 
	~<wösock2.h
>

53 #unde‡
_GL_INCLUDING_WINSOCK2_H


56 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_UNISTD_H
 && !deföed 
_GL_INCLUDING_WINSOCK2_H


57 
	#_
@
GUARD_PREFIX
@
_UNISTD_H


	)

60 
	~<°ddef.h
>

65 #i‡(!(
deföed
 
SEEK_CUR
 && deföed 
SEEK_END
 && deföed 
SEEK_SET
) \

66 || ((@
	gGNULIB_SYMLINKAT
@ || 
deföed
 
	gGNULIB_POSIXCHECK
) \

67 && 
deföed
 
	g__CYGWIN__
)) \

68 && ! 
deföed
 
	g__GLIBC__


69 
	~<°dio.h
>

74 #i‡(@
GNULIB_UNLINKAT
@ || 
deföed
 
GNULIB_POSIXCHECK
Ë&& deföed 
__CYGWIN__
 \

75 && ! 
deföed
 
	g__GLIBC__


76 
	~<f˙é.h
>

83 #i‚de‡
__GLIBC__


84 
	~<°dlib.h
>

88 #i‡((@
GNULIB_GETCWD
@ || 
deföed
 
GNULIB_POSIXCHECK
) \

89 && ((
deföed
 
	g_WIN32
 || deföed 
	g__WIN32__
Ë&& ! deföed 
	g__CYGWIN__
))

90 
	~<io.h
>

96 #i‡((@
GNULIB_GETDOMAINNAME
@ && (
deföed
 
_AIX
 || deföed 
__osf__
)) \

97 || (@
	gGNULIB_GETHOSTNAME
@ && 
deföed
 
	g__TANDEM
)) \

98 && !
deföed
 
	g__GLIBC__


99 
	~<√tdb.h
>

102 #i‡(@
GNULIB_READ
@ || @
GNULIB_WRITE
@ \

103 || @
	gGNULIB_READLINK
@ || @
	gGNULIB_READLINKAT
@ \

104 || @
	gGNULIB_PREAD
@ || @
	gGNULIB_PWRITE
@ || 
deföed
 
	gGNULIB_POSIXCHECK
)

106 
	~<sys/ty≥s.h
>

111 #i‡@
GNULIB_UNISTD_H_GETOPT
@ && !
deföed
 
__GLIBC__
 && !deföed 
_GL_SYSTEM_GETOPT


112 
	~<gë›t.h
>

124 #i‡@
GNULIB_GETHOSTNAME
@ && @
UNISTD_H_HAVE_WINSOCK2_H
@

125 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_SYS_SOCKET_H


126 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

127 #unde‡
sockë


128 
	#sockë
 
sockë_u£d_wôhout_ö˛udög_sys_sockë_h


	)

129 #unde‡
c⁄√˘


130 
	#c⁄√˘
 
c⁄√˘_u£d_wôhout_ö˛udög_sys_sockë_h


	)

131 #unde‡
ac˚±


132 
	#ac˚±
 
ac˚±_u£d_wôhout_ö˛udög_sys_sockë_h


	)

133 #unde‡
böd


134 
	#böd
 
böd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

135 #unde‡
gë≥î«me


136 
	#gë≥î«me
 
gë≥î«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

137 #unde‡
gësock«me


138 
	#gësock«me
 
gësock«me_u£d_wôhout_ö˛udög_sys_sockë_h


	)

139 #unde‡
gësock›t


140 
	#gësock›t
 
gësock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

141 #unde‡
li°í


142 
	#li°í
 
li°í_u£d_wôhout_ö˛udög_sys_sockë_h


	)

143 #unde‡
ªcv


144 
	#ªcv
 
ªcv_u£d_wôhout_ö˛udög_sys_sockë_h


	)

145 #unde‡
£nd


146 
	#£nd
 
£nd_u£d_wôhout_ö˛udög_sys_sockë_h


	)

147 #unde‡
ªcv‰om


148 
	#ªcv‰om
 
ªcv‰om_u£d_wôhout_ö˛udög_sys_sockë_h


	)

149 #unde‡
£ndto


150 
	#£ndto
 
£ndto_u£d_wôhout_ö˛udög_sys_sockë_h


	)

151 #unde‡
£tsock›t


152 
	#£tsock›t
 
£tsock›t_u£d_wôhout_ö˛udög_sys_sockë_h


	)

153 #unde‡
shutdown


154 
	#shutdown
 
shutdown_u£d_wôhout_ö˛udög_sys_sockë_h


	)

156 
_GL_WARN_ON_USE
 (
sockë
,

158 
_GL_WARN_ON_USE
 (
c⁄√˘
,

160 
_GL_WARN_ON_USE
 (
ac˚±
,

162 
_GL_WARN_ON_USE
 (
böd
,

164 
_GL_WARN_ON_USE
 (
gë≥î«me
,

166 
_GL_WARN_ON_USE
 (
gësock«me
,

168 
_GL_WARN_ON_USE
 (
gësock›t
,

170 
_GL_WARN_ON_USE
 (
li°í
,

172 
_GL_WARN_ON_USE
 (
ªcv
,

174 
_GL_WARN_ON_USE
 (
£nd
,

176 
_GL_WARN_ON_USE
 (
ªcv‰om
,

178 
_GL_WARN_ON_USE
 (
£ndto
,

180 
_GL_WARN_ON_USE
 (
£tsock›t
,

182 
_GL_WARN_ON_USE
 (
shutdown
,

186 #i‡!
deföed
 
_
@
GUARD_PREFIX
@
_SYS_SELECT_H


187 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

188 #unde‡
£À˘


189 
	#£À˘
 
£À˘_u£d_wôhout_ö˛udög_sys_£À˘_h


	)

191 
_GL_WARN_ON_USE
 (
£À˘
,

199 #i‚de‡
STDIN_FILENO


200 
	#STDIN_FILENO
 0

	)

202 #i‚de‡
STDOUT_FILENO


203 
	#STDOUT_FILENO
 1

	)

205 #i‚de‡
STDERR_FILENO


206 
	#STDERR_FILENO
 2

	)

210 #i‚de‡
F_OK


211 
	#F_OK
 0

	)

212 
	#X_OK
 1

	)

213 
	#W_OK
 2

	)

214 
	#R_OK
 4

	)

221 #i‡
deföed
 
GNULIB_POSIXCHECK


223 
_GL_WARN_ON_USE
 (
ac˚ss
, "theáccess function isá securityÑisk - "

228 #i‡@
GNULIB_CHOWN
@

234 #i‡@
REPLACE_CHOWN
@

235 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

236 #unde‡
chown


237 
	#chown
 
Ωl_chown


	)

239 
_GL_FUNCDECL_RPL
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
)

240 
_GL_ARG_NONNULL
 ((1)));

241 
_GL_CXXALIAS_RPL
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
));

243 #i‡!@
HAVE_CHOWN
@

244 
_GL_FUNCDECL_SYS
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
)

245 
_GL_ARG_NONNULL
 ((1)));

247 
_GL_CXXALIAS_SYS
 (
chown
, , (c⁄° *
fûe
, 
uid_t
 
uid
, 
gid_t
 
gid
));

249 
_GL_CXXALIASWARN
 (
chown
);

250 #ñi‡
deföed
 
GNULIB_POSIXCHECK


251 #unde‡
chown


252 #i‡
HAVE_RAW_DECL_CHOWN


253 
_GL_WARN_ON_USE
 (
chown
, "chown failsÅo follow symlinks on some systemsánd "

260 #i‡@
GNULIB_CLOSE
@

261 #i‡@
REPLACE_CLOSE
@

263 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

264 #unde‡
˛o£


265 
	#˛o£
 
Ωl_˛o£


	)

267 
_GL_FUNCDECL_RPL
 (
˛o£
, , (
fd
));

268 
_GL_CXXALIAS_RPL
 (
˛o£
, , (
fd
));

270 
_GL_CXXALIAS_SYS
 (
˛o£
, , (
fd
));

272 
_GL_CXXALIASWARN
 (
˛o£
);

273 #ñi‡@
UNISTD_H_HAVE_WINSOCK2_H_AND_USE_SOCKETS
@

274 #unde‡
˛o£


275 
	#˛o£
 
˛o£_u£d_wôhout_ªque°ög_gnulib_moduÀ_˛o£


	)

276 #ñi‡
deföed
 
GNULIB_POSIXCHECK


277 #unde‡
˛o£


279 
_GL_WARN_ON_USE
 (
˛o£
, "close doesÇotÖortably work on sockets - "

284 #i‡@
REPLACE_DUP
@

285 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

286 
	#dup
 
Ωl_dup


	)

288 
_GL_FUNCDECL_RPL
 (
dup
, , (
ﬁdfd
));

289 
_GL_CXXALIAS_RPL
 (
dup
, , (
ﬁdfd
));

291 
_GL_CXXALIAS_SYS
 (
dup
, , (
ﬁdfd
));

293 
_GL_CXXALIASWARN
 (
dup
);

296 #i‡@
GNULIB_DUP2
@

302 #i‡@
REPLACE_DUP2
@

303 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

304 
	#dup2
 
Ωl_dup2


	)

306 
_GL_FUNCDECL_RPL
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

307 
_GL_CXXALIAS_RPL
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

309 #i‡!@
HAVE_DUP2
@

310 
_GL_FUNCDECL_SYS
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

312 
_GL_CXXALIAS_SYS
 (
dup2
, , (
ﬁdfd
, 
√wfd
));

314 
_GL_CXXALIASWARN
 (
dup2
);

315 #ñi‡
deföed
 
GNULIB_POSIXCHECK


316 #unde‡
dup2


317 #i‡
HAVE_RAW_DECL_DUP2


318 
_GL_WARN_ON_USE
 (
dup2
, "dup2 is unportable - "

324 #i‡@
GNULIB_DUP3
@

333 #i‡@
HAVE_DUP3
@

334 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

335 
	#dup3
 
Ωl_dup3


	)

337 
_GL_FUNCDECL_RPL
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

338 
_GL_CXXALIAS_RPL
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

340 
_GL_FUNCDECL_SYS
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

341 
_GL_CXXALIAS_SYS
 (
dup3
, , (
ﬁdfd
, 
√wfd
, 
Êags
));

343 
_GL_CXXALIASWARN
 (
dup3
);

344 #ñi‡
deföed
 
GNULIB_POSIXCHECK


345 #unde‡
dup3


346 #i‡
HAVE_RAW_DECL_DUP3


347 
_GL_WARN_ON_USE
 (
dup3
, "dup3 is unportable - "

353 #i‡@
GNULIB_ENVIRON
@

354 #i‡!@
HAVE_DECL_ENVIRON
@

357 #i‡
deföed
 
__APPLE__
 && deföed 
__MACH__


358 
	~<¸t_exã∫s.h
>

359 
	#ívú⁄
 (*
	`_NSGëEnvú⁄
 ())

	)

361 #ifde‡
__˝lu•lus


364 **
ívú⁄
;

365 #ifde‡
__˝lu•lus


370 #ñi‡
deföed
 
GNULIB_POSIXCHECK


371 #i‡
HAVE_RAW_DECL_ENVIRON


372 
ölöe
 ***

373 
	$Ωl_ívú⁄
 ()

375  &
ívú⁄
;

376 
	}
}

377 
_GL_WARN_ON_USE
 (
Ωl_ívú⁄
, "environ is unportable - "

379 #unde‡
ívú⁄


380 
	#ívú⁄
 (*
	`Ωl_ívú⁄
 ())

	)

385 #i‡@
GNULIB_EUIDACCESS
@

388 #i‡!@
HAVE_EUIDACCESS
@

389 
_GL_FUNCDECL_SYS
 (
euidac˚ss
, , (c⁄° *
fûíame
, 
mode
)

390 
_GL_ARG_NONNULL
 ((1)));

392 
_GL_CXXALIAS_SYS
 (
euidac˚ss
, , (c⁄° *
fûíame
, 
mode
));

393 
_GL_CXXALIASWARN
 (
euidac˚ss
);

394 #i‡
deföed
 
GNULIB_POSIXCHECK


396 
_GL_WARN_ON_USE
 (
euidac˚ss
, "theÉuidaccess function isá securityÑisk - "

399 #ñi‡
deföed
 
GNULIB_POSIXCHECK


400 #unde‡
euidac˚ss


401 #i‡
HAVE_RAW_DECL_EUIDACCESS


402 
_GL_WARN_ON_USE
 (
euidac˚ss
, "euidaccess is unportable - "

408 #i‡@
GNULIB_FACCESSAT
@

409 #i‡!@
HAVE_FACCESSAT
@

410 
_GL_FUNCDECL_SYS
 (
Ác˚sßt
, ,

411 (
fd
, c⁄° *
fûe
, 
mode
, 
Êag
)

412 
_GL_ARG_NONNULL
 ((2)));

414 
_GL_CXXALIAS_SYS
 (
Ác˚sßt
, ,

415 (
fd
, c⁄° *
fûe
, 
mode
, 
Êag
));

416 
_GL_CXXALIASWARN
 (
Ác˚sßt
);

417 #ñi‡
deföed
 
GNULIB_POSIXCHECK


418 #unde‡
Ác˚sßt


419 #i‡
HAVE_RAW_DECL_FACCESSAT


420 
_GL_WARN_ON_USE
 (
Ác˚sßt
, "faccessat isÇotÖortable - "

426 #i‡@
GNULIB_FCHDIR
@

432 #i‡! @
HAVE_FCHDIR
@

433 
_GL_FUNCDECL_SYS
 (
fchdú
, , ());

436 
_GL_EXTERN_C
 
	$_gl_ªgi°î_fd
 (
fd
, c⁄° *
fûíame
)

437 
	`_GL_ARG_NONNULL
 ((2));

438 
_GL_EXTERN_C
 
	`_gl_uƒegi°î_fd
 (
fd
);

439 
_GL_EXTERN_C
 
	`_gl_ªgi°î_dup
 (
ﬁdfd
, 
√wfd
);

440 
_GL_EXTERN_C
 c⁄° *
	`_gl_dúe˘‹y_«me
 (
fd
);

443 #i‡!@
HAVE_DECL_FCHDIR
@

444 
	`_GL_FUNCDECL_SYS
 (
fchdú
, , ());

447 
	`_GL_CXXALIAS_SYS
 (
fchdú
, , ());

448 
	`_GL_CXXALIASWARN
 (
fchdú
);

449 #ñi‡
deföed
 
GNULIB_POSIXCHECK


450 #unde‡
fchdú


451 #i‡
HAVE_RAW_DECL_FCHDIR


452 
	`_GL_WARN_ON_USE
 (
fchdú
, "fchdir is unportable - "

458 #i‡@
GNULIB_FCHOWNAT
@

459 #i‡@
REPLACE_FCHOWNAT
@

460 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

461 #unde‡
fchow«t


462 
	#fchow«t
 
Ωl_fchow«t


	)

464 
	`_GL_FUNCDECL_RPL
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

465 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
)

466 
	`_GL_ARG_NONNULL
 ((2)));

467 
	`_GL_CXXALIAS_RPL
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

468 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
));

470 #i‡!@
HAVE_FCHOWNAT
@

471 
	`_GL_FUNCDECL_SYS
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

472 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
)

473 
	`_GL_ARG_NONNULL
 ((2)));

475 
	`_GL_CXXALIAS_SYS
 (
fchow«t
, , (
fd
, c⁄° *
fûe
,

476 
uid_t
 
ow√r
, 
gid_t
 
group
, 
Êag
));

478 
	`_GL_CXXALIASWARN
 (
fchow«t
);

479 #ñi‡
deföed
 
GNULIB_POSIXCHECK


480 #unde‡
fchow«t


481 #i‡
HAVE_RAW_DECL_FCHOWNAT


482 
	`_GL_WARN_ON_USE
 (
fchow«t
, "fchownat isÇotÖortable - "

488 #i‡@
GNULIB_FSYNC
@

493 #i‡!@
HAVE_FSYNC
@

494 
	`_GL_FUNCDECL_SYS
 (
fsync
, , (
fd
));

496 
	`_GL_CXXALIAS_SYS
 (
fsync
, , (
fd
));

497 
	`_GL_CXXALIASWARN
 (
fsync
);

498 #ñi‡
deföed
 
GNULIB_POSIXCHECK


499 #unde‡
fsync


500 #i‡
HAVE_RAW_DECL_FSYNC


501 
	`_GL_WARN_ON_USE
 (
fsync
, "fsync is unportable - "

507 #i‡@
GNULIB_FTRUNCATE
@

512 #i‡!@
HAVE_FTRUNCATE
@

513 
	`_GL_FUNCDECL_SYS
 (
·runˇã
, , (
fd
, 
off_t
 
Àngth
));

515 
	`_GL_CXXALIAS_SYS
 (
·runˇã
, , (
fd
, 
off_t
 
Àngth
));

516 
	`_GL_CXXALIASWARN
 (
·runˇã
);

517 #ñi‡
deföed
 
GNULIB_POSIXCHECK


518 #unde‡
·runˇã


519 #i‡
HAVE_RAW_DECL_FTRUNCATE


520 
	`_GL_WARN_ON_USE
 (
·runˇã
, "ftruncate is unportable - "

526 #i‡@
GNULIB_GETCWD
@

537 #i‡@
REPLACE_GETCWD
@

538 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

539 
	#gëcwd
 
Ωl_gëcwd


	)

541 
	`_GL_FUNCDECL_RPL
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

542 
	`_GL_CXXALIAS_RPL
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

546 
	`_GL_CXXALIAS_SYS_CAST
 (
gëcwd
, *, (*
buf
, 
size_t
 
size
));

548 
	`_GL_CXXALIASWARN
 (
gëcwd
);

549 #ñi‡
deföed
 
GNULIB_POSIXCHECK


550 #unde‡
gëcwd


551 #i‡
HAVE_RAW_DECL_GETCWD


552 
	`_GL_WARN_ON_USE
 (
gëcwd
, "getcwd is unportable - "

558 #i‡@
GNULIB_GETDOMAINNAME
@

569 #i‡@
REPLACE_GETDOMAINNAME
@

570 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

571 #unde‡
gëdomaö«me


572 
	#gëdomaö«me
 
Ωl_gëdomaö«me


	)

574 
	`_GL_FUNCDECL_RPL
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
)

575 
	`_GL_ARG_NONNULL
 ((1)));

576 
	`_GL_CXXALIAS_RPL
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
));

578 #i‡!@
HAVE_DECL_GETDOMAINNAME
@

579 
	`_GL_FUNCDECL_SYS
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
)

580 
	`_GL_ARG_NONNULL
 ((1)));

582 
	`_GL_CXXALIAS_SYS
 (
gëdomaö«me
, , (*
«me
, 
size_t
 
Àn
));

584 
	`_GL_CXXALIASWARN
 (
gëdomaö«me
);

585 #ñi‡
deföed
 
GNULIB_POSIXCHECK


586 #unde‡
gëdomaö«me


587 #i‡
HAVE_RAW_DECL_GETDOMAINNAME


588 
	`_GL_WARN_ON_USE
 (
gëdomaö«me
, "getdomainname is unportable - "

594 #i‡@
GNULIB_GETDTABLESIZE
@

597 #i‡!@
HAVE_GETDTABLESIZE
@

598 
	`_GL_FUNCDECL_SYS
 (
gëdèbÀsize
, , ());

600 
	`_GL_CXXALIAS_SYS
 (
gëdèbÀsize
, , ());

601 
	`_GL_CXXALIASWARN
 (
gëdèbÀsize
);

602 #ñi‡
deföed
 
GNULIB_POSIXCHECK


603 #unde‡
gëdèbÀsize


604 #i‡
HAVE_RAW_DECL_GETDTABLESIZE


605 
	`_GL_WARN_ON_USE
 (
gëdèbÀsize
, "getdtablesize is unportable - "

611 #i‡@
GNULIB_GETGROUPS
@

617 #i‡@
REPLACE_GETGROUPS
@

618 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

619 #unde‡
gëgroups


620 
	#gëgroups
 
Ωl_gëgroups


	)

622 
	`_GL_FUNCDECL_RPL
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

623 
	`_GL_CXXALIAS_RPL
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

625 #i‡!@
HAVE_GETGROUPS
@

626 
	`_GL_FUNCDECL_SYS
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

628 
	`_GL_CXXALIAS_SYS
 (
gëgroups
, , (
n
, 
gid_t
 *
groups
));

630 
	`_GL_CXXALIASWARN
 (
gëgroups
);

631 #ñi‡
deföed
 
GNULIB_POSIXCHECK


632 #unde‡
gëgroups


633 #i‡
HAVE_RAW_DECL_GETGROUPS


634 
	`_GL_WARN_ON_USE
 (
gëgroups
, "getgroups is unportable - "

640 #i‡@
GNULIB_GETHOSTNAME
@

648 #i‡@
UNISTD_H_HAVE_WINSOCK2_H
@

649 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

650 #unde‡
gëho°«me


651 
	#gëho°«me
 
Ωl_gëho°«me


	)

653 
	`_GL_FUNCDECL_RPL
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
)

654 
	`_GL_ARG_NONNULL
 ((1)));

655 
	`_GL_CXXALIAS_RPL
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
));

657 #i‡!@
HAVE_GETHOSTNAME
@

658 
	`_GL_FUNCDECL_SYS
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
)

659 
	`_GL_ARG_NONNULL
 ((1)));

664 
	`_GL_CXXALIAS_SYS_CAST
 (
gëho°«me
, , (*
«me
, 
size_t
 
Àn
));

666 
	`_GL_CXXALIASWARN
 (
gëho°«me
);

667 #ñi‡@
UNISTD_H_HAVE_WINSOCK2_H
@

668 #unde‡
gëho°«me


669 
	#gëho°«me
 
gëho°«me_u£d_wôhout_ªque°ög_gnulib_moduÀ_gëho°«me


	)

670 #ñi‡
deföed
 
GNULIB_POSIXCHECK


671 #unde‡
gëho°«me


672 #i‡
HAVE_RAW_DECL_GETHOSTNAME


673 
	`_GL_WARN_ON_USE
 (
gëho°«me
, "gethostname is unportable - "

679 #i‡@
GNULIB_GETLOGIN
@

690 #i‡!@
HAVE_GETLOGIN
@

691 
	`_GL_FUNCDECL_SYS
 (
gëlogö
, *, ());

693 
	`_GL_CXXALIAS_SYS
 (
gëlogö
, *, ());

694 
	`_GL_CXXALIASWARN
 (
gëlogö
);

695 #ñi‡
deföed
 
GNULIB_POSIXCHECK


696 #unde‡
gëlogö


697 #i‡
HAVE_RAW_DECL_GETLOGIN


698 
	`_GL_WARN_ON_USE
 (
gëlogö
, "getlogin is unportable - "

704 #i‡@
GNULIB_GETLOGIN_R
@

719 #i‡@
REPLACE_GETLOGIN_R
@

720 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

721 
	#gëlogö_r
 
Ωl_gëlogö_r


	)

723 
	`_GL_FUNCDECL_RPL
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
)

724 
	`_GL_ARG_NONNULL
 ((1)));

725 
	`_GL_CXXALIAS_RPL
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
));

727 #i‡!@
HAVE_DECL_GETLOGIN_R
@

728 
	`_GL_FUNCDECL_SYS
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
)

729 
	`_GL_ARG_NONNULL
 ((1)));

733 
	`_GL_CXXALIAS_SYS_CAST
 (
gëlogö_r
, , (*
«me
, 
size_t
 
size
));

735 
	`_GL_CXXALIASWARN
 (
gëlogö_r
);

736 #ñi‡
deföed
 
GNULIB_POSIXCHECK


737 #unde‡
gëlogö_r


738 #i‡
HAVE_RAW_DECL_GETLOGIN_R


739 
	`_GL_WARN_ON_USE
 (
gëlogö_r
, "getlogin_r is unportable - "

745 #i‡@
GNULIB_GETPAGESIZE
@

746 #i‡@
REPLACE_GETPAGESIZE
@

747 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

748 
	#gë∑gesize
 
Ωl_gë∑gesize


	)

750 
	`_GL_FUNCDECL_RPL
 (
gë∑gesize
, , ());

751 
	`_GL_CXXALIAS_RPL
 (
gë∑gesize
, , ());

753 #i‡!@
HAVE_GETPAGESIZE
@

754 #i‡!
deföed
 
gë∑gesize


756 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
_SC_PAGESIZE


757 #i‡! (
deföed
 
__VMS
 && 
__VMS_VER
 < 70000000)

758 
	#_gl_gë∑gesize
(Ë
	`sysc⁄f
 (
_SC_PAGESIZE
)

	)

762 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
__VMS


763 #ifde‡
__ALPHA


764 
	#_gl_gë∑gesize
(Ë8192

	)

766 
	#_gl_gë∑gesize
(Ë512

	)

770 #i‡!
deföed
 
_gl_gë∑gesize
 && @
HAVE_OS_H
@

771 
	~<OS.h
>

772 #i‡
deföed
 
B_PAGE_SIZE


773 
	#_gl_gë∑gesize
(Ë
B_PAGE_SIZE


	)

777 #i‡!
deföed
 
_gl_gë∑gesize
 && deföed 
__amigaos4__


778 
	#_gl_gë∑gesize
(Ë2048

	)

781 #i‡!
deföed
 
_gl_gë∑gesize
 && @
HAVE_SYS_PARAM_H
@

782 
	~<sys/∑øm.h
>

783 #ifde‡
EXEC_PAGESIZE


784 
	#_gl_gë∑gesize
(Ë
EXEC_PAGESIZE


	)

786 #ifde‡
NBPG


787 #i‚de‡
CLSIZE


788 
	#CLSIZE
 1

	)

790 
	#_gl_gë∑gesize
(Ë(
NBPG
 * 
CLSIZE
)

	)

792 #ifde‡
NBPC


793 
	#_gl_gë∑gesize
(Ë
NBPC


	)

798 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

799 
	#gë∑gesize
(Ë
	`_gl_gë∑gesize
 ()

	)

801 #i‡!
GNULIB_deföed_gë∑gesize_fun˘i⁄


802 
ölöe
 

803 
	$gë∑gesize
 ()

805  
	`_gl_gë∑gesize
 ();

806 
	}
}

807 
	#GNULIB_deföed_gë∑gesize_fun˘i⁄
 1

	)

813 
_GL_CXXALIAS_SYS_CAST
 (
gë∑gesize
, , ());

815 #i‡@
HAVE_DECL_GETPAGESIZE
@

816 
_GL_CXXALIASWARN
 (
gë∑gesize
);

818 #ñi‡
deföed
 
GNULIB_POSIXCHECK


819 #unde‡
gë∑gesize


820 #i‡
HAVE_RAW_DECL_GETPAGESIZE


821 
_GL_WARN_ON_USE
 (
gë∑gesize
, "getpagesize is unportable - "

827 #i‡@
GNULIB_GETUSERSHELL
@

830 #i‡!@
HAVE_DECL_GETUSERSHELL
@

831 
_GL_FUNCDECL_SYS
 (
gëu£rshñl
, *, ());

833 
_GL_CXXALIAS_SYS
 (
gëu£rshñl
, *, ());

834 
_GL_CXXALIASWARN
 (
gëu£rshñl
);

835 #ñi‡
deföed
 
GNULIB_POSIXCHECK


836 #unde‡
gëu£rshñl


837 #i‡
HAVE_RAW_DECL_GETUSERSHELL


838 
_GL_WARN_ON_USE
 (
gëu£rshñl
, "getusershell is unportable - "

843 #i‡@
GNULIB_GETUSERSHELL
@

845 #i‡!@
HAVE_DECL_GETUSERSHELL
@

846 
_GL_FUNCDECL_SYS
 (
£tu£rshñl
, , ());

848 
_GL_CXXALIAS_SYS
 (
£tu£rshñl
, , ());

849 
_GL_CXXALIASWARN
 (
£tu£rshñl
);

850 #ñi‡
deföed
 
GNULIB_POSIXCHECK


851 #unde‡
£tu£rshñl


852 #i‡
HAVE_RAW_DECL_SETUSERSHELL


853 
_GL_WARN_ON_USE
 (
£tu£rshñl
, "setusershell is unportable - "

858 #i‡@
GNULIB_GETUSERSHELL
@

861 #i‡!@
HAVE_DECL_GETUSERSHELL
@

862 
_GL_FUNCDECL_SYS
 (
ídu£rshñl
, , ());

864 
_GL_CXXALIAS_SYS
 (
ídu£rshñl
, , ());

865 
_GL_CXXALIASWARN
 (
ídu£rshñl
);

866 #ñi‡
deföed
 
GNULIB_POSIXCHECK


867 #unde‡
ídu£rshñl


868 #i‡
HAVE_RAW_DECL_ENDUSERSHELL


869 
_GL_WARN_ON_USE
 (
ídu£rshñl
, "endusershell is unportable - "

875 #i‡@
GNULIB_GROUP_MEMBER
@

877 #i‡!@
HAVE_GROUP_MEMBER
@

878 
_GL_FUNCDECL_SYS
 (
group_membî
, , (
gid_t
 
gid
));

880 
_GL_CXXALIAS_SYS
 (
group_membî
, , (
gid_t
 
gid
));

881 
_GL_CXXALIASWARN
 (
group_membî
);

882 #ñi‡
deföed
 
GNULIB_POSIXCHECK


883 #unde‡
group_membî


884 #i‡
HAVE_RAW_DECL_GROUP_MEMBER


885 
_GL_WARN_ON_USE
 (
group_membî
, "group_member is unportable - "

891 #i‡@
GNULIB_LCHOWN
@

897 #i‡@
REPLACE_LCHOWN
@

898 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

899 #unde‡
lchown


900 
	#lchown
 
Ωl_lchown


	)

902 
_GL_FUNCDECL_RPL
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
)

903 
_GL_ARG_NONNULL
 ((1)));

904 
_GL_CXXALIAS_RPL
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
));

906 #i‡!@
HAVE_LCHOWN
@

907 
_GL_FUNCDECL_SYS
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
)

908 
_GL_ARG_NONNULL
 ((1)));

910 
_GL_CXXALIAS_SYS
 (
lchown
, , (c⁄° *
fûe
, 
uid_t
 
ow√r
, 
gid_t
 
group
));

912 
_GL_CXXALIASWARN
 (
lchown
);

913 #ñi‡
deföed
 
GNULIB_POSIXCHECK


914 #unde‡
lchown


915 #i‡
HAVE_RAW_DECL_LCHOWN


916 
_GL_WARN_ON_USE
 (
lchown
, "lchown is unportableÅoÖre-POSIX.1-2001 systems - "

922 #i‡@
GNULIB_LINK
@

927 #i‡@
REPLACE_LINK
@

928 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

929 
	#lök
 
Ωl_lök


	)

931 
_GL_FUNCDECL_RPL
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
)

932 
_GL_ARG_NONNULL
 ((1, 2)));

933 
_GL_CXXALIAS_RPL
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
));

935 #i‡!@
HAVE_LINK
@

936 
_GL_FUNCDECL_SYS
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
)

937 
_GL_ARG_NONNULL
 ((1, 2)));

939 
_GL_CXXALIAS_SYS
 (
lök
, , (c⁄° *
∑th1
, c⁄° *
∑th2
));

941 
_GL_CXXALIASWARN
 (
lök
);

942 #ñi‡
deföed
 
GNULIB_POSIXCHECK


943 #unde‡
lök


944 #i‡
HAVE_RAW_DECL_LINK


945 
_GL_WARN_ON_USE
 (
lök
, "link is unportable - "

951 #i‡@
GNULIB_LINKAT
@

955 #i‡@
REPLACE_LINKAT
@

956 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

957 #unde‡
lök©


958 
	#lök©
 
Ωl_lök©


	)

960 
_GL_FUNCDECL_RPL
 (
lök©
, ,

961 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

962 
Êag
)

963 
_GL_ARG_NONNULL
 ((2, 4)));

964 
_GL_CXXALIAS_RPL
 (
lök©
, ,

965 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

966 
Êag
));

968 #i‡!@
HAVE_LINKAT
@

969 
_GL_FUNCDECL_SYS
 (
lök©
, ,

970 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

971 
Êag
)

972 
_GL_ARG_NONNULL
 ((2, 4)));

974 
_GL_CXXALIAS_SYS
 (
lök©
, ,

975 (
fd1
, c⁄° *
∑th1
, 
fd2
, c⁄° *
∑th2
,

976 
Êag
));

978 
_GL_CXXALIASWARN
 (
lök©
);

979 #ñi‡
deföed
 
GNULIB_POSIXCHECK


980 #unde‡
lök©


981 #i‡
HAVE_RAW_DECL_LINKAT


982 
_GL_WARN_ON_USE
 (
lök©
, "linkat is unportable - "

988 #i‡@
GNULIB_LSEEK
@

993 #i‡@
REPLACE_LSEEK
@

994 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

995 
	#l£ek
 
Ωl_l£ek


	)

997 
_GL_FUNCDECL_RPL
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

998 
_GL_CXXALIAS_RPL
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

1000 
_GL_CXXALIAS_SYS
 (
l£ek
, 
off_t
, (
fd
, off_à
off£t
, 
whí˚
));

1002 
_GL_CXXALIASWARN
 (
l£ek
);

1003 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1004 #unde‡
l£ek


1005 #i‡
HAVE_RAW_DECL_LSEEK


1006 
_GL_WARN_ON_USE
 (
l£ek
, "lseek doesÇot fail with ESPIPE onÖipes on some "

1012 #i‡@
GNULIB_PIPE
@

1016 #i‡!@
HAVE_PIPE
@

1017 
_GL_FUNCDECL_SYS
 (
pùe
, , (
fd
[2]Ë
_GL_ARG_NONNULL
 ((1)));

1019 
_GL_CXXALIAS_SYS
 (
pùe
, , (
fd
[2]));

1020 
_GL_CXXALIASWARN
 (
pùe
);

1021 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1022 #unde‡
pùe


1023 #i‡
HAVE_RAW_DECL_PIPE


1024 
_GL_WARN_ON_USE
 (
pùe
, "pipe is unportable - "

1030 #i‡@
GNULIB_PIPE2
@

1039 #i‡@
HAVE_PIPE2
@

1040 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1041 
	#pùe2
 
Ωl_pùe2


	)

1043 
_GL_FUNCDECL_RPL
 (
pùe2
, , (
fd
[2], 
Êags
Ë
_GL_ARG_NONNULL
 ((1)));

1044 
_GL_CXXALIAS_RPL
 (
pùe2
, , (
fd
[2], 
Êags
));

1046 
_GL_FUNCDECL_SYS
 (
pùe2
, , (
fd
[2], 
Êags
Ë
_GL_ARG_NONNULL
 ((1)));

1047 
_GL_CXXALIAS_SYS
 (
pùe2
, , (
fd
[2], 
Êags
));

1049 
_GL_CXXALIASWARN
 (
pùe2
);

1050 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1051 #unde‡
pùe2


1052 #i‡
HAVE_RAW_DECL_PIPE2


1053 
_GL_WARN_ON_USE
 (
pùe2
, "pipe2 is unportable - "

1059 #i‡@
GNULIB_PREAD
@

1064 #i‡@
REPLACE_PREAD
@

1065 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1066 #unde‡
¥ód


1067 
	#¥ód
 
Ωl_¥ód


	)

1069 
_GL_FUNCDECL_RPL
 (
¥ód
, 
ssize_t
,

1070 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1071 
_GL_ARG_NONNULL
 ((2)));

1072 
_GL_CXXALIAS_RPL
 (
¥ód
, 
ssize_t
,

1073 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1075 #i‡!@
HAVE_PREAD
@

1076 
_GL_FUNCDECL_SYS
 (
¥ód
, 
ssize_t
,

1077 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1078 
_GL_ARG_NONNULL
 ((2)));

1080 
_GL_CXXALIAS_SYS
 (
¥ód
, 
ssize_t
,

1081 (
fd
, *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1083 
_GL_CXXALIASWARN
 (
¥ód
);

1084 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1085 #unde‡
¥ód


1086 #i‡
HAVE_RAW_DECL_PREAD


1087 
_GL_WARN_ON_USE
 (
¥ód
, "pread is unportable - "

1093 #i‡@
GNULIB_PWRITE
@

1099 #i‡@
REPLACE_PWRITE
@

1100 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1101 #unde‡
pwrôe


1102 
	#pwrôe
 
Ωl_pwrôe


	)

1104 
_GL_FUNCDECL_RPL
 (
pwrôe
, 
ssize_t
,

1105 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1106 
_GL_ARG_NONNULL
 ((2)));

1107 
_GL_CXXALIAS_RPL
 (
pwrôe
, 
ssize_t
,

1108 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1110 #i‡!@
HAVE_PWRITE
@

1111 
_GL_FUNCDECL_SYS
 (
pwrôe
, 
ssize_t
,

1112 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
)

1113 
_GL_ARG_NONNULL
 ((2)));

1115 
_GL_CXXALIAS_SYS
 (
pwrôe
, 
ssize_t
,

1116 (
fd
, c⁄° *
buf
, 
size_t
 
bufsize
, 
off_t
 
off£t
));

1118 
_GL_CXXALIASWARN
 (
pwrôe
);

1119 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1120 #unde‡
pwrôe


1121 #i‡
HAVE_RAW_DECL_PWRITE


1122 
_GL_WARN_ON_USE
 (
pwrôe
, "pwrite is unportable - "

1128 #i‡@
GNULIB_READ
@

1132 #i‡@
REPLACE_READ
@ && @
GNULIB_UNISTD_H_NONBLOCKING
@

1133 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1134 #unde‡
ªad


1135 
	#ªad
 
Ωl_ªad


	)

1137 
_GL_FUNCDECL_RPL
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
)

1138 
_GL_ARG_NONNULL
 ((2)));

1139 
_GL_CXXALIAS_RPL
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
));

1144 
_GL_CXXALIAS_SYS_CAST
 (
ªad
, 
ssize_t
, (
fd
, *
buf
, 
size_t
 
cou¡
));

1146 
_GL_CXXALIASWARN
 (
ªad
);

1150 #i‡@
GNULIB_READLINK
@

1156 #i‡@
REPLACE_READLINK
@

1157 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1158 
	#ªadlök
 
Ωl_ªadlök


	)

1160 
_GL_FUNCDECL_RPL
 (
ªadlök
, 
ssize_t
,

1161 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
)

1162 
_GL_ARG_NONNULL
 ((1, 2)));

1163 
_GL_CXXALIAS_RPL
 (
ªadlök
, 
ssize_t
,

1164 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
));

1166 #i‡!@
HAVE_READLINK
@

1167 
_GL_FUNCDECL_SYS
 (
ªadlök
, 
ssize_t
,

1168 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
)

1169 
_GL_ARG_NONNULL
 ((1, 2)));

1171 
_GL_CXXALIAS_SYS
 (
ªadlök
, 
ssize_t
,

1172 (c⁄° *
fûe
, *
buf
, 
size_t
 
bufsize
));

1174 
_GL_CXXALIASWARN
 (
ªadlök
);

1175 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1176 #unde‡
ªadlök


1177 #i‡
HAVE_RAW_DECL_READLINK


1178 
_GL_WARN_ON_USE
 (
ªadlök
, "readlink is unportable - "

1184 #i‡@
GNULIB_READLINKAT
@

1185 #i‡!@
HAVE_READLINKAT
@

1186 
_GL_FUNCDECL_SYS
 (
ªadlök©
, 
ssize_t
,

1187 (
fd
, c⁄° *
fûe
, *
buf
, 
size_t
 
Àn
)

1188 
_GL_ARG_NONNULL
 ((2, 3)));

1190 
_GL_CXXALIAS_SYS
 (
ªadlök©
, 
ssize_t
,

1191 (
fd
, c⁄° *
fûe
, *
buf
, 
size_t
 
Àn
));

1192 
_GL_CXXALIASWARN
 (
ªadlök©
);

1193 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1194 #unde‡
ªadlök©


1195 #i‡
HAVE_RAW_DECL_READLINKAT


1196 
_GL_WARN_ON_USE
 (
ªadlök©
, "readlinkat isÇotÖortable - "

1202 #i‡@
GNULIB_RMDIR
@

1204 #i‡@
REPLACE_RMDIR
@

1205 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1206 
	#rmdú
 
Ωl_rmdú


	)

1208 
_GL_FUNCDECL_RPL
 (
rmdú
, , (c⁄° *
«me
Ë
_GL_ARG_NONNULL
 ((1)));

1209 
_GL_CXXALIAS_RPL
 (
rmdú
, , (c⁄° *
«me
));

1211 
_GL_CXXALIAS_SYS
 (
rmdú
, , (c⁄° *
«me
));

1213 
_GL_CXXALIASWARN
 (
rmdú
);

1214 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1215 #unde‡
rmdú


1216 #i‡
HAVE_RAW_DECL_RMDIR


1217 
_GL_WARN_ON_USE
 (
rmdú
, "rmdir is unportable - "

1223 #i‡@
GNULIB_SLEEP
@

1228 #i‡@
REPLACE_SLEEP
@

1229 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1230 #unde‡
¶ìp


1231 
	#¶ìp
 
Ωl_¶ìp


	)

1233 
_GL_FUNCDECL_RPL
 (
¶ìp
, , (
n
));

1234 
_GL_CXXALIAS_RPL
 (
¶ìp
, , (
n
));

1236 #i‡!@
HAVE_SLEEP
@

1237 
_GL_FUNCDECL_SYS
 (
¶ìp
, , (
n
));

1239 
_GL_CXXALIAS_SYS
 (
¶ìp
, , (
n
));

1241 
_GL_CXXALIASWARN
 (
¶ìp
);

1242 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1243 #unde‡
¶ìp


1244 #i‡
HAVE_RAW_DECL_SLEEP


1245 
_GL_WARN_ON_USE
 (
¶ìp
, "sleep is unportable - "

1251 #i‡@
GNULIB_SYMLINK
@

1252 #i‡@
REPLACE_SYMLINK
@

1253 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1254 #unde‡
symlök


1255 
	#symlök
 
Ωl_symlök


	)

1257 
_GL_FUNCDECL_RPL
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
)

1258 
_GL_ARG_NONNULL
 ((1, 2)));

1259 
_GL_CXXALIAS_RPL
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
));

1261 #i‡!@
HAVE_SYMLINK
@

1262 
_GL_FUNCDECL_SYS
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
)

1263 
_GL_ARG_NONNULL
 ((1, 2)));

1265 
_GL_CXXALIAS_SYS
 (
symlök
, , (c⁄° *
c⁄ã¡s
, c⁄° *
fûe
));

1267 
_GL_CXXALIASWARN
 (
symlök
);

1268 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1269 #unde‡
symlök


1270 #i‡
HAVE_RAW_DECL_SYMLINK


1271 
_GL_WARN_ON_USE
 (
symlök
, "symlink isÇotÖortable - "

1277 #i‡@
GNULIB_SYMLINKAT
@

1278 #i‡!@
HAVE_SYMLINKAT
@

1279 
_GL_FUNCDECL_SYS
 (
symlök©
, ,

1280 (c⁄° *
c⁄ã¡s
, 
fd
, c⁄° *
fûe
)

1281 
_GL_ARG_NONNULL
 ((1, 3)));

1283 
_GL_CXXALIAS_SYS
 (
symlök©
, ,

1284 (c⁄° *
c⁄ã¡s
, 
fd
, c⁄° *
fûe
));

1285 
_GL_CXXALIASWARN
 (
symlök©
);

1286 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1287 #unde‡
symlök©


1288 #i‡
HAVE_RAW_DECL_SYMLINKAT


1289 
_GL_WARN_ON_USE
 (
symlök©
, "symlinkat isÇotÖortable - "

1295 #i‡@
GNULIB_TTYNAME_R
@

1298 #i‡@
REPLACE_TTYNAME_R
@

1299 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1300 #unde‡
ây«me_r


1301 
	#ây«me_r
 
Ωl_ây«me_r


	)

1303 
_GL_FUNCDECL_RPL
 (
ây«me_r
, ,

1304 (
fd
, *
buf
, 
size_t
 
buÊí
Ë
_GL_ARG_NONNULL
 ((2)));

1305 
_GL_CXXALIAS_RPL
 (
ây«me_r
, ,

1306 (
fd
, *
buf
, 
size_t
 
buÊí
));

1308 #i‡!@
HAVE_DECL_TTYNAME_R
@

1309 
_GL_FUNCDECL_SYS
 (
ây«me_r
, ,

1310 (
fd
, *
buf
, 
size_t
 
buÊí
Ë
_GL_ARG_NONNULL
 ((2)));

1312 
_GL_CXXALIAS_SYS
 (
ây«me_r
, ,

1313 (
fd
, *
buf
, 
size_t
 
buÊí
));

1315 
_GL_CXXALIASWARN
 (
ây«me_r
);

1316 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1317 #unde‡
ây«me_r


1318 #i‡
HAVE_RAW_DECL_TTYNAME_R


1319 
_GL_WARN_ON_USE
 (
ây«me_r
, "ttyname_r isÇotÖortable - "

1325 #i‡@
GNULIB_UNLINK
@

1326 #i‡@
REPLACE_UNLINK
@

1327 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1328 #unde‡
u∆ök


1329 
	#u∆ök
 
Ωl_u∆ök


	)

1331 
_GL_FUNCDECL_RPL
 (
u∆ök
, , (c⁄° *
fûe
Ë
_GL_ARG_NONNULL
 ((1)));

1332 
_GL_CXXALIAS_RPL
 (
u∆ök
, , (c⁄° *
fûe
));

1334 
_GL_CXXALIAS_SYS
 (
u∆ök
, , (c⁄° *
fûe
));

1336 
_GL_CXXALIASWARN
 (
u∆ök
);

1337 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1338 #unde‡
u∆ök


1339 #i‡
HAVE_RAW_DECL_UNLINK


1340 
_GL_WARN_ON_USE
 (
u∆ök
, "unlink isÇotÖortable - "

1346 #i‡@
GNULIB_UNLINKAT
@

1347 #i‡@
REPLACE_UNLINKAT
@

1348 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1349 #unde‡
u∆ök©


1350 
	#u∆ök©
 
Ωl_u∆ök©


	)

1352 
_GL_FUNCDECL_RPL
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
)

1353 
_GL_ARG_NONNULL
 ((2)));

1354 
_GL_CXXALIAS_RPL
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
));

1356 #i‡!@
HAVE_UNLINKAT
@

1357 
_GL_FUNCDECL_SYS
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
)

1358 
_GL_ARG_NONNULL
 ((2)));

1360 
_GL_CXXALIAS_SYS
 (
u∆ök©
, , (
fd
, c⁄° *
fûe
, 
Êag
));

1362 
_GL_CXXALIASWARN
 (
u∆ök©
);

1363 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1364 #unde‡
u∆ök©


1365 #i‡
HAVE_RAW_DECL_UNLINKAT


1366 
_GL_WARN_ON_USE
 (
u∆ök©
, "unlinkat isÇotÖortable - "

1372 #i‡@
GNULIB_USLEEP
@

1377 #i‡@
REPLACE_USLEEP
@

1378 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1379 #unde‡
u¶ìp


1380 
	#u¶ìp
 
Ωl_u¶ìp


	)

1382 
_GL_FUNCDECL_RPL
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1383 
_GL_CXXALIAS_RPL
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1385 #i‡!@
HAVE_USLEEP
@

1386 
_GL_FUNCDECL_SYS
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1388 
_GL_CXXALIAS_SYS
 (
u¶ìp
, , (
u£c⁄ds_t
 
n
));

1390 
_GL_CXXALIASWARN
 (
u¶ìp
);

1391 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1392 #unde‡
u¶ìp


1393 #i‡
HAVE_RAW_DECL_USLEEP


1394 
_GL_WARN_ON_USE
 (
u¶ìp
, "usleep is unportable - "

1400 #i‡@
GNULIB_WRITE
@

1404 #i‡@
REPLACE_WRITE
@ && (@
GNULIB_UNISTD_H_NONBLOCKING
@ || @
GNULIB_UNISTD_H_SIGPIPE
@)

1405 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1406 #unde‡
wrôe


1407 
	#wrôe
 
Ωl_wrôe


	)

1409 
_GL_FUNCDECL_RPL
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
)

1410 
_GL_ARG_NONNULL
 ((2)));

1411 
_GL_CXXALIAS_RPL
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
));

1416 
_GL_CXXALIAS_SYS_CAST
 (
wrôe
, 
ssize_t
, (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
));

1418 
_GL_CXXALIASWARN
 (
wrôe
);

	@lib/unlocked-io.h

20 #i‚de‡
UNLOCKED_IO_H


21 
	#UNLOCKED_IO_H
 1

	)

34 
	~<°dio.h
>

36 #i‡
HAVE_DECL_CLEARERR_UNLOCKED


37 #unde‡
˛óªº


38 
	#˛óªº
(
x
Ë
	`˛óªº_u∆ocked
 (x)

	)

40 
	#˛óªº_u∆ocked
(
x
Ë
	`˛óªº
 (x)

	)

43 #i‡
HAVE_DECL_FEOF_UNLOCKED


44 #unde‡
„of


45 
	#„of
(
x
Ë
	`„of_u∆ocked
 (x)

	)

47 
	#„of_u∆ocked
(
x
Ë
	`„of
 (x)

	)

50 #i‡
HAVE_DECL_FERROR_UNLOCKED


51 #unde‡
„º‹


52 
	#„º‹
(
x
Ë
	`„º‹_u∆ocked
 (x)

	)

54 
	#„º‹_u∆ocked
(
x
Ë
	`„º‹
 (x)

	)

57 #i‡
HAVE_DECL_FFLUSH_UNLOCKED


58 #unde‡
fÊush


59 
	#fÊush
(
x
Ë
	`fÊush_u∆ocked
 (x)

	)

61 
	#fÊush_u∆ocked
(
x
Ë
	`fÊush
 (x)

	)

64 #i‡
HAVE_DECL_FGETS_UNLOCKED


65 #unde‡
fgës


66 
	#fgës
(
x
,
y
,
z
Ë
	`fgës_u∆ocked
 (x,y,z)

	)

68 
	#fgës_u∆ocked
(
x
,
y
,
z
Ë
	`fgës
 (x,y,z)

	)

71 #i‡
HAVE_DECL_FPUTC_UNLOCKED


72 #unde‡
Âutc


73 
	#Âutc
(
x
,
y
Ë
	`Âutc_u∆ocked
 (x,y)

	)

75 
	#Âutc_u∆ocked
(
x
,
y
Ë
	`Âutc
 (x,y)

	)

78 #i‡
HAVE_DECL_FPUTS_UNLOCKED


79 #unde‡
Âuts


80 
	#Âuts
(
x
,
y
Ë
	`Âuts_u∆ocked
 (x,y)

	)

82 
	#Âuts_u∆ocked
(
x
,
y
Ë
	`Âuts
 (x,y)

	)

85 #i‡
HAVE_DECL_FREAD_UNLOCKED


86 #unde‡
‰ód


87 
	#‰ód
(
w
,
x
,
y
,
z
Ë
	`‰ód_u∆ocked
 (w,x,y,z)

	)

89 
	#‰ód_u∆ocked
(
w
,
x
,
y
,
z
Ë
	`‰ód
 (w,x,y,z)

	)

92 #i‡
HAVE_DECL_FWRITE_UNLOCKED


93 #unde‡
fwrôe


94 
	#fwrôe
(
w
,
x
,
y
,
z
Ë
	`fwrôe_u∆ocked
 (w,x,y,z)

	)

96 
	#fwrôe_u∆ocked
(
w
,
x
,
y
,
z
Ë
	`fwrôe
 (w,x,y,z)

	)

99 #i‡
HAVE_DECL_GETC_UNLOCKED


100 #unde‡
gëc


101 
	#gëc
(
x
Ë
	`gëc_u∆ocked
 (x)

	)

103 
	#gëc_u∆ocked
(
x
Ë
	`gëc
 (x)

	)

106 #i‡
HAVE_DECL_GETCHAR_UNLOCKED


107 #unde‡
gëch¨


108 
	#gëch¨
(Ë
	`gëch¨_u∆ocked
 ()

	)

110 
	#gëch¨_u∆ocked
(Ë
	`gëch¨
 ()

	)

113 #i‡
HAVE_DECL_PUTC_UNLOCKED


114 #unde‡
putc


115 
	#putc
(
x
,
y
Ë
	`putc_u∆ocked
 (x,y)

	)

117 
	#putc_u∆ocked
(
x
,
y
Ë
	`putc
 (x,y)

	)

120 #i‡
HAVE_DECL_PUTCHAR_UNLOCKED


121 #unde‡
putch¨


122 
	#putch¨
(
x
Ë
	`putch¨_u∆ocked
 (x)

	)

124 
	#putch¨_u∆ocked
(
x
Ë
	`putch¨
 (x)

	)

127 #unde‡
Êockfûe


128 
	#Êockfûe
(
x
Ë((Ë0)

	)

130 #unde‡
·rylockfûe


131 
	#·rylockfûe
(
x
Ë0

	)

133 #unde‡
fu∆ockfûe


134 
	#fu∆ockfûe
(
x
Ë((Ë0)

	)

	@lib/utimens.c

22 
	~<c⁄fig.h
>

24 
	~"utimís.h
"

26 
	~<as£π.h
>

27 
	~<î∫o.h
>

28 
	~<f˙é.h
>

29 
	~<°dboﬁ.h
>

30 
	~<sys/°©.h
>

31 
	~<sys/time.h
>

32 
	~<uni°d.h
>

34 
	~"°©-time.h
"

35 
	~"time•ec.h
"

37 #i‡
HAVE_UTIME_H


38 
	~<utime.h
>

43 #i‚de‡
HAVE_STRUCT_UTIMBUF


44 
	sutimbuf


46 
	ma˘ime
;

47 
	mmodtime
;

52 #unde‡
futimís


53 #unde‡
utimíßt


57 #i‚de‡
REPLACE_FUNC_STAT_FILE


58 
	#REPLACE_FUNC_STAT_FILE
 0

	)

61 #i‡
HAVE_UTIMENSAT
 || 
HAVE_FUTIMENS


73 
	gutimíßt_w‹ks_ªÆly
;

74 
	glutimíßt_w‹ks_ªÆly
;

85 
	$vÆid©e_time•ec
 (
time•ec
Åimespec[2])

87 
ªsu…
 = 0;

88 
utime_omô_cou¡
 = 0;

89 
	`as£π
 (
time•ec
);

90 i‡((
time•ec
[0].
tv_n£c
 !
UTIME_NOW


91 && 
time•ec
[0].
tv_n£c
 !
UTIME_OMIT


92 && (
time•ec
[0].
tv_n£c
 < 0 || 1000000000 <=Åimespec[0].tv_nsec))

93 || (
time•ec
[1].
tv_n£c
 !
UTIME_NOW


94 && 
time•ec
[1].
tv_n£c
 !
UTIME_OMIT


95 && (
time•ec
[1].
tv_n£c
 < 0 || 1000000000 <=Åimespec[1].tv_nsec)))

97 
î∫o
 = 
EINVAL
;

104 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_NOW


105 || 
time•ec
[0].
tv_n£c
 =
UTIME_OMIT
)

107 
time•ec
[0].
tv_£c
 = 0;

108 
ªsu…
 = 1;

109 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_OMIT
)

110 
utime_omô_cou¡
++;

112 i‡(
time•ec
[1].
tv_n£c
 =
UTIME_NOW


113 || 
time•ec
[1].
tv_n£c
 =
UTIME_OMIT
)

115 
time•ec
[1].
tv_£c
 = 0;

116 
ªsu…
 = 1;

117 i‡(
time•ec
[1].
tv_n£c
 =
UTIME_OMIT
)

118 
utime_omô_cou¡
++;

120  
ªsu…
 + (
utime_omô_cou¡
 == 1);

121 
	}
}

129 
boﬁ


130 
	$upd©e_time•ec
 (
°©
 c⁄° *
°©buf
, 
time•ec
 *
ts
[2])

132 
time•ec
 *time•e¯*
ts
;

133 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_OMIT


134 && 
time•ec
[1].
tv_n£c
 =
UTIME_OMIT
)

135  
åue
;

136 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_NOW


137 && 
time•ec
[1].
tv_n£c
 =
UTIME_NOW
)

139 *
ts
 = 
NULL
;

140  
Ál£
;

143 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_OMIT
)

144 
time•ec
[0] = 
	`gë_°©_©ime
 (
°©buf
);

145 i‡(
time•ec
[0].
tv_n£c
 =
UTIME_NOW
)

146 
	`gëtime
 (&
time•ec
[0]);

148 i‡(
time•ec
[1].
tv_n£c
 =
UTIME_OMIT
)

149 
time•ec
[1] = 
	`gë_°©_mtime
 (
°©buf
);

150 i‡(
time•ec
[1].
tv_n£c
 =
UTIME_NOW
)

151 
	`gëtime
 (&
time•ec
[1]);

153  
Ál£
;

154 
	}
}

167 
	$fdutimís
 (
fd
, c⁄° *
fûe
, 
time•ec
 constÅimespec[2])

169 
time•ec
 
adju°ed_time•ec
[2];

170 
time•ec
 *
ts
 =Åime•e¯? 
adju°ed_time•ec
 : 
NULL
;

171 
adju°mít_√eded
 = 0;

172 
°©
 
°
;

174 i‡(
ts
)

176 
adju°ed_time•ec
[0] = 
time•ec
[0];

177 
adju°ed_time•ec
[1] = 
time•ec
[1];

178 
adju°mít_√eded
 = 
	`vÆid©e_time•ec
 (
ts
);

180 i‡(
adju°mít_√eded
 < 0)

186 i‡(!
fûe
)

188 i‡(
fd
 < 0)

190 
î∫o
 = 
EBADF
;

193 i‡(
	`dup2
 (
fd
, fd) != fd)

207 #i‡
HAVE_BUGGY_NFS_TIME_STAMPS


208 i‡(
fd
 < 0)

209 
	`sync
 ();

211 
	`fsync
 (
fd
);

219 #i‡
HAVE_UTIMENSAT
 || 
HAVE_FUTIMENS


220 i‡(0 <
utimíßt_w‹ks_ªÆly
)

222 
ªsu…
;

223 #i‡
__löux__


232 i‡(
adju°mít_√eded
 == 2)

234 i‡(
fd
 < 0 ? 
	`°©
 (
fûe
, &
°
Ë: 
	`f°©
 (fd, &st))

236 i‡(
ts
[0].
tv_n£c
 =
UTIME_OMIT
)

237 
ts
[0] = 
	`gë_°©_©ime
 (&
°
);

238 i‡(
ts
[1].
tv_n£c
 =
UTIME_OMIT
)

239 
ts
[1] = 
	`gë_°©_mtime
 (&
°
);

241 
adju°mít_√eded
++;

244 #i‡
HAVE_UTIMENSAT


245 i‡(
fd
 < 0)

247 
ªsu…
 = 
	`utimíßt
 (
AT_FDCWD
, 
fûe
, 
ts
, 0);

248 #ifde‡
__löux__


256 i‡(0 < 
ªsu…
)

257 
î∫o
 = 
ENOSYS
;

259 i‡(
ªsu…
 =0 || 
î∫o
 !
ENOSYS
)

261 
utimíßt_w‹ks_ªÆly
 = 1;

262  
ªsu…
;

266 #i‡
HAVE_FUTIMENS


267 i‡(0 <
fd
)

269 
ªsu…
 = 
	`futimís
 (
fd
, 
ts
);

270 #ifde‡
__löux__


272 i‡(0 < 
ªsu…
)

273 
î∫o
 = 
ENOSYS
;

275 i‡(
ªsu…
 =0 || 
î∫o
 !
ENOSYS
)

277 
utimíßt_w‹ks_ªÆly
 = 1;

278  
ªsu…
;

283 
utimíßt_w‹ks_ªÆly
 = -1;

284 
lutimíßt_w‹ks_ªÆly
 = -1;

291 i‡(
adju°mít_√eded
 || (
REPLACE_FUNC_STAT_FILE
 && 
fd
 < 0))

293 i‡(
adju°mít_√eded
 != 3

294 && (
fd
 < 0 ? 
	`°©
 (
fûe
, &
°
Ë: 
	`f°©
 (fd, &st)))

296 i‡(
ts
 && 
	`upd©e_time•ec
 (&
°
, &ts))

301 #i‡
HAVE_FUTIMESAT
 || 
HAVE_WORKING_UTIMES


302 
timevÆ
Åimeval[2];

303 
timevÆ
 *
t
;

304 i‡(
ts
)

306 
timevÆ
[0].
tv_£c
 = 
ts
[0].tv_sec;

307 
timevÆ
[0].
tv_u£c
 = 
ts
[0].
tv_n£c
 / 1000;

308 
timevÆ
[1].
tv_£c
 = 
ts
[1].tv_sec;

309 
timevÆ
[1].
tv_u£c
 = 
ts
[1].
tv_n£c
 / 1000;

310 
t
 = 
timevÆ
;

313 
t
 = 
NULL
;

315 i‡(
fd
 < 0)

317 #i‡
HAVE_FUTIMESAT


318  
	`futimeßt
 (
AT_FDCWD
, 
fûe
, 
t
);

334 #i‡(
HAVE_FUTIMESAT
 && !
FUTIMESAT_NULL_BUG
Ë|| 
HAVE_FUTIMES


335 #i‡
HAVE_FUTIMESAT
 && !
FUTIMESAT_NULL_BUG


336 #unde‡
futimes


337 
	#futimes
(
fd
, 
t
Ë
	`futimeßt
 (fd, 
NULL
,Å)

	)

339 i‡(
	`futimes
 (
fd
, 
t
) == 0)

341 #i‡
__löux__
 && 
__GLIBC__


347 i‡(
t
)

349 
boﬁ
 
abig
 = 500000 <
t
[0].
tv_u£c
;

350 
boﬁ
 
mbig
 = 500000 <
t
[1].
tv_u£c
;

351 i‡((
abig
 | 
mbig
Ë&& 
	`f°©
 (
fd
, &
°
) == 0)

355 
time_t
 
adiff
 = 
°
.
°_©ime
 - 
t
[0].
tv_£c
;

356 
time_t
 
mdiff
 = 
°
.
°_mtime
 - 
t
[1].
tv_£c
;

358 
timevÆ
 *
â
 = 
NULL
;

359 
timevÆ
 
åunˇãd_timevÆ
[2];

360 
åunˇãd_timevÆ
[0] = 
t
[0];

361 
åunˇãd_timevÆ
[1] = 
t
[1];

362 i‡(
abig
 && 
adiff
 =1 && 
	`gë_°©_©ime_ns
 (&
°
) == 0)

364 
â
 = 
åunˇãd_timevÆ
;

365 
â
[0].
tv_u£c
 = 0;

367 i‡(
mbig
 && 
mdiff
 =1 && 
	`gë_°©_mtime_ns
 (&
°
) == 0)

369 
â
 = 
åunˇãd_timevÆ
;

370 
â
[1].
tv_u£c
 = 0;

372 i‡(
â
)

373 
	`futimes
 (
fd
, 
â
);

384 i‡(!
fûe
)

386 #i‡! ((
HAVE_FUTIMESAT
 && !
FUTIMESAT_NULL_BUG
) \

387 || (
HAVE_WORKING_UTIMES
 && 
HAVE_FUTIMES
))

388 
î∫o
 = 
ENOSYS
;

393 #i‡
HAVE_WORKING_UTIMES


394  
	`utimes
 (
fûe
, 
t
);

397 
utimbuf
 utimbuf;

398 
utimbuf
 *
ut
;

399 i‡(
ts
)

401 
utimbuf
.
a˘ime
 = 
ts
[0].
tv_£c
;

402 
utimbuf
.
modtime
 = 
ts
[1].
tv_£c
;

403 
ut
 = &
utimbuf
;

406 
ut
 = 
NULL
;

408  
	`utime
 (
fûe
, 
ut
);

412 
	}
}

417 
	$utimís
 (c⁄° *
fûe
, 
time•ec
 constÅimespec[2])

419  
	`fdutimís
 (-1, 
fûe
, 
time•ec
);

420 
	}
}

427 
	$lutimís
 (c⁄° *
fûe
, 
time•ec
 constÅimespec[2])

429 
time•ec
 
adju°ed_time•ec
[2];

430 
time•ec
 *
ts
 =Åime•e¯? 
adju°ed_time•ec
 : 
NULL
;

431 
adju°mít_√eded
 = 0;

432 
°©
 
°
;

434 i‡(
ts
)

436 
adju°ed_time•ec
[0] = 
time•ec
[0];

437 
adju°ed_time•ec
[1] = 
time•ec
[1];

438 
adju°mít_√eded
 = 
	`vÆid©e_time•ec
 (
ts
);

440 i‡(
adju°mít_√eded
 < 0)

448 #i‡
HAVE_UTIMENSAT


449 i‡(0 <
lutimíßt_w‹ks_ªÆly
)

451 
ªsu…
;

452 #i‡
__löux__


461 i‡(
adju°mít_√eded
 == 2)

463 i‡(
	`l°©
 (
fûe
, &
°
))

465 i‡(
ts
[0].
tv_n£c
 =
UTIME_OMIT
)

466 
ts
[0] = 
	`gë_°©_©ime
 (&
°
);

467 i‡(
ts
[1].
tv_n£c
 =
UTIME_OMIT
)

468 
ts
[1] = 
	`gë_°©_mtime
 (&
°
);

470 
adju°mít_√eded
++;

473 
ªsu…
 = 
	`utimíßt
 (
AT_FDCWD
, 
fûe
, 
ts
, 
AT_SYMLINK_NOFOLLOW
);

474 #ifde‡
__löux__


482 i‡(0 < 
ªsu…
)

483 
î∫o
 = 
ENOSYS
;

485 i‡(
ªsu…
 =0 || 
î∫o
 !
ENOSYS
)

487 
utimíßt_w‹ks_ªÆly
 = 1;

488 
lutimíßt_w‹ks_ªÆly
 = 1;

489  
ªsu…
;

492 
lutimíßt_w‹ks_ªÆly
 = -1;

499 i‡(
adju°mít_√eded
 || 
REPLACE_FUNC_STAT_FILE
)

501 i‡(
adju°mít_√eded
 !3 && 
	`l°©
 (
fûe
, &
°
))

503 i‡(
ts
 && 
	`upd©e_time•ec
 (&
°
, &ts))

509 #i‡
HAVE_LUTIMES
 && !
HAVE_UTIMENSAT


511 
timevÆ
Åimeval[2];

512 
timevÆ
 *
t
;

513 
ªsu…
;

514 i‡(
ts
)

516 
timevÆ
[0].
tv_£c
 = 
ts
[0].tv_sec;

517 
timevÆ
[0].
tv_u£c
 = 
ts
[0].
tv_n£c
 / 1000;

518 
timevÆ
[1].
tv_£c
 = 
ts
[1].tv_sec;

519 
timevÆ
[1].
tv_u£c
 = 
ts
[1].
tv_n£c
 / 1000;

520 
t
 = 
timevÆ
;

523 
t
 = 
NULL
;

525 
ªsu…
 = 
	`lutimes
 (
fûe
, 
t
);

526 i‡(
ªsu…
 =0 || 
î∫o
 !
ENOSYS
)

527  
ªsu…
;

532 i‡(!(
adju°mít_√eded
 || 
REPLACE_FUNC_STAT_FILE
Ë&& 
	`l°©
 (
fûe
, &
°
))

534 i‡(!
	`S_ISLNK
 (
°
.
°_mode
))

535  
	`fdutimís
 (-1, 
fûe
, 
ts
);

536 
î∫o
 = 
ENOSYS
;

538 
	}
}

	@lib/utimens.h

1 
	~<time.h
>

2 
fdutimís
 (, c⁄° *, 
time•ec
 const [2]);

3 
utimís
 (c⁄° *, 
time•ec
 const [2]);

4 
lutimís
 (c⁄° *, 
time•ec
 const [2]);

6 #i‡
GNULIB_FDUTIMENSAT


7 
	~<f˙é.h
>

8 
	~<sys/°©.h
>

10 
fdutimíßt
 (
fd
, 
dú
, c⁄° *
«me
, 
time•ec
 const [2],

11 
©Êag
);

14 
ölöe
 

15 
	$lutimíßt
 (
dú
, c⁄° *
fûe
, 
time•ec
 c⁄° 
times
[2])

17  
	`utimíßt
 (
dú
, 
fûe
, 
times
, 
AT_SYMLINK_NOFOLLOW
);

18 
	}
}

	@lib/vasnprintf.c

52 #i‚de‡
_GNU_SOURCE


53 
	#_GNU_SOURCE
 1

	)

56 #i‚de‡
VASNPRINTF


57 
	~<c⁄fig.h
>

59 #i‚de‡
IN_LIBINTL


60 
	~<Æloˇ.h
>

64 #i‚de‡
VASNPRINTF


65 #i‡
WIDE_CHAR_VERSION


66 
	~"va¢w¥ötf.h
"

68 
	~"va¢¥ötf.h
"

72 
	~<loˇÀ.h
>

73 
	~<°dio.h
>

74 
	~<°dlib.h
>

75 
	~<°rög.h
>

76 
	~<î∫o.h
>

77 
	~<limôs.h
>

78 
	~<Êﬂt.h
>

79 #i‡
HAVE_NL_LANGINFO


80 
	~<œngöfo.h
>

82 #i‚de‡
VASNPRINTF


83 #i‡
WIDE_CHAR_VERSION


84 
	~"w¥ötf-∑r£.h
"

86 
	~"¥ötf-∑r£.h
"

91 
	~"xsize.h
"

93 
	~"vîify.h
"

95 #i‡(
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_LONG_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


96 
	~<m©h.h
>

97 
	~"Êﬂt+.h
"

100 #i‡(
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


101 
	~<m©h.h
>

102 
	~"i¢™d-nﬁibm.h
"

105 #i‡(
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


106 
	~<m©h.h
>

107 
	~"i¢™l-nﬁibm.h
"

108 
	~"Âucw.h
"

111 #i‡(
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


112 
	~<m©h.h
>

113 
	~"i¢™d-nﬁibm.h
"

114 
	~"¥ötf-‰exp.h
"

117 #i‡(
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_LONG_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


118 
	~<m©h.h
>

119 
	~"i¢™l-nﬁibm.h
"

120 
	~"¥ötf-‰ex∂.h
"

121 
	~"Âucw.h
"

125 #i‚de‡
VASNPRINTF


126 #i‡
WIDE_CHAR_VERSION


127 
	#VASNPRINTF
 
va¢w¥ötf


	)

128 
	#FCHAR_T
 
wch¨_t


	)

129 
	#DCHAR_T
 
wch¨_t


	)

130 
	#TCHAR_T
 
wch¨_t


	)

131 
	#DCHAR_IS_TCHAR
 1

	)

132 
	#DIRECTIVE
 
wch¨_t_dúe˘ive


	)

133 
	#DIRECTIVES
 
wch¨_t_dúe˘ives


	)

134 
	#PRINTF_PARSE
 
w¥ötf_∑r£


	)

135 
	#DCHAR_CPY
 
wmem˝y


	)

136 
	#DCHAR_SET
 
wmem£t


	)

138 
	#VASNPRINTF
 
va¢¥ötf


	)

139 
	#FCHAR_T
 

	)

140 
	#DCHAR_T
 

	)

141 
	#TCHAR_T
 

	)

142 
	#DCHAR_IS_TCHAR
 1

	)

143 
	#DIRECTIVE
 
ch¨_dúe˘ive


	)

144 
	#DIRECTIVES
 
ch¨_dúe˘ives


	)

145 
	#PRINTF_PARSE
 
¥ötf_∑r£


	)

146 
	#DCHAR_CPY
 
mem˝y


	)

147 
	#DCHAR_SET
 
mem£t


	)

150 #i‡
WIDE_CHAR_VERSION


152 
	#USE_SNPRINTF
 1

	)

153 #i‡
HAVE_DECL__SNWPRINTF


158 #i‡
deföed
 
__MINGW32__


159 
	#SNPRINTF
 
¢w¥ötf


	)

161 
	#SNPRINTF
 
_¢w¥ötf


	)

165 
	#SNPRINTF
 
sw¥ötf


	)

174 #i‡(
HAVE_DECL__SNPRINTF
 || 
HAVE_SNPRINTF
Ë&& !
deföed
 
__BEOS__
 && !(
__GNU_LIBRARY__
 == 1)

175 
	#USE_SNPRINTF
 1

	)

177 
	#USE_SNPRINTF
 0

	)

179 #i‡
HAVE_DECL__SNPRINTF


182 #i‡
deföed
 
__MINGW32__


183 
	#SNPRINTF
 
¢¥ötf


	)

185 #unde‡
¢¥ötf


187 
	#SNPRINTF
 
_¢¥ötf


	)

191 
	#SNPRINTF
 
¢¥ötf


	)

193 #unde‡
¢¥ötf


197 #unde‡
•rötf


201 #ifde‡
löt


202 
	#IF_LINT
(
Code
Ë
	)
Code

204 
	#IF_LINT
(
Code
Ë

	)

209 #unde‡
exp


210 
	#exp
 
expo


	)

211 #unde‡
ªmaödî


212 
	#ªmaödî
 
ªm


	)

214 #i‡(!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
Ë&& !
WIDE_CHAR_VERSION


215 #i‡(
HAVE_STRNLEN
 && !
deföed
 
_AIX
)

216 
	#loˇl_°∫Àn
 
°∫Àn


	)

218 #i‚de‡
loˇl_°∫Àn_deföed


219 
	#loˇl_°∫Àn_deföed
 1

	)

220 
size_t


221 
	$loˇl_°∫Àn
 (c⁄° *
°rög
, 
size_t
 
maxÀn
)

223 c⁄° *
íd
 = 
	`memchr
 (
°rög
, '\0', 
maxÀn
);

224  
íd
 ? (
size_t
Ë”nd - 
°rög
Ë: 
maxÀn
;

225 
	}
}

230 #i‡(((!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
Ë&& 
WIDE_CHAR_VERSION
Ë|| ((!USE_SNPRINTF || !HAVE_SNPRINTF_RETVAL_C99 || (
NEED_PRINTF_DIRECTIVE_LS
 && !
deföed
 
IN_LIBINTL
)Ë&& !WIDE_CHAR_VERSION && 
DCHAR_IS_TCHAR
)Ë&& 
HAVE_WCHAR_T


231 #i‡
HAVE_WCSLEN


232 
	#loˇl_wc¶í
 
wc¶í


	)

238 #i‚de‡
loˇl_wc¶í_deföed


239 
	#loˇl_wc¶í_deföed
 1

	)

240 
size_t


241 
	$loˇl_wc¶í
 (c⁄° 
wch¨_t
 *
s
)

243 c⁄° 
wch¨_t
 *
±r
;

245 
±r
 = 
s
; *±∏!(
wch¨_t
) 0;Ötr++)

247  
±r
 - 
s
;

248 
	}
}

253 #i‡(!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
Ë&& 
HAVE_WCHAR_T
 && 
WIDE_CHAR_VERSION


254 #i‡
HAVE_WCSNLEN


255 
	#loˇl_wc¢Àn
 
wc¢Àn


	)

257 #i‚de‡
loˇl_wc¢Àn_deföed


258 
	#loˇl_wc¢Àn_deföed
 1

	)

259 
size_t


260 
	$loˇl_wc¢Àn
 (c⁄° 
wch¨_t
 *
s
, 
size_t
 
maxÀn
)

262 c⁄° 
wch¨_t
 *
±r
;

264 
±r
 = 
s
; 
maxÀn
 > 0 && *±∏!(
wch¨_t
) 0;Ötr++, maxlen--)

266  
±r
 - 
s
;

267 
	}
}

272 #i‡(
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE
 || 
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


274 #i‚de‡
decimÆ_poöt_ch¨_deföed


275 
	#decimÆ_poöt_ch¨_deföed
 1

	)

277 
	$decimÆ_poöt_ch¨
 ()

279 c⁄° *
poöt
;

284 #i‡
HAVE_NL_LANGINFO
 && (
__GLIBC__
 || 
deföed
 
__UCLIBC__
 || (deföed 
__APPLE__
 && deföed 
__MACH__
))

285 
poöt
 = 
	`∆_œngöfo
 (
RADIXCHAR
);

287 
poötbuf
[5];

288 
	`•rötf
 (
poötbuf
, "%#.0f", 1.0);

289 
poöt
 = &
poötbuf
[1];

291 
poöt
 = 
	`loˇÀc⁄v
 (Ë-> 
decimÆ_poöt
;

294  (
poöt
[0] != '\0' ?Öoint[0] : '.');

295 
	}
}

299 #i‡
NEED_PRINTF_INFINITE_DOUBLE
 && !
NEED_PRINTF_DOUBLE
 && !
deföed
 
IN_LIBINTL


303 
	$is_öföôe_‹_zîo
 (
x
)

305  
	`i¢™d
 (
x
) || x + x == x;

306 
	}
}

310 #i‡
NEED_PRINTF_INFINITE_LONG_DOUBLE
 && !
NEED_PRINTF_LONG_DOUBLE
 && !
deföed
 
IN_LIBINTL


314 
	$is_öföôe_‹_zîﬁ
 (
x
)

316  
	`i¢™l
 (
x
) || x + x == x;

317 
	}
}

321 #i‡(
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


327 
	tmp_limb_t
;

328 
	#GMP_LIMB_BITS
 32

	)

329 
vîify
 ( (
mp_limb_t
Ë* 
CHAR_BIT
 =
GMP_LIMB_BITS
);

331 
	tmp_twﬁimb_t
;

332 
	#GMP_TWOLIMB_BITS
 64

	)

333 
vîify
 ( (
mp_twﬁimb_t
Ë* 
CHAR_BIT
 =
GMP_TWOLIMB_BITS
);

338 
size_t
 
	m∆imbs
;

339 
mp_limb_t
 *
	mlimbs
;

340 } 
	tm≤_t
;

346 
	$mu…ùly
 (
m≤_t
 
§c1
, m≤_à
§c2
, m≤_à*
de°
)

348 c⁄° 
mp_limb_t
 *
p1
;

349 c⁄° 
mp_limb_t
 *
p2
;

350 
size_t
 
Àn1
;

351 
size_t
 
Àn2
;

353 i‡(
§c1
.
∆imbs
 <
§c2
.nlimbs)

355 
Àn1
 = 
§c1
.
∆imbs
;

356 
p1
 = 
§c1
.
limbs
;

357 
Àn2
 = 
§c2
.
∆imbs
;

358 
p2
 = 
§c2
.
limbs
;

362 
Àn1
 = 
§c2
.
∆imbs
;

363 
p1
 = 
§c2
.
limbs
;

364 
Àn2
 = 
§c1
.
∆imbs
;

365 
p2
 = 
§c1
.
limbs
;

368 i‡(
Àn1
 == 0)

371 
de°
->
∆imbs
 = 0;

372 
de°
->
limbs
 = (
mp_limb_t
 *Ë
	`mÆloc
 (1);

377 
size_t
 
dÀn
;

378 
mp_limb_t
 *
dp
;

379 
size_t
 
k
, 
i
, 
j
;

381 
dÀn
 = 
Àn1
 + 
Àn2
;

382 
dp
 = (
mp_limb_t
 *Ë
	`mÆloc
 (
dÀn
 *  (mp_limb_t));

383 i‡(
dp
 =
NULL
)

384  
NULL
;

385 
k
 = 
Àn2
; k > 0; )

386 
dp
[--
k
] = 0;

387 
i
 = 0; i < 
Àn1
; i++)

389 
mp_limb_t
 
digô1
 = 
p1
[
i
];

390 
mp_twﬁimb_t
 
ˇºy
 = 0;

391 
j
 = 0; j < 
Àn2
; j++)

393 
mp_limb_t
 
digô2
 = 
p2
[
j
];

394 
ˇºy
 +(
mp_twﬁimb_t
Ë
digô1
 * (mp_twﬁimb_tË
digô2
;

395 
ˇºy
 +
dp
[
i
 + 
j
];

396 
dp
[
i
 + 
j
] = (
mp_limb_t
Ë
ˇºy
;

397 
ˇºy
 = c¨ry >> 
GMP_LIMB_BITS
;

399 
dp
[
i
 + 
Àn2
] = (
mp_limb_t
Ë
ˇºy
;

402 
dÀn
 > 0 && 
dp
[dlen - 1] == 0)

403 
dÀn
--;

404 
de°
->
∆imbs
 = 
dÀn
;

405 
de°
->
limbs
 = 
dp
;

407  
de°
->
limbs
;

408 
	}
}

418 
	$divide
 (
m≤_t
 
a
, m≤_à
b
, m≤_à*
q
)

471 c⁄° 
mp_limb_t
 *
a_±r
 = 
a
.
limbs
;

472 
size_t
 
a_Àn
 = 
a
.
∆imbs
;

473 c⁄° 
mp_limb_t
 *
b_±r
 = 
b
.
limbs
;

474 
size_t
 
b_Àn
 = 
b
.
∆imbs
;

475 
mp_limb_t
 *
room±r
;

476 
mp_limb_t
 *
tmp_room±r
 = 
NULL
;

477 
mp_limb_t
 *
q_±r
;

478 
size_t
 
q_Àn
;

479 
mp_limb_t
 *
r_±r
;

480 
size_t
 
r_Àn
;

485 
room±r
 = (
mp_limb_t
 *Ë
	`mÆloc
 ((
a_Àn
 + 2) *  (mp_limb_t));

486 i‡(
room±r
 =
NULL
)

487  
NULL
;

490 
a_Àn
 > 0 && 
a_±r
[a_len - 1] == 0)

491 
a_Àn
--;

496 i‡(
b_Àn
 == 0)

498 
	`ab‹t
 ();

499 i‡(
b_±r
[
b_Àn
 - 1] == 0)

500 
b_Àn
--;

507 i‡(
a_Àn
 < 
b_Àn
)

510 
r_±r
 = 
room±r
;

511 
r_Àn
 = 
a_Àn
;

512 
	`mem˝y
 (
r_±r
, 
a_±r
, 
a_Àn
 *  (
mp_limb_t
));

513 
q_±r
 = 
room±r
 + 
a_Àn
;

514 
q_Àn
 = 0;

516 i‡(
b_Àn
 == 1)

520 
r_±r
 = 
room±r
;

521 
q_±r
 = 
room±r
 + 1;

523 
mp_limb_t
 
dí
 = 
b_±r
[0];

524 
mp_limb_t
 
ªmaödî
 = 0;

525 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
a_±r
 + 
a_Àn
;

526 
mp_limb_t
 *
de°±r
 = 
q_±r
 + 
a_Àn
;

527 
size_t
 
cou¡
;

528 
cou¡
 = 
a_Àn
; count > 0; count--)

530 
mp_twﬁimb_t
 
num
 =

531 ((
mp_twﬁimb_t
Ë
ªmaödî
 << 
GMP_LIMB_BITS
Ë| *--
sour˚±r
;

532 *--
de°±r
 = 
num
 / 
dí
;

533 
ªmaödî
 = 
num
 % 
dí
;

536 i‡(
ªmaödî
 > 0)

538 
r_±r
[0] = 
ªmaödî
;

539 
r_Àn
 = 1;

542 
r_Àn
 = 0;

544 
q_Àn
 = 
a_Àn
;

545 i‡(
q_±r
[
q_Àn
 - 1] == 0)

546 
q_Àn
--;

555 
size_t
 
s
;

557 
mp_limb_t
 
msd
 = 
b_±r
[
b_Àn
 - 1];

558 
s
 = 31;

559 i‡(
msd
 >= 0x10000)

561 
msd
 = msd >> 16;

562 
s
 -= 16;

564 i‡(
msd
 >= 0x100)

566 
msd
 = msd >> 8;

567 
s
 -= 8;

569 i‡(
msd
 >= 0x10)

571 
msd
 = msd >> 4;

572 
s
 -= 4;

574 i‡(
msd
 >= 0x4)

576 
msd
 = msd >> 2;

577 
s
 -= 2;

579 i‡(
msd
 >= 0x2)

581 
msd
 = msd >> 1;

582 
s
 -= 1;

587 i‡(
s
 > 0)

589 
tmp_room±r
 = (
mp_limb_t
 *Ë
	`mÆloc
 (
b_Àn
 *  (mp_limb_t));

590 i‡(
tmp_room±r
 =
NULL
)

592 
	`‰ì
 (
room±r
);

593  
NULL
;

596 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
b_±r
;

597 
mp_limb_t
 *
de°±r
 = 
tmp_room±r
;

598 
mp_twﬁimb_t
 
accu
 = 0;

599 
size_t
 
cou¡
;

600 
cou¡
 = 
b_Àn
; count > 0; count--)

602 
accu
 +(
mp_twﬁimb_t
Ë*
sour˚±r
++ << 
s
;

603 *
de°±r
++ = (
mp_limb_t
Ë
accu
;

604 
accu
 =áccu >> 
GMP_LIMB_BITS
;

607 i‡(
accu
 != 0)

608 
	`ab‹t
 ();

610 
b_±r
 = 
tmp_room±r
;

616 
r_±r
 = 
room±r
;

617 i‡(
s
 == 0)

619 
	`mem˝y
 (
r_±r
, 
a_±r
, 
a_Àn
 *  (
mp_limb_t
));

620 
r_±r
[
a_Àn
] = 0;

624 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
a_±r
;

625 
mp_limb_t
 *
de°±r
 = 
r_±r
;

626 
mp_twﬁimb_t
 
accu
 = 0;

627 
size_t
 
cou¡
;

628 
cou¡
 = 
a_Àn
; count > 0; count--)

630 
accu
 +(
mp_twﬁimb_t
Ë*
sour˚±r
++ << 
s
;

631 *
de°±r
++ = (
mp_limb_t
Ë
accu
;

632 
accu
 =áccu >> 
GMP_LIMB_BITS
;

634 *
de°±r
++ = (
mp_limb_t
Ë
accu
;

636 
q_±r
 = 
room±r
 + 
b_Àn
;

637 
q_Àn
 = 
a_Àn
 - 
b_Àn
 + 1;

639 
size_t
 
j
 = 
a_Àn
 - 
b_Àn
;

640 
mp_limb_t
 
b_msd
 = 
b_±r
[
b_Àn
 - 1];

641 
mp_limb_t
 
b_2msd
 = 
b_±r
[
b_Àn
 - 2];

642 
mp_twﬁimb_t
 
b_msdd
 =

643 ((
mp_twﬁimb_t
Ë
b_msd
 << 
GMP_LIMB_BITS
Ë| 
b_2msd
;

648 
mp_limb_t
 
q_°¨
;

649 
mp_limb_t
 
c1
;

650 i‡(
r_±r
[
j
 + 
b_Àn
] < 
b_msd
)

653 
mp_twﬁimb_t
 
num
 =

654 ((
mp_twﬁimb_t
Ë
r_±r
[
j
 + 
b_Àn
] << 
GMP_LIMB_BITS
)

655 | 
r_±r
[
j
 + 
b_Àn
 - 1];

656 
q_°¨
 = 
num
 / 
b_msd
;

657 
c1
 = 
num
 % 
b_msd
;

662 
q_°¨
 = (
mp_limb_t
)~(mp_limb_t)0;

670 i‡(
r_±r
[
j
 + 
b_Àn
] > 
b_msd


671 || (
c1
 = 
r_±r
[
j
 + 
b_Àn
 - 1] + 
b_msd
) < b_msd)

675 
subåa˘
;

680 
mp_twﬁimb_t
 
c2
 =

681 ((
mp_twﬁimb_t
Ë
c1
 << 
GMP_LIMB_BITS
Ë| 
r_±r
[
j
 + 
b_Àn
 - 2];

682 
mp_twﬁimb_t
 
c3
 =

683 (
mp_twﬁimb_t
Ë
b_2msd
 * (mp_twﬁimb_tË
q_°¨
;

688 i‡(
c3
 > 
c2
)

690 
q_°¨
 = q_star - 1;

691 i‡(
c3
 - 
c2
 > 
b_msdd
)

692 
q_°¨
 = q_star - 1;

695 i‡(
q_°¨
 > 0)

696 
subåa˘
:

699 
mp_limb_t
 
¸
;

701 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
b_±r
;

702 
mp_limb_t
 *
de°±r
 = 
r_±r
 + 
j
;

703 
mp_twﬁimb_t
 
ˇºy
 = 0;

704 
size_t
 
cou¡
;

705 
cou¡
 = 
b_Àn
; count > 0; count--)

708 
ˇºy
 =

709 
ˇºy


710 + (
mp_twﬁimb_t
Ë
q_°¨
 * (mp_twﬁimb_tË*
sour˚±r
++

711 + (
mp_limb_t
Ë~(*
de°±r
);

713 *
de°±r
++ = ~(
mp_limb_t
Ë
ˇºy
;

714 
ˇºy
 = c¨ry >> 
GMP_LIMB_BITS
;

716 
¸
 = (
mp_limb_t
Ë
ˇºy
;

720 i‡(
¸
 > 
r_±r
[
j
 + 
b_Àn
])

723 
q_°¨
 = q_star - 1;

726 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
b_±r
;

727 
mp_limb_t
 *
de°±r
 = 
r_±r
 + 
j
;

728 
mp_limb_t
 
ˇºy
 = 0;

729 
size_t
 
cou¡
;

730 
cou¡
 = 
b_Àn
; count > 0; count--)

732 
mp_limb_t
 
sour˚1
 = *
sour˚±r
++;

733 
mp_limb_t
 
sour˚2
 = *
de°±r
;

734 *
de°±r
++ = 
sour˚1
 + 
sour˚2
 + 
ˇºy
;

735 
ˇºy
 =

736 (
ˇºy


737 ? 
sour˚1
 >(
mp_limb_t
Ë~
sour˚2


738 : 
sour˚1
 > (
mp_limb_t
Ë~
sour˚2
);

745 
q_±r
[
j
] = 
q_°¨
;

746 i‡(
j
 == 0)

748 
j
--;

751 
r_Àn
 = 
b_Àn
;

753 i‡(
q_±r
[
q_Àn
 - 1] == 0)

754 
q_Àn
--;

758 i‡(
s
 > 0)

760 
mp_limb_t
 
±r
 = 
r_±r
 + 
r_Àn
;

761 
mp_twﬁimb_t
 
accu
 = 0;

762 
size_t
 
cou¡
;

763 
cou¡
 = 
r_Àn
; count > 0; count--)

765 
accu
 = (
mp_twﬁimb_t
Ë(
mp_limb_t
Ëaccu << 
GMP_LIMB_BITS
;

766 
accu
 +(
mp_twﬁimb_t
Ë*--
±r
 << (
GMP_LIMB_BITS
 - 
s
);

767 *
±r
 = (
mp_limb_t
Ë(
accu
 >> 
GMP_LIMB_BITS
);

772 
r_Àn
 > 0 && 
r_±r
[r_len - 1] == 0)

773 
r_Àn
--;

776 i‡(
r_Àn
 > 
b_Àn
)

777 
ö¸emít_q
;

779 
size_t
 
i
;

780 
i
 = 
b_Àn
;;)

782 
mp_limb_t
 
r_i
 =

783 (
i
 <
r_Àn
 && i > 0 ? 
r_±r
[ò- 1] >> (
GMP_LIMB_BITS
 - 1) : 0)

784 | (
i
 < 
r_Àn
 ? 
r_±r
[i] << 1 : 0);

785 
mp_limb_t
 
b_i
 = (
i
 < 
b_Àn
 ? 
b_±r
[i] : 0);

786 i‡(
r_i
 > 
b_i
)

787 
ö¸emít_q
;

788 i‡(
r_i
 < 
b_i
)

789 
kìp_q
;

790 i‡(
i
 == 0)

792 
i
--;

795 i‡(
q_Àn
 > 0 && ((
q_±r
[0] & 1) != 0))

797 
ö¸emít_q
:

799 
size_t
 
i
;

800 
i
 = 0; i < 
q_Àn
; i++)

801 i‡(++(
q_±r
[
i
]) != 0)

802 
kìp_q
;

803 
q_±r
[
q_Àn
++] = 1;

805 
kìp_q
:

806 i‡(
tmp_room±r
 !
NULL
)

807 
	`‰ì
 (
tmp_room±r
);

808 
q
->
limbs
 = 
q_±r
;

809 
q
->
∆imbs
 = 
q_Àn
;

810  
room±r
;

811 
	}
}

820 
	$c⁄vît_to_decimÆ
 (
m≤_t
 
a
, 
size_t
 
exåa_zî€s
)

822 
mp_limb_t
 *
a_±r
 = 
a
.
limbs
;

823 
size_t
 
a_Àn
 = 
a
.
∆imbs
;

825 
size_t
 
c_Àn
 = 9 * ((size_t)(
a_Àn
 * (
GMP_LIMB_BITS
 * 0.03345f)) + 1);

826 *
c_±r
 = (*Ë
	`mÆloc
 (
	`xsum
 (
c_Àn
, 
exåa_zî€s
));

827 i‡(
c_±r
 !
NULL
)

829 *
d_±r
 = 
c_±r
;

830 ; 
exåa_zî€s
 > 0;Éxtra_zeroes--)

831 *
d_±r
++ = '0';

832 
a_Àn
 > 0)

835 
mp_limb_t
 
ªmaödî
 = 0;

836 
mp_limb_t
 *
±r
 = 
a_±r
 + 
a_Àn
;

837 
size_t
 
cou¡
;

838 
cou¡
 = 
a_Àn
; count > 0; count--)

840 
mp_twﬁimb_t
 
num
 =

841 ((
mp_twﬁimb_t
Ë
ªmaödî
 << 
GMP_LIMB_BITS
Ë| *--
±r
;

842 *
±r
 = 
num
 / 1000000000;

843 
ªmaödî
 = 
num
 % 1000000000;

846 
cou¡
 = 9; count > 0; count--)

848 *
d_±r
++ = '0' + (
ªmaödî
 % 10);

849 
ªmaödî
 =Ñemainder / 10;

852 i‡(
a_±r
[
a_Àn
 - 1] == 0)

853 
a_Àn
--;

856 
d_±r
 > 
c_±r
 && d_ptr[-1] == '0')

857 
d_±r
--;

859 i‡(
d_±r
 =
c_±r
)

860 *
d_±r
++ = '0';

862 *
d_±r
 = '\0';

864  
c_±r
;

865 
	}
}

867 #i‡
NEED_PRINTF_LONG_DOUBLE


874 
	$decode_l⁄g_doubÀ
 (
x
, *
ï
, 
m≤_t
 *
mp
)

876 
m≤_t
 
m
;

877 
exp
;

878 
y
;

879 
size_t
 
i
;

882 
m
.
∆imbs
 = (
LDBL_MANT_BIT
 + 
GMP_LIMB_BITS
 - 1) / GMP_LIMB_BITS;

883 
m
.
limbs
 = (
mp_limb_t
 *Ë
	`mÆloc
 (m.
∆imbs
 *  (mp_limb_t));

884 i‡(
m
.
limbs
 =
NULL
)

885  
NULL
;

887 
y
 = 
	`‰ex∂
 (
x
, &
exp
);

888 i‡(!(
y
 >= 0.0L && y < 1.0L))

889 
	`ab‹t
 ();

897 #i‡(
LDBL_MANT_BIT
 % 
GMP_LIMB_BITS
) != 0

898 #i‡(
LDBL_MANT_BIT
 % 
GMP_LIMB_BITS
) > GMP_LIMB_BITS / 2

900 
mp_limb_t
 
hi
, 
lo
;

901 
y
 *(
mp_limb_t
Ë1 << (
LDBL_MANT_BIT
 % (
GMP_LIMB_BITS
 / 2));

902 
hi
 = (Ë
y
;

903 
y
 -
hi
;

904 i‡(!(
y
 >= 0.0L && y < 1.0L))

905 
	`ab‹t
 ();

906 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

907 
lo
 = (Ë
y
;

908 
y
 -
lo
;

909 i‡(!(
y
 >= 0.0L && y < 1.0L))

910 
	`ab‹t
 ();

911 
m
.
limbs
[
LDBL_MANT_BIT
 / 
GMP_LIMB_BITS
] = (
hi
 << (GMP_LIMB_BITS / 2)Ë| 
lo
;

915 
mp_limb_t
 
d
;

916 
y
 *(
mp_limb_t
Ë1 << (
LDBL_MANT_BIT
 % 
GMP_LIMB_BITS
);

917 
d
 = (Ë
y
;

918 
y
 -
d
;

919 i‡(!(
y
 >= 0.0L && y < 1.0L))

920 
	`ab‹t
 ();

921 
m
.
limbs
[
LDBL_MANT_BIT
 / 
GMP_LIMB_BITS
] = 
d
;

925 
i
 = 
LDBL_MANT_BIT
 / 
GMP_LIMB_BITS
; i > 0; )

927 
mp_limb_t
 
hi
, 
lo
;

928 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

929 
hi
 = (Ë
y
;

930 
y
 -
hi
;

931 i‡(!(
y
 >= 0.0L && y < 1.0L))

932 
	`ab‹t
 ();

933 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

934 
lo
 = (Ë
y
;

935 
y
 -
lo
;

936 i‡(!(
y
 >= 0.0L && y < 1.0L))

937 
	`ab‹t
 ();

938 
m
.
limbs
[--
i
] = (
hi
 << (
GMP_LIMB_BITS
 / 2)Ë| 
lo
;

942 i‡(!(
y
 == 0.0L))

943 
	`ab‹t
 ();

946 
m
.
∆imbs
 > 0 && m.
limbs
[m.nlimbs - 1] == 0)

947 
m
.
∆imbs
--;

948 *
mp
 = 
m
;

949 *
ï
 = 
exp
 - 
LDBL_MANT_BIT
;

950  
m
.
limbs
;

951 
	}
}

955 #i‡
NEED_PRINTF_DOUBLE


962 
	$decode_doubÀ
 (
x
, *
ï
, 
m≤_t
 *
mp
)

964 
m≤_t
 
m
;

965 
exp
;

966 
y
;

967 
size_t
 
i
;

970 
m
.
∆imbs
 = (
DBL_MANT_BIT
 + 
GMP_LIMB_BITS
 - 1) / GMP_LIMB_BITS;

971 
m
.
limbs
 = (
mp_limb_t
 *Ë
	`mÆloc
 (m.
∆imbs
 *  (mp_limb_t));

972 i‡(
m
.
limbs
 =
NULL
)

973  
NULL
;

975 
y
 = 
	`‰exp
 (
x
, &
exp
);

976 i‡(!(
y
 >= 0.0 && y < 1.0))

977 
	`ab‹t
 ();

985 #i‡(
DBL_MANT_BIT
 % 
GMP_LIMB_BITS
) != 0

986 #i‡(
DBL_MANT_BIT
 % 
GMP_LIMB_BITS
) > GMP_LIMB_BITS / 2

988 
mp_limb_t
 
hi
, 
lo
;

989 
y
 *(
mp_limb_t
Ë1 << (
DBL_MANT_BIT
 % (
GMP_LIMB_BITS
 / 2));

990 
hi
 = (Ë
y
;

991 
y
 -
hi
;

992 i‡(!(
y
 >= 0.0 && y < 1.0))

993 
	`ab‹t
 ();

994 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

995 
lo
 = (Ë
y
;

996 
y
 -
lo
;

997 i‡(!(
y
 >= 0.0 && y < 1.0))

998 
	`ab‹t
 ();

999 
m
.
limbs
[
DBL_MANT_BIT
 / 
GMP_LIMB_BITS
] = (
hi
 << (GMP_LIMB_BITS / 2)Ë| 
lo
;

1003 
mp_limb_t
 
d
;

1004 
y
 *(
mp_limb_t
Ë1 << (
DBL_MANT_BIT
 % 
GMP_LIMB_BITS
);

1005 
d
 = (Ë
y
;

1006 
y
 -
d
;

1007 i‡(!(
y
 >= 0.0 && y < 1.0))

1008 
	`ab‹t
 ();

1009 
m
.
limbs
[
DBL_MANT_BIT
 / 
GMP_LIMB_BITS
] = 
d
;

1013 
i
 = 
DBL_MANT_BIT
 / 
GMP_LIMB_BITS
; i > 0; )

1015 
mp_limb_t
 
hi
, 
lo
;

1016 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

1017 
hi
 = (Ë
y
;

1018 
y
 -
hi
;

1019 i‡(!(
y
 >= 0.0 && y < 1.0))

1020 
	`ab‹t
 ();

1021 
y
 *(
mp_limb_t
Ë1 << (
GMP_LIMB_BITS
 / 2);

1022 
lo
 = (Ë
y
;

1023 
y
 -
lo
;

1024 i‡(!(
y
 >= 0.0 && y < 1.0))

1025 
	`ab‹t
 ();

1026 
m
.
limbs
[--
i
] = (
hi
 << (
GMP_LIMB_BITS
 / 2)Ë| 
lo
;

1028 i‡(!(
y
 == 0.0))

1029 
	`ab‹t
 ();

1031 
m
.
∆imbs
 > 0 && m.
limbs
[m.nlimbs - 1] == 0)

1032 
m
.
∆imbs
--;

1033 *
mp
 = 
m
;

1034 *
ï
 = 
exp
 - 
DBL_MANT_BIT
;

1035  
m
.
limbs
;

1036 
	}
}

1046 
	$sˇÀ10_round_decimÆ_decoded
 (
e
, 
m≤_t
 
m
, *
mem‹y
, 
n
)

1048 
s
;

1049 
size_t
 
exåa_zî€s
;

1050 
abs_n
;

1051 
abs_s
;

1052 
mp_limb_t
 *
pow5_±r
;

1053 
size_t
 
pow5_Àn
;

1054 
s_limbs
;

1055 
s_bôs
;

1056 
m≤_t
 
pow5
;

1057 
m≤_t
 
z
;

1058 *
z_mem‹y
;

1059 *
digôs
;

1061 i‡(
mem‹y
 =
NULL
)

1062  
NULL
;

1066 
s
 = 
e
 + 
n
;

1067 
exåa_zî€s
 = 0;

1069 i‡(
s
 > 0 && 
n
 > 0)

1071 
exåa_zî€s
 = (
s
 < 
n
 ? s :Ç);

1072 
s
 -
exåa_zî€s
;

1073 
n
 -
exåa_zî€s
;

1080 
abs_n
 = (
n
 >= 0 ?Ç : -n);

1081 
abs_s
 = (
s
 >= 0 ? s : -s);

1082 
pow5_±r
 = (
mp_limb_t
 *Ë
	`mÆloc
 ((()(
abs_n
 * (2.322‡/ 
GMP_LIMB_BITS
)) + 1

1083 + 
abs_s
 / 
GMP_LIMB_BITS
 + 1)

1084 *  (
mp_limb_t
));

1085 i‡(
pow5_±r
 =
NULL
)

1087 
	`‰ì
 (
mem‹y
);

1088  
NULL
;

1091 
pow5_±r
[0] = 1;

1092 
pow5_Àn
 = 1;

1094 i‡(
abs_n
 > 0)

1096 
mp_limb_t
 c⁄° 
smÆl_pow5
[13 + 1] =

1101 
n13
;

1102 
n13
 = 0;Ç13 <
abs_n
;Ç13 += 13)

1104 
mp_limb_t
 
digô1
 = 
smÆl_pow5
[
n13
 + 13 <
abs_n
 ? 13 :ábs_n -Ç13];

1105 
size_t
 
j
;

1106 
mp_twﬁimb_t
 
ˇºy
 = 0;

1107 
j
 = 0; j < 
pow5_Àn
; j++)

1109 
mp_limb_t
 
digô2
 = 
pow5_±r
[
j
];

1110 
ˇºy
 +(
mp_twﬁimb_t
Ë
digô1
 * (mp_twﬁimb_tË
digô2
;

1111 
pow5_±r
[
j
] = (
mp_limb_t
Ë
ˇºy
;

1112 
ˇºy
 = c¨ry >> 
GMP_LIMB_BITS
;

1114 i‡(
ˇºy
 > 0)

1115 
pow5_±r
[
pow5_Àn
++] = (
mp_limb_t
Ë
ˇºy
;

1118 
s_limbs
 = 
abs_s
 / 
GMP_LIMB_BITS
;

1119 
s_bôs
 = 
abs_s
 % 
GMP_LIMB_BITS
;

1120 i‡(
n
 >0 ? 
s
 >= 0 : s <= 0)

1123 i‡(
s_bôs
 > 0)

1125 
mp_limb_t
 *
±r
 = 
pow5_±r
;

1126 
mp_twﬁimb_t
 
accu
 = 0;

1127 
size_t
 
cou¡
;

1128 
cou¡
 = 
pow5_Àn
; count > 0; count--)

1130 
accu
 +(
mp_twﬁimb_t
Ë*
±r
 << 
s_bôs
;

1131 *
±r
++ = (
mp_limb_t
Ë
accu
;

1132 
accu
 =áccu >> 
GMP_LIMB_BITS
;

1134 i‡(
accu
 > 0)

1136 *
±r
 = (
mp_limb_t
Ë
accu
;

1137 
pow5_Àn
++;

1140 i‡(
s_limbs
 > 0)

1142 
size_t
 
cou¡
;

1143 
cou¡
 = 
pow5_Àn
; count > 0;)

1145 
cou¡
--;

1146 
pow5_±r
[
s_limbs
 + 
cou¡
] =Öow5_ptr[count];

1148 
cou¡
 = 
s_limbs
; count > 0;)

1150 
cou¡
--;

1151 
pow5_±r
[
cou¡
] = 0;

1153 
pow5_Àn
 +
s_limbs
;

1155 
pow5
.
limbs
 = 
pow5_±r
;

1156 
pow5
.
∆imbs
 = 
pow5_Àn
;

1157 i‡(
n
 >= 0)

1160 
z_mem‹y
 = 
	`mu…ùly
 (
m
, 
pow5
, &
z
);

1165 
z_mem‹y
 = 
	`divide
 (
m
, 
pow5
, &
z
);

1170 
pow5
.
limbs
 = 
pow5_±r
;

1171 
pow5
.
∆imbs
 = 
pow5_Àn
;

1172 i‡(
n
 >= 0)

1176 
m≤_t
 
numî©‹
;

1177 
m≤_t
 
díomö©‹
;

1178 *
tmp_mem‹y
;

1179 
tmp_mem‹y
 = 
	`mu…ùly
 (
m
, 
pow5
, &
numî©‹
);

1180 i‡(
tmp_mem‹y
 =
NULL
)

1182 
	`‰ì
 (
pow5_±r
);

1183 
	`‰ì
 (
mem‹y
);

1184  
NULL
;

1188 
mp_limb_t
 *
±r
 = 
pow5_±r
 + 
pow5_Àn
;

1189 
size_t
 
i
;

1190 
i
 = 0; i < 
s_limbs
; i++)

1191 
±r
[
i
] = 0;

1192 
±r
[
s_limbs
] = (
mp_limb_t
Ë1 << 
s_bôs
;

1193 
díomö©‹
.
limbs
 = 
±r
;

1194 
díomö©‹
.
∆imbs
 = 
s_limbs
 + 1;

1196 
z_mem‹y
 = 
	`divide
 (
numî©‹
, 
díomö©‹
, &
z
);

1197 
	`‰ì
 (
tmp_mem‹y
);

1203 
m≤_t
 
numî©‹
;

1204 
mp_limb_t
 *
num_±r
;

1205 
num_±r
 = (
mp_limb_t
 *Ë
	`mÆloc
 ((
m
.
∆imbs
 + 
s_limbs
 + 1)

1206 *  (
mp_limb_t
));

1207 i‡(
num_±r
 =
NULL
)

1209 
	`‰ì
 (
pow5_±r
);

1210 
	`‰ì
 (
mem‹y
);

1211  
NULL
;

1214 
mp_limb_t
 *
de°±r
 = 
num_±r
;

1216 
size_t
 
i
;

1217 
i
 = 0; i < 
s_limbs
; i++)

1218 *
de°±r
++ = 0;

1220 i‡(
s_bôs
 > 0)

1222 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
m
.
limbs
;

1223 
mp_twﬁimb_t
 
accu
 = 0;

1224 
size_t
 
cou¡
;

1225 
cou¡
 = 
m
.
∆imbs
; count > 0; count--)

1227 
accu
 +(
mp_twﬁimb_t
Ë*
sour˚±r
++ << 
s_bôs
;

1228 *
de°±r
++ = (
mp_limb_t
Ë
accu
;

1229 
accu
 =áccu >> 
GMP_LIMB_BITS
;

1231 i‡(
accu
 > 0)

1232 *
de°±r
++ = (
mp_limb_t
Ë
accu
;

1236 c⁄° 
mp_limb_t
 *
sour˚±r
 = 
m
.
limbs
;

1237 
size_t
 
cou¡
;

1238 
cou¡
 = 
m
.
∆imbs
; count > 0; count--)

1239 *
de°±r
++ = *
sour˚±r
++;

1241 
numî©‹
.
limbs
 = 
num_±r
;

1242 
numî©‹
.
∆imbs
 = 
de°±r
 - 
num_±r
;

1244 
z_mem‹y
 = 
	`divide
 (
numî©‹
, 
pow5
, &
z
);

1245 
	`‰ì
 (
num_±r
);

1248 
	`‰ì
 (
pow5_±r
);

1249 
	`‰ì
 (
mem‹y
);

1253 i‡(
z_mem‹y
 =
NULL
)

1254  
NULL
;

1255 
digôs
 = 
	`c⁄vît_to_decimÆ
 (
z
, 
exåa_zî€s
);

1256 
	`‰ì
 (
z_mem‹y
);

1257  
digôs
;

1258 
	}
}

1260 #i‡
NEED_PRINTF_LONG_DOUBLE


1268 
	$sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
x
, 
n
)

1270 
e
 
	`IF_LINT
(= 0);

1271 
m≤_t
 
m
;

1272 *
mem‹y
 = 
	`decode_l⁄g_doubÀ
 (
x
, &
e
, &
m
);

1273  
	`sˇÀ10_round_decimÆ_decoded
 (
e
, 
m
, 
mem‹y
, 
n
);

1274 
	}
}

1278 #i‡
NEED_PRINTF_DOUBLE


1286 
	$sˇÀ10_round_decimÆ_doubÀ
 (
x
, 
n
)

1288 
e
 
	`IF_LINT
(= 0);

1289 
m≤_t
 
m
;

1290 *
mem‹y
 = 
	`decode_doubÀ
 (
x
, &
e
, &
m
);

1291  
	`sˇÀ10_round_decimÆ_decoded
 (
e
, 
m
, 
mem‹y
, 
n
);

1292 
	}
}

1296 #i‡
NEED_PRINTF_LONG_DOUBLE


1302 
	$Êo‹log10l
 (
x
)

1304 
exp
;

1305 
y
;

1306 
z
;

1307 
l
;

1310 
y
 = 
	`‰ex∂
 (
x
, &
exp
);

1311 i‡(!(
y
 >= 0.0L && y < 1.0L))

1312 
	`ab‹t
 ();

1313 i‡(
y
 == 0.0L)

1314  
INT_MIN
;

1315 i‡(
y
 < 0.5L)

1317 
y
 < (1.0L / (1 << (
GMP_LIMB_BITS
 / 2)) / (1 << (GMP_LIMB_BITS / 2))))

1319 
y
 *1.0L * (1 << (
GMP_LIMB_BITS
 / 2)) * (1 << (GMP_LIMB_BITS / 2));

1320 
exp
 -
GMP_LIMB_BITS
;

1322 i‡(
y
 < (1.0L / (1 << 16)))

1324 
y
 *= 1.0L * (1 << 16);

1325 
exp
 -= 16;

1327 i‡(
y
 < (1.0L / (1 << 8)))

1329 
y
 *= 1.0L * (1 << 8);

1330 
exp
 -= 8;

1332 i‡(
y
 < (1.0L / (1 << 4)))

1334 
y
 *= 1.0L * (1 << 4);

1335 
exp
 -= 4;

1337 i‡(
y
 < (1.0L / (1 << 2)))

1339 
y
 *= 1.0L * (1 << 2);

1340 
exp
 -= 2;

1342 i‡(
y
 < (1.0L / (1 << 1)))

1344 
y
 *= 1.0L * (1 << 1);

1345 
exp
 -= 1;

1348 i‡(!(
y
 >= 0.5L && y < 1.0L))

1349 
	`ab‹t
 ();

1351 
l
 = 
exp
;

1352 
z
 = 
y
;

1353 i‡(
z
 < 0.70710678118654752444)

1355 
z
 *= 1.4142135623730950488;

1356 
l
 -= 0.5;

1358 i‡(
z
 < 0.8408964152537145431)

1360 
z
 *= 1.1892071150027210667;

1361 
l
 -= 0.25;

1363 i‡(
z
 < 0.91700404320467123175)

1365 
z
 *= 1.0905077326652576592;

1366 
l
 -= 0.125;

1368 i‡(
z
 < 0.9576032806985736469)

1370 
z
 *= 1.0442737824274138403;

1371 
l
 -= 0.0625;

1374 
z
 = 1 - z;

1377 
l
 -1.4426950408889634074 * 
z
 * (1.0 + z * (0.5 + z * ((1.0 / 3) + z * 0.25)));

1380 
l
 *= 0.30102999566398119523;

1382  (Ë
l
 + (l < 0 ? -1 : 0);

1383 
	}
}

1387 #i‡
NEED_PRINTF_DOUBLE


1393 
	$Êo‹log10
 (
x
)

1395 
exp
;

1396 
y
;

1397 
z
;

1398 
l
;

1401 
y
 = 
	`‰exp
 (
x
, &
exp
);

1402 i‡(!(
y
 >= 0.0 && y < 1.0))

1403 
	`ab‹t
 ();

1404 i‡(
y
 == 0.0)

1405  
INT_MIN
;

1406 i‡(
y
 < 0.5)

1408 
y
 < (1.0 / (1 << (
GMP_LIMB_BITS
 / 2)) / (1 << (GMP_LIMB_BITS / 2))))

1410 
y
 *1.0 * (1 << (
GMP_LIMB_BITS
 / 2)) * (1 << (GMP_LIMB_BITS / 2));

1411 
exp
 -
GMP_LIMB_BITS
;

1413 i‡(
y
 < (1.0 / (1 << 16)))

1415 
y
 *= 1.0 * (1 << 16);

1416 
exp
 -= 16;

1418 i‡(
y
 < (1.0 / (1 << 8)))

1420 
y
 *= 1.0 * (1 << 8);

1421 
exp
 -= 8;

1423 i‡(
y
 < (1.0 / (1 << 4)))

1425 
y
 *= 1.0 * (1 << 4);

1426 
exp
 -= 4;

1428 i‡(
y
 < (1.0 / (1 << 2)))

1430 
y
 *= 1.0 * (1 << 2);

1431 
exp
 -= 2;

1433 i‡(
y
 < (1.0 / (1 << 1)))

1435 
y
 *= 1.0 * (1 << 1);

1436 
exp
 -= 1;

1439 i‡(!(
y
 >= 0.5 && y < 1.0))

1440 
	`ab‹t
 ();

1442 
l
 = 
exp
;

1443 
z
 = 
y
;

1444 i‡(
z
 < 0.70710678118654752444)

1446 
z
 *= 1.4142135623730950488;

1447 
l
 -= 0.5;

1449 i‡(
z
 < 0.8408964152537145431)

1451 
z
 *= 1.1892071150027210667;

1452 
l
 -= 0.25;

1454 i‡(
z
 < 0.91700404320467123175)

1456 
z
 *= 1.0905077326652576592;

1457 
l
 -= 0.125;

1459 i‡(
z
 < 0.9576032806985736469)

1461 
z
 *= 1.0442737824274138403;

1462 
l
 -= 0.0625;

1465 
z
 = 1 - z;

1468 
l
 -1.4426950408889634074 * 
z
 * (1.0 + z * (0.5 + z * ((1.0 / 3) + z * 0.25)));

1471 
l
 *= 0.30102999566398119523;

1473  (Ë
l
 + (l < 0 ? -1 : 0);

1474 
	}
}

1481 
	$is_b‹dîlöe
 (c⁄° *
digôs
, 
size_t
 
¥ecisi⁄
)

1483 ; 
¥ecisi⁄
 > 0;Öªcisi⁄--, 
digôs
++)

1484 i‡(*
digôs
 != '0')

1486 i‡(*
digôs
 != '1')

1488 
digôs
++;

1489  *
digôs
 == '\0';

1490 
	}
}

1494 #i‡!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99


1499 #i‡
WIDE_CHAR_VERSION


1500 
	#MAX_ROOM_NEEDED
 
wmax_room_√eded


	)

1502 
	#MAX_ROOM_NEEDED
 
max_room_√eded


	)

1507 
ölöe
 
size_t


1508 
	$MAX_ROOM_NEEDED
 (c⁄° 
¨gumíts
 *
≠
, 
size_t
 
¨g_ödex
, 
FCHAR_T
 
c⁄vîsi⁄
,

1509 
¨g_ty≥
 
ty≥
, 
Êags
, 
size_t
 
width
, 
has_¥ecisi⁄
,

1510 
size_t
 
¥ecisi⁄
, 
∑d_our£lves
)

1512 
size_t
 
tmp_Àngth
;

1514 
c⁄vîsi⁄
)

1517 #i‡
HAVE_LONG_LONG_INT


1518 i‡(
ty≥
 =
TYPE_LONGLONGINT
 ||Åy≥ =
TYPE_ULONGLONGINT
)

1519 
tmp_Àngth
 =

1520 (Ë( (Ë* 
CHAR_BIT


1526 i‡(
ty≥
 =
TYPE_LONGINT
 ||Åy≥ =
TYPE_ULONGINT
)

1527 
tmp_Àngth
 =

1528 (Ë( (Ë* 
CHAR_BIT


1533 
tmp_Àngth
 =

1534 (Ë( (Ë* 
CHAR_BIT


1538 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

1539 
tmp_Àngth
 = 
¥ecisi⁄
;

1541 
tmp_Àngth
 = 
	`xsum
 (tmp_length,Åmp_length);

1543 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 1);

1547 #i‡
HAVE_LONG_LONG_INT


1548 i‡(
ty≥
 =
TYPE_LONGLONGINT
 ||Åy≥ =
TYPE_ULONGLONGINT
)

1549 
tmp_Àngth
 =

1550 (Ë( (Ë* 
CHAR_BIT


1556 i‡(
ty≥
 =
TYPE_LONGINT
 ||Åy≥ =
TYPE_ULONGINT
)

1557 
tmp_Àngth
 =

1558 (Ë( (Ë* 
CHAR_BIT


1563 
tmp_Àngth
 =

1564 (Ë( (Ë* 
CHAR_BIT


1568 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

1569 
tmp_Àngth
 = 
¥ecisi⁄
;

1571 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 1);

1575 #i‡
HAVE_LONG_LONG_INT


1576 i‡(
ty≥
 =
TYPE_LONGLONGINT
 ||Åy≥ =
TYPE_ULONGLONGINT
)

1577 
tmp_Àngth
 =

1578 (Ë( (Ë* 
CHAR_BIT


1584 i‡(
ty≥
 =
TYPE_LONGINT
 ||Åy≥ =
TYPE_ULONGINT
)

1585 
tmp_Àngth
 =

1586 (Ë( (Ë* 
CHAR_BIT


1591 
tmp_Àngth
 =

1592 (Ë( (Ë* 
CHAR_BIT


1596 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

1597 
tmp_Àngth
 = 
¥ecisi⁄
;

1599 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 2);

1603 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

1604 
tmp_Àngth
 =

1605 (Ë(
LDBL_MAX_EXP


1612 
tmp_Àngth
 =

1613 (Ë(
DBL_MAX_EXP


1619 
tmp_Àngth
 = 
	`xsum
 (tmp_Àngth, 
¥ecisi⁄
);

1623 
tmp_Àngth
 =

1625 
tmp_Àngth
 = 
	`xsum
 (tmp_Àngth, 
¥ecisi⁄
);

1629 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

1630 
tmp_Àngth
 =

1631 (Ë(
LDBL_DIG


1636 
tmp_Àngth
 =

1637 (Ë(
DBL_DIG


1641 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

1642 
tmp_Àngth
 = 
¥ecisi⁄
;

1644 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 12);

1648 #i‡
HAVE_WINT_T
 && !
WIDE_CHAR_VERSION


1649 i‡(
ty≥
 =
TYPE_WIDE_CHAR
)

1650 
tmp_Àngth
 = 
MB_CUR_MAX
;

1653 
tmp_Àngth
 = 1;

1657 #i‡
HAVE_WCHAR_T


1658 i‡(
ty≥
 =
TYPE_WIDE_STRING
)

1660 #i‡
WIDE_CHAR_VERSION


1665 c⁄° 
wch¨_t
 *
¨g
 = 
≠
->¨g[
¨g_ödex
].
a
.
a_wide_°rög
;

1667 i‡(
has_¥ecisi⁄
)

1668 
tmp_Àngth
 = 
	`loˇl_wc¢Àn
 (
¨g
, 
¥ecisi⁄
);

1670 
tmp_Àngth
 = 
	`loˇl_wc¶í
 (
¨g
);

1681 
	`ab‹t
 ();

1687 #i‡
WIDE_CHAR_VERSION


1694 
	`ab‹t
 ();

1700 c⁄° *
¨g
 = 
≠
->¨g[
¨g_ödex
].
a
.
a_°rög
;

1702 i‡(
has_¥ecisi⁄
)

1703 
tmp_Àngth
 = 
	`loˇl_°∫Àn
 (
¨g
, 
¥ecisi⁄
);

1705 
tmp_Àngth
 = 
	`°æí
 (
¨g
);

1711 
tmp_Àngth
 =

1712 (Ë( (*Ë* 
CHAR_BIT


1720 
	`ab‹t
 ();

1723 i‡(!
∑d_our£lves
)

1725 #i‡
ENABLE_UNISTDIO


1731 
tmp_Àngth
 = 
	`xsum
 (tmp_Àngth, 
width
);

1734 i‡(
tmp_Àngth
 < 
width
)

1735 
tmp_Àngth
 = 
width
;

1739 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 1);

1741  
tmp_Àngth
;

1742 
	}
}

1746 
DCHAR_T
 *

1747 
	$VASNPRINTF
 (
DCHAR_T
 *
ªsu…buf
, 
size_t
 *
Àngthp
,

1748 c⁄° 
FCHAR_T
 *
f‹m©
, 
va_li°
 
¨gs
)

1750 
DIRECTIVES
 
d
;

1751 
¨gumíts
 
a
;

1753 i‡(
	`PRINTF_PARSE
 (
f‹m©
, &
d
, &
a
) < 0)

1755  
NULL
;

1757 
	#CLEANUP
() \

1758 i‡(
d
.
dú
 !d.
dúe˘_Æloc_dú
) \

1759 
	`‰ì
 (
d
.
dú
); \

1760 i‡(
a
.
¨g
 !a.
dúe˘_Æloc_¨g
) \

1761 
	`‰ì
 (
a
.
¨g
);

	)

1763 i‡(
	`PRINTF_FETCHARGS
 (
¨gs
, &
a
) < 0)

1765 
	`CLEANUP
 ();

1766 
î∫o
 = 
EINVAL
;

1767  
NULL
;

1771 
size_t
 
buf_√ededÀngth
;

1772 
TCHAR_T
 *
buf
;

1773 
TCHAR_T
 *
buf_mÆlo˚d
;

1774 c⁄° 
FCHAR_T
 *
˝
;

1775 
size_t
 
i
;

1776 
DIRECTIVE
 *
dp
;

1778 
DCHAR_T
 *
ªsu…
;

1779 
size_t
 
Æloˇãd
;

1780 
size_t
 
Àngth
;

1784 
buf_√ededÀngth
 =

1785 
	`xsum4
 (7, 
d
.
max_width_Àngth
, d.
max_¥ecisi⁄_Àngth
, 6);

1786 #i‡
HAVE_ALLOCA


1787 i‡(
buf_√ededÀngth
 < 4000 /  (
TCHAR_T
))

1789 
buf
 = (
TCHAR_T
 *Ë
	`Æloˇ
 (
buf_√ededÀngth
 *  (TCHAR_T));

1790 
buf_mÆlo˚d
 = 
NULL
;

1795 
size_t
 
buf_memsize
 = 
	`xtimes
 (
buf_√ededÀngth
,  (
TCHAR_T
));

1796 i‡(
	`size_ovîÊow_p
 (
buf_memsize
))

1797 
out_of_mem‹y_1
;

1798 
buf
 = (
TCHAR_T
 *Ë
	`mÆloc
 (
buf_memsize
);

1799 i‡(
buf
 =
NULL
)

1800 
out_of_mem‹y_1
;

1801 
buf_mÆlo˚d
 = 
buf
;

1804 i‡(
ªsu…buf
 !
NULL
)

1806 
ªsu…
 = 
ªsu…buf
;

1807 
Æloˇãd
 = *
Àngthp
;

1811 
ªsu…
 = 
NULL
;

1812 
Æloˇãd
 = 0;

1814 
Àngth
 = 0;

1821 
	#ENSURE_ALLOCATION
(
√eded
) \

1822 i‡((
√eded
Ë> 
Æloˇãd
) \

1824 
size_t
 
mem‹y_size
; \

1825 
DCHAR_T
 *
mem‹y
; \

1827 
Æloˇãd
 = (Æloˇãd > 0 ? 
	`xtimes
 (allocated, 2) : 12); \

1828 i‡((
√eded
Ë> 
Æloˇãd
) \

1829 
Æloˇãd
 = (
√eded
); \

1830 
mem‹y_size
 = 
	`xtimes
 (
Æloˇãd
,  (
DCHAR_T
)); \

1831 i‡(
	`size_ovîÊow_p
 (
mem‹y_size
)) \

1832 
out_of_mem‹y
; \

1833 i‡(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
) \

1834 
mem‹y
 = (
DCHAR_T
 *Ë
	`mÆloc
 (
mem‹y_size
); \

1836 
mem‹y
 = (
DCHAR_T
 *Ë
	`ªÆloc
 (
ªsu…
, 
mem‹y_size
); \

1837 i‡(
mem‹y
 =
NULL
) \

1838 
out_of_mem‹y
; \

1839 i‡(
ªsu…
 =
ªsu…buf
 && 
Àngth
 > 0) \

1840 
	`DCHAR_CPY
 (
mem‹y
, 
ªsu…
, 
Àngth
); \

1841 
ªsu…
 = 
mem‹y
; \

1842 }

	)

1844 
˝
 = 
f‹m©
, 
i
 = 0, 
dp
 = &
d
.
dú
[0]; ; c∞dp->
dú_íd
, i++, dp++)

1846 i‡(
˝
 !
dp
->
dú_°¨t
)

1848 
size_t
 
n
 = 
dp
->
dú_°¨t
 - 
˝
;

1849 
size_t
 
augmíãd_Àngth
 = 
	`xsum
 (
Àngth
, 
n
);

1851 
	`ENSURE_ALLOCATION
 (
augmíãd_Àngth
);

1855 i‡( (
FCHAR_T
Ë= (
DCHAR_T
))

1857 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, (c⁄° 
DCHAR_T
 *Ë
˝
, 
n
);

1858 
Àngth
 = 
augmíãd_Àngth
;

1863 
ªsu…
[
Àngth
++] = (Ë*
˝
++;

1864 --
n
 > 0);

1867 i‡(
i
 =
d
.
cou¡
)

1871 i‡(
dp
->
c⁄vîsi⁄
 == '%')

1873 
size_t
 
augmíãd_Àngth
;

1875 i‡(!(
dp
->
¨g_ödex
 =
ARG_NONE
))

1876 
	`ab‹t
 ();

1877 
augmíãd_Àngth
 = 
	`xsum
 (
Àngth
, 1);

1878 
	`ENSURE_ALLOCATION
 (
augmíãd_Àngth
);

1879 
ªsu…
[
Àngth
] = '%';

1880 
Àngth
 = 
augmíãd_Àngth
;

1884 i‡(!(
dp
->
¨g_ödex
 !
ARG_NONE
))

1885 
	`ab‹t
 ();

1887 i‡(
dp
->
c⁄vîsi⁄
 == 'n')

1889 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
)

1891 
TYPE_COUNT_SCHAR_POINTER
:

1892 *
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_cou¡_sch¨_poöãr
 = 
Àngth
;

1894 
TYPE_COUNT_SHORT_POINTER
:

1895 *
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_cou¡_sh‹t_poöãr
 = 
Àngth
;

1897 
TYPE_COUNT_INT_POINTER
:

1898 *
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_cou¡_öt_poöãr
 = 
Àngth
;

1900 
TYPE_COUNT_LONGINT_POINTER
:

1901 *
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_cou¡_l⁄göt_poöãr
 = 
Àngth
;

1903 #i‡
HAVE_LONG_LONG_INT


1904 
TYPE_COUNT_LONGLONGINT_POINTER
:

1905 *
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_cou¡_l⁄gl⁄göt_poöãr
 = 
Àngth
;

1909 
	`ab‹t
 ();

1912 #i‡
ENABLE_UNISTDIO


1914 i‡(
dp
->
c⁄vîsi⁄
 == 'U')

1916 
¨g_ty≥
 
ty≥
 = 
a
.
¨g
[
dp
->
¨g_ödex
].type;

1917 
Êags
 = 
dp
->flags;

1918 
has_width
;

1919 
size_t
 
width
;

1920 
has_¥ecisi⁄
;

1921 
size_t
 
¥ecisi⁄
;

1923 
has_width
 = 0;

1924 
width
 = 0;

1925 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

1927 i‡(
dp
->
width_¨g_ödex
 !
ARG_NONE
)

1929 
¨g
;

1931 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

1932 
	`ab‹t
 ();

1933 
¨g
 = 
a
.¨g[
dp
->
width_¨g_ödex
].a.
a_öt
;

1934 i‡(
¨g
 < 0)

1938 
Êags
 |
FLAG_LEFT
;

1939 
width
 = (Ë(-
¨g
);

1942 
width
 = 
¨g
;

1946 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
width_°¨t
;

1949 
width
 = 
	`xsum
 (
	`xtimes
 (width, 10), *
digôp
++ - '0');

1950 
digôp
 !
dp
->
width_íd
);

1952 
has_width
 = 1;

1955 
has_¥ecisi⁄
 = 0;

1956 
¥ecisi⁄
 = 0;

1957 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

1959 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

1961 
¨g
;

1963 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

1964 
	`ab‹t
 ();

1965 
¨g
 = 
a
.¨g[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

1968 i‡(
¨g
 >= 0)

1970 
¥ecisi⁄
 = 
¨g
;

1971 
has_¥ecisi⁄
 = 1;

1976 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
¥ecisi⁄_°¨t
 + 1;

1978 
¥ecisi⁄
 = 0;

1979 
digôp
 !
dp
->
¥ecisi⁄_íd
)

1980 
¥ecisi⁄
 = 
	`xsum
 (
	`xtimes
 (¥ecisi⁄, 10), *
digôp
++ - '0');

1981 
has_¥ecisi⁄
 = 1;

1985 
ty≥
)

1987 
TYPE_U8_STRING
:

1989 c⁄° 
uöt8_t
 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_u8_°rög
;

1990 c⁄° 
uöt8_t
 *
¨g_íd
;

1991 
size_t
 
ch¨a˘îs
;

1993 i‡(
has_¥ecisi⁄
)

1996 
¨g_íd
 = 
¨g
;

1997 
ch¨a˘îs
 = 0;

1998 ; 
¥ecisi⁄
 > 0;Örecision--)

2000 
cou¡
 = 
	`u8_°rmbÀn
 (
¨g_íd
);

2001 i‡(
cou¡
 == 0)

2003 i‡(
cou¡
 < 0)

2005 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2006 
	`‰ì
 (
ªsu…
);

2007 i‡(
buf_mÆlo˚d
 !
NULL
)

2008 
	`‰ì
 (
buf_mÆlo˚d
);

2009 
	`CLEANUP
 ();

2010 
î∫o
 = 
EILSEQ
;

2011  
NULL
;

2013 
¨g_íd
 +
cou¡
;

2014 
ch¨a˘îs
++;

2017 i‡(
has_width
)

2021 
¨g_íd
 = 
¨g
;

2022 
ch¨a˘îs
 = 0;

2025 
cou¡
 = 
	`u8_°rmbÀn
 (
¨g_íd
);

2026 i‡(
cou¡
 == 0)

2028 i‡(
cou¡
 < 0)

2030 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2031 
	`‰ì
 (
ªsu…
);

2032 i‡(
buf_mÆlo˚d
 !
NULL
)

2033 
	`‰ì
 (
buf_mÆlo˚d
);

2034 
	`CLEANUP
 ();

2035 
î∫o
 = 
EILSEQ
;

2036  
NULL
;

2038 
¨g_íd
 +
cou¡
;

2039 
ch¨a˘îs
++;

2045 
¨g_íd
 = 
¨g
 + 
	`u8_°æí
 (arg);

2047 
ch¨a˘îs
 = 0;

2050 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2051 && !(
dp
->
Êags
 & 
FLAG_LEFT
))

2053 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2054 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2055 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2056 
Àngth
 +
n
;

2059 #i‡
DCHAR_IS_UINT8_T


2061 
size_t
 
n
 = 
¨g_íd
 - 
¨g
;

2062 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2063 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
¨g
, 
n
);

2064 
Àngth
 +
n
;

2068 
DCHAR_T
 *
c⁄vîãd
 = 
ªsu…
 + 
Àngth
;

2069 
size_t
 
c⁄vîãd_Àn
 = 
Æloˇãd
 - 
Àngth
;

2070 #i‡
DCHAR_IS_TCHAR


2072 
c⁄vîãd
 =

2073 
	`u8_c⁄v_to_ícodög
 (
	`loˇÀ_ch¨£t
 (),

2074 
ic⁄veh_que°i⁄_m¨k
,

2075 
¨g
, 
¨g_íd
 -árg, 
NULL
,

2076 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2079 
c⁄vîãd
 =

2080 
	`U8_TO_DCHAR
 (
¨g
, 
¨g_íd
 -árg,

2081 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2083 i‡(
c⁄vîãd
 =
NULL
)

2085 
ßved_î∫o
 = 
î∫o
;

2086 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2087 
	`‰ì
 (
ªsu…
);

2088 i‡(
buf_mÆlo˚d
 !
NULL
)

2089 
	`‰ì
 (
buf_mÆlo˚d
);

2090 
	`CLEANUP
 ();

2091 
î∫o
 = 
ßved_î∫o
;

2092  
NULL
;

2094 i‡(
c⁄vîãd
 !
ªsu…
 + 
Àngth
)

2096 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
c⁄vîãd_Àn
));

2097 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
c⁄vîãd
, 
c⁄vîãd_Àn
);

2098 
	`‰ì
 (
c⁄vîãd
);

2100 
Àngth
 +
c⁄vîãd_Àn
;

2104 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2105 && (
dp
->
Êags
 & 
FLAG_LEFT
))

2107 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2108 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2109 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2110 
Àngth
 +
n
;

2115 
TYPE_U16_STRING
:

2117 c⁄° 
uöt16_t
 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_u16_°rög
;

2118 c⁄° 
uöt16_t
 *
¨g_íd
;

2119 
size_t
 
ch¨a˘îs
;

2121 i‡(
has_¥ecisi⁄
)

2124 
¨g_íd
 = 
¨g
;

2125 
ch¨a˘îs
 = 0;

2126 ; 
¥ecisi⁄
 > 0;Örecision--)

2128 
cou¡
 = 
	`u16_°rmbÀn
 (
¨g_íd
);

2129 i‡(
cou¡
 == 0)

2131 i‡(
cou¡
 < 0)

2133 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2134 
	`‰ì
 (
ªsu…
);

2135 i‡(
buf_mÆlo˚d
 !
NULL
)

2136 
	`‰ì
 (
buf_mÆlo˚d
);

2137 
	`CLEANUP
 ();

2138 
î∫o
 = 
EILSEQ
;

2139  
NULL
;

2141 
¨g_íd
 +
cou¡
;

2142 
ch¨a˘îs
++;

2145 i‡(
has_width
)

2149 
¨g_íd
 = 
¨g
;

2150 
ch¨a˘îs
 = 0;

2153 
cou¡
 = 
	`u16_°rmbÀn
 (
¨g_íd
);

2154 i‡(
cou¡
 == 0)

2156 i‡(
cou¡
 < 0)

2158 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2159 
	`‰ì
 (
ªsu…
);

2160 i‡(
buf_mÆlo˚d
 !
NULL
)

2161 
	`‰ì
 (
buf_mÆlo˚d
);

2162 
	`CLEANUP
 ();

2163 
î∫o
 = 
EILSEQ
;

2164  
NULL
;

2166 
¨g_íd
 +
cou¡
;

2167 
ch¨a˘îs
++;

2173 
¨g_íd
 = 
¨g
 + 
	`u16_°æí
 (arg);

2175 
ch¨a˘îs
 = 0;

2178 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2179 && !(
dp
->
Êags
 & 
FLAG_LEFT
))

2181 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2182 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2183 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2184 
Àngth
 +
n
;

2187 #i‡
DCHAR_IS_UINT16_T


2189 
size_t
 
n
 = 
¨g_íd
 - 
¨g
;

2190 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2191 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
¨g
, 
n
);

2192 
Àngth
 +
n
;

2196 
DCHAR_T
 *
c⁄vîãd
 = 
ªsu…
 + 
Àngth
;

2197 
size_t
 
c⁄vîãd_Àn
 = 
Æloˇãd
 - 
Àngth
;

2198 #i‡
DCHAR_IS_TCHAR


2200 
c⁄vîãd
 =

2201 
	`u16_c⁄v_to_ícodög
 (
	`loˇÀ_ch¨£t
 (),

2202 
ic⁄veh_que°i⁄_m¨k
,

2203 
¨g
, 
¨g_íd
 -árg, 
NULL
,

2204 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2207 
c⁄vîãd
 =

2208 
	`U16_TO_DCHAR
 (
¨g
, 
¨g_íd
 -árg,

2209 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2211 i‡(
c⁄vîãd
 =
NULL
)

2213 
ßved_î∫o
 = 
î∫o
;

2214 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2215 
	`‰ì
 (
ªsu…
);

2216 i‡(
buf_mÆlo˚d
 !
NULL
)

2217 
	`‰ì
 (
buf_mÆlo˚d
);

2218 
	`CLEANUP
 ();

2219 
î∫o
 = 
ßved_î∫o
;

2220  
NULL
;

2222 i‡(
c⁄vîãd
 !
ªsu…
 + 
Àngth
)

2224 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
c⁄vîãd_Àn
));

2225 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
c⁄vîãd
, 
c⁄vîãd_Àn
);

2226 
	`‰ì
 (
c⁄vîãd
);

2228 
Àngth
 +
c⁄vîãd_Àn
;

2232 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2233 && (
dp
->
Êags
 & 
FLAG_LEFT
))

2235 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2236 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2237 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2238 
Àngth
 +
n
;

2243 
TYPE_U32_STRING
:

2245 c⁄° 
uöt32_t
 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_u32_°rög
;

2246 c⁄° 
uöt32_t
 *
¨g_íd
;

2247 
size_t
 
ch¨a˘îs
;

2249 i‡(
has_¥ecisi⁄
)

2252 
¨g_íd
 = 
¨g
;

2253 
ch¨a˘îs
 = 0;

2254 ; 
¥ecisi⁄
 > 0;Örecision--)

2256 
cou¡
 = 
	`u32_°rmbÀn
 (
¨g_íd
);

2257 i‡(
cou¡
 == 0)

2259 i‡(
cou¡
 < 0)

2261 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2262 
	`‰ì
 (
ªsu…
);

2263 i‡(
buf_mÆlo˚d
 !
NULL
)

2264 
	`‰ì
 (
buf_mÆlo˚d
);

2265 
	`CLEANUP
 ();

2266 
î∫o
 = 
EILSEQ
;

2267  
NULL
;

2269 
¨g_íd
 +
cou¡
;

2270 
ch¨a˘îs
++;

2273 i‡(
has_width
)

2277 
¨g_íd
 = 
¨g
;

2278 
ch¨a˘îs
 = 0;

2281 
cou¡
 = 
	`u32_°rmbÀn
 (
¨g_íd
);

2282 i‡(
cou¡
 == 0)

2284 i‡(
cou¡
 < 0)

2286 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2287 
	`‰ì
 (
ªsu…
);

2288 i‡(
buf_mÆlo˚d
 !
NULL
)

2289 
	`‰ì
 (
buf_mÆlo˚d
);

2290 
	`CLEANUP
 ();

2291 
î∫o
 = 
EILSEQ
;

2292  
NULL
;

2294 
¨g_íd
 +
cou¡
;

2295 
ch¨a˘îs
++;

2301 
¨g_íd
 = 
¨g
 + 
	`u32_°æí
 (arg);

2303 
ch¨a˘îs
 = 0;

2306 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2307 && !(
dp
->
Êags
 & 
FLAG_LEFT
))

2309 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2310 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2311 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2312 
Àngth
 +
n
;

2315 #i‡
DCHAR_IS_UINT32_T


2317 
size_t
 
n
 = 
¨g_íd
 - 
¨g
;

2318 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2319 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
¨g
, 
n
);

2320 
Àngth
 +
n
;

2324 
DCHAR_T
 *
c⁄vîãd
 = 
ªsu…
 + 
Àngth
;

2325 
size_t
 
c⁄vîãd_Àn
 = 
Æloˇãd
 - 
Àngth
;

2326 #i‡
DCHAR_IS_TCHAR


2328 
c⁄vîãd
 =

2329 
	`u32_c⁄v_to_ícodög
 (
	`loˇÀ_ch¨£t
 (),

2330 
ic⁄veh_que°i⁄_m¨k
,

2331 
¨g
, 
¨g_íd
 -árg, 
NULL
,

2332 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2335 
c⁄vîãd
 =

2336 
	`U32_TO_DCHAR
 (
¨g
, 
¨g_íd
 -árg,

2337 
c⁄vîãd
, &
c⁄vîãd_Àn
);

2339 i‡(
c⁄vîãd
 =
NULL
)

2341 
ßved_î∫o
 = 
î∫o
;

2342 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2343 
	`‰ì
 (
ªsu…
);

2344 i‡(
buf_mÆlo˚d
 !
NULL
)

2345 
	`‰ì
 (
buf_mÆlo˚d
);

2346 
	`CLEANUP
 ();

2347 
î∫o
 = 
ßved_î∫o
;

2348  
NULL
;

2350 i‡(
c⁄vîãd
 !
ªsu…
 + 
Àngth
)

2352 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
c⁄vîãd_Àn
));

2353 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
c⁄vîãd
, 
c⁄vîãd_Àn
);

2354 
	`‰ì
 (
c⁄vîãd
);

2356 
Àngth
 +
c⁄vîãd_Àn
;

2360 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2361 && (
dp
->
Êags
 & 
FLAG_LEFT
))

2363 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2364 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2365 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2366 
Àngth
 +
n
;

2372 
	`ab‹t
 ();

2376 #i‡(!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
 || (
NEED_PRINTF_DIRECTIVE_LS
 && !
deföed
 
IN_LIBINTL
)Ë&& 
HAVE_WCHAR_T


2377 i‡(
dp
->
c⁄vîsi⁄
 == 's'

2378 #i‡
WIDE_CHAR_VERSION


2379 && 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 !
TYPE_WIDE_STRING


2381 && 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_WIDE_STRING


2395 
Êags
 = 
dp
->flags;

2396 
has_width
;

2397 
size_t
 
width
;

2398 
has_¥ecisi⁄
;

2399 
size_t
 
¥ecisi⁄
;

2401 
has_width
 = 0;

2402 
width
 = 0;

2403 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

2405 i‡(
dp
->
width_¨g_ödex
 !
ARG_NONE
)

2407 
¨g
;

2409 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

2410 
	`ab‹t
 ();

2411 
¨g
 = 
a
.¨g[
dp
->
width_¨g_ödex
].a.
a_öt
;

2412 i‡(
¨g
 < 0)

2416 
Êags
 |
FLAG_LEFT
;

2417 
width
 = (Ë(-
¨g
);

2420 
width
 = 
¨g
;

2424 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
width_°¨t
;

2427 
width
 = 
	`xsum
 (
	`xtimes
 (width, 10), *
digôp
++ - '0');

2428 
digôp
 !
dp
->
width_íd
);

2430 
has_width
 = 1;

2433 
has_¥ecisi⁄
 = 0;

2434 
¥ecisi⁄
 = 6;

2435 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

2437 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

2439 
¨g
;

2441 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

2442 
	`ab‹t
 ();

2443 
¨g
 = 
a
.¨g[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

2446 i‡(
¨g
 >= 0)

2448 
¥ecisi⁄
 = 
¨g
;

2449 
has_¥ecisi⁄
 = 1;

2454 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
¥ecisi⁄_°¨t
 + 1;

2456 
¥ecisi⁄
 = 0;

2457 
digôp
 !
dp
->
¥ecisi⁄_íd
)

2458 
¥ecisi⁄
 = 
	`xsum
 (
	`xtimes
 (¥ecisi⁄, 10), *
digôp
++ - '0');

2459 
has_¥ecisi⁄
 = 1;

2463 #i‡
WIDE_CHAR_VERSION


2466 c⁄° *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_°rög
;

2467 c⁄° *
¨g_íd
;

2468 
size_t
 
ch¨a˘îs
;

2470 i‡(
has_¥ecisi⁄
)

2474 #i‡
HAVE_MBRTOWC


2475 
mb°©e_t
 
°©e
;

2476 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2478 
¨g_íd
 = 
¨g
;

2479 
ch¨a˘îs
 = 0;

2480 ; 
¥ecisi⁄
 > 0;Örecision--)

2482 
cou¡
;

2483 #i‡
HAVE_MBRTOWC


2484 
cou¡
 = 
	`mbæí
 (
¨g_íd
, 
MB_CUR_MAX
, &
°©e
);

2486 
cou¡
 = 
	`mbÀn
 (
¨g_íd
, 
MB_CUR_MAX
);

2488 i‡(
cou¡
 == 0)

2491 i‡(
cou¡
 < 0)

2494 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2495 
	`‰ì
 (
ªsu…
);

2496 i‡(
buf_mÆlo˚d
 !
NULL
)

2497 
	`‰ì
 (
buf_mÆlo˚d
);

2498 
	`CLEANUP
 ();

2499 
î∫o
 = 
EILSEQ
;

2500  
NULL
;

2502 
¨g_íd
 +
cou¡
;

2503 
ch¨a˘îs
++;

2506 i‡(
has_width
)

2510 #i‡
HAVE_MBRTOWC


2511 
mb°©e_t
 
°©e
;

2512 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2514 
¨g_íd
 = 
¨g
;

2515 
ch¨a˘îs
 = 0;

2518 
cou¡
;

2519 #i‡
HAVE_MBRTOWC


2520 
cou¡
 = 
	`mbæí
 (
¨g_íd
, 
MB_CUR_MAX
, &
°©e
);

2522 
cou¡
 = 
	`mbÀn
 (
¨g_íd
, 
MB_CUR_MAX
);

2524 i‡(
cou¡
 == 0)

2527 i‡(
cou¡
 < 0)

2530 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2531 
	`‰ì
 (
ªsu…
);

2532 i‡(
buf_mÆlo˚d
 !
NULL
)

2533 
	`‰ì
 (
buf_mÆlo˚d
);

2534 
	`CLEANUP
 ();

2535 
î∫o
 = 
EILSEQ
;

2536  
NULL
;

2538 
¨g_íd
 +
cou¡
;

2539 
ch¨a˘îs
++;

2545 
¨g_íd
 = 
¨g
 + 
	`°æí
 (arg);

2547 
ch¨a˘îs
 = 0;

2550 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2551 && !(
dp
->
Êags
 & 
FLAG_LEFT
))

2553 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2554 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2555 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2556 
Àngth
 +
n
;

2559 i‡(
has_¥ecisi⁄
 || 
has_width
)

2562 
size_t
 
ªmaöög
;

2563 #i‡
HAVE_MBRTOWC


2564 
mb°©e_t
 
°©e
;

2565 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2567 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
ch¨a˘îs
));

2568 
ªmaöög
 = 
ch¨a˘îs
;Ñemaining > 0;Ñemaining--)

2570 
wch¨_t
 
wc
;

2571 
cou¡
;

2572 #i‡
HAVE_MBRTOWC


2573 
cou¡
 = 
	`mbπowc
 (&
wc
, 
¨g
, 
¨g_íd
 -árg, &
°©e
);

2575 
cou¡
 = 
	`mbtowc
 (&
wc
, 
¨g
, 
¨g_íd
 -árg);

2577 i‡(
cou¡
 <= 0)

2580 
	`ab‹t
 ();

2581 
ªsu…
[
Àngth
++] = 
wc
;

2582 
¨g
 +
cou¡
;

2584 i‡(!(
¨g
 =
¨g_íd
))

2585 
	`ab‹t
 ();

2589 #i‡
HAVE_MBRTOWC


2590 
mb°©e_t
 
°©e
;

2591 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2593 
¨g
 < 
¨g_íd
)

2595 
wch¨_t
 
wc
;

2596 
cou¡
;

2597 #i‡
HAVE_MBRTOWC


2598 
cou¡
 = 
	`mbπowc
 (&
wc
, 
¨g
, 
¨g_íd
 -árg, &
°©e
);

2600 
cou¡
 = 
	`mbtowc
 (&
wc
, 
¨g
, 
¨g_íd
 -árg);

2602 i‡(
cou¡
 <= 0)

2605 
	`ab‹t
 ();

2606 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 1));

2607 
ªsu…
[
Àngth
++] = 
wc
;

2608 
¨g
 +
cou¡
;

2612 i‡(
has_width
 && 
width
 > 
ch¨a˘îs


2613 && (
dp
->
Êags
 & 
FLAG_LEFT
))

2615 
size_t
 
n
 = 
width
 - 
ch¨a˘îs
;

2616 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2617 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2618 
Àngth
 +
n
;

2624 c⁄° 
wch¨_t
 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_wide_°rög
;

2625 c⁄° 
wch¨_t
 *
¨g_íd
;

2626 
size_t
 
ch¨a˘îs
;

2627 #i‡!
DCHAR_IS_TCHAR


2629 
	`vîify
 ( (
TCHAR_T
) == 1);

2630 
TCHAR_T
 *
tmp§c
;

2631 
DCHAR_T
 *
tmpd°
;

2632 
size_t
 
tmpd°_Àn
;

2634 
size_t
 
w
;

2636 i‡(
has_¥ecisi⁄
)

2640 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2641 
mb°©e_t
 
°©e
;

2642 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2644 
¨g_íd
 = 
¨g
;

2645 
ch¨a˘îs
 = 0;

2646 
¥ecisi⁄
 > 0)

2648 
cbuf
[64];

2649 
cou¡
;

2651 i‡(*
¨g_íd
 == 0)

2654 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2655 
cou¡
 = 
	`w¸tomb
 (
cbuf
, *
¨g_íd
, &
°©e
);

2657 
cou¡
 = 
	`w˘omb
 (
cbuf
, *
¨g_íd
);

2659 i‡(
cou¡
 < 0)

2662 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2663 
	`‰ì
 (
ªsu…
);

2664 i‡(
buf_mÆlo˚d
 !
NULL
)

2665 
	`‰ì
 (
buf_mÆlo˚d
);

2666 
	`CLEANUP
 ();

2667 
î∫o
 = 
EILSEQ
;

2668  
NULL
;

2670 i‡(
¥ecisi⁄
 < 
cou¡
)

2672 
¨g_íd
++;

2673 
ch¨a˘îs
 +
cou¡
;

2674 
¥ecisi⁄
 -
cou¡
;

2677 #i‡
DCHAR_IS_TCHAR


2678 i‡(
has_width
)

2685 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2686 
mb°©e_t
 
°©e
;

2687 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2689 
¨g_íd
 = 
¨g
;

2690 
ch¨a˘îs
 = 0;

2693 
cbuf
[64];

2694 
cou¡
;

2696 i‡(*
¨g_íd
 == 0)

2699 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2700 
cou¡
 = 
	`w¸tomb
 (
cbuf
, *
¨g_íd
, &
°©e
);

2702 
cou¡
 = 
	`w˘omb
 (
cbuf
, *
¨g_íd
);

2704 i‡(
cou¡
 < 0)

2707 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2708 
	`‰ì
 (
ªsu…
);

2709 i‡(
buf_mÆlo˚d
 !
NULL
)

2710 
	`‰ì
 (
buf_mÆlo˚d
);

2711 
	`CLEANUP
 ();

2712 
î∫o
 = 
EILSEQ
;

2713  
NULL
;

2715 
¨g_íd
++;

2716 
ch¨a˘îs
 +
cou¡
;

2719 #i‡
DCHAR_IS_TCHAR


2723 
¨g_íd
 = 
¨g
 + 
	`loˇl_wc¶í
 (arg);

2725 
ch¨a˘îs
 = 0;

2729 #i‡!
DCHAR_IS_TCHAR


2731 
tmp§c
 = (
TCHAR_T
 *Ë
	`mÆloc
 (
ch¨a˘îs
 *  (TCHAR_T));

2732 i‡(
tmp§c
 =
NULL
)

2733 
out_of_mem‹y
;

2735 
TCHAR_T
 *
tmµå
 = 
tmp§c
;

2736 
size_t
 
ªmaöög
;

2737 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2738 
mb°©e_t
 
°©e
;

2739 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2741 
ªmaöög
 = 
ch¨a˘îs
;Ñemaining > 0; )

2743 
cbuf
[64];

2744 
cou¡
;

2746 i‡(*
¨g
 == 0)

2747 
	`ab‹t
 ();

2748 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2749 
cou¡
 = 
	`w¸tomb
 (
cbuf
, *
¨g
, &
°©e
);

2751 
cou¡
 = 
	`w˘omb
 (
cbuf
, *
¨g
);

2753 i‡(
cou¡
 <= 0)

2755 
	`ab‹t
 ();

2756 
	`mem˝y
 (
tmµå
, 
cbuf
, 
cou¡
);

2757 
tmµå
 +
cou¡
;

2758 
¨g
++;

2759 
ªmaöög
 -
cou¡
;

2761 i‡(!(
¨g
 =
¨g_íd
))

2762 
	`ab‹t
 ();

2766 
tmpd°
 =

2767 
	`DCHAR_CONV_FROM_ENCODING
 (
	`loˇÀ_ch¨£t
 (),

2768 
ic⁄veh_que°i⁄_m¨k
,

2769 
tmp§c
, 
ch¨a˘îs
,

2770 
NULL
,

2771 
NULL
, &
tmpd°_Àn
);

2772 i‡(
tmpd°
 =
NULL
)

2774 
ßved_î∫o
 = 
î∫o
;

2775 
	`‰ì
 (
tmp§c
);

2776 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2777 
	`‰ì
 (
ªsu…
);

2778 i‡(
buf_mÆlo˚d
 !
NULL
)

2779 
	`‰ì
 (
buf_mÆlo˚d
);

2780 
	`CLEANUP
 ();

2781 
î∫o
 = 
ßved_î∫o
;

2782  
NULL
;

2784 
	`‰ì
 (
tmp§c
);

2787 i‡(
has_width
)

2789 #i‡
ENABLE_UNISTDIO


2793 
w
 = 
	`DCHAR_MBSNLEN
 (
ªsu…
 + 
Àngth
, 
ch¨a˘îs
);

2797 
w
 = 
ch¨a˘îs
;

2802 
w
 = 0;

2804 i‡(
has_width
 && 
width
 > 
w


2805 && !(
dp
->
Êags
 & 
FLAG_LEFT
))

2807 
size_t
 
n
 = 
width
 - 
w
;

2808 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2809 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2810 
Àngth
 +
n
;

2813 #i‡
DCHAR_IS_TCHAR


2814 i‡(
has_¥ecisi⁄
 || 
has_width
)

2817 
size_t
 
ªmaöög
;

2818 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2819 
mb°©e_t
 
°©e
;

2820 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2822 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
ch¨a˘îs
));

2823 
ªmaöög
 = 
ch¨a˘îs
;Ñemaining > 0; )

2825 
cbuf
[64];

2826 
cou¡
;

2828 i‡(*
¨g
 == 0)

2829 
	`ab‹t
 ();

2830 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2831 
cou¡
 = 
	`w¸tomb
 (
cbuf
, *
¨g
, &
°©e
);

2833 
cou¡
 = 
	`w˘omb
 (
cbuf
, *
¨g
);

2835 i‡(
cou¡
 <= 0)

2837 
	`ab‹t
 ();

2838 
	`mem˝y
 (
ªsu…
 + 
Àngth
, 
cbuf
, 
cou¡
);

2839 
Àngth
 +
cou¡
;

2840 
¨g
++;

2841 
ªmaöög
 -
cou¡
;

2843 i‡(!(
¨g
 =
¨g_íd
))

2844 
	`ab‹t
 ();

2848 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2849 
mb°©e_t
 
°©e
;

2850 
	`mem£t
 (&
°©e
, '\0',  (
mb°©e_t
));

2852 
¨g
 < 
¨g_íd
)

2854 
cbuf
[64];

2855 
cou¡
;

2857 i‡(*
¨g
 == 0)

2858 
	`ab‹t
 ();

2859 #i‡
HAVE_WCRTOMB
 && !
deföed
 
GNULIB_deföed_mb°©e_t


2860 
cou¡
 = 
	`w¸tomb
 (
cbuf
, *
¨g
, &
°©e
);

2862 
cou¡
 = 
	`w˘omb
 (
cbuf
, *
¨g
);

2864 i‡(
cou¡
 <= 0)

2867 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

2868 
	`‰ì
 (
ªsu…
);

2869 i‡(
buf_mÆlo˚d
 !
NULL
)

2870 
	`‰ì
 (
buf_mÆlo˚d
);

2871 
	`CLEANUP
 ();

2872 
î∫o
 = 
EILSEQ
;

2873  
NULL
;

2875 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
cou¡
));

2876 
	`mem˝y
 (
ªsu…
 + 
Àngth
, 
cbuf
, 
cou¡
);

2877 
Àngth
 +
cou¡
;

2878 
¨g
++;

2882 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
tmpd°_Àn
));

2883 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
tmpd°
, 
tmpd°_Àn
);

2884 
	`‰ì
 (
tmpd°
);

2885 
Àngth
 +
tmpd°_Àn
;

2888 i‡(
has_width
 && 
width
 > 
w


2889 && (
dp
->
Êags
 & 
FLAG_LEFT
))

2891 
size_t
 
n
 = 
width
 - 
w
;

2892 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
n
));

2893 
	`DCHAR_SET
 (
ªsu…
 + 
Àngth
, ' ', 
n
);

2894 
Àngth
 +
n
;

2900 #i‡(
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


2901 i‡((
dp
->
c⁄vîsi⁄
 == 'a' || dp->conversion == 'A')

2902 #i‡!(
NEED_PRINTF_DIRECTIVE_A
 || (
NEED_PRINTF_LONG_DOUBLE
 && 
NEED_PRINTF_DOUBLE
))

2904 #i‡
NEED_PRINTF_DOUBLE


2905 || 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_DOUBLE


2907 #i‡
NEED_PRINTF_LONG_DOUBLE


2908 || 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_LONGDOUBLE


2914 
¨g_ty≥
 
ty≥
 = 
a
.
¨g
[
dp
->
¨g_ödex
].type;

2915 
Êags
 = 
dp
->flags;

2916 
has_width
;

2917 
size_t
 
width
;

2918 
has_¥ecisi⁄
;

2919 
size_t
 
¥ecisi⁄
;

2920 
size_t
 
tmp_Àngth
;

2921 
DCHAR_T
 
tmpbuf
[700];

2922 
DCHAR_T
 *
tmp
;

2923 
DCHAR_T
 *
∑d_±r
;

2924 
DCHAR_T
 *
p
;

2926 
has_width
 = 0;

2927 
width
 = 0;

2928 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

2930 i‡(
dp
->
width_¨g_ödex
 !
ARG_NONE
)

2932 
¨g
;

2934 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

2935 
	`ab‹t
 ();

2936 
¨g
 = 
a
.¨g[
dp
->
width_¨g_ödex
].a.
a_öt
;

2937 i‡(
¨g
 < 0)

2941 
Êags
 |
FLAG_LEFT
;

2942 
width
 = (Ë(-
¨g
);

2945 
width
 = 
¨g
;

2949 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
width_°¨t
;

2952 
width
 = 
	`xsum
 (
	`xtimes
 (width, 10), *
digôp
++ - '0');

2953 
digôp
 !
dp
->
width_íd
);

2955 
has_width
 = 1;

2958 
has_¥ecisi⁄
 = 0;

2959 
¥ecisi⁄
 = 0;

2960 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

2962 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

2964 
¨g
;

2966 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

2967 
	`ab‹t
 ();

2968 
¨g
 = 
a
.¨g[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

2971 i‡(
¨g
 >= 0)

2973 
¥ecisi⁄
 = 
¨g
;

2974 
has_¥ecisi⁄
 = 1;

2979 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
¥ecisi⁄_°¨t
 + 1;

2981 
¥ecisi⁄
 = 0;

2982 
digôp
 !
dp
->
¥ecisi⁄_íd
)

2983 
¥ecisi⁄
 = 
	`xsum
 (
	`xtimes
 (¥ecisi⁄, 10), *
digôp
++ - '0');

2984 
has_¥ecisi⁄
 = 1;

2989 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

2990 
tmp_Àngth
 =

2991 (Ë((
LDBL_DIG
 + 1)

2996 
tmp_Àngth
 =

2997 (Ë((
DBL_DIG
 + 1)

3001 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

3002 
tmp_Àngth
 = 
¥ecisi⁄
;

3004 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 12);

3006 i‡(
tmp_Àngth
 < 
width
)

3007 
tmp_Àngth
 = 
width
;

3009 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 1);

3011 i‡(
tmp_Àngth
 < (
tmpbuf
Ë/  (
DCHAR_T
))

3012 
tmp
 = 
tmpbuf
;

3015 
size_t
 
tmp_memsize
 = 
	`xtimes
 (
tmp_Àngth
,  (
DCHAR_T
));

3017 i‡(
	`size_ovîÊow_p
 (
tmp_memsize
))

3019 
out_of_mem‹y
;

3020 
tmp
 = (
DCHAR_T
 *Ë
	`mÆloc
 (
tmp_memsize
);

3021 i‡(
tmp
 =
NULL
)

3023 
out_of_mem‹y
;

3026 
∑d_±r
 = 
NULL
;

3027 
p
 = 
tmp
;

3028 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

3030 #i‡
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_LONG_DOUBLE


3031 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄gdoubÀ
;

3033 i‡(
	`i¢™l
 (
¨g
))

3035 i‡(
dp
->
c⁄vîsi⁄
 == 'A')

3037 *
p
++ = 'N'; *p++ = 'A'; *p++ = 'N';

3041 *
p
++ = 'n'; *p++ = 'a'; *p++ = 'n';

3046 
sign
 = 0;

3047 
DECL_LONG_DOUBLE_ROUNDING


3049 
	`BEGIN_LONG_DOUBLE_ROUNDING
 ();

3051 i‡(
	`signbô
 (
¨g
))

3053 
sign
 = -1;

3054 
¨g
 = -arg;

3057 i‡(
sign
 < 0)

3058 *
p
++ = '-';

3059 i‡(
Êags
 & 
FLAG_SHOWSIGN
)

3060 *
p
++ = '+';

3061 i‡(
Êags
 & 
FLAG_SPACE
)

3062 *
p
++ = ' ';

3064 i‡(
¨g
 > 0.0L &&árg +árg ==árg)

3066 i‡(
dp
->
c⁄vîsi⁄
 == 'A')

3068 *
p
++ = 'I'; *p++ = 'N'; *p++ = 'F';

3072 *
p
++ = 'i'; *p++ = 'n'; *p++ = 'f';

3077 
exp⁄ít
;

3078 
m™tisß
;

3080 i‡(
¨g
 > 0.0L)

3081 
m™tisß
 = 
	`¥ötf_‰ex∂
 (
¨g
, &
exp⁄ít
);

3084 
exp⁄ít
 = 0;

3085 
m™tisß
 = 0.0L;

3088 i‡(
has_¥ecisi⁄


3089 && 
¥ecisi⁄
 < (Ë((
LDBL_DIG
 + 1) * 0.831) + 1)

3092 
èû
 = 
m™tisß
;

3093 
size_t
 
q
;

3095 
q
 = 
¥ecisi⁄
; ; q--)

3097 
digô
 = (Ë
èû
;

3098 
èû
 -
digô
;

3099 i‡(
q
 == 0)

3101 i‡(
digô
 & 1 ? 
èû
 >= 0.5L :Åail > 0.5L)

3102 
èû
 = 1 -Åail;

3104 
èû
 = -Åail;

3107 
èû
 *= 16.0L;

3109 i‡(
èû
 != 0.0L)

3110 
q
 = 
¥ecisi⁄
; q > 0; q--)

3111 
èû
 *= 0.0625L;

3112 
m™tisß
 +
èû
;

3115 *
p
++ = '0';

3116 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'X';

3117 
∑d_±r
 = 
p
;

3119 
digô
;

3121 
digô
 = (Ë
m™tisß
;

3122 
m™tisß
 -
digô
;

3123 *
p
++ = '0' + 
digô
;

3124 i‡((
Êags
 & 
FLAG_ALT
)

3125 || 
m™tisß
 > 0.0L || 
¥ecisi⁄
 > 0)

3127 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3130 
m™tisß
 > 0.0L)

3132 
m™tisß
 *= 16.0L;

3133 
digô
 = (Ë
m™tisß
;

3134 
m™tisß
 -
digô
;

3135 *
p
++ = 
digô


3136 + (
digô
 < 10

3138 : 
dp
->
c⁄vîsi⁄
 - 10);

3139 i‡(
¥ecisi⁄
 > 0)

3140 
¥ecisi⁄
--;

3142 
¥ecisi⁄
 > 0)

3144 *
p
++ = '0';

3145 
¥ecisi⁄
--;

3149 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'P';

3150 #i‡
WIDE_CHAR_VERSION


3152 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

3154 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

3156 *
p
 != '\0')

3157 
p
++;

3159 i‡( (
DCHAR_T
) == 1)

3161 
	`•rötf
 ((*Ë
p
, "%+d", 
exp⁄ít
);

3162 *
p
 != '\0')

3163 
p
++;

3167 
expbuf
[6 + 1];

3168 c⁄° *
ï
;

3169 
	`•rötf
 (
expbuf
, "%+d", 
exp⁄ít
);

3170 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

3171 
p
++;

3176 
	`END_LONG_DOUBLE_ROUNDING
 ();

3179 
	`ab‹t
 ();

3184 #i‡
NEED_PRINTF_DIRECTIVE_A
 || 
NEED_PRINTF_DOUBLE


3185 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_doubÀ
;

3187 i‡(
	`i¢™d
 (
¨g
))

3189 i‡(
dp
->
c⁄vîsi⁄
 == 'A')

3191 *
p
++ = 'N'; *p++ = 'A'; *p++ = 'N';

3195 *
p
++ = 'n'; *p++ = 'a'; *p++ = 'n';

3200 
sign
 = 0;

3202 i‡(
	`signbô
 (
¨g
))

3204 
sign
 = -1;

3205 
¨g
 = -arg;

3208 i‡(
sign
 < 0)

3209 *
p
++ = '-';

3210 i‡(
Êags
 & 
FLAG_SHOWSIGN
)

3211 *
p
++ = '+';

3212 i‡(
Êags
 & 
FLAG_SPACE
)

3213 *
p
++ = ' ';

3215 i‡(
¨g
 > 0.0 &&árg +árg ==árg)

3217 i‡(
dp
->
c⁄vîsi⁄
 == 'A')

3219 *
p
++ = 'I'; *p++ = 'N'; *p++ = 'F';

3223 *
p
++ = 'i'; *p++ = 'n'; *p++ = 'f';

3228 
exp⁄ít
;

3229 
m™tisß
;

3231 i‡(
¨g
 > 0.0)

3232 
m™tisß
 = 
	`¥ötf_‰exp
 (
¨g
, &
exp⁄ít
);

3235 
exp⁄ít
 = 0;

3236 
m™tisß
 = 0.0;

3239 i‡(
has_¥ecisi⁄


3240 && 
¥ecisi⁄
 < (Ë((
DBL_DIG
 + 1) * 0.831) + 1)

3243 
èû
 = 
m™tisß
;

3244 
size_t
 
q
;

3246 
q
 = 
¥ecisi⁄
; ; q--)

3248 
digô
 = (Ë
èû
;

3249 
èû
 -
digô
;

3250 i‡(
q
 == 0)

3252 i‡(
digô
 & 1 ? 
èû
 >= 0.5 :Åail > 0.5)

3253 
èû
 = 1 -Åail;

3255 
èû
 = -Åail;

3258 
èû
 *= 16.0;

3260 i‡(
èû
 != 0.0)

3261 
q
 = 
¥ecisi⁄
; q > 0; q--)

3262 
èû
 *= 0.0625;

3263 
m™tisß
 +
èû
;

3266 *
p
++ = '0';

3267 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'X';

3268 
∑d_±r
 = 
p
;

3270 
digô
;

3272 
digô
 = (Ë
m™tisß
;

3273 
m™tisß
 -
digô
;

3274 *
p
++ = '0' + 
digô
;

3275 i‡((
Êags
 & 
FLAG_ALT
)

3276 || 
m™tisß
 > 0.0 || 
¥ecisi⁄
 > 0)

3278 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3281 
m™tisß
 > 0.0)

3283 
m™tisß
 *= 16.0;

3284 
digô
 = (Ë
m™tisß
;

3285 
m™tisß
 -
digô
;

3286 *
p
++ = 
digô


3287 + (
digô
 < 10

3289 : 
dp
->
c⁄vîsi⁄
 - 10);

3290 i‡(
¥ecisi⁄
 > 0)

3291 
¥ecisi⁄
--;

3293 
¥ecisi⁄
 > 0)

3295 *
p
++ = '0';

3296 
¥ecisi⁄
--;

3300 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'P';

3301 #i‡
WIDE_CHAR_VERSION


3303 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

3305 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

3307 *
p
 != '\0')

3308 
p
++;

3310 i‡( (
DCHAR_T
) == 1)

3312 
	`•rötf
 ((*Ë
p
, "%+d", 
exp⁄ít
);

3313 *
p
 != '\0')

3314 
p
++;

3318 
expbuf
[6 + 1];

3319 c⁄° *
ï
;

3320 
	`•rötf
 (
expbuf
, "%+d", 
exp⁄ít
);

3321 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

3322 
p
++;

3328 
	`ab‹t
 ();

3333 i‡(
has_width
 && 
p
 - 
tmp
 < 
width
)

3335 
size_t
 
∑d
 = 
width
 - (
p
 - 
tmp
);

3336 
DCHAR_T
 *
íd
 = 
p
 + 
∑d
;

3338 i‡(
Êags
 & 
FLAG_LEFT
)

3341 ; 
∑d
 > 0;Öad--)

3342 *
p
++ = ' ';

3344 i‡((
Êags
 & 
FLAG_ZERO
Ë&& 
∑d_±r
 !
NULL
)

3347 
DCHAR_T
 *
q
 = 
íd
;

3349 
p
 > 
∑d_±r
)

3350 *--
q
 = *--
p
;

3351 ; 
∑d
 > 0;Öad--)

3352 *
p
++ = '0';

3357 
DCHAR_T
 *
q
 = 
íd
;

3359 
p
 > 
tmp
)

3360 *--
q
 = *--
p
;

3361 ; 
∑d
 > 0;Öad--)

3362 *
p
++ = ' ';

3365 
p
 = 
íd
;

3369 
size_t
 
cou¡
 = 
p
 - 
tmp
;

3371 i‡(
cou¡
 >
tmp_Àngth
)

3374 
	`ab‹t
 ();

3377 i‡(
cou¡
 >
Æloˇãd
 - 
Àngth
)

3379 
size_t
 
n
 = 
	`xsum
 (
Àngth
, 
cou¡
);

3381 
	`ENSURE_ALLOCATION
 (
n
);

3385 
	`mem˝y
 (
ªsu…
 + 
Àngth
, 
tmp
, 
cou¡
 *  (
DCHAR_T
));

3386 i‡(
tmp
 !
tmpbuf
)

3387 
	`‰ì
 (
tmp
);

3388 
Àngth
 +
cou¡
;

3392 #i‡(
NEED_PRINTF_INFINITE_DOUBLE
 || 
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE
 || 
NEED_PRINTF_LONG_DOUBLE
Ë&& !
deföed
 
IN_LIBINTL


3393 i‡((
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F'

3394 || 
dp
->
c⁄vîsi⁄
 == 'e' || dp->conversion == 'E'

3395 || 
dp
->
c⁄vîsi⁄
 == 'g' || dp->conversion == 'G'

3396 || 
dp
->
c⁄vîsi⁄
 == 'a' || dp->conversion == 'A')

3398 #i‡
NEED_PRINTF_DOUBLE


3399 || 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_DOUBLE


3400 #ñi‡
NEED_PRINTF_INFINITE_DOUBLE


3401 || (
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_DOUBLE


3405 && 
	`is_öföôe_‹_zîo
 (
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_doubÀ
))

3407 #i‡
NEED_PRINTF_LONG_DOUBLE


3408 || 
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_LONGDOUBLE


3409 #ñi‡
NEED_PRINTF_INFINITE_LONG_DOUBLE


3410 || (
a
.
¨g
[
dp
->
¨g_ödex
].
ty≥
 =
TYPE_LONGDOUBLE


3415 && 
	`is_öföôe_‹_zîﬁ
 (
a
.
¨g
[
dp
->
¨g_ödex
].a.
a_l⁄gdoubÀ
))

3419 #i‡(
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE
Ë&& (
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE
)

3420 
¨g_ty≥
 
ty≥
 = 
a
.
¨g
[
dp
->
¨g_ödex
].type;

3422 
Êags
 = 
dp
->flags;

3423 
has_width
;

3424 
size_t
 
width
;

3425 
has_¥ecisi⁄
;

3426 
size_t
 
¥ecisi⁄
;

3427 
size_t
 
tmp_Àngth
;

3428 
DCHAR_T
 
tmpbuf
[700];

3429 
DCHAR_T
 *
tmp
;

3430 
DCHAR_T
 *
∑d_±r
;

3431 
DCHAR_T
 *
p
;

3433 
has_width
 = 0;

3434 
width
 = 0;

3435 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

3437 i‡(
dp
->
width_¨g_ödex
 !
ARG_NONE
)

3439 
¨g
;

3441 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

3442 
	`ab‹t
 ();

3443 
¨g
 = 
a
.¨g[
dp
->
width_¨g_ödex
].a.
a_öt
;

3444 i‡(
¨g
 < 0)

3448 
Êags
 |
FLAG_LEFT
;

3449 
width
 = (Ë(-
¨g
);

3452 
width
 = 
¨g
;

3456 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
width_°¨t
;

3459 
width
 = 
	`xsum
 (
	`xtimes
 (width, 10), *
digôp
++ - '0');

3460 
digôp
 !
dp
->
width_íd
);

3462 
has_width
 = 1;

3465 
has_¥ecisi⁄
 = 0;

3466 
¥ecisi⁄
 = 0;

3467 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

3469 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

3471 
¨g
;

3473 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

3474 
	`ab‹t
 ();

3475 
¨g
 = 
a
.¨g[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

3478 i‡(
¨g
 >= 0)

3480 
¥ecisi⁄
 = 
¨g
;

3481 
has_¥ecisi⁄
 = 1;

3486 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
¥ecisi⁄_°¨t
 + 1;

3488 
¥ecisi⁄
 = 0;

3489 
digôp
 !
dp
->
¥ecisi⁄_íd
)

3490 
¥ecisi⁄
 = 
	`xsum
 (
	`xtimes
 (¥ecisi⁄, 10), *
digôp
++ - '0');

3491 
has_¥ecisi⁄
 = 1;

3499 i‡(!
has_¥ecisi⁄
)

3500 i‡(!(
dp
->
c⁄vîsi⁄
 == 'a' || dp->conversion == 'A'))

3501 
¥ecisi⁄
 = 6;

3504 #i‡
NEED_PRINTF_DOUBLE
 && 
NEED_PRINTF_LONG_DOUBLE


3505 
tmp_Àngth
 = (
ty≥
 =
TYPE_LONGDOUBLE
 ? 
LDBL_DIG
 + 1 : 
DBL_DIG
 + 1);

3506 #ñi‡
NEED_PRINTF_INFINITE_DOUBLE
 && 
NEED_PRINTF_LONG_DOUBLE


3507 
tmp_Àngth
 = (
ty≥
 =
TYPE_LONGDOUBLE
 ? 
LDBL_DIG
 + 1 : 0);

3508 #ñi‡
NEED_PRINTF_LONG_DOUBLE


3509 
tmp_Àngth
 = 
LDBL_DIG
 + 1;

3510 #ñi‡
NEED_PRINTF_DOUBLE


3511 
tmp_Àngth
 = 
DBL_DIG
 + 1;

3513 
tmp_Àngth
 = 0;

3515 i‡(
tmp_Àngth
 < 
¥ecisi⁄
)

3516 
tmp_Àngth
 = 
¥ecisi⁄
;

3517 #i‡
NEED_PRINTF_LONG_DOUBLE


3518 #i‡
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE


3519 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

3521 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

3523 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄gdoubÀ
;

3524 i‡(!(
	`i¢™l
 (
¨g
) ||árg +árg ==árg))

3527 
exp⁄ít
 = 
	`Êo‹log10l
 (
¨g
 < 0 ? -arg :árg);

3528 i‡(
exp⁄ít
 >0 && 
tmp_Àngth
 <Éxp⁄íà+ 
¥ecisi⁄
)

3529 
tmp_Àngth
 = 
exp⁄ít
 + 
¥ecisi⁄
;

3533 #i‡
NEED_PRINTF_DOUBLE


3534 #i‡
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE


3535 i‡(
ty≥
 =
TYPE_DOUBLE
)

3537 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

3539 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_doubÀ
;

3540 i‡(!(
	`i¢™d
 (
¨g
) ||árg +árg ==árg))

3543 
exp⁄ít
 = 
	`Êo‹log10
 (
¨g
 < 0 ? -arg :árg);

3544 i‡(
exp⁄ít
 >0 && 
tmp_Àngth
 <Éxp⁄íà+ 
¥ecisi⁄
)

3545 
tmp_Àngth
 = 
exp⁄ít
 + 
¥ecisi⁄
;

3550 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 12);

3552 i‡(
tmp_Àngth
 < 
width
)

3553 
tmp_Àngth
 = 
width
;

3555 
tmp_Àngth
 = 
	`xsum
 (tmp_length, 1);

3557 i‡(
tmp_Àngth
 < (
tmpbuf
Ë/  (
DCHAR_T
))

3558 
tmp
 = 
tmpbuf
;

3561 
size_t
 
tmp_memsize
 = 
	`xtimes
 (
tmp_Àngth
,  (
DCHAR_T
));

3563 i‡(
	`size_ovîÊow_p
 (
tmp_memsize
))

3565 
out_of_mem‹y
;

3566 
tmp
 = (
DCHAR_T
 *Ë
	`mÆloc
 (
tmp_memsize
);

3567 i‡(
tmp
 =
NULL
)

3569 
out_of_mem‹y
;

3572 
∑d_±r
 = 
NULL
;

3573 
p
 = 
tmp
;

3575 #i‡
NEED_PRINTF_LONG_DOUBLE
 || 
NEED_PRINTF_INFINITE_LONG_DOUBLE


3576 #i‡
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE


3577 i‡(
ty≥
 =
TYPE_LONGDOUBLE
)

3580 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄gdoubÀ
;

3582 i‡(
	`i¢™l
 (
¨g
))

3584 i‡(
dp
->
c⁄vîsi⁄
 >= 'A' && dp->conversion <= 'Z')

3586 *
p
++ = 'N'; *p++ = 'A'; *p++ = 'N';

3590 *
p
++ = 'n'; *p++ = 'a'; *p++ = 'n';

3595 
sign
 = 0;

3596 
DECL_LONG_DOUBLE_ROUNDING


3598 
	`BEGIN_LONG_DOUBLE_ROUNDING
 ();

3600 i‡(
	`signbô
 (
¨g
))

3602 
sign
 = -1;

3603 
¨g
 = -arg;

3606 i‡(
sign
 < 0)

3607 *
p
++ = '-';

3608 i‡(
Êags
 & 
FLAG_SHOWSIGN
)

3609 *
p
++ = '+';

3610 i‡(
Êags
 & 
FLAG_SPACE
)

3611 *
p
++ = ' ';

3613 i‡(
¨g
 > 0.0L &&árg +árg ==árg)

3615 i‡(
dp
->
c⁄vîsi⁄
 >= 'A' && dp->conversion <= 'Z')

3617 *
p
++ = 'I'; *p++ = 'N'; *p++ = 'F';

3621 *
p
++ = 'i'; *p++ = 'n'; *p++ = 'f';

3626 #i‡
NEED_PRINTF_LONG_DOUBLE


3627 
∑d_±r
 = 
p
;

3629 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

3631 *
digôs
;

3632 
size_t
 
ndigôs
;

3634 
digôs
 =

3635 
	`sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
¨g
, 
¥ecisi⁄
);

3636 i‡(
digôs
 =
NULL
)

3638 
	`END_LONG_DOUBLE_ROUNDING
 ();

3639 
out_of_mem‹y
;

3641 
ndigôs
 = 
	`°æí
 (
digôs
);

3643 i‡(
ndigôs
 > 
¥ecisi⁄
)

3646 --
ndigôs
;

3647 *
p
++ = 
digôs
[
ndigôs
];

3649 
ndigôs
 > 
¥ecisi⁄
);

3651 *
p
++ = '0';

3653 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

3655 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3656 ; 
¥ecisi⁄
 > 
ndigôs
;Örecision--)

3657 *
p
++ = '0';

3658 
ndigôs
 > 0)

3660 --
ndigôs
;

3661 *
p
++ = 
digôs
[
ndigôs
];

3665 
	`‰ì
 (
digôs
);

3667 i‡(
dp
->
c⁄vîsi⁄
 == 'e' || dp->conversion == 'E')

3669 
exp⁄ít
;

3671 i‡(
¨g
 == 0.0L)

3673 
exp⁄ít
 = 0;

3674 *
p
++ = '0';

3675 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

3677 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3678 ; 
¥ecisi⁄
 > 0;Örecision--)

3679 *
p
++ = '0';

3685 
adju°ed
;

3686 *
digôs
;

3687 
size_t
 
ndigôs
;

3689 
exp⁄ít
 = 
	`Êo‹log10l
 (
¨g
);

3690 
adju°ed
 = 0;

3693 
digôs
 =

3694 
	`sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
¨g
,

3695 ()
¥ecisi⁄
 - 
exp⁄ít
);

3696 i‡(
digôs
 =
NULL
)

3698 
	`END_LONG_DOUBLE_ROUNDING
 ();

3699 
out_of_mem‹y
;

3701 
ndigôs
 = 
	`°æí
 (
digôs
);

3703 i‡(
ndigôs
 =
¥ecisi⁄
 + 1)

3705 i‡(
ndigôs
 < 
¥ecisi⁄


3706 || 
ndigôs
 > 
¥ecisi⁄
 + 2)

3709 
	`ab‹t
 ();

3710 i‡(
adju°ed
)

3714 
	`ab‹t
 ();

3715 
	`‰ì
 (
digôs
);

3716 i‡(
ndigôs
 =
¥ecisi⁄
)

3717 
exp⁄ít
 -= 1;

3719 
exp⁄ít
 += 1;

3720 
adju°ed
 = 1;

3723 i‡(
	`is_b‹dîlöe
 (
digôs
, 
¥ecisi⁄
))

3728 *
digôs2
 =

3729 
	`sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
¨g
,

3730 ()
¥ecisi⁄
 - 
exp⁄ít
 + 1);

3731 i‡(
digôs2
 =
NULL
)

3733 
	`‰ì
 (
digôs
);

3734 
	`END_LONG_DOUBLE_ROUNDING
 ();

3735 
out_of_mem‹y
;

3737 i‡(
	`°æí
 (
digôs2
Ë=
¥ecisi⁄
 + 1)

3739 
	`‰ì
 (
digôs
);

3740 
digôs
 = 
digôs2
;

3741 
exp⁄ít
 -= 1;

3744 
	`‰ì
 (
digôs2
);

3748 *
p
++ = 
digôs
[--
ndigôs
];

3749 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

3751 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3752 
ndigôs
 > 0)

3754 --
ndigôs
;

3755 *
p
++ = 
digôs
[
ndigôs
];

3759 
	`‰ì
 (
digôs
);

3762 *
p
++ = 
dp
->
c⁄vîsi⁄
;

3763 #i‡
WIDE_CHAR_VERSION


3765 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

3767 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

3769 *
p
 != '\0')

3770 
p
++;

3772 i‡( (
DCHAR_T
) == 1)

3774 
	`•rötf
 ((*Ë
p
, "%+.2d", 
exp⁄ít
);

3775 *
p
 != '\0')

3776 
p
++;

3780 
expbuf
[6 + 1];

3781 c⁄° *
ï
;

3782 
	`•rötf
 (
expbuf
, "%+.2d", 
exp⁄ít
);

3783 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

3784 
p
++;

3788 i‡(
dp
->
c⁄vîsi⁄
 == 'g' || dp->conversion == 'G')

3790 i‡(
¥ecisi⁄
 == 0)

3791 
¥ecisi⁄
 = 1;

3794 i‡(
¨g
 == 0.0L)

3798 
size_t
 
ndigôs
 = 
¥ecisi⁄
;

3801 
size_t
 
nzî€s
 =

3802 (
Êags
 & 
FLAG_ALT
 ? 0 : 
¥ecisi⁄
 - 1);

3804 --
ndigôs
;

3805 *
p
++ = '0';

3806 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

3808 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3809 
ndigôs
 > 
nzî€s
)

3811 --
ndigôs
;

3812 *
p
++ = '0';

3819 
exp⁄ít
;

3820 
adju°ed
;

3821 *
digôs
;

3822 
size_t
 
ndigôs
;

3823 
size_t
 
nzî€s
;

3825 
exp⁄ít
 = 
	`Êo‹log10l
 (
¨g
);

3826 
adju°ed
 = 0;

3829 
digôs
 =

3830 
	`sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
¨g
,

3831 ()(
¥ecisi⁄
 - 1Ë- 
exp⁄ít
);

3832 i‡(
digôs
 =
NULL
)

3834 
	`END_LONG_DOUBLE_ROUNDING
 ();

3835 
out_of_mem‹y
;

3837 
ndigôs
 = 
	`°æí
 (
digôs
);

3839 i‡(
ndigôs
 =
¥ecisi⁄
)

3841 i‡(
ndigôs
 < 
¥ecisi⁄
 - 1

3842 || 
ndigôs
 > 
¥ecisi⁄
 + 1)

3845 
	`ab‹t
 ();

3846 i‡(
adju°ed
)

3850 
	`ab‹t
 ();

3851 
	`‰ì
 (
digôs
);

3852 i‡(
ndigôs
 < 
¥ecisi⁄
)

3853 
exp⁄ít
 -= 1;

3855 
exp⁄ít
 += 1;

3856 
adju°ed
 = 1;

3859 i‡(
	`is_b‹dîlöe
 (
digôs
, 
¥ecisi⁄
 - 1))

3864 *
digôs2
 =

3865 
	`sˇÀ10_round_decimÆ_l⁄g_doubÀ
 (
¨g
,

3866 ()(
¥ecisi⁄
 - 1Ë- 
exp⁄ít
 + 1);

3867 i‡(
digôs2
 =
NULL
)

3869 
	`‰ì
 (
digôs
);

3870 
	`END_LONG_DOUBLE_ROUNDING
 ();

3871 
out_of_mem‹y
;

3873 i‡(
	`°æí
 (
digôs2
Ë=
¥ecisi⁄
)

3875 
	`‰ì
 (
digôs
);

3876 
digôs
 = 
digôs2
;

3877 
exp⁄ít
 -= 1;

3880 
	`‰ì
 (
digôs2
);

3886 
nzî€s
 = 0;

3887 i‡((
Êags
 & 
FLAG_ALT
) == 0)

3888 
nzî€s
 < 
ndigôs


3889 && 
digôs
[
nzî€s
] == '0')

3890 
nzî€s
++;

3893 i‡(
exp⁄ít
 >= -4

3894 && 
exp⁄ít
 < ()
¥ecisi⁄
)

3900 i‡(
exp⁄ít
 >= 0)

3902 
size_t
 
cou¡
 = 
exp⁄ít
 + 1;

3904 ; 
cou¡
 > 0; count--)

3905 *
p
++ = 
digôs
[--
ndigôs
];

3906 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

3908 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3909 
ndigôs
 > 
nzî€s
)

3911 --
ndigôs
;

3912 *
p
++ = 
digôs
[
ndigôs
];

3918 
size_t
 
cou¡
 = -
exp⁄ít
 - 1;

3919 *
p
++ = '0';

3920 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3921 ; 
cou¡
 > 0; count--)

3922 *
p
++ = '0';

3923 
ndigôs
 > 
nzî€s
)

3925 --
ndigôs
;

3926 *
p
++ = 
digôs
[
ndigôs
];

3933 *
p
++ = 
digôs
[--
ndigôs
];

3934 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

3936 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3937 
ndigôs
 > 
nzî€s
)

3939 --
ndigôs
;

3940 *
p
++ = 
digôs
[
ndigôs
];

3943 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'G' + 'E';

3944 #i‡
WIDE_CHAR_VERSION


3946 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

3948 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

3950 *
p
 != '\0')

3951 
p
++;

3953 i‡( (
DCHAR_T
) == 1)

3955 
	`•rötf
 ((*Ë
p
, "%+.2d", 
exp⁄ít
);

3956 *
p
 != '\0')

3957 
p
++;

3961 
expbuf
[6 + 1];

3962 c⁄° *
ï
;

3963 
	`•rötf
 (
expbuf
, "%+.2d", 
exp⁄ít
);

3964 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

3965 
p
++;

3970 
	`‰ì
 (
digôs
);

3974 
	`ab‹t
 ();

3977 i‡(!(
¨g
 == 0.0L))

3978 
	`ab‹t
 ();

3980 
∑d_±r
 = 
p
;

3982 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

3984 *
p
++ = '0';

3985 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

3987 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3988 ; 
¥ecisi⁄
 > 0;Örecision--)

3989 *
p
++ = '0';

3992 i‡(
dp
->
c⁄vîsi⁄
 == 'e' || dp->conversion == 'E')

3994 *
p
++ = '0';

3995 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

3997 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

3998 ; 
¥ecisi⁄
 > 0;Örecision--)

3999 *
p
++ = '0';

4001 *
p
++ = 
dp
->
c⁄vîsi⁄
;

4002 *
p
++ = '+';

4003 *
p
++ = '0';

4004 *
p
++ = '0';

4006 i‡(
dp
->
c⁄vîsi⁄
 == 'g' || dp->conversion == 'G')

4008 *
p
++ = '0';

4009 i‡(
Êags
 & 
FLAG_ALT
)

4011 
size_t
 
ndigôs
 =

4012 (
¥ecisi⁄
 > 0 ?Örecision - 1 : 0);

4013 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4014 ; 
ndigôs
 > 0; --ndigits)

4015 *
p
++ = '0';

4018 i‡(
dp
->
c⁄vîsi⁄
 == 'a' || dp->conversion == 'A')

4020 *
p
++ = '0';

4021 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'X';

4022 
∑d_±r
 = 
p
;

4023 *
p
++ = '0';

4024 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4026 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4027 ; 
¥ecisi⁄
 > 0;Örecision--)

4028 *
p
++ = '0';

4030 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'A' + 'P';

4031 *
p
++ = '+';

4032 *
p
++ = '0';

4035 
	`ab‹t
 ();

4039 
	`END_LONG_DOUBLE_ROUNDING
 ();

4042 #i‡
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE


4046 #i‡
NEED_PRINTF_DOUBLE
 || 
NEED_PRINTF_INFINITE_DOUBLE


4048 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_doubÀ
;

4050 i‡(
	`i¢™d
 (
¨g
))

4052 i‡(
dp
->
c⁄vîsi⁄
 >= 'A' && dp->conversion <= 'Z')

4054 *
p
++ = 'N'; *p++ = 'A'; *p++ = 'N';

4058 *
p
++ = 'n'; *p++ = 'a'; *p++ = 'n';

4063 
sign
 = 0;

4065 i‡(
	`signbô
 (
¨g
))

4067 
sign
 = -1;

4068 
¨g
 = -arg;

4071 i‡(
sign
 < 0)

4072 *
p
++ = '-';

4073 i‡(
Êags
 & 
FLAG_SHOWSIGN
)

4074 *
p
++ = '+';

4075 i‡(
Êags
 & 
FLAG_SPACE
)

4076 *
p
++ = ' ';

4078 i‡(
¨g
 > 0.0 &&árg +árg ==árg)

4080 i‡(
dp
->
c⁄vîsi⁄
 >= 'A' && dp->conversion <= 'Z')

4082 *
p
++ = 'I'; *p++ = 'N'; *p++ = 'F';

4086 *
p
++ = 'i'; *p++ = 'n'; *p++ = 'f';

4091 #i‡
NEED_PRINTF_DOUBLE


4092 
∑d_±r
 = 
p
;

4094 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

4096 *
digôs
;

4097 
size_t
 
ndigôs
;

4099 
digôs
 =

4100 
	`sˇÀ10_round_decimÆ_doubÀ
 (
¨g
, 
¥ecisi⁄
);

4101 i‡(
digôs
 =
NULL
)

4102 
out_of_mem‹y
;

4103 
ndigôs
 = 
	`°æí
 (
digôs
);

4105 i‡(
ndigôs
 > 
¥ecisi⁄
)

4108 --
ndigôs
;

4109 *
p
++ = 
digôs
[
ndigôs
];

4111 
ndigôs
 > 
¥ecisi⁄
);

4113 *
p
++ = '0';

4115 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4117 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4118 ; 
¥ecisi⁄
 > 
ndigôs
;Örecision--)

4119 *
p
++ = '0';

4120 
ndigôs
 > 0)

4122 --
ndigôs
;

4123 *
p
++ = 
digôs
[
ndigôs
];

4127 
	`‰ì
 (
digôs
);

4129 i‡(
dp
->
c⁄vîsi⁄
 == 'e' || dp->conversion == 'E')

4131 
exp⁄ít
;

4133 i‡(
¨g
 == 0.0)

4135 
exp⁄ít
 = 0;

4136 *
p
++ = '0';

4137 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4139 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4140 ; 
¥ecisi⁄
 > 0;Örecision--)

4141 *
p
++ = '0';

4147 
adju°ed
;

4148 *
digôs
;

4149 
size_t
 
ndigôs
;

4151 
exp⁄ít
 = 
	`Êo‹log10
 (
¨g
);

4152 
adju°ed
 = 0;

4155 
digôs
 =

4156 
	`sˇÀ10_round_decimÆ_doubÀ
 (
¨g
,

4157 ()
¥ecisi⁄
 - 
exp⁄ít
);

4158 i‡(
digôs
 =
NULL
)

4159 
out_of_mem‹y
;

4160 
ndigôs
 = 
	`°æí
 (
digôs
);

4162 i‡(
ndigôs
 =
¥ecisi⁄
 + 1)

4164 i‡(
ndigôs
 < 
¥ecisi⁄


4165 || 
ndigôs
 > 
¥ecisi⁄
 + 2)

4168 
	`ab‹t
 ();

4169 i‡(
adju°ed
)

4173 
	`ab‹t
 ();

4174 
	`‰ì
 (
digôs
);

4175 i‡(
ndigôs
 =
¥ecisi⁄
)

4176 
exp⁄ít
 -= 1;

4178 
exp⁄ít
 += 1;

4179 
adju°ed
 = 1;

4182 i‡(
	`is_b‹dîlöe
 (
digôs
, 
¥ecisi⁄
))

4187 *
digôs2
 =

4188 
	`sˇÀ10_round_decimÆ_doubÀ
 (
¨g
,

4189 ()
¥ecisi⁄
 - 
exp⁄ít
 + 1);

4190 i‡(
digôs2
 =
NULL
)

4192 
	`‰ì
 (
digôs
);

4193 
out_of_mem‹y
;

4195 i‡(
	`°æí
 (
digôs2
Ë=
¥ecisi⁄
 + 1)

4197 
	`‰ì
 (
digôs
);

4198 
digôs
 = 
digôs2
;

4199 
exp⁄ít
 -= 1;

4202 
	`‰ì
 (
digôs2
);

4206 *
p
++ = 
digôs
[--
ndigôs
];

4207 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4209 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4210 
ndigôs
 > 0)

4212 --
ndigôs
;

4213 *
p
++ = 
digôs
[
ndigôs
];

4217 
	`‰ì
 (
digôs
);

4220 *
p
++ = 
dp
->
c⁄vîsi⁄
;

4221 #i‡
WIDE_CHAR_VERSION


4223 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

4226 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4231 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

4233 *
p
 != '\0')

4234 
p
++;

4237 c⁄° 
decimÆ_f‹m©
[] =

4240 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4245 i‡( (
DCHAR_T
) == 1)

4247 
	`•rötf
 ((*Ë
p
, 
decimÆ_f‹m©
, 
exp⁄ít
);

4248 *
p
 != '\0')

4249 
p
++;

4253 
expbuf
[6 + 1];

4254 c⁄° *
ï
;

4255 
	`•rötf
 (
expbuf
, 
decimÆ_f‹m©
, 
exp⁄ít
);

4256 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

4257 
p
++;

4262 i‡(
dp
->
c⁄vîsi⁄
 == 'g' || dp->conversion == 'G')

4264 i‡(
¥ecisi⁄
 == 0)

4265 
¥ecisi⁄
 = 1;

4268 i‡(
¨g
 == 0.0)

4272 
size_t
 
ndigôs
 = 
¥ecisi⁄
;

4275 
size_t
 
nzî€s
 =

4276 (
Êags
 & 
FLAG_ALT
 ? 0 : 
¥ecisi⁄
 - 1);

4278 --
ndigôs
;

4279 *
p
++ = '0';

4280 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

4282 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4283 
ndigôs
 > 
nzî€s
)

4285 --
ndigôs
;

4286 *
p
++ = '0';

4293 
exp⁄ít
;

4294 
adju°ed
;

4295 *
digôs
;

4296 
size_t
 
ndigôs
;

4297 
size_t
 
nzî€s
;

4299 
exp⁄ít
 = 
	`Êo‹log10
 (
¨g
);

4300 
adju°ed
 = 0;

4303 
digôs
 =

4304 
	`sˇÀ10_round_decimÆ_doubÀ
 (
¨g
,

4305 ()(
¥ecisi⁄
 - 1Ë- 
exp⁄ít
);

4306 i‡(
digôs
 =
NULL
)

4307 
out_of_mem‹y
;

4308 
ndigôs
 = 
	`°æí
 (
digôs
);

4310 i‡(
ndigôs
 =
¥ecisi⁄
)

4312 i‡(
ndigôs
 < 
¥ecisi⁄
 - 1

4313 || 
ndigôs
 > 
¥ecisi⁄
 + 1)

4316 
	`ab‹t
 ();

4317 i‡(
adju°ed
)

4321 
	`ab‹t
 ();

4322 
	`‰ì
 (
digôs
);

4323 i‡(
ndigôs
 < 
¥ecisi⁄
)

4324 
exp⁄ít
 -= 1;

4326 
exp⁄ít
 += 1;

4327 
adju°ed
 = 1;

4330 i‡(
	`is_b‹dîlöe
 (
digôs
, 
¥ecisi⁄
 - 1))

4335 *
digôs2
 =

4336 
	`sˇÀ10_round_decimÆ_doubÀ
 (
¨g
,

4337 ()(
¥ecisi⁄
 - 1Ë- 
exp⁄ít
 + 1);

4338 i‡(
digôs2
 =
NULL
)

4340 
	`‰ì
 (
digôs
);

4341 
out_of_mem‹y
;

4343 i‡(
	`°æí
 (
digôs2
Ë=
¥ecisi⁄
)

4345 
	`‰ì
 (
digôs
);

4346 
digôs
 = 
digôs2
;

4347 
exp⁄ít
 -= 1;

4350 
	`‰ì
 (
digôs2
);

4356 
nzî€s
 = 0;

4357 i‡((
Êags
 & 
FLAG_ALT
) == 0)

4358 
nzî€s
 < 
ndigôs


4359 && 
digôs
[
nzî€s
] == '0')

4360 
nzî€s
++;

4363 i‡(
exp⁄ít
 >= -4

4364 && 
exp⁄ít
 < ()
¥ecisi⁄
)

4370 i‡(
exp⁄ít
 >= 0)

4372 
size_t
 
cou¡
 = 
exp⁄ít
 + 1;

4374 ; 
cou¡
 > 0; count--)

4375 *
p
++ = 
digôs
[--
ndigôs
];

4376 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

4378 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4379 
ndigôs
 > 
nzî€s
)

4381 --
ndigôs
;

4382 *
p
++ = 
digôs
[
ndigôs
];

4388 
size_t
 
cou¡
 = -
exp⁄ít
 - 1;

4389 *
p
++ = '0';

4390 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4391 ; 
cou¡
 > 0; count--)

4392 *
p
++ = '0';

4393 
ndigôs
 > 
nzî€s
)

4395 --
ndigôs
;

4396 *
p
++ = 
digôs
[
ndigôs
];

4403 *
p
++ = 
digôs
[--
ndigôs
];

4404 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
ndigôs
 > 
nzî€s
)

4406 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4407 
ndigôs
 > 
nzî€s
)

4409 --
ndigôs
;

4410 *
p
++ = 
digôs
[
ndigôs
];

4413 *
p
++ = 
dp
->
c⁄vîsi⁄
 - 'G' + 'E';

4414 #i‡
WIDE_CHAR_VERSION


4416 c⁄° 
wch¨_t
 
decimÆ_f‹m©
[] =

4419 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4424 
	`SNPRINTF
 (
p
, 6 + 1, 
decimÆ_f‹m©
, 
exp⁄ít
);

4426 *
p
 != '\0')

4427 
p
++;

4430 c⁄° 
decimÆ_f‹m©
[] =

4433 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4438 i‡( (
DCHAR_T
) == 1)

4440 
	`•rötf
 ((*Ë
p
, 
decimÆ_f‹m©
, 
exp⁄ít
);

4441 *
p
 != '\0')

4442 
p
++;

4446 
expbuf
[6 + 1];

4447 c⁄° *
ï
;

4448 
	`•rötf
 (
expbuf
, 
decimÆ_f‹m©
, 
exp⁄ít
);

4449 
ï
 = 
expbuf
; (*
p
 = *ep) != '\0';Ép++)

4450 
p
++;

4456 
	`‰ì
 (
digôs
);

4460 
	`ab‹t
 ();

4463 i‡(!(
¨g
 == 0.0))

4464 
	`ab‹t
 ();

4466 
∑d_±r
 = 
p
;

4468 i‡(
dp
->
c⁄vîsi⁄
 == 'f' || dp->conversion == 'F')

4470 *
p
++ = '0';

4471 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4473 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4474 ; 
¥ecisi⁄
 > 0;Örecision--)

4475 *
p
++ = '0';

4478 i‡(
dp
->
c⁄vîsi⁄
 == 'e' || dp->conversion == 'E')

4480 *
p
++ = '0';

4481 i‡((
Êags
 & 
FLAG_ALT
Ë|| 
¥ecisi⁄
 > 0)

4483 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4484 ; 
¥ecisi⁄
 > 0;Örecision--)

4485 *
p
++ = '0';

4487 *
p
++ = 
dp
->
c⁄vîsi⁄
;

4488 *
p
++ = '+';

4491 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4492 *
p
++ = '0';

4494 *
p
++ = '0';

4495 *
p
++ = '0';

4497 i‡(
dp
->
c⁄vîsi⁄
 == 'g' || dp->conversion == 'G')

4499 *
p
++ = '0';

4500 i‡(
Êags
 & 
FLAG_ALT
)

4502 
size_t
 
ndigôs
 =

4503 (
¥ecisi⁄
 > 0 ?Örecision - 1 : 0);

4504 *
p
++ = 
	`decimÆ_poöt_ch¨
 ();

4505 ; 
ndigôs
 > 0; --ndigits)

4506 *
p
++ = '0';

4510 
	`ab‹t
 ();

4519 i‡(
has_width
 && 
p
 - 
tmp
 < 
width
)

4521 
size_t
 
∑d
 = 
width
 - (
p
 - 
tmp
);

4522 
DCHAR_T
 *
íd
 = 
p
 + 
∑d
;

4524 i‡(
Êags
 & 
FLAG_LEFT
)

4527 ; 
∑d
 > 0;Öad--)

4528 *
p
++ = ' ';

4530 i‡((
Êags
 & 
FLAG_ZERO
Ë&& 
∑d_±r
 !
NULL
)

4533 
DCHAR_T
 *
q
 = 
íd
;

4535 
p
 > 
∑d_±r
)

4536 *--
q
 = *--
p
;

4537 ; 
∑d
 > 0;Öad--)

4538 *
p
++ = '0';

4543 
DCHAR_T
 *
q
 = 
íd
;

4545 
p
 > 
tmp
)

4546 *--
q
 = *--
p
;

4547 ; 
∑d
 > 0;Öad--)

4548 *
p
++ = ' ';

4551 
p
 = 
íd
;

4555 
size_t
 
cou¡
 = 
p
 - 
tmp
;

4557 i‡(
cou¡
 >
tmp_Àngth
)

4560 
	`ab‹t
 ();

4563 i‡(
cou¡
 >
Æloˇãd
 - 
Àngth
)

4565 
size_t
 
n
 = 
	`xsum
 (
Àngth
, 
cou¡
);

4567 
	`ENSURE_ALLOCATION
 (
n
);

4571 
	`mem˝y
 (
ªsu…
 + 
Àngth
, 
tmp
, 
cou¡
 *  (
DCHAR_T
));

4572 i‡(
tmp
 !
tmpbuf
)

4573 
	`‰ì
 (
tmp
);

4574 
Àngth
 +
cou¡
;

4580 
¨g_ty≥
 
ty≥
 = 
a
.
¨g
[
dp
->
¨g_ödex
].type;

4581 
Êags
 = 
dp
->flags;

4582 #i‡!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
 || !
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO
 || 
NEED_PRINTF_FLAG_LEFTADJUST
 || 
NEED_PRINTF_FLAG_ZERO
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


4583 
has_width
;

4584 
size_t
 
width
;

4586 #i‡!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


4587 
has_¥ecisi⁄
;

4588 
size_t
 
¥ecisi⁄
;

4590 #i‡
NEED_PRINTF_UNBOUNDED_PRECISION


4591 
¥ec_our£lves
;

4593 
	#¥ec_our£lves
 0

	)

4595 #i‡
NEED_PRINTF_FLAG_LEFTADJUST


4596 
	#∑d_our£lves
 1

	)

4597 #ñi‡!
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO
 || 
NEED_PRINTF_FLAG_ZERO
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


4598 
∑d_our£lves
;

4600 
	#∑d_our£lves
 0

	)

4602 
TCHAR_T
 *
fbp
;

4603 
¥efix_cou¡
;

4604 
¥efixes
[2] 
	`IF_LINT
 (= { 0 });

4605 
‹ig_î∫o
;

4606 #i‡!
USE_SNPRINTF


4607 
size_t
 
tmp_Àngth
;

4608 
TCHAR_T
 
tmpbuf
[700];

4609 
TCHAR_T
 *
tmp
;

4612 #i‡!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
 || !
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO
 || 
NEED_PRINTF_FLAG_LEFTADJUST
 || 
NEED_PRINTF_FLAG_ZERO
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


4613 
has_width
 = 0;

4614 
width
 = 0;

4615 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

4617 i‡(
dp
->
width_¨g_ödex
 !
ARG_NONE
)

4619 
¨g
;

4621 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

4622 
	`ab‹t
 ();

4623 
¨g
 = 
a
.¨g[
dp
->
width_¨g_ödex
].a.
a_öt
;

4624 i‡(
¨g
 < 0)

4628 
Êags
 |
FLAG_LEFT
;

4629 
width
 = (Ë(-
¨g
);

4632 
width
 = 
¨g
;

4636 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
width_°¨t
;

4639 
width
 = 
	`xsum
 (
	`xtimes
 (width, 10), *
digôp
++ - '0');

4640 
digôp
 !
dp
->
width_íd
);

4642 
has_width
 = 1;

4646 #i‡!
USE_SNPRINTF
 || !
HAVE_SNPRINTF_RETVAL_C99
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


4647 
has_¥ecisi⁄
 = 0;

4648 
¥ecisi⁄
 = 6;

4649 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

4651 i‡(
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

4653 
¨g
;

4655 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

4656 
	`ab‹t
 ();

4657 
¨g
 = 
a
.¨g[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

4660 i‡(
¨g
 >= 0)

4662 
¥ecisi⁄
 = 
¨g
;

4663 
has_¥ecisi⁄
 = 1;

4668 c⁄° 
FCHAR_T
 *
digôp
 = 
dp
->
¥ecisi⁄_°¨t
 + 1;

4670 
¥ecisi⁄
 = 0;

4671 
digôp
 !
dp
->
¥ecisi⁄_íd
)

4672 
¥ecisi⁄
 = 
	`xsum
 (
	`xtimes
 (¥ecisi⁄, 10), *
digôp
++ - '0');

4673 
has_¥ecisi⁄
 = 1;

4679 #i‡
NEED_PRINTF_UNBOUNDED_PRECISION


4680 
dp
->
c⁄vîsi⁄
)

4685 
¥ec_our£lves
 = 
has_¥ecisi⁄
 && (
¥ecisi⁄
 > 0);

4688 
¥ec_our£lves
 = 0;

4694 #i‡!
NEED_PRINTF_FLAG_LEFTADJUST
 && (!
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO
 || 
NEED_PRINTF_FLAG_ZERO
 || 
NEED_PRINTF_UNBOUNDED_PRECISION
)

4695 
dp
->
c⁄vîsi⁄
)

4697 #i‡!
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO


4704 #i‡
NEED_PRINTF_FLAG_ZERO


4708 
∑d_our£lves
 = 1;

4711 
∑d_our£lves
 = 
¥ec_our£lves
;

4716 #i‡!
USE_SNPRINTF


4719 
tmp_Àngth
 =

4720 
	`MAX_ROOM_NEEDED
 (&
a
, 
dp
->
¨g_ödex
, dp->
c⁄vîsi⁄
, 
ty≥
,

4721 
Êags
, 
width
, 
has_¥ecisi⁄
, 
¥ecisi⁄
,

4722 
∑d_our£lves
);

4724 i‡(
tmp_Àngth
 < (
tmpbuf
Ë/  (
TCHAR_T
))

4725 
tmp
 = 
tmpbuf
;

4728 
size_t
 
tmp_memsize
 = 
	`xtimes
 (
tmp_Àngth
,  (
TCHAR_T
));

4730 i‡(
	`size_ovîÊow_p
 (
tmp_memsize
))

4732 
out_of_mem‹y
;

4733 
tmp
 = (
TCHAR_T
 *Ë
	`mÆloc
 (
tmp_memsize
);

4734 i‡(
tmp
 =
NULL
)

4736 
out_of_mem‹y
;

4742 
fbp
 = 
buf
;

4743 *
fbp
++ = '%';

4744 #i‡
NEED_PRINTF_FLAG_GROUPING


4749 i‡(
Êags
 & 
FLAG_GROUP
)

4750 *
fbp
++ = '\'';

4752 i‡(
Êags
 & 
FLAG_LEFT
)

4753 *
fbp
++ = '-';

4754 i‡(
Êags
 & 
FLAG_SHOWSIGN
)

4755 *
fbp
++ = '+';

4756 i‡(
Êags
 & 
FLAG_SPACE
)

4757 *
fbp
++ = ' ';

4758 i‡(
Êags
 & 
FLAG_ALT
)

4759 *
fbp
++ = '#';

4760 #i‡
__GLIBC__
 >2 && !
deföed
 
__UCLIBC__


4761 i‡(
Êags
 & 
FLAG_LOCALIZED
)

4762 *
fbp
++ = 'I';

4764 i‡(!
∑d_our£lves
)

4766 i‡(
Êags
 & 
FLAG_ZERO
)

4767 *
fbp
++ = '0';

4768 i‡(
dp
->
width_°¨t
 !dp->
width_íd
)

4770 
size_t
 
n
 = 
dp
->
width_íd
 - dp->
width_°¨t
;

4773 i‡( (
FCHAR_T
Ë= (
TCHAR_T
))

4775 
	`mem˝y
 (
fbp
, 
dp
->
width_°¨t
, 
n
 *  (
TCHAR_T
));

4776 
fbp
 +
n
;

4780 c⁄° 
FCHAR_T
 *
mp
 = 
dp
->
width_°¨t
;

4782 *
fbp
++ = (Ë*
mp
++;

4783 --
n
 > 0);

4787 i‡(!
¥ec_our£lves
)

4789 i‡(
dp
->
¥ecisi⁄_°¨t
 !dp->
¥ecisi⁄_íd
)

4791 
size_t
 
n
 = 
dp
->
¥ecisi⁄_íd
 - dp->
¥ecisi⁄_°¨t
;

4794 i‡( (
FCHAR_T
Ë= (
TCHAR_T
))

4796 
	`mem˝y
 (
fbp
, 
dp
->
¥ecisi⁄_°¨t
, 
n
 *  (
TCHAR_T
));

4797 
fbp
 +
n
;

4801 c⁄° 
FCHAR_T
 *
mp
 = 
dp
->
¥ecisi⁄_°¨t
;

4803 *
fbp
++ = (Ë*
mp
++;

4804 --
n
 > 0);

4809 
ty≥
)

4811 #i‡
HAVE_LONG_LONG_INT


4812 
TYPE_LONGLONGINT
:

4813 
TYPE_ULONGLONGINT
:

4814 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


4815 *
fbp
++ = 'I';

4816 *
fbp
++ = '6';

4817 *
fbp
++ = '4';

4820 *
fbp
++ = 'l';

4824 
TYPE_LONGINT
:

4825 
TYPE_ULONGINT
:

4826 #i‡
HAVE_WINT_T


4827 
TYPE_WIDE_CHAR
:

4829 #i‡
HAVE_WCHAR_T


4830 
TYPE_WIDE_STRING
:

4832 *
fbp
++ = 'l';

4834 
TYPE_LONGDOUBLE
:

4835 *
fbp
++ = 'L';

4840 #i‡
NEED_PRINTF_DIRECTIVE_F


4841 i‡(
dp
->
c⁄vîsi⁄
 == 'F')

4842 *
fbp
 = 'f';

4845 *
fbp
 = 
dp
->
c⁄vîsi⁄
;

4846 #i‡
USE_SNPRINTF


4847 #i‡!(((
__GLIBC__
 > 2 || (__GLIBC__ =2 && 
__GLIBC_MINOR__
 >3)Ë&& !
deföed
 
__UCLIBC__
Ë|| ((deföed 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__
))

4848 
fbp
[1] = '%';

4849 
fbp
[2] = 'n';

4850 
fbp
[3] = '\0';

4876 
fbp
[1] = '\0';

4879 
fbp
[1] = '\0';

4883 
¥efix_cou¡
 = 0;

4884 i‡(!
∑d_our£lves
 && 
dp
->
width_¨g_ödex
 !
ARG_NONE
)

4886 i‡(!(
a
.
¨g
[
dp
->
width_¨g_ödex
].
ty≥
 =
TYPE_INT
))

4887 
	`ab‹t
 ();

4888 
¥efixes
[
¥efix_cou¡
++] = 
a
.
¨g
[
dp
->
width_¨g_ödex
].a.
a_öt
;

4890 i‡(!
¥ec_our£lves
 && 
dp
->
¥ecisi⁄_¨g_ödex
 !
ARG_NONE
)

4892 i‡(!(
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].
ty≥
 =
TYPE_INT
))

4893 
	`ab‹t
 ();

4894 
¥efixes
[
¥efix_cou¡
++] = 
a
.
¨g
[
dp
->
¥ecisi⁄_¨g_ödex
].a.
a_öt
;

4897 #i‡
USE_SNPRINTF


4903 
	#TCHARS_PER_DCHAR
 ( (
DCHAR_T
Ë/  (
TCHAR_T
))

	)

4906 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
,

4907 (2 + 
TCHARS_PER_DCHAR
 - 1)

4908 / 
TCHARS_PER_DCHAR
));

4911 *(
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
) = '\0';

4914 
‹ig_î∫o
 = 
î∫o
;

4918 
cou¡
 = -1;

4920 #i‡
USE_SNPRINTF


4921 
ªtcou¡
 = 0;

4922 
size_t
 
maxÀn
 = 
Æloˇãd
 - 
Àngth
;

4925 i‡(
maxÀn
 > 
INT_MAX
 / 
TCHARS_PER_DCHAR
)

4926 
maxÀn
 = 
INT_MAX
 / 
TCHARS_PER_DCHAR
;

4927 
maxÀn
 = maxÀ¿* 
TCHARS_PER_DCHAR
;

4928 
	#SNPRINTF_BUF
(
¨g
) \

4929 
¥efix_cou¡
) \

4932 
ªtcou¡
 = 
	`SNPRINTF
 ((
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
), \

4933 
maxÀn
, 
buf
, \

4934 
¨g
, &
cou¡
); \

4937 
ªtcou¡
 = 
	`SNPRINTF
 ((
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
), \

4938 
maxÀn
, 
buf
, \

4939 
¥efixes
[0], 
¨g
, &
cou¡
); \

4942 
ªtcou¡
 = 
	`SNPRINTF
 ((
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
), \

4943 
maxÀn
, 
buf
, \

4944 
¥efixes
[0],Öªfixes[1], 
¨g
, \

4945 &
cou¡
); \

4948 
	`ab‹t
 (); \

4949 }

	)

4951 
	#SNPRINTF_BUF
(
¨g
) \

4952 
¥efix_cou¡
) \

4955 
cou¡
 = 
	`•rötf
 (
tmp
, 
buf
, 
¨g
); \

4958 
cou¡
 = 
	`•rötf
 (
tmp
, 
buf
, 
¥efixes
[0], 
¨g
); \

4961 
cou¡
 = 
	`•rötf
 (
tmp
, 
buf
, 
¥efixes
[0],Örefixes[1],\

4962 
¨g
); \

4965 
	`ab‹t
 (); \

4966 }

	)

4969 
î∫o
 = 0;

4970 
ty≥
)

4972 
TYPE_SCHAR
:

4974 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_sch¨
;

4975 
	`SNPRINTF_BUF
 (
¨g
);

4978 
TYPE_UCHAR
:

4980 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_uch¨
;

4981 
	`SNPRINTF_BUF
 (
¨g
);

4984 
TYPE_SHORT
:

4986 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_sh‹t
;

4987 
	`SNPRINTF_BUF
 (
¨g
);

4990 
TYPE_USHORT
:

4992 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_ush‹t
;

4993 
	`SNPRINTF_BUF
 (
¨g
);

4996 
TYPE_INT
:

4998 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_öt
;

4999 
	`SNPRINTF_BUF
 (
¨g
);

5002 
TYPE_UINT
:

5004 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_uöt
;

5005 
	`SNPRINTF_BUF
 (
¨g
);

5008 
TYPE_LONGINT
:

5010 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄göt
;

5011 
	`SNPRINTF_BUF
 (
¨g
);

5014 
TYPE_ULONGINT
:

5016 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_ul⁄göt
;

5017 
	`SNPRINTF_BUF
 (
¨g
);

5020 #i‡
HAVE_LONG_LONG_INT


5021 
TYPE_LONGLONGINT
:

5023 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄gl⁄göt
;

5024 
	`SNPRINTF_BUF
 (
¨g
);

5027 
TYPE_ULONGLONGINT
:

5029 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_ul⁄gl⁄göt
;

5030 
	`SNPRINTF_BUF
 (
¨g
);

5034 
TYPE_DOUBLE
:

5036 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_doubÀ
;

5037 
	`SNPRINTF_BUF
 (
¨g
);

5040 
TYPE_LONGDOUBLE
:

5042 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_l⁄gdoubÀ
;

5043 
	`SNPRINTF_BUF
 (
¨g
);

5046 
TYPE_CHAR
:

5048 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_ch¨
;

5049 
	`SNPRINTF_BUF
 (
¨g
);

5052 #i‡
HAVE_WINT_T


5053 
TYPE_WIDE_CHAR
:

5055 
wöt_t
 
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_wide_ch¨
;

5056 
	`SNPRINTF_BUF
 (
¨g
);

5060 
TYPE_STRING
:

5062 c⁄° *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_°rög
;

5063 
	`SNPRINTF_BUF
 (
¨g
);

5066 #i‡
HAVE_WCHAR_T


5067 
TYPE_WIDE_STRING
:

5069 c⁄° 
wch¨_t
 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_wide_°rög
;

5070 
	`SNPRINTF_BUF
 (
¨g
);

5074 
TYPE_POINTER
:

5076 *
¨g
 = 
a
.¨g[
dp
->
¨g_ödex
].a.
a_poöãr
;

5077 
	`SNPRINTF_BUF
 (
¨g
);

5081 
	`ab‹t
 ();

5084 #i‡
USE_SNPRINTF


5089 i‡(
cou¡
 >= 0)

5093 i‡(
cou¡
 < 
maxÀn


5094 && ((
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
)Ë[
cou¡
] != '\0')

5095 
	`ab‹t
 ();

5097 i‡(
ªtcou¡
 > 
cou¡
)

5098 
cou¡
 = 
ªtcou¡
;

5104 i‡(
fbp
[1] != '\0')

5108 
fbp
[1] = '\0';

5114 i‡(
ªtcou¡
 < 0)

5116 #i‡!
HAVE_SNPRINTF_RETVAL_C99


5127 
size_t
 
tmp_Àngth
 =

5128 
	`MAX_ROOM_NEEDED
 (&
a
, 
dp
->
¨g_ödex
,

5129 
dp
->
c⁄vîsi⁄
, 
ty≥
, 
Êags
,

5130 
width
, 
has_¥ecisi⁄
,

5131 
¥ecisi⁄
, 
∑d_our£lves
);

5133 i‡(
maxÀn
 < 
tmp_Àngth
)

5137 
size_t
 
biggî_√ed
 =

5138 
	`xsum
 (
Àngth
,

5139 
	`xsum
 (
tmp_Àngth
,

5140 
TCHARS_PER_DCHAR
 - 1)

5141 / 
TCHARS_PER_DCHAR
);

5146 
size_t
 
biggî_√ed2
 =

5147 
	`xsum
 (
	`xtimes
 (
Æloˇãd
, 2), 12);

5148 i‡(
biggî_√ed
 < 
biggî_√ed2
)

5149 
biggî_√ed
 = 
biggî_√ed2
;

5150 
	`ENSURE_ALLOCATION
 (
biggî_√ed
);

5156 
cou¡
 = 
ªtcou¡
;

5162 i‡(
cou¡
 < 0)

5166 
ßved_î∫o
 = 
î∫o
;

5168 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

5169 
	`‰ì
 (
ªsu…
);

5170 i‡(
buf_mÆlo˚d
 !
NULL
)

5171 
	`‰ì
 (
buf_mÆlo˚d
);

5172 
	`CLEANUP
 ();

5173 
î∫o
 =

5174 (
ßved_î∫o
 != 0

5175 ? 
ßved_î∫o


5176 : (
dp
->
c⁄vîsi⁄
 == 'c' || dp->conversion == 's'

5177 ? 
EILSEQ


5178 : 
EINVAL
));

5179  
NULL
;

5182 #i‡
USE_SNPRINTF


5188 i‡((Ë
cou¡
 + 1 >
maxÀn
)

5193 i‡(
maxÀn
 =
INT_MAX
 / 
TCHARS_PER_DCHAR
)

5194 
ovîÊow
;

5206 
size_t
 
n
 =

5207 
	`xmax
 (
	`xsum
 (
Àngth
,

5208 ((Ë
cou¡
 + 2

5209 + 
TCHARS_PER_DCHAR
 - 1)

5210 / 
TCHARS_PER_DCHAR
),

5211 
	`xtimes
 (
Æloˇãd
, 2));

5213 
	`ENSURE_ALLOCATION
 (
n
);

5219 #i‡
NEED_PRINTF_UNBOUNDED_PRECISION


5220 i‡(
¥ec_our£lves
)

5223 
TCHAR_T
 *
¥ec_±r
 =

5224 #i‡
USE_SNPRINTF


5225 (
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
);

5227 
tmp
;

5229 
size_t
 
¥efix_cou¡
;

5230 
size_t
 
move
;

5232 
¥efix_cou¡
 = 0;

5234 i‡(
cou¡
 >= 1

5235 && (*
¥ec_±r
 == '-' || *prec_ptr == '+'

5236 || *
¥ec_±r
 == ' '))

5237 
¥efix_cou¡
 = 1;

5240 i‡(
cou¡
 >= 2

5241 && 
¥ec_±r
[0] == '0'

5242 && (
¥ec_±r
[1] == 'x' ||Örec_ptr[1] == 'X'))

5243 
¥efix_cou¡
 = 2;

5245 
move
 = 
cou¡
 - 
¥efix_cou¡
;

5246 i‡(
¥ecisi⁄
 > 
move
)

5249 
size_t
 
ö£π
 = 
¥ecisi⁄
 - 
move
;

5250 
TCHAR_T
 *
¥ec_íd
;

5252 #i‡
USE_SNPRINTF


5253 
size_t
 
n
 =

5254 
	`xsum
 (
Àngth
,

5255 (
cou¡
 + 
ö£π
 + 
TCHARS_PER_DCHAR
 - 1)

5256 / 
TCHARS_PER_DCHAR
);

5257 
Àngth
 +(
cou¡
 + 
TCHARS_PER_DCHAR
 - 1) / TCHARS_PER_DCHAR;

5258 
	`ENSURE_ALLOCATION
 (
n
);

5259 
Àngth
 -(
cou¡
 + 
TCHARS_PER_DCHAR
 - 1) / TCHARS_PER_DCHAR;

5260 
¥ec_±r
 = (
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
);

5263 
¥ec_íd
 = 
¥ec_±r
 + 
cou¡
;

5264 
¥ec_±r
 +
¥efix_cou¡
;

5266 
¥ec_íd
 > 
¥ec_±r
)

5268 
¥ec_íd
--;

5269 
¥ec_íd
[
ö£π
] =Örec_end[0];

5272 
¥ec_íd
 +
ö£π
;

5274 *--
¥ec_íd
 = '0';

5275 
¥ec_íd
 > 
¥ec_±r
);

5277 
cou¡
 +
ö£π
;

5282 #i‡!
USE_SNPRINTF


5283 i‡(
cou¡
 >
tmp_Àngth
)

5286 
	`ab‹t
 ();

5289 #i‡!
DCHAR_IS_TCHAR


5291 i‡(
dp
->
c⁄vîsi⁄
 == 'c' || dp->conversion == 's')

5296 c⁄° 
TCHAR_T
 *
tmp§c
;

5297 
DCHAR_T
 *
tmpd°
;

5298 
size_t
 
tmpd°_Àn
;

5300 
	`vîify
 ( (
TCHAR_T
) == 1);

5301 #i‡
USE_SNPRINTF


5302 
tmp§c
 = (
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
);

5304 
tmp§c
 = 
tmp
;

5306 
tmpd°
 =

5307 
	`DCHAR_CONV_FROM_ENCODING
 (
	`loˇÀ_ch¨£t
 (),

5308 
ic⁄veh_que°i⁄_m¨k
,

5309 
tmp§c
, 
cou¡
,

5310 
NULL
,

5311 
NULL
, &
tmpd°_Àn
);

5312 i‡(
tmpd°
 =
NULL
)

5314 
ßved_î∫o
 = 
î∫o
;

5315 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

5316 
	`‰ì
 (
ªsu…
);

5317 i‡(
buf_mÆlo˚d
 !
NULL
)

5318 
	`‰ì
 (
buf_mÆlo˚d
);

5319 
	`CLEANUP
 ();

5320 
î∫o
 = 
ßved_î∫o
;

5321  
NULL
;

5323 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
tmpd°_Àn
));

5324 
	`DCHAR_CPY
 (
ªsu…
 + 
Àngth
, 
tmpd°
, 
tmpd°_Àn
);

5325 
	`‰ì
 (
tmpd°
);

5326 
cou¡
 = 
tmpd°_Àn
;

5332 #i‡
USE_SNPRINTF


5336 i‡( (
DCHAR_T
Ë! (
TCHAR_T
))

5339 c⁄° 
TCHAR_T
 *
tmp§c
;

5340 
DCHAR_T
 *
tmpd°
;

5341 
size_t
 
n
;

5343 #i‡
USE_SNPRINTF


5344 i‡(
ªsu…
 =
ªsu…buf
)

5346 
tmp§c
 = (
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
);

5349 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
cou¡
));

5355 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
cou¡
));

5356 
tmp§c
 = (
TCHAR_T
 *Ë(
ªsu…
 + 
Àngth
);

5359 
tmp§c
 = 
tmp
;

5360 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 
cou¡
));

5362 
tmpd°
 = 
ªsu…
 + 
Àngth
;

5364 
tmp§c
 +
cou¡
;

5365 
tmpd°
 +
cou¡
;

5366 
n
 = 
cou¡
;Ç > 0;Ç--)

5367 *--
tmpd°
 = (Ë*--
tmp§c
;

5372 #i‡
DCHAR_IS_TCHAR
 && !
USE_SNPRINTF


5374 i‡(
cou¡
 > 
Æloˇãd
 - 
Àngth
)

5378 
size_t
 
n
 =

5379 
	`xmax
 (
	`xsum
 (
Àngth
, 
cou¡
), 
	`xtimes
 (
Æloˇãd
, 2));

5381 
	`ENSURE_ALLOCATION
 (
n
);

5388 #i‡!
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO
 || 
NEED_PRINTF_FLAG_LEFTADJUST
 || 
NEED_PRINTF_FLAG_ZERO
 || 
NEED_PRINTF_UNBOUNDED_PRECISION


5389 i‡(
∑d_our£lves
 && 
has_width
)

5391 
size_t
 
w
;

5392 #i‡
ENABLE_UNISTDIO


5396 
w
 = 
	`DCHAR_MBSNLEN
 (
ªsu…
 + 
Àngth
, 
cou¡
);

5400 
w
 = 
cou¡
;

5402 i‡(
w
 < 
width
)

5404 
size_t
 
∑d
 = 
width
 - 
w
;

5407 i‡(
	`xsum
 (
cou¡
, 
∑d
Ë> 
Æloˇãd
 - 
Àngth
)

5411 
size_t
 
n
 =

5412 
	`xmax
 (
	`xsum3
 (
Àngth
, 
cou¡
, 
∑d
),

5413 
	`xtimes
 (
Æloˇãd
, 2));

5415 #i‡
USE_SNPRINTF


5416 
Àngth
 +
cou¡
;

5417 
	`ENSURE_ALLOCATION
 (
n
);

5418 
Àngth
 -
cou¡
;

5420 
	`ENSURE_ALLOCATION
 (
n
);

5426 #i‡!
DCHAR_IS_TCHAR
 || 
USE_SNPRINTF


5427 
DCHAR_T
 * c⁄° 
Ω
 = 
ªsu…
 + 
Àngth
;

5429 
DCHAR_T
 * c⁄° 
Ω
 = 
tmp
;

5431 
DCHAR_T
 *
p
 = 
Ω
 + 
cou¡
;

5432 
DCHAR_T
 *
íd
 = 
p
 + 
∑d
;

5433 
DCHAR_T
 *
∑d_±r
;

5434 #i‡!
DCHAR_IS_TCHAR
 || 
ENABLE_UNISTDIO


5435 i‡(
dp
->
c⁄vîsi⁄
 == 'c'

5436 || 
dp
->
c⁄vîsi⁄
 == 's')

5438 
∑d_±r
 = 
NULL
;

5442 
∑d_±r
 = (*
Ω
 == '-' ?Ñp + 1 :Ñp);

5444 i‡((*
∑d_±r
 >= 'A' && *pad_ptr <= 'Z')

5445 || (*
∑d_±r
 >= 'a' && *pad_ptr <= 'z'))

5446 
∑d_±r
 = 
NULL
;

5452 
cou¡
 = cou¡ + 
∑d
;

5454 i‡(
Êags
 & 
FLAG_LEFT
)

5457 ; 
∑d
 > 0;Öad--)

5458 *
p
++ = ' ';

5460 i‡((
Êags
 & 
FLAG_ZERO
Ë&& 
∑d_±r
 !
NULL
)

5463 
DCHAR_T
 *
q
 = 
íd
;

5465 
p
 > 
∑d_±r
)

5466 *--
q
 = *--
p
;

5467 ; 
∑d
 > 0;Öad--)

5468 *
p
++ = '0';

5473 
DCHAR_T
 *
q
 = 
íd
;

5475 
p
 > 
Ω
)

5476 *--
q
 = *--
p
;

5477 ; 
∑d
 > 0;Öad--)

5478 *
p
++ = ' ';

5487 #i‡!
DCHAR_IS_TCHAR
 || 
USE_SNPRINTF


5491 
	`mem˝y
 (
ªsu…
 + 
Àngth
, 
tmp
, 
cou¡
 *  (
DCHAR_T
));

5493 #i‡!
USE_SNPRINTF


5494 i‡(
tmp
 !
tmpbuf
)

5495 
	`‰ì
 (
tmp
);

5498 #i‡
NEED_PRINTF_DIRECTIVE_F


5499 i‡(
dp
->
c⁄vîsi⁄
 == 'F')

5502 
DCHAR_T
 *
Ω
 = 
ªsu…
 + 
Àngth
;

5503 
size_t
 
rc
;

5504 
rc
 = 
cou¡
;Ñ¯> 0;Ñc--, 
Ω
++)

5505 i‡(*
Ω
 >= 'a' && *rp <= 'z')

5506 *
Ω
 = *rp - 'a' + 'A';

5510 
Àngth
 +
cou¡
;

5513 
î∫o
 = 
‹ig_î∫o
;

5514 #unde‡
∑d_our£lves


5515 #unde‡
¥ec_our£lves


5521 
	`ENSURE_ALLOCATION
 (
	`xsum
 (
Àngth
, 1));

5522 
ªsu…
[
Àngth
] = '\0';

5524 i‡(
ªsu…
 !
ªsu…buf
 && 
Àngth
 + 1 < 
Æloˇãd
)

5527 
DCHAR_T
 *
mem‹y
;

5529 
mem‹y
 = (
DCHAR_T
 *Ë
	`ªÆloc
 (
ªsu…
, (
Àngth
 + 1) *  (DCHAR_T));

5530 i‡(
mem‹y
 !
NULL
)

5531 
ªsu…
 = 
mem‹y
;

5534 i‡(
buf_mÆlo˚d
 !
NULL
)

5535 
	`‰ì
 (
buf_mÆlo˚d
);

5536 
	`CLEANUP
 ();

5537 *
Àngthp
 = 
Àngth
;

5542  
ªsu…
;

5544 #i‡
USE_SNPRINTF


5545 
ovîÊow
:

5546 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

5547 
	`‰ì
 (
ªsu…
);

5548 i‡(
buf_mÆlo˚d
 !
NULL
)

5549 
	`‰ì
 (
buf_mÆlo˚d
);

5550 
	`CLEANUP
 ();

5551 
î∫o
 = 
EOVERFLOW
;

5552  
NULL
;

5555 
out_of_mem‹y
:

5556 i‡(!(
ªsu…
 =
ªsu…buf
 ||Ñesu… =
NULL
))

5557 
	`‰ì
 (
ªsu…
);

5558 i‡(
buf_mÆlo˚d
 !
NULL
)

5559 
	`‰ì
 (
buf_mÆlo˚d
);

5560 
out_of_mem‹y_1
:

5561 
	`CLEANUP
 ();

5562 
î∫o
 = 
ENOMEM
;

5563  
NULL
;

5565 
	}
}

5567 #unde‡
MAX_ROOM_NEEDED


5568 #unde‡
TCHARS_PER_DCHAR


5569 #unde‡
SNPRINTF


5570 #unde‡
USE_SNPRINTF


5571 #unde‡
DCHAR_SET


5572 #unde‡
DCHAR_CPY


5573 #unde‡
PRINTF_PARSE


5574 #unde‡
DIRECTIVES


5575 #unde‡
DIRECTIVE


5576 #unde‡
DCHAR_IS_TCHAR


5577 #unde‡
TCHAR_T


5578 #unde‡
DCHAR_T


5579 #unde‡
FCHAR_T


5580 #unde‡
VASNPRINTF


	@lib/vasnprintf.h

20 #i‚de‡
_VASNPRINTF_H


21 
	#_VASNPRINTF_H


	)

24 
	~<°d¨g.h
>

27 
	~<°ddef.h
>

35 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 7)

36 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë
	`__©åibuã__
 ((
__f‹m©__
 s≥c))

	)

38 
	#_GL_ATTRIBUTE_FORMAT
(
•ec
Ë

	)

41 #ifde‡
__˝lu•lus


69 #i‡
REPLACE_VASNPRINTF


70 
	#a¢¥ötf
 
Ωl_a¢¥ötf


	)

71 
	#va¢¥ötf
 
Ωl_va¢¥ötf


	)

73 * 
a¢¥ötf
 (*
ªsu…buf
, 
size_t
 *
Àngthp
, c⁄° *
f‹m©
, ...)

74 
_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 3, 4));

75 * 
va¢¥ötf
 (*
ªsu…buf
, 
size_t
 *
Àngthp
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

76 
_GL_ATTRIBUTE_FORMAT
 ((
__¥ötf__
, 3, 0));

78 #ifde‡
__˝lu•lus


	@lib/vasprintf.c

20 
	~<c⁄fig.h
>

23 #ifde‡
IN_LIBASPRINTF


24 
	~"va•rötf.h
"

26 
	~<°dio.h
>

29 
	~<î∫o.h
>

30 
	~<limôs.h
>

31 
	~<°dlib.h
>

33 
	~"va¢¥ötf.h
"

36 
	$va•rötf
 (**
ªsu…p
, c⁄° *
f‹m©
, 
va_li°
 
¨gs
)

38 
size_t
 
Àngth
;

39 *
ªsu…
 = 
	`va¢¥ötf
 (
NULL
, &
Àngth
, 
f‹m©
, 
¨gs
);

40 i‡(
ªsu…
 =
NULL
)

43 i‡(
Àngth
 > 
INT_MAX
)

45 
	`‰ì
 (
ªsu…
);

46 
î∫o
 = 
EOVERFLOW
;

50 *
ªsu…p
 = 
ªsu…
;

52  
Àngth
;

53 
	}
}

	@lib/verify.h

20 #i‚de‡
_GL_VERIFY_H


21 
	#_GL_VERIFY_H


	)

36 #i‡(4 < 
__GNUC__
 || (__GNUC__ =4 && 6 <
__GNUC_MINOR__
)Ë&& !
deföed
 
__˝lu•lus


37 
	#_GL_HAVE__STATIC_ASSERT
 1

	)

41 #i‡(99 < 
__GNUC__
Ë&& 
deföed
 
__˝lu•lus


42 
	#_GL_HAVE_STATIC_ASSERT
 1

	)

142 
	#_GL_CONCAT
(
x
, 
y
Ë
	`_GL_CONCAT0
 (x, y)

	)

143 
	#_GL_CONCAT0
(
x
, 
y
Ëx##
	)
y

149 #i‡
deföed
 
__COUNTER__
 && __COUNTER__ != __COUNTER__

150 
	#_GL_COUNTER
 
__COUNTER__


	)

152 
	#_GL_COUNTER
 
__LINE__


	)

157 
	#_GL_GENSYM
(
¥efix
Ë
	`_GL_CONCAT
 (¥efix, 
_GL_COUNTER
)

	)

163 
	#_GL_VERIFY_TRUE
(
R
, 
DIAGNOSTIC
) \

164 (!! (
	`_GL_VERIFY_TYPE
 (
R
, 
DIAGNOSTIC
)))

	)

166 #ifde‡
__˝lu•lus


167 #i‡!
GNULIB_deföed_°ru˘__gl_vîify_ty≥


168 
	gãm∂©e
 <
	gw
>

169 
	s_gl_vîify_ty≥
 {

170 
	m_gl_vîify_îr‹_if_√g©ive
: 
w
;

172 
	#GNULIB_deföed_°ru˘__gl_vîify_ty≥
 1

	)

174 
	#_GL_VERIFY_TYPE
(
R
, 
DIAGNOSTIC
) \

175 
_gl_vîify_ty≥
<(
R
Ë? 1 : -1>

	)

176 #ñi‡
deföed
 
_GL_HAVE__STATIC_ASSERT


177 
	#_GL_VERIFY_TYPE
(
R
, 
DIAGNOSTIC
) \

179 
	`_Sètic_as£π
 (
R
, 
DIAGNOSTIC
); \

180 
_gl_dummy
; \

181 }

	)

183 
	#_GL_VERIFY_TYPE
(
R
, 
DIAGNOSTIC
) \

184 °ru˘ { 
_gl_vîify_îr‹_if_√g©ive
: (
R
Ë? 1 : -1; }

	)

194 #ifde‡
_GL_HAVE__STATIC_ASSERT


195 
	#_GL_VERIFY
 
_Sètic_as£π


	)

197 
	#_GL_VERIFY
(
R
, 
DIAGNOSTIC
) \

198 (*
	`_GL_GENSYM
 (
_gl_vîify_fun˘i⁄
) ()) \

199 [
	`_GL_VERIFY_TRUE
 (
R
, 
DIAGNOSTIC
)]

	)

203 #ifde‡
_GL_STATIC_ASSERT_H


204 #i‡!
deföed
 
_GL_HAVE__STATIC_ASSERT
 && !deföed 
_Sètic_as£π


205 
	#_Sètic_as£π
(
R
, 
DIAGNOSTIC
Ë
	`_GL_VERIFY
 (R, DIAGNOSTIC)

	)

207 #i‡!
deföed
 
_GL_HAVE_STATIC_ASSERT
 && !deföed 
°©ic_as£π


208 
	#°©ic_as£π
 
_Sètic_as£π


	)

228 
	#vîify_åue
(
R
Ë
	`_GL_VERIFY_TRUE
 (R, "vîify_åuê(" #R ")")

	)

233 
	#vîify_ex¥
(
R
, 
E
) \

234 (
	`_GL_VERIFY_TRUE
 (
R
, "vîify_ex¥ (" #R ", " #E ")"Ë? (
E
Ë: (E))

	)

239 
	#vîify
(
R
Ë
	`_GL_VERIFY
 (R, "vîify (" #R ")")

	)

	@lib/w32sock.h

20 
	~<î∫o.h
>

23 
	~<f˙é.h
>

26 
	~<io.h
>

28 
	#FD_TO_SOCKET
(
fd
Ë((
SOCKET
Ë
	`_gë_osfh™dÀ
 ((fd)))

	)

29 
	#SOCKET_TO_FD
(
fh
Ë(
	`_›í_osfh™dÀ
 ((Ë(fh), 
O_RDWR
 | 
O_BINARY
))

	)

31 
ölöe
 

32 
	$£t_wösock_î∫o
 ()

34 
îr
 = 
	`WSAGëLa°Eº‹
 ();

37 
îr
)

39 
WSA_INVALID_HANDLE
:

40 
î∫o
 = 
EBADF
;

42 
WSA_NOT_ENOUGH_MEMORY
:

43 
î∫o
 = 
ENOMEM
;

45 
WSA_INVALID_PARAMETER
:

46 
î∫o
 = 
EINVAL
;

48 
WSAEWOULDBLOCK
:

49 
î∫o
 = 
EWOULDBLOCK
;

51 
WSAENAMETOOLONG
:

52 
î∫o
 = 
ENAMETOOLONG
;

54 
WSAENOTEMPTY
:

55 
î∫o
 = 
ENOTEMPTY
;

58 
î∫o
 = (
îr
 > 10000 &&Érr < 10025) ?Érr - 10000 :Érr;

61 
	}
}

	@lib/w32spawn.h

19 
	#WIN32_LEAN_AND_MEAN


	)

20 
	~<wödows.h
>

23 
	~<io.h
>

25 
	~<°dboﬁ.h
>

26 
	~<°rög.h
>

27 
	~<uni°d.h
>

28 
	~<î∫o.h
>

30 
	~"˛€xec.h
"

31 
	~"xÆloc.h
"

36 
	$dup_noöhîô
 (
fd
)

38 
fd
 = 
	`dup_˛€xec
 (fd);

39 i‡(
fd
 < 0 && 
î∫o
 =
EMFILE
)

40 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("_open_osfhandle failed"));

42  
fd
;

43 
	}
}

51 
	$fd_ß„r_noöhîô
 (
fd
)

53 i‡(
STDIN_FILENO
 <
fd
 && fd <
STDERR_FILENO
)

56 
nfd
 = 
	`fd_ß„r_noöhîô
 (
	`dup_noöhîô
 (
fd
));

57 
ßved_î∫o
 = 
î∫o
;

58 
	`˛o£
 (
fd
);

59 
î∫o
 = 
ßved_î∫o
;

60  
nfd
;

62  
fd
;

63 
	}
}

69 
	$dup_ß„r_noöhîô
 (
fd
)

71  
	`fd_ß„r_noöhîô
 (
	`dup_noöhîô
 (
fd
));

72 
	}
}

76 
	$undup_ß„r_noöhîô
 (
ãmpfd
, 
‹igfd
)

78 i‡(
ãmpfd
 >= 0)

80 i‡(
	`dup2
 (
ãmpfd
, 
‹igfd
) < 0)

81 
	`îr‹
 (
EXIT_FAILURE
, 
î∫o
, 
	`_
("cannotÑestore fd %d: dup2 failed"),

82 
‹igfd
);

83 
	`˛o£
 (
ãmpfd
);

89 
	`˛o£
 (
‹igfd
);

91 
	}
}

116 
	#SHELL_SPECIAL_CHARS
 "\"\\ \001\002\003\004\005\006\007\010\011\012\013\014\015\016\017\020\021\022\023\024\025\026\027\030\031\032\033\034\035\036\037"

	)

117 
	#SHELL_SPACE_CHARS
 " \001\002\003\004\005\006\007\010\011\012\013\014\015\016\017\020\021\022\023\024\025\026\027\030\031\032\033\034\035\036\037"

	)

119 
	$¥ï¨e_•awn
 (**
¨gv
)

121 
size_t
 
¨gc
;

122 **
√w_¨gv
;

123 
size_t
 
i
;

126 
¨gc
 = 0; 
¨gv
[¨gc] !
NULL
;árgc++)

130 
√w_¨gv
 = 
	`XNMALLOC
 (1 + 
¨gc
 + 1, *);

138 *
√w_¨gv
++ = "sh.exe";

141 
i
 = 0; i < 
¨gc
; i++)

143 c⁄° *
°rög
 = 
¨gv
[
i
];

145 i‡(
°rög
[0] == '\0')

146 
√w_¨gv
[
i
] = 
	`x°rdup
 ("\"\"");

147 i‡(
	`°Ωbrk
 (
°rög
, 
SHELL_SPECIAL_CHARS
Ë!
NULL
)

149 
boﬁ
 
quŸe_¨ound
 = (
	`°Ωbrk
 (
°rög
, 
SHELL_SPACE_CHARS
Ë!
NULL
);

150 
size_t
 
Àngth
;

151 
back¶ashes
;

152 c⁄° *
s
;

153 *
quŸed_°rög
;

154 *
p
;

156 
Àngth
 = 0;

157 
back¶ashes
 = 0;

158 i‡(
quŸe_¨ound
)

159 
Àngth
++;

160 
s
 = 
°rög
; *s != '\0'; s++)

162 
c
 = *
s
;

163 i‡(
c
 == '"')

164 
Àngth
 +
back¶ashes
 + 1;

165 
Àngth
++;

166 i‡(
c
 == '\\')

167 
back¶ashes
++;

169 
back¶ashes
 = 0;

171 i‡(
quŸe_¨ound
)

172 
Àngth
 +
back¶ashes
 + 1;

174 
quŸed_°rög
 = (*Ë
	`xmÆloc
 (
Àngth
 + 1);

176 
p
 = 
quŸed_°rög
;

177 
back¶ashes
 = 0;

178 i‡(
quŸe_¨ound
)

179 *
p
++ = '"';

180 
s
 = 
°rög
; *s != '\0'; s++)

182 
c
 = *
s
;

183 i‡(
c
 == '"')

185 
j
;

186 
j
 = 
back¶ashes
 + 1; j > 0; j--)

187 *
p
++ = '\\';

189 *
p
++ = 
c
;

190 i‡(
c
 == '\\')

191 
back¶ashes
++;

193 
back¶ashes
 = 0;

195 i‡(
quŸe_¨ound
)

197 
j
;

198 
j
 = 
back¶ashes
; j > 0; j--)

199 *
p
++ = '\\';

200 *
p
++ = '"';

202 *
p
 = '\0';

204 
√w_¨gv
[
i
] = 
quŸed_°rög
;

207 
√w_¨gv
[
i
] = (*Ë
°rög
;

209 
√w_¨gv
[
¨gc
] = 
NULL
;

211  
√w_¨gv
;

212 
	}
}

	@lib/wait-process.c

19 
	~<c⁄fig.h
>

22 
	~"waô-¥o˚ss.h
"

24 
	~<î∫o.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<sig«l.h
>

29 
	~<sys/ty≥s.h
>

30 
	~<sys/waô.h
>

32 
	~"îr‹.h
"

33 
	~"Áèl-sig«l.h
"

34 
	~"xÆloc.h
"

35 
	~"gëãxt.h
"

37 
	#_
(
°r
Ë
	`gëãxt
 (°r)

	)

39 
	#SIZEOF
(
a
Ë(◊Ë/ ◊[0]))

	)

42 #i‡
deföed
 
_MSC_VER
 || deföed 
__MINGW32__


44 
	#WIN32_LEAN_AND_MEAN


	)

45 
	~<wödows.h
>

49 
	#kûl
(
pid
,
sig
Ë
	`Tîmö©ePro˚ss
 ((
HANDLE
Ë’id), sig)

	)

63 vﬁ©ûê
sig_©omic_t
 
	mu£d
;

64 vﬁ©ûê
pid_t
 
	mchûd
;

66 
	t¶aves_íåy_t
;

69 
¶aves_íåy_t
 
	g°©ic_¶aves
[32];

70 
¶aves_íåy_t
 * vﬁ©ûê
	g¶aves
 = 
°©ic_¶aves
;

71 
sig_©omic_t
 vﬁ©ûê
	g¶aves_cou¡
 = 0;

72 
size_t
 
	g¶aves_Æloˇãd
 = 
SIZEOF
 (
°©ic_¶aves
);

76 #ifde‡
SIGHUP


77 
	#TERMINATOR
 
SIGHUP


	)

79 
	#TERMINATOR
 
SIGTERM


	)

84 
	$˛ónup_¶aves
 ()

89 
size_t
 
n
 = 
¶aves_cou¡
;

90 i‡(
n
 == 0)

92 
n
--;

93 
¶aves_cou¡
 = 
n
;

95 i‡(
¶aves
[
n
].
u£d
)

97 
pid_t
 
¶ave
 = 
¶aves
[
n
].
chûd
;

100 
	`kûl
 (
¶ave
, 
TERMINATOR
);

103 
	}
}

110 
	$ªgi°î_¶ave_sub¥o˚ss
 (
pid_t
 
chûd
)

112 
boﬁ
 
˛ónup_¶aves_ªgi°îed
 = 
Ál£
;

113 i‡(!
˛ónup_¶aves_ªgi°îed
)

115 
	`©exô
 (
˛ónup_¶aves
);

116 
	`©_Áèl_sig«l
 (
˛ónup_¶aves
);

117 
˛ónup_¶aves_ªgi°îed
 = 
åue
;

122 
¶aves_íåy_t
 *
s
 = 
¶aves
;

123 
¶aves_íåy_t
 *
s_íd
 = 
s
 + 
¶aves_cou¡
;

125 ; 
s
 < 
s_íd
; s++)

126 i‡(!
s
->
u£d
)

132 
s
->
chûd
 = child;

133 
s
->
u£d
 = 1;

138 i‡(
¶aves_cou¡
 =
¶aves_Æloˇãd
)

143 
¶aves_íåy_t
 *
ﬁd_¶aves
 = 
¶aves
;

144 
size_t
 
√w_¶aves_Æloˇãd
 = 2 * 
¶aves_Æloˇãd
;

145 
¶aves_íåy_t
 *
√w_¶aves
 =

146 (
¶aves_íåy_t
 *)

147 
	`mÆloc
 (
√w_¶aves_Æloˇãd
 *  (
¶aves_íåy_t
));

148 i‡(
√w_¶aves
 =
NULL
)

153 
	`kûl
 (
chûd
, 
TERMINATOR
);

154 
	`xÆloc_dõ
 ();

156 
	`mem˝y
 (
√w_¶aves
, 
ﬁd_¶aves
,

157 
¶aves_Æloˇãd
 *  (
¶aves_íåy_t
));

158 
¶aves
 = 
√w_¶aves
;

159 
¶aves_Æloˇãd
 = 
√w_¶aves_Æloˇãd
;

161 i‡(
ﬁd_¶aves
 !
°©ic_¶aves
)

162 
	`‰ì
 (
ﬁd_¶aves
);

168 
¶aves
[
¶aves_cou¡
].
chûd
 = child;

169 
¶aves
[
¶aves_cou¡
].
u£d
 = 1;

170 
¶aves_cou¡
++;

171 
	}
}

174 
ölöe
 

175 
	$uƒegi°î_¶ave_sub¥o˚ss
 (
pid_t
 
chûd
)

180 
¶aves_íåy_t
 *
s
 = 
¶aves
;

181 
¶aves_íåy_t
 *
s_íd
 = 
s
 + 
¶aves_cou¡
;

183 ; 
s
 < 
s_íd
; s++)

184 i‡(
s
->
u£d
 && s->
chûd
 == child)

185 
s
->
u£d
 = 0;

186 
	}
}

193 
	$waô_sub¥o˚ss
 (
pid_t
 
chûd
, c⁄° *
¥og«me
,

194 
boﬁ
 
ign‹e_sigpùe
, boﬁ 
nuŒ_°dîr
,

195 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

196 *
ãrmsigp
)

198 #i‡
HAVE_WAITID
 && 
deföed
 
WNOWAIT
 && 0

208 
sigöfo_t
 
öfo
;

210 i‡(
ãrmsigp
 !
NULL
)

211 *
ãrmsigp
 = 0;

214 i‡(
	`waôid
 (
P_PID
, 
chûd
, &
öfo
, 
WEXITED
 | (
¶ave_¥o˚ss
 ? 
WNOWAIT
 : 0))

217 #ifde‡
EINTR


218 i‡(
î∫o
 =
EINTR
)

221 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

222 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 
î∫o
,

223 
	`_
("%†sub¥o˚ss"), 
¥og«me
);

230 i‡(
öfo
.
si_code
 =
CLD_EXITED


231 || 
öfo
.
si_code
 =
CLD_KILLED
 || info.si_codê=
CLD_DUMPED
)

237 i‡(
¶ave_¥o˚ss
)

242 
	`uƒegi°î_¶ave_sub¥o˚ss
 (
chûd
);

247 i‡(
	`waôid
 (
P_PID
, 
chûd
, &
öfo
, 
WEXITED
) < 0)

249 #ifde‡
EINTR


250 i‡(
î∫o
 =
EINTR
)

253 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

254 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 
î∫o
,

255 
	`_
("%†sub¥o˚ss"), 
¥og«me
);

262 
öfo
.
si_code
)

264 
CLD_KILLED
:

265 
CLD_DUMPED
:

266 i‡(
ãrmsigp
 !
NULL
)

267 *
ãrmsigp
 = 
öfo
.
si_°©us
;

268 #ifde‡
SIGPIPE


269 i‡(
öfo
.
si_°©us
 =
SIGPIPE
 && 
ign‹e_sigpùe
)

272 i‡(
exô_⁄_îr‹
 || (!
nuŒ_°dîr
 && 
ãrmsigp
 =
NULL
))

273 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 0,

274 
	`_
("%s subprocess got fatal signal %d"),

275 
¥og«me
, 
öfo
.
si_°©us
);

277 
CLD_EXITED
:

278 i‡(
öfo
.
si_°©us
 == 127)

280 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

281 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 0,

282 
	`_
("%†sub¥o˚s†Áûed"), 
¥og«me
);

285  
öfo
.
si_°©us
;

287 
	`ab‹t
 ();

291 
°©us
;

293 i‡(
ãrmsigp
 !
NULL
)

294 *
ãrmsigp
 = 0;

295 
°©us
 = 0;

298 
ªsu…
 = 
	`waôpid
 (
chûd
, &
°©us
, 0);

300 i‡(
ªsu…
 !
chûd
)

302 #ifde‡
EINTR


303 i‡(
î∫o
 =
EINTR
)

307 i‡(
î∫o
 =
ECHILD
)

311 
°©us
 = 0;

315 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

316 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 
î∫o
,

317 
	`_
("%†sub¥o˚ss"), 
¥og«me
);

324 i‡(!
	`WIFSTOPPED
 (
°©us
))

330 i‡(
¶ave_¥o˚ss
)

334 
	`uƒegi°î_¶ave_sub¥o˚ss
 (
chûd
);

336 i‡(
	`WIFSIGNALED
 (
°©us
))

338 i‡(
ãrmsigp
 !
NULL
)

339 *
ãrmsigp
 = 
	`WTERMSIG
 (
°©us
);

340 #ifde‡
SIGPIPE


341 i‡(
	`WTERMSIG
 (
°©us
Ë=
SIGPIPE
 && 
ign‹e_sigpùe
)

344 i‡(
exô_⁄_îr‹
 || (!
nuŒ_°dîr
 && 
ãrmsigp
 =
NULL
))

345 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 0,

346 
	`_
("%s subprocess got fatal signal %d"),

347 
¥og«me
, (Ë
	`WTERMSIG
 (
°©us
));

350 i‡(!
	`WIFEXITED
 (
°©us
))

351 
	`ab‹t
 ();

352 i‡(
	`WEXITSTATUS
 (
°©us
) == 127)

354 i‡(
exô_⁄_îr‹
 || !
nuŒ_°dîr
)

355 
	`îr‹
 (
exô_⁄_îr‹
 ? 
EXIT_FAILURE
 : 0, 0,

356 
	`_
("%†sub¥o˚s†Áûed"), 
¥og«me
);

359  
	`WEXITSTATUS
 (
°©us
);

361 
	}
}

	@lib/wait-process.h

18 #i‚de‡
_WAIT_PROCESS_H


19 
	#_WAIT_PROCESS_H


	)

22 
	~<°dlib.h
>

23 
	~<uni°d.h
>

24 
	~<sys/ty≥s.h
>

26 
	~<°dboﬁ.h
>

29 #ifde‡
__˝lu•lus


57 
waô_sub¥o˚ss
 (
pid_t
 
chûd
, c⁄° *
¥og«me
,

58 
boﬁ
 
ign‹e_sigpùe
, boﬁ 
nuŒ_°dîr
,

59 
boﬁ
 
¶ave_¥o˚ss
, boﬁ 
exô_⁄_îr‹
,

60 *
ãrmsigp
);

66 
ªgi°î_¶ave_sub¥o˚ss
 (
pid_t
 
chûd
);

69 #ifde‡
__˝lu•lus


	@lib/waitpid.c

20 
	~<c⁄fig.h
>

23 
	~<sys/waô.h
>

27 
	~<¥o˚ss.h
>

29 
pid_t


30 
	$waôpid
 (
pid_t
 
pid
, *
°©u•
, 
›ti⁄s
)

32  
	`_cwaô
 (
°©u•
, 
pid
, 
WAIT_CHILD
);

33 
	}
}

	@lib/warn-on-use.h

1 #i‚de‡
_GL_WARN_ON_USE


3 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

5 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

6 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

7 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


9 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

10 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

12 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

13 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

23 #i‚de‡
_GL_WARN_ON_USE_CXX


24 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

25 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

26 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

27 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

28 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


30 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

31 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

33 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

34 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

40 #i‚de‡
_GL_WARN_EXTERN_C


41 #i‡
deföed
 
__˝lu•lus


42 
	#_GL_WARN_EXTERN_C
 "C"

	)

44 
	#_GL_WARN_EXTERN_C
 

	)

	@lib/wchar.h

32 #i‡
__GNUC__
 >= 3

33 #¥agm®
GCC
 
sy°em_hódî


37 #i‡
deföed
 
__√ed_mb°©e_t
 || deföed 
__√ed_wöt_t
 || (deföed 
__hpux
 && ((deföed 
_INTTYPES_INCLUDED
 && !deföed 
°πoimax
Ë|| deföed 
_GL_JUST_INCLUDE_SYSTEM_WCHAR_H
)Ë|| deföed 
_GL_ALREADY_INCLUDING_WCHAR_H


50 #ö˛ude_√xà<
wch¨
.
h
>

55 #i‚de‡
_GL_WCHAR_H


57 
	#_GL_ALREADY_INCLUDING_WCHAR_H


	)

60 
	~<„©uªs.h
>

70 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

71 
	~<°ddef.h
>

73 #i‚de‡
__GLIBC__


74 
	~<°dio.h
>

75 
	~<time.h
>

82 #ö˛ude_√xà<
wch¨
.
h
>

85 #unde‡
_GL_ALREADY_INCLUDING_WCHAR_H


87 #i‚de‡
_GL_WCHAR_H


88 
	#_GL_WCHAR_H


	)

91 #i‚de‡
_GL_CXXDEFS_H


92 
	#_GL_CXXDEFS_H


	)

155 #i‡
deföed
 
__˝lu•lus


156 
	#_GL_EXTERN_C
 "C"

	)

158 
	#_GL_EXTERN_C
 

	)

168 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

169 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

170 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

171 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

180 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

181 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

189 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

190 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

191 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


192 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

193 
«me•a˚
 
GNULIB_NAMESPACE
 \

195 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

197 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

199 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

200 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

208 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


209 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

210 
«me•a˚
 
GNULIB_NAMESPACE
 \

212 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

213 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

215 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

217 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

218 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

228 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


235 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

236 
«me•a˚
 
GNULIB_NAMESPACE
 \

238 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

240 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

242 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

243 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

251 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


252 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

253 
«me•a˚
 
GNULIB_NAMESPACE
 \

255 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

256 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

258 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

260 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

261 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

270 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


276 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

277 
«me•a˚
 
GNULIB_NAMESPACE
 \

279 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

280 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

281 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

283 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

285 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

286 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

293 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


294 
	#_GL_CXXALIASWARN
(
func
) \

295 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

296 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

297 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

300 #i‡!
__OPTIMIZE__


301 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

302 
	`_GL_WARN_ON_USE
 (
func
, \

304 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

305 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


306 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

307 
	`__ty≥of__
 (
func
Ë
	)
func

309 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

310 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

313 
	#_GL_CXXALIASWARN
(
func
) \

314 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

320 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


321 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

322 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

323 
GNULIB_NAMESPACE
)

	)

324 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

325 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

328 #i‡!
__OPTIMIZE__


329 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

330 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

332 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

333 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


334 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

335 
	`__ty≥of__
 (
func
Ë
	)
func

337 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

338 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

341 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

342 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

351 #i‚de‡
_GL_ARG_NONNULL


352 #i‡(
__GNUC__
 =3 && 
__GNUC_MINOR__
 >= 3) || __GNUC__ > 3

353 
	#_GL_ARG_NONNULL
(
∑øms
Ë
	`__©åibuã__
 ((
__n⁄nuŒ__
Ö¨ams))

	)

355 
	#_GL_ARG_NONNULL
(
∑øms
)

	)

360 #i‚de‡
_GL_WARN_ON_USE


362 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

364 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

365 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

366 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


368 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

369 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

371 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

372 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

382 #i‚de‡
_GL_WARN_ON_USE_CXX


383 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

384 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

385 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

386 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

387 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


389 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

390 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

392 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

393 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

399 #i‚de‡
_GL_WARN_EXTERN_C


400 #i‡
deföed
 
__˝lu•lus


401 
	#_GL_WARN_EXTERN_C
 "C"

	)

403 
	#_GL_WARN_EXTERN_C
 

	)

409 #i‡!1 && !
deföed
 
wöt_t


410 
	#wöt_t
 

	)

411 #i‚de‡
WEOF


412 
	#WEOF
 -1

	)

415 #i‚de‡
WEOF


416 
	#WEOF
 ((
wöt_t
Ë-1)

	)

425 #i‡!
GNULIB_deföed_mb°©e_t


426 
	tΩl_mb°©e_t
;

427 #unde‡
mb°©e_t


428 
	#mb°©e_t
 
Ωl_mb°©e_t


	)

429 
	#GNULIB_deföed_mb°©e_t
 1

	)

437 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

438 #unde‡
btowc


439 
	#btowc
 
Ωl_btowc


	)

441 
_GL_FUNCDECL_RPL
 (
btowc
, 
wöt_t
, (
c
));

442 
_GL_CXXALIAS_RPL
 (
btowc
, 
wöt_t
, (
c
));

445 
_GL_FUNCDECL_SYS
 (
btowc
, 
wöt_t
, (
c
));

447 
_GL_CXXALIAS_SYS
 (
btowc
, 
wöt_t
, (
c
));

449 
_GL_CXXALIASWARN
 (
btowc
);

450 #ñi‡
deföed
 
GNULIB_POSIXCHECK


451 #unde‡
btowc


452 #i‡
HAVE_RAW_DECL_BTOWC


453 
_GL_WARN_ON_USE
 (
btowc
, "btowc is unportable - "

462 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

463 #unde‡
w˘ob


464 
	#w˘ob
 
Ωl_w˘ob


	)

466 
_GL_FUNCDECL_RPL
 (
w˘ob
, , (
wöt_t
 
wc
));

467 
_GL_CXXALIAS_RPL
 (
w˘ob
, , (
wöt_t
 
wc
));

469 #i‡!
deföed
 
w˘ob
 && !1

471 
_GL_FUNCDECL_SYS
 (
w˘ob
, , (
wöt_t
 
wc
));

473 
_GL_CXXALIAS_SYS
 (
w˘ob
, , (
wöt_t
 
wc
));

475 
_GL_CXXALIASWARN
 (
w˘ob
);

476 #ñi‡
deföed
 
GNULIB_POSIXCHECK


477 #unde‡
w˘ob


478 #i‡
HAVE_RAW_DECL_WCTOB


479 
_GL_WARN_ON_USE
 (
w˘ob
, "wctob is unportable - "

488 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

489 #unde‡
mbsöô


490 
	#mbsöô
 
Ωl_mbsöô


	)

492 
_GL_FUNCDECL_RPL
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

493 
_GL_CXXALIAS_RPL
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

496 
_GL_FUNCDECL_SYS
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

498 
_GL_CXXALIAS_SYS
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

500 
_GL_CXXALIASWARN
 (
mbsöô
);

501 #ñi‡
deföed
 
GNULIB_POSIXCHECK


502 #unde‡
mbsöô


503 #i‡
HAVE_RAW_DECL_MBSINIT


504 
_GL_WARN_ON_USE
 (
mbsöô
, "mbsinit is unportable - "

513 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

514 #unde‡
mbπowc


515 
	#mbπowc
 
Ωl_mbπowc


	)

517 
_GL_FUNCDECL_RPL
 (
mbπowc
, 
size_t
,

518 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

519 
_GL_CXXALIAS_RPL
 (
mbπowc
, 
size_t
,

520 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

523 
_GL_FUNCDECL_SYS
 (
mbπowc
, 
size_t
,

524 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

526 
_GL_CXXALIAS_SYS
 (
mbπowc
, 
size_t
,

527 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

529 
_GL_CXXALIASWARN
 (
mbπowc
);

530 #ñi‡
deföed
 
GNULIB_POSIXCHECK


531 #unde‡
mbπowc


532 #i‡
HAVE_RAW_DECL_MBRTOWC


533 
_GL_WARN_ON_USE
 (
mbπowc
, "mbrtowc is unportable - "

542 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

543 #unde‡
mbæí


544 
	#mbæí
 
Ωl_mbæí


	)

546 
_GL_FUNCDECL_RPL
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

547 
_GL_CXXALIAS_RPL
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

550 
_GL_FUNCDECL_SYS
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

552 
_GL_CXXALIAS_SYS
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

554 
_GL_CXXALIASWARN
 (
mbæí
);

555 #ñi‡
deföed
 
GNULIB_POSIXCHECK


556 #unde‡
mbæí


557 #i‡
HAVE_RAW_DECL_MBRLEN


558 
_GL_WARN_ON_USE
 (
mbæí
, "mbrlen is unportable - "

567 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

568 #unde‡
mb§towcs


569 
	#mb§towcs
 
Ωl_mb§towcs


	)

571 
_GL_FUNCDECL_RPL
 (
mb§towcs
, 
size_t
,

572 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

573 
_GL_ARG_NONNULL
 ((2)));

574 
_GL_CXXALIAS_RPL
 (
mb§towcs
, 
size_t
,

575 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
,

576 
mb°©e_t
 *
ps
));

579 
_GL_FUNCDECL_SYS
 (
mb§towcs
, 
size_t
,

580 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

581 
_GL_ARG_NONNULL
 ((2)));

583 
_GL_CXXALIAS_SYS
 (
mb§towcs
, 
size_t
,

584 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
,

585 
mb°©e_t
 *
ps
));

587 
_GL_CXXALIASWARN
 (
mb§towcs
);

588 #ñi‡
deföed
 
GNULIB_POSIXCHECK


589 #unde‡
mb§towcs


590 #i‡
HAVE_RAW_DECL_MBSRTOWCS


591 
_GL_WARN_ON_USE
 (
mb§towcs
, "mbsrtowcs is unportable - "

600 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

601 #unde‡
mb¢πowcs


602 
	#mb¢πowcs
 
Ωl_mb¢πowcs


	)

604 
_GL_FUNCDECL_RPL
 (
mb¢πowcs
, 
size_t
,

605 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

606 
mb°©e_t
 *
ps
)

607 
_GL_ARG_NONNULL
 ((2)));

608 
_GL_CXXALIAS_RPL
 (
mb¢πowcs
, 
size_t
,

609 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

610 
mb°©e_t
 *
ps
));

613 
_GL_FUNCDECL_SYS
 (
mb¢πowcs
, 
size_t
,

614 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

615 
mb°©e_t
 *
ps
)

616 
_GL_ARG_NONNULL
 ((2)));

618 
_GL_CXXALIAS_SYS
 (
mb¢πowcs
, 
size_t
,

619 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

620 
mb°©e_t
 *
ps
));

622 
_GL_CXXALIASWARN
 (
mb¢πowcs
);

623 #ñi‡
deföed
 
GNULIB_POSIXCHECK


624 #unde‡
mb¢πowcs


625 #i‡
HAVE_RAW_DECL_MBSNRTOWCS


626 
_GL_WARN_ON_USE
 (
mb¢πowcs
, "mbsnrtowcs is unportable - "

635 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

636 #unde‡
w¸tomb


637 
	#w¸tomb
 
Ωl_w¸tomb


	)

639 
_GL_FUNCDECL_RPL
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

640 
_GL_CXXALIAS_RPL
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

643 
_GL_FUNCDECL_SYS
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

645 
_GL_CXXALIAS_SYS
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

647 
_GL_CXXALIASWARN
 (
w¸tomb
);

648 #ñi‡
deföed
 
GNULIB_POSIXCHECK


649 #unde‡
w¸tomb


650 #i‡
HAVE_RAW_DECL_WCRTOMB


651 
_GL_WARN_ON_USE
 (
w¸tomb
, "wcrtomb is unportable - "

660 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

661 #unde‡
wc§tombs


662 
	#wc§tombs
 
Ωl_wc§tombs


	)

664 
_GL_FUNCDECL_RPL
 (
wc§tombs
, 
size_t
,

665 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

666 
_GL_ARG_NONNULL
 ((2)));

667 
_GL_CXXALIAS_RPL
 (
wc§tombs
, 
size_t
,

668 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
,

669 
mb°©e_t
 *
ps
));

672 
_GL_FUNCDECL_SYS
 (
wc§tombs
, 
size_t
,

673 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

674 
_GL_ARG_NONNULL
 ((2)));

676 
_GL_CXXALIAS_SYS
 (
wc§tombs
, 
size_t
,

677 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
,

678 
mb°©e_t
 *
ps
));

680 
_GL_CXXALIASWARN
 (
wc§tombs
);

681 #ñi‡
deföed
 
GNULIB_POSIXCHECK


682 #unde‡
wc§tombs


683 #i‡
HAVE_RAW_DECL_WCSRTOMBS


684 
_GL_WARN_ON_USE
 (
wc§tombs
, "wcsrtombs is unportable - "

693 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

694 #unde‡
wc¢πombs


695 
	#wc¢πombs
 
Ωl_wc¢πombs


	)

697 
_GL_FUNCDECL_RPL
 (
wc¢πombs
, 
size_t
,

698 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

699 
mb°©e_t
 *
ps
)

700 
_GL_ARG_NONNULL
 ((2)));

701 
_GL_CXXALIAS_RPL
 (
wc¢πombs
, 
size_t
,

702 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

703 
mb°©e_t
 *
ps
));

706 
_GL_FUNCDECL_SYS
 (
wc¢πombs
, 
size_t
,

707 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

708 
mb°©e_t
 *
ps
)

709 
_GL_ARG_NONNULL
 ((2)));

711 
_GL_CXXALIAS_SYS
 (
wc¢πombs
, 
size_t
,

712 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

713 
mb°©e_t
 *
ps
));

715 
_GL_CXXALIASWARN
 (
wc¢πombs
);

716 #ñi‡
deföed
 
GNULIB_POSIXCHECK


717 #unde‡
wc¢πombs


718 #i‡
HAVE_RAW_DECL_WCSNRTOMBS


719 
_GL_WARN_ON_USE
 (
wc¢πombs
, "wcsnrtombs is unportable - "

728 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

729 #unde‡
wcwidth


730 
	#wcwidth
 
Ωl_wcwidth


	)

732 
_GL_FUNCDECL_RPL
 (
wcwidth
, , (
wch¨_t
));

733 
_GL_CXXALIAS_RPL
 (
wcwidth
, , (
wch¨_t
));

737 
_GL_FUNCDECL_SYS
 (
wcwidth
, , (
wch¨_t
));

739 
_GL_CXXALIAS_SYS
 (
wcwidth
, , (
wch¨_t
));

741 
_GL_CXXALIASWARN
 (
wcwidth
);

742 #ñi‡
deföed
 
GNULIB_POSIXCHECK


743 #unde‡
wcwidth


744 #i‡
HAVE_RAW_DECL_WCWIDTH


745 
_GL_WARN_ON_USE
 (
wcwidth
, "wcwidth is unportable - "

754 
_GL_FUNCDECL_SYS
 (
wmemchr
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

761 
_GL_CXXALIAS_SYS_CAST2
 (
wmemchr
,

762 
wch¨_t
 *, (c⁄° wch¨_à*, wch¨_t, 
size_t
),

763 c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*, wch¨_t, 
size_t
));

764 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

765 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

766 
_GL_CXXALIASWARN1
 (
wmemchr
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

767 
_GL_CXXALIASWARN1
 (
wmemchr
, c⁄° 
wch¨_t
 *,

768 (c⁄° 
wch¨_t
 *
s
, wch¨_à
c
, 
size_t
 
n
));

770 
_GL_CXXALIASWARN
 (
wmemchr
);

772 #ñi‡
deföed
 
GNULIB_POSIXCHECK


773 #unde‡
wmemchr


774 #i‡
HAVE_RAW_DECL_WMEMCHR


775 
_GL_WARN_ON_USE
 (
wmemchr
, "wmemchr is unportable - "

784 
_GL_FUNCDECL_SYS
 (
wmemcmp
, ,

785 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

787 
_GL_CXXALIAS_SYS
 (
wmemcmp
, ,

788 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

789 
_GL_CXXALIASWARN
 (
wmemcmp
);

790 #ñi‡
deföed
 
GNULIB_POSIXCHECK


791 #unde‡
wmemcmp


792 #i‡
HAVE_RAW_DECL_WMEMCMP


793 
_GL_WARN_ON_USE
 (
wmemcmp
, "wmemcmp is unportable - "

802 
_GL_FUNCDECL_SYS
 (
wmem˝y
, 
wch¨_t
 *,

803 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

805 
_GL_CXXALIAS_SYS
 (
wmem˝y
, 
wch¨_t
 *,

806 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

807 
_GL_CXXALIASWARN
 (
wmem˝y
);

808 #ñi‡
deföed
 
GNULIB_POSIXCHECK


809 #unde‡
wmem˝y


810 #i‡
HAVE_RAW_DECL_WMEMCPY


811 
_GL_WARN_ON_USE
 (
wmem˝y
, "wmemcpy is unportable - "

821 
_GL_FUNCDECL_SYS
 (
wmemmove
, 
wch¨_t
 *,

822 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

824 
_GL_CXXALIAS_SYS
 (
wmemmove
, 
wch¨_t
 *,

825 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

826 
_GL_CXXALIASWARN
 (
wmemmove
);

827 #ñi‡
deföed
 
GNULIB_POSIXCHECK


828 #unde‡
wmemmove


829 #i‡
HAVE_RAW_DECL_WMEMMOVE


830 
_GL_WARN_ON_USE
 (
wmemmove
, "wmemmove is unportable - "

839 
_GL_FUNCDECL_SYS
 (
wmem£t
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

841 
_GL_CXXALIAS_SYS
 (
wmem£t
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

842 
_GL_CXXALIASWARN
 (
wmem£t
);

843 #ñi‡
deföed
 
GNULIB_POSIXCHECK


844 #unde‡
wmem£t


845 #i‡
HAVE_RAW_DECL_WMEMSET


846 
_GL_WARN_ON_USE
 (
wmem£t
, "wmemset is unportable - "

855 
_GL_FUNCDECL_SYS
 (
wc¶í
, 
size_t
, (c⁄° 
wch¨_t
 *
s
));

857 
_GL_CXXALIAS_SYS
 (
wc¶í
, 
size_t
, (c⁄° 
wch¨_t
 *
s
));

858 
_GL_CXXALIASWARN
 (
wc¶í
);

859 #ñi‡
deföed
 
GNULIB_POSIXCHECK


860 #unde‡
wc¶í


861 #i‡
HAVE_RAW_DECL_WCSLEN


862 
_GL_WARN_ON_USE
 (
wc¶í
, "wcslen is unportable - "

871 
_GL_FUNCDECL_SYS
 (
wc¢Àn
, 
size_t
, (c⁄° 
wch¨_t
 *
s
, size_à
maxÀn
));

873 
_GL_CXXALIAS_SYS
 (
wc¢Àn
, 
size_t
, (c⁄° 
wch¨_t
 *
s
, size_à
maxÀn
));

874 
_GL_CXXALIASWARN
 (
wc¢Àn
);

875 #ñi‡
deföed
 
GNULIB_POSIXCHECK


876 #unde‡
wc¢Àn


877 #i‡
HAVE_RAW_DECL_WCSNLEN


878 
_GL_WARN_ON_USE
 (
wc¢Àn
, "wcsnlen is unportable - "

887 
_GL_FUNCDECL_SYS
 (
wcs˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

889 
_GL_CXXALIAS_SYS
 (
wcs˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

890 
_GL_CXXALIASWARN
 (
wcs˝y
);

891 #ñi‡
deföed
 
GNULIB_POSIXCHECK


892 #unde‡
wcs˝y


893 #i‡
HAVE_RAW_DECL_WCSCPY


894 
_GL_WARN_ON_USE
 (
wcs˝y
, "wcscpy is unportable - "

903 
_GL_FUNCDECL_SYS
 (
w˝˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

905 
_GL_CXXALIAS_SYS
 (
w˝˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

906 
_GL_CXXALIASWARN
 (
w˝˝y
);

907 #ñi‡
deföed
 
GNULIB_POSIXCHECK


908 #unde‡
w˝˝y


909 #i‡
HAVE_RAW_DECL_WCPCPY


910 
_GL_WARN_ON_USE
 (
w˝˝y
, "wcpcpy is unportable - "

919 
_GL_FUNCDECL_SYS
 (
wc¢˝y
, 
wch¨_t
 *,

920 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

922 
_GL_CXXALIAS_SYS
 (
wc¢˝y
, 
wch¨_t
 *,

923 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

924 
_GL_CXXALIASWARN
 (
wc¢˝y
);

925 #ñi‡
deföed
 
GNULIB_POSIXCHECK


926 #unde‡
wc¢˝y


927 #i‡
HAVE_RAW_DECL_WCSNCPY


928 
_GL_WARN_ON_USE
 (
wc¢˝y
, "wcsncpy is unportable - "

938 
_GL_FUNCDECL_SYS
 (
w˝n˝y
, 
wch¨_t
 *,

939 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

941 
_GL_CXXALIAS_SYS
 (
w˝n˝y
, 
wch¨_t
 *,

942 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

943 
_GL_CXXALIASWARN
 (
w˝n˝y
);

944 #ñi‡
deföed
 
GNULIB_POSIXCHECK


945 #unde‡
w˝n˝y


946 #i‡
HAVE_RAW_DECL_WCPNCPY


947 
_GL_WARN_ON_USE
 (
w˝n˝y
, "wcpncpy is unportable - "

956 
_GL_FUNCDECL_SYS
 (
wcsˇt
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

958 
_GL_CXXALIAS_SYS
 (
wcsˇt
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

959 
_GL_CXXALIASWARN
 (
wcsˇt
);

960 #ñi‡
deföed
 
GNULIB_POSIXCHECK


961 #unde‡
wcsˇt


962 #i‡
HAVE_RAW_DECL_WCSCAT


963 
_GL_WARN_ON_USE
 (
wcsˇt
, "wcscat is unportable - "

972 
_GL_FUNCDECL_SYS
 (
wc¢ˇt
, 
wch¨_t
 *,

973 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

975 
_GL_CXXALIAS_SYS
 (
wc¢ˇt
, 
wch¨_t
 *,

976 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

977 
_GL_CXXALIASWARN
 (
wc¢ˇt
);

978 #ñi‡
deföed
 
GNULIB_POSIXCHECK


979 #unde‡
wc¢ˇt


980 #i‡
HAVE_RAW_DECL_WCSNCAT


981 
_GL_WARN_ON_USE
 (
wc¢ˇt
, "wcsncat is unportable - "

990 
_GL_FUNCDECL_SYS
 (
wcscmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

992 
_GL_CXXALIAS_SYS
 (
wcscmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

993 
_GL_CXXALIASWARN
 (
wcscmp
);

994 #ñi‡
deföed
 
GNULIB_POSIXCHECK


995 #unde‡
wcscmp


996 #i‡
HAVE_RAW_DECL_WCSCMP


997 
_GL_WARN_ON_USE
 (
wcscmp
, "wcscmp is unportable - "

1006 
_GL_FUNCDECL_SYS
 (
wc¢cmp
, ,

1007 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

1009 
_GL_CXXALIAS_SYS
 (
wc¢cmp
, ,

1010 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

1011 
_GL_CXXALIASWARN
 (
wc¢cmp
);

1012 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1013 #unde‡
wc¢cmp


1014 #i‡
HAVE_RAW_DECL_WCSNCMP


1015 
_GL_WARN_ON_USE
 (
wc¢cmp
, "wcsncmp is unportable - "

1024 
_GL_FUNCDECL_SYS
 (
wcsˇ£cmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

1026 
_GL_CXXALIAS_SYS
 (
wcsˇ£cmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

1027 
_GL_CXXALIASWARN
 (
wcsˇ£cmp
);

1028 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1029 #unde‡
wcsˇ£cmp


1030 #i‡
HAVE_RAW_DECL_WCSCASECMP


1031 
_GL_WARN_ON_USE
 (
wcsˇ£cmp
, "wcscasecmp is unportable - "

1040 
_GL_FUNCDECL_SYS
 (
wc¢ˇ£cmp
, ,

1041 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

1043 
_GL_CXXALIAS_SYS
 (
wc¢ˇ£cmp
, ,

1044 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

1045 
_GL_CXXALIASWARN
 (
wc¢ˇ£cmp
);

1046 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1047 #unde‡
wc¢ˇ£cmp


1048 #i‡
HAVE_RAW_DECL_WCSNCASECMP


1049 
_GL_WARN_ON_USE
 (
wc¢ˇ£cmp
, "wcsncasecmp is unportable - "

1059 
_GL_FUNCDECL_SYS
 (
wcscﬁl
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

1061 
_GL_CXXALIAS_SYS
 (
wcscﬁl
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

1062 
_GL_CXXALIASWARN
 (
wcscﬁl
);

1063 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1064 #unde‡
wcscﬁl


1065 #i‡
HAVE_RAW_DECL_WCSCOLL


1066 
_GL_WARN_ON_USE
 (
wcscﬁl
, "wcscoll is unportable - "

1077 
_GL_FUNCDECL_SYS
 (
wcsx‰m
, 
size_t
, (
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, size_à
n
));

1079 
_GL_CXXALIAS_SYS
 (
wcsx‰m
, 
size_t
, (
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, size_à
n
));

1080 
_GL_CXXALIASWARN
 (
wcsx‰m
);

1081 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1082 #unde‡
wcsx‰m


1083 #i‡
HAVE_RAW_DECL_WCSXFRM


1084 
_GL_WARN_ON_USE
 (
wcsx‰m
, "wcsxfrm is unportable - "

1093 
_GL_FUNCDECL_SYS
 (
wcsdup
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
));

1095 
_GL_CXXALIAS_SYS
 (
wcsdup
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
));

1096 
_GL_CXXALIASWARN
 (
wcsdup
);

1097 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1098 #unde‡
wcsdup


1099 #i‡
HAVE_RAW_DECL_WCSDUP


1100 
_GL_WARN_ON_USE
 (
wcsdup
, "wcsdup is unportable - "

1109 
_GL_FUNCDECL_SYS
 (
wcschr
, 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

1116 
_GL_CXXALIAS_SYS_CAST2
 (
wcschr
,

1117 
wch¨_t
 *, (const wchar_t *, wchar_t),

1118 c⁄° 
wch¨_t
 *, (const wchar_t *, wchar_t));

1119 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

1120 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

1121 
_GL_CXXALIASWARN1
 (
wcschr
, 
wch¨_t
 *, (wch¨_à*
wcs
, wch¨_à
wc
));

1122 
_GL_CXXALIASWARN1
 (
wcschr
, c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

1124 
_GL_CXXALIASWARN
 (
wcschr
);

1126 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1127 #unde‡
wcschr


1128 #i‡
HAVE_RAW_DECL_WCSCHR


1129 
_GL_WARN_ON_USE
 (
wcschr
, "wcschr is unportable - "

1138 
_GL_FUNCDECL_SYS
 (
wc§chr
, 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

1145 
_GL_CXXALIAS_SYS_CAST2
 (
wc§chr
,

1146 
wch¨_t
 *, (const wchar_t *, wchar_t),

1147 c⁄° 
wch¨_t
 *, (const wchar_t *, wchar_t));

1148 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

1149 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

1150 
_GL_CXXALIASWARN1
 (
wc§chr
, 
wch¨_t
 *, (wch¨_à*
wcs
, wch¨_à
wc
));

1151 
_GL_CXXALIASWARN1
 (
wc§chr
, c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

1153 
_GL_CXXALIASWARN
 (
wc§chr
);

1155 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1156 #unde‡
wc§chr


1157 #i‡
HAVE_RAW_DECL_WCSRCHR


1158 
_GL_WARN_ON_USE
 (
wc§chr
, "wcsrchr is unportable - "

1168 
_GL_FUNCDECL_SYS
 (
wcsc•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ªje˘
));

1170 
_GL_CXXALIAS_SYS
 (
wcsc•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ªje˘
));

1171 
_GL_CXXALIASWARN
 (
wcsc•n
);

1172 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1173 #unde‡
wcsc•n


1174 #i‡
HAVE_RAW_DECL_WCSCSPN


1175 
_GL_WARN_ON_USE
 (
wcsc•n
, "wcscspn is unportable - "

1185 
_GL_FUNCDECL_SYS
 (
wcs•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

1187 
_GL_CXXALIAS_SYS
 (
wcs•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

1188 
_GL_CXXALIASWARN
 (
wcs•n
);

1189 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1190 #unde‡
wcs•n


1191 #i‡
HAVE_RAW_DECL_WCSSPN


1192 
_GL_WARN_ON_USE
 (
wcs•n
, "wcsspn is unportable - "

1201 
_GL_FUNCDECL_SYS
 (
wc•brk
, 
wch¨_t
 *,

1202 (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

1209 
_GL_CXXALIAS_SYS_CAST2
 (
wc•brk
,

1210 
wch¨_t
 *, (const wchar_t *, const wchar_t *),

1211 c⁄° 
wch¨_t
 *, (const wchar_t *, const wchar_t *));

1212 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

1213 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

1214 
_GL_CXXALIASWARN1
 (
wc•brk
, 
wch¨_t
 *,

1215 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

1216 
_GL_CXXALIASWARN1
 (
wc•brk
, c⁄° 
wch¨_t
 *,

1217 (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

1219 
_GL_CXXALIASWARN
 (
wc•brk
);

1221 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1222 #unde‡
wc•brk


1223 #i‡
HAVE_RAW_DECL_WCSPBRK


1224 
_GL_WARN_ON_USE
 (
wc•brk
, "wcspbrk is unportable - "

1233 
_GL_FUNCDECL_SYS
 (
wcs°r
, 
wch¨_t
 *,

1234 (c⁄° 
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

1241 
_GL_CXXALIAS_SYS_CAST2
 (
wcs°r
,

1242 
wch¨_t
 *, (const wchar_t *, const wchar_t *),

1243 c⁄° 
wch¨_t
 *, (const wchar_t *, const wchar_t *));

1244 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

1245 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

1246 
_GL_CXXALIASWARN1
 (
wcs°r
, 
wch¨_t
 *,

1247 (
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

1248 
_GL_CXXALIASWARN1
 (
wcs°r
, c⁄° 
wch¨_t
 *,

1249 (c⁄° 
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

1251 
_GL_CXXALIASWARN
 (
wcs°r
);

1253 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1254 #unde‡
wcs°r


1255 #i‡
HAVE_RAW_DECL_WCSSTR


1256 
_GL_WARN_ON_USE
 (
wcs°r
, "wcsstr is unportable - "

1265 
_GL_FUNCDECL_SYS
 (
wc°ok
, 
wch¨_t
 *,

1266 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
dñim
, wch¨_à**
±r
));

1268 
_GL_CXXALIAS_SYS
 (
wc°ok
, 
wch¨_t
 *,

1269 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
dñim
, wch¨_à**
±r
));

1270 
_GL_CXXALIASWARN
 (
wc°ok
);

1271 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1272 #unde‡
wc°ok


1273 #i‡
HAVE_RAW_DECL_WCSTOK


1274 
_GL_WARN_ON_USE
 (
wc°ok
, "wcstok is unportable - "

1284 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

1285 #unde‡
wcswidth


1286 
	#wcswidth
 
Ωl_wcswidth


	)

1288 
_GL_FUNCDECL_RPL
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

1289 
_GL_CXXALIAS_RPL
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

1292 
_GL_FUNCDECL_SYS
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

1294 
_GL_CXXALIAS_SYS
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

1296 
_GL_CXXALIASWARN
 (
wcswidth
);

1297 #ñi‡
deföed
 
GNULIB_POSIXCHECK


1298 #unde‡
wcswidth


1299 #i‡
HAVE_RAW_DECL_WCSWIDTH


1300 
_GL_WARN_ON_USE
 (
wcswidth
, "wcswidth is unportable - "

	@lib/wchar.in.h

31 #i‡
__GNUC__
 >= 3

32 @
	gPRAGMA_SYSTEM_HEADER
@

34 @
	gPRAGMA_COLUMNS
@

36 #i‡
deföed
 
__√ed_mb°©e_t
 || deföed 
__√ed_wöt_t
 || (deföed 
__hpux
 && ((deföed 
_INTTYPES_INCLUDED
 && !deföed 
°πoimax
Ë|| deföed 
_GL_JUST_INCLUDE_SYSTEM_WCHAR_H
)Ë|| deföed 
_GL_ALREADY_INCLUDING_WCHAR_H


49 #@
INCLUDE_NEXT
@ @
NEXT_WCHAR_H
@

54 #i‚de‡
_
@
GUARD_PREFIX
@
_WCHAR_H


56 
	#_GL_ALREADY_INCLUDING_WCHAR_H


	)

58 #i‡@
HAVE_FEATURES_H
@

59 
	~<„©uªs.h
>

69 #i‡!(
deföed
 
__GLIBC__
 && !deföed 
__UCLIBC__
)

70 
	~<°ddef.h
>

72 #i‚de‡
__GLIBC__


73 
	~<°dio.h
>

74 
	~<time.h
>

80 #i‡@
HAVE_WCHAR_H
@

81 #@
INCLUDE_NEXT
@ @
NEXT_WCHAR_H
@

84 #unde‡
_GL_ALREADY_INCLUDING_WCHAR_H


86 #i‚de‡
_
@
GUARD_PREFIX
@
_WCHAR_H


87 
	#_
@
GUARD_PREFIX
@
_WCHAR_H


	)

97 #i‡!@
HAVE_WINT_T
@ && !
deföed
 
wöt_t


98 
	#wöt_t
 

	)

99 #i‚de‡
WEOF


100 
	#WEOF
 -1

	)

103 #i‚de‡
WEOF


104 
	#WEOF
 ((
wöt_t
Ë-1)

	)

112 #i‡!(@
HAVE_MBSINIT
@ && @
HAVE_MBRTOWC
@Ë|| @
REPLACE_MBSTATE_T
@

113 #i‡!
GNULIB_deföed_mb°©e_t


114 
	tΩl_mb°©e_t
;

115 #unde‡
mb°©e_t


116 
	#mb°©e_t
 
Ωl_mb°©e_t


	)

117 
	#GNULIB_deföed_mb°©e_t
 1

	)

123 #i‡@
GNULIB_BTOWC
@

124 #i‡@
REPLACE_BTOWC
@

125 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

126 #unde‡
btowc


127 
	#btowc
 
Ωl_btowc


	)

129 
_GL_FUNCDECL_RPL
 (
btowc
, 
wöt_t
, (
c
));

130 
_GL_CXXALIAS_RPL
 (
btowc
, 
wöt_t
, (
c
));

132 #i‡!@
HAVE_BTOWC
@

133 
_GL_FUNCDECL_SYS
 (
btowc
, 
wöt_t
, (
c
));

135 
_GL_CXXALIAS_SYS
 (
btowc
, 
wöt_t
, (
c
));

137 
_GL_CXXALIASWARN
 (
btowc
);

138 #ñi‡
deföed
 
GNULIB_POSIXCHECK


139 #unde‡
btowc


140 #i‡
HAVE_RAW_DECL_BTOWC


141 
_GL_WARN_ON_USE
 (
btowc
, "btowc is unportable - "

148 #i‡@
GNULIB_WCTOB
@

149 #i‡@
REPLACE_WCTOB
@

150 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

151 #unde‡
w˘ob


152 
	#w˘ob
 
Ωl_w˘ob


	)

154 
_GL_FUNCDECL_RPL
 (
w˘ob
, , (
wöt_t
 
wc
));

155 
_GL_CXXALIAS_RPL
 (
w˘ob
, , (
wöt_t
 
wc
));

157 #i‡!
deföed
 
w˘ob
 && !@
HAVE_DECL_WCTOB
@

159 
_GL_FUNCDECL_SYS
 (
w˘ob
, , (
wöt_t
 
wc
));

161 
_GL_CXXALIAS_SYS
 (
w˘ob
, , (
wöt_t
 
wc
));

163 
_GL_CXXALIASWARN
 (
w˘ob
);

164 #ñi‡
deföed
 
GNULIB_POSIXCHECK


165 #unde‡
w˘ob


166 #i‡
HAVE_RAW_DECL_WCTOB


167 
_GL_WARN_ON_USE
 (
w˘ob
, "wctob is unportable - "

174 #i‡@
GNULIB_MBSINIT
@

175 #i‡@
REPLACE_MBSINIT
@

176 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

177 #unde‡
mbsöô


178 
	#mbsöô
 
Ωl_mbsöô


	)

180 
_GL_FUNCDECL_RPL
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

181 
_GL_CXXALIAS_RPL
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

183 #i‡!@
HAVE_MBSINIT
@

184 
_GL_FUNCDECL_SYS
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

186 
_GL_CXXALIAS_SYS
 (
mbsöô
, , (c⁄° 
mb°©e_t
 *
ps
));

188 
_GL_CXXALIASWARN
 (
mbsöô
);

189 #ñi‡
deföed
 
GNULIB_POSIXCHECK


190 #unde‡
mbsöô


191 #i‡
HAVE_RAW_DECL_MBSINIT


192 
_GL_WARN_ON_USE
 (
mbsöô
, "mbsinit is unportable - "

199 #i‡@
GNULIB_MBRTOWC
@

200 #i‡@
REPLACE_MBRTOWC
@

201 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

202 #unde‡
mbπowc


203 
	#mbπowc
 
Ωl_mbπowc


	)

205 
_GL_FUNCDECL_RPL
 (
mbπowc
, 
size_t
,

206 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

207 
_GL_CXXALIAS_RPL
 (
mbπowc
, 
size_t
,

208 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

210 #i‡!@
HAVE_MBRTOWC
@

211 
_GL_FUNCDECL_SYS
 (
mbπowc
, 
size_t
,

212 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

214 
_GL_CXXALIAS_SYS
 (
mbπowc
, 
size_t
,

215 (
wch¨_t
 *
pwc
, c⁄° *
s
, 
size_t
 
n
, 
mb°©e_t
 *
ps
));

217 
_GL_CXXALIASWARN
 (
mbπowc
);

218 #ñi‡
deföed
 
GNULIB_POSIXCHECK


219 #unde‡
mbπowc


220 #i‡
HAVE_RAW_DECL_MBRTOWC


221 
_GL_WARN_ON_USE
 (
mbπowc
, "mbrtowc is unportable - "

228 #i‡@
GNULIB_MBRLEN
@

229 #i‡@
REPLACE_MBRLEN
@

230 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

231 #unde‡
mbæí


232 
	#mbæí
 
Ωl_mbæí


	)

234 
_GL_FUNCDECL_RPL
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

235 
_GL_CXXALIAS_RPL
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

237 #i‡!@
HAVE_MBRLEN
@

238 
_GL_FUNCDECL_SYS
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

240 
_GL_CXXALIAS_SYS
 (
mbæí
, 
size_t
, (c⁄° *
s
, size_à
n
, 
mb°©e_t
 *
ps
));

242 
_GL_CXXALIASWARN
 (
mbæí
);

243 #ñi‡
deföed
 
GNULIB_POSIXCHECK


244 #unde‡
mbæí


245 #i‡
HAVE_RAW_DECL_MBRLEN


246 
_GL_WARN_ON_USE
 (
mbæí
, "mbrlen is unportable - "

253 #i‡@
GNULIB_MBSRTOWCS
@

254 #i‡@
REPLACE_MBSRTOWCS
@

255 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

256 #unde‡
mb§towcs


257 
	#mb§towcs
 
Ωl_mb§towcs


	)

259 
_GL_FUNCDECL_RPL
 (
mb§towcs
, 
size_t
,

260 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

261 
_GL_ARG_NONNULL
 ((2)));

262 
_GL_CXXALIAS_RPL
 (
mb§towcs
, 
size_t
,

263 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
,

264 
mb°©e_t
 *
ps
));

266 #i‡!@
HAVE_MBSRTOWCS
@

267 
_GL_FUNCDECL_SYS
 (
mb§towcs
, 
size_t
,

268 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

269 
_GL_ARG_NONNULL
 ((2)));

271 
_GL_CXXALIAS_SYS
 (
mb§towcs
, 
size_t
,

272 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
Àn
,

273 
mb°©e_t
 *
ps
));

275 
_GL_CXXALIASWARN
 (
mb§towcs
);

276 #ñi‡
deföed
 
GNULIB_POSIXCHECK


277 #unde‡
mb§towcs


278 #i‡
HAVE_RAW_DECL_MBSRTOWCS


279 
_GL_WARN_ON_USE
 (
mb§towcs
, "mbsrtowcs is unportable - "

286 #i‡@
GNULIB_MBSNRTOWCS
@

287 #i‡@
REPLACE_MBSNRTOWCS
@

288 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

289 #unde‡
mb¢πowcs


290 
	#mb¢πowcs
 
Ωl_mb¢πowcs


	)

292 
_GL_FUNCDECL_RPL
 (
mb¢πowcs
, 
size_t
,

293 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

294 
mb°©e_t
 *
ps
)

295 
_GL_ARG_NONNULL
 ((2)));

296 
_GL_CXXALIAS_RPL
 (
mb¢πowcs
, 
size_t
,

297 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

298 
mb°©e_t
 *
ps
));

300 #i‡!@
HAVE_MBSNRTOWCS
@

301 
_GL_FUNCDECL_SYS
 (
mb¢πowcs
, 
size_t
,

302 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

303 
mb°©e_t
 *
ps
)

304 
_GL_ARG_NONNULL
 ((2)));

306 
_GL_CXXALIAS_SYS
 (
mb¢πowcs
, 
size_t
,

307 (
wch¨_t
 *
de°
, c⁄° **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

308 
mb°©e_t
 *
ps
));

310 
_GL_CXXALIASWARN
 (
mb¢πowcs
);

311 #ñi‡
deföed
 
GNULIB_POSIXCHECK


312 #unde‡
mb¢πowcs


313 #i‡
HAVE_RAW_DECL_MBSNRTOWCS


314 
_GL_WARN_ON_USE
 (
mb¢πowcs
, "mbsnrtowcs is unportable - "

321 #i‡@
GNULIB_WCRTOMB
@

322 #i‡@
REPLACE_WCRTOMB
@

323 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

324 #unde‡
w¸tomb


325 
	#w¸tomb
 
Ωl_w¸tomb


	)

327 
_GL_FUNCDECL_RPL
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

328 
_GL_CXXALIAS_RPL
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

330 #i‡!@
HAVE_WCRTOMB
@

331 
_GL_FUNCDECL_SYS
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

333 
_GL_CXXALIAS_SYS
 (
w¸tomb
, 
size_t
, (*
s
, 
wch¨_t
 
wc
, 
mb°©e_t
 *
ps
));

335 
_GL_CXXALIASWARN
 (
w¸tomb
);

336 #ñi‡
deföed
 
GNULIB_POSIXCHECK


337 #unde‡
w¸tomb


338 #i‡
HAVE_RAW_DECL_WCRTOMB


339 
_GL_WARN_ON_USE
 (
w¸tomb
, "wcrtomb is unportable - "

346 #i‡@
GNULIB_WCSRTOMBS
@

347 #i‡@
REPLACE_WCSRTOMBS
@

348 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

349 #unde‡
wc§tombs


350 
	#wc§tombs
 
Ωl_wc§tombs


	)

352 
_GL_FUNCDECL_RPL
 (
wc§tombs
, 
size_t
,

353 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

354 
_GL_ARG_NONNULL
 ((2)));

355 
_GL_CXXALIAS_RPL
 (
wc§tombs
, 
size_t
,

356 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
,

357 
mb°©e_t
 *
ps
));

359 #i‡!@
HAVE_WCSRTOMBS
@

360 
_GL_FUNCDECL_SYS
 (
wc§tombs
, 
size_t
,

361 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
, 
mb°©e_t
 *
ps
)

362 
_GL_ARG_NONNULL
 ((2)));

364 
_GL_CXXALIAS_SYS
 (
wc§tombs
, 
size_t
,

365 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
Àn
,

366 
mb°©e_t
 *
ps
));

368 
_GL_CXXALIASWARN
 (
wc§tombs
);

369 #ñi‡
deföed
 
GNULIB_POSIXCHECK


370 #unde‡
wc§tombs


371 #i‡
HAVE_RAW_DECL_WCSRTOMBS


372 
_GL_WARN_ON_USE
 (
wc§tombs
, "wcsrtombs is unportable - "

379 #i‡@
GNULIB_WCSNRTOMBS
@

380 #i‡@
REPLACE_WCSNRTOMBS
@

381 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

382 #unde‡
wc¢πombs


383 
	#wc¢πombs
 
Ωl_wc¢πombs


	)

385 
_GL_FUNCDECL_RPL
 (
wc¢πombs
, 
size_t
,

386 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

387 
mb°©e_t
 *
ps
)

388 
_GL_ARG_NONNULL
 ((2)));

389 
_GL_CXXALIAS_RPL
 (
wc¢πombs
, 
size_t
,

390 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

391 
mb°©e_t
 *
ps
));

393 #i‡!@
HAVE_WCSNRTOMBS
@

394 
_GL_FUNCDECL_SYS
 (
wc¢πombs
, 
size_t
,

395 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

396 
mb°©e_t
 *
ps
)

397 
_GL_ARG_NONNULL
 ((2)));

399 
_GL_CXXALIAS_SYS
 (
wc¢πombs
, 
size_t
,

400 (*
de°
, c⁄° 
wch¨_t
 **
§˝
, 
size_t
 
§˛í
, size_à
Àn
,

401 
mb°©e_t
 *
ps
));

403 
_GL_CXXALIASWARN
 (
wc¢πombs
);

404 #ñi‡
deföed
 
GNULIB_POSIXCHECK


405 #unde‡
wc¢πombs


406 #i‡
HAVE_RAW_DECL_WCSNRTOMBS


407 
_GL_WARN_ON_USE
 (
wc¢πombs
, "wcsnrtombs is unportable - "

414 #i‡@
GNULIB_WCWIDTH
@

415 #i‡@
REPLACE_WCWIDTH
@

416 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

417 #unde‡
wcwidth


418 
	#wcwidth
 
Ωl_wcwidth


	)

420 
_GL_FUNCDECL_RPL
 (
wcwidth
, , (
wch¨_t
));

421 
_GL_CXXALIAS_RPL
 (
wcwidth
, , (
wch¨_t
));

423 #i‡!@
HAVE_DECL_WCWIDTH
@

425 
_GL_FUNCDECL_SYS
 (
wcwidth
, , (
wch¨_t
));

427 
_GL_CXXALIAS_SYS
 (
wcwidth
, , (
wch¨_t
));

429 
_GL_CXXALIASWARN
 (
wcwidth
);

430 #ñi‡
deföed
 
GNULIB_POSIXCHECK


431 #unde‡
wcwidth


432 #i‡
HAVE_RAW_DECL_WCWIDTH


433 
_GL_WARN_ON_USE
 (
wcwidth
, "wcwidth is unportable - "

440 #i‡@
GNULIB_WMEMCHR
@

441 #i‡!@
HAVE_WMEMCHR
@

442 
_GL_FUNCDECL_SYS
 (
wmemchr
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

449 
_GL_CXXALIAS_SYS_CAST2
 (
wmemchr
,

450 
wch¨_t
 *, (c⁄° wch¨_à*, wch¨_t, 
size_t
),

451 c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*, wch¨_t, 
size_t
));

452 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

453 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

454 
_GL_CXXALIASWARN1
 (
wmemchr
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

455 
_GL_CXXALIASWARN1
 (
wmemchr
, c⁄° 
wch¨_t
 *,

456 (c⁄° 
wch¨_t
 *
s
, wch¨_à
c
, 
size_t
 
n
));

458 
_GL_CXXALIASWARN
 (
wmemchr
);

460 #ñi‡
deföed
 
GNULIB_POSIXCHECK


461 #unde‡
wmemchr


462 #i‡
HAVE_RAW_DECL_WMEMCHR


463 
_GL_WARN_ON_USE
 (
wmemchr
, "wmemchr is unportable - "

470 #i‡@
GNULIB_WMEMCMP
@

471 #i‡!@
HAVE_WMEMCMP
@

472 
_GL_FUNCDECL_SYS
 (
wmemcmp
, ,

473 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

475 
_GL_CXXALIAS_SYS
 (
wmemcmp
, ,

476 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

477 
_GL_CXXALIASWARN
 (
wmemcmp
);

478 #ñi‡
deföed
 
GNULIB_POSIXCHECK


479 #unde‡
wmemcmp


480 #i‡
HAVE_RAW_DECL_WMEMCMP


481 
_GL_WARN_ON_USE
 (
wmemcmp
, "wmemcmp is unportable - "

488 #i‡@
GNULIB_WMEMCPY
@

489 #i‡!@
HAVE_WMEMCPY
@

490 
_GL_FUNCDECL_SYS
 (
wmem˝y
, 
wch¨_t
 *,

491 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

493 
_GL_CXXALIAS_SYS
 (
wmem˝y
, 
wch¨_t
 *,

494 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

495 
_GL_CXXALIASWARN
 (
wmem˝y
);

496 #ñi‡
deföed
 
GNULIB_POSIXCHECK


497 #unde‡
wmem˝y


498 #i‡
HAVE_RAW_DECL_WMEMCPY


499 
_GL_WARN_ON_USE
 (
wmem˝y
, "wmemcpy is unportable - "

507 #i‡@
GNULIB_WMEMMOVE
@

508 #i‡!@
HAVE_WMEMMOVE
@

509 
_GL_FUNCDECL_SYS
 (
wmemmove
, 
wch¨_t
 *,

510 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

512 
_GL_CXXALIAS_SYS
 (
wmemmove
, 
wch¨_t
 *,

513 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

514 
_GL_CXXALIASWARN
 (
wmemmove
);

515 #ñi‡
deföed
 
GNULIB_POSIXCHECK


516 #unde‡
wmemmove


517 #i‡
HAVE_RAW_DECL_WMEMMOVE


518 
_GL_WARN_ON_USE
 (
wmemmove
, "wmemmove is unportable - "

525 #i‡@
GNULIB_WMEMSET
@

526 #i‡!@
HAVE_WMEMSET
@

527 
_GL_FUNCDECL_SYS
 (
wmem£t
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

529 
_GL_CXXALIAS_SYS
 (
wmem£t
, 
wch¨_t
 *, (wch¨_à*
s
, wch¨_à
c
, 
size_t
 
n
));

530 
_GL_CXXALIASWARN
 (
wmem£t
);

531 #ñi‡
deföed
 
GNULIB_POSIXCHECK


532 #unde‡
wmem£t


533 #i‡
HAVE_RAW_DECL_WMEMSET


534 
_GL_WARN_ON_USE
 (
wmem£t
, "wmemset is unportable - "

541 #i‡@
GNULIB_WCSLEN
@

542 #i‡!@
HAVE_WCSLEN
@

543 
_GL_FUNCDECL_SYS
 (
wc¶í
, 
size_t
, (c⁄° 
wch¨_t
 *
s
));

545 
_GL_CXXALIAS_SYS
 (
wc¶í
, 
size_t
, (c⁄° 
wch¨_t
 *
s
));

546 
_GL_CXXALIASWARN
 (
wc¶í
);

547 #ñi‡
deföed
 
GNULIB_POSIXCHECK


548 #unde‡
wc¶í


549 #i‡
HAVE_RAW_DECL_WCSLEN


550 
_GL_WARN_ON_USE
 (
wc¶í
, "wcslen is unportable - "

557 #i‡@
GNULIB_WCSNLEN
@

558 #i‡!@
HAVE_WCSNLEN
@

559 
_GL_FUNCDECL_SYS
 (
wc¢Àn
, 
size_t
, (c⁄° 
wch¨_t
 *
s
, size_à
maxÀn
));

561 
_GL_CXXALIAS_SYS
 (
wc¢Àn
, 
size_t
, (c⁄° 
wch¨_t
 *
s
, size_à
maxÀn
));

562 
_GL_CXXALIASWARN
 (
wc¢Àn
);

563 #ñi‡
deföed
 
GNULIB_POSIXCHECK


564 #unde‡
wc¢Àn


565 #i‡
HAVE_RAW_DECL_WCSNLEN


566 
_GL_WARN_ON_USE
 (
wc¢Àn
, "wcsnlen is unportable - "

573 #i‡@
GNULIB_WCSCPY
@

574 #i‡!@
HAVE_WCSCPY
@

575 
_GL_FUNCDECL_SYS
 (
wcs˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

577 
_GL_CXXALIAS_SYS
 (
wcs˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

578 
_GL_CXXALIASWARN
 (
wcs˝y
);

579 #ñi‡
deföed
 
GNULIB_POSIXCHECK


580 #unde‡
wcs˝y


581 #i‡
HAVE_RAW_DECL_WCSCPY


582 
_GL_WARN_ON_USE
 (
wcs˝y
, "wcscpy is unportable - "

589 #i‡@
GNULIB_WCPCPY
@

590 #i‡!@
HAVE_WCPCPY
@

591 
_GL_FUNCDECL_SYS
 (
w˝˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

593 
_GL_CXXALIAS_SYS
 (
w˝˝y
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

594 
_GL_CXXALIASWARN
 (
w˝˝y
);

595 #ñi‡
deföed
 
GNULIB_POSIXCHECK


596 #unde‡
w˝˝y


597 #i‡
HAVE_RAW_DECL_WCPCPY


598 
_GL_WARN_ON_USE
 (
w˝˝y
, "wcpcpy is unportable - "

605 #i‡@
GNULIB_WCSNCPY
@

606 #i‡!@
HAVE_WCSNCPY
@

607 
_GL_FUNCDECL_SYS
 (
wc¢˝y
, 
wch¨_t
 *,

608 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

610 
_GL_CXXALIAS_SYS
 (
wc¢˝y
, 
wch¨_t
 *,

611 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

612 
_GL_CXXALIASWARN
 (
wc¢˝y
);

613 #ñi‡
deföed
 
GNULIB_POSIXCHECK


614 #unde‡
wc¢˝y


615 #i‡
HAVE_RAW_DECL_WCSNCPY


616 
_GL_WARN_ON_USE
 (
wc¢˝y
, "wcsncpy is unportable - "

624 #i‡@
GNULIB_WCPNCPY
@

625 #i‡!@
HAVE_WCPNCPY
@

626 
_GL_FUNCDECL_SYS
 (
w˝n˝y
, 
wch¨_t
 *,

627 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

629 
_GL_CXXALIAS_SYS
 (
w˝n˝y
, 
wch¨_t
 *,

630 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

631 
_GL_CXXALIASWARN
 (
w˝n˝y
);

632 #ñi‡
deföed
 
GNULIB_POSIXCHECK


633 #unde‡
w˝n˝y


634 #i‡
HAVE_RAW_DECL_WCPNCPY


635 
_GL_WARN_ON_USE
 (
w˝n˝y
, "wcpncpy is unportable - "

642 #i‡@
GNULIB_WCSCAT
@

643 #i‡!@
HAVE_WCSCAT
@

644 
_GL_FUNCDECL_SYS
 (
wcsˇt
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

646 
_GL_CXXALIAS_SYS
 (
wcsˇt
, 
wch¨_t
 *, (wch¨_à*
de°
, c⁄° wch¨_à*
§c
));

647 
_GL_CXXALIASWARN
 (
wcsˇt
);

648 #ñi‡
deföed
 
GNULIB_POSIXCHECK


649 #unde‡
wcsˇt


650 #i‡
HAVE_RAW_DECL_WCSCAT


651 
_GL_WARN_ON_USE
 (
wcsˇt
, "wcscat is unportable - "

658 #i‡@
GNULIB_WCSNCAT
@

659 #i‡!@
HAVE_WCSNCAT
@

660 
_GL_FUNCDECL_SYS
 (
wc¢ˇt
, 
wch¨_t
 *,

661 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

663 
_GL_CXXALIAS_SYS
 (
wc¢ˇt
, 
wch¨_t
 *,

664 (
wch¨_t
 *
de°
, c⁄° wch¨_à*
§c
, 
size_t
 
n
));

665 
_GL_CXXALIASWARN
 (
wc¢ˇt
);

666 #ñi‡
deföed
 
GNULIB_POSIXCHECK


667 #unde‡
wc¢ˇt


668 #i‡
HAVE_RAW_DECL_WCSNCAT


669 
_GL_WARN_ON_USE
 (
wc¢ˇt
, "wcsncat is unportable - "

676 #i‡@
GNULIB_WCSCMP
@

677 #i‡!@
HAVE_WCSCMP
@

678 
_GL_FUNCDECL_SYS
 (
wcscmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

680 
_GL_CXXALIAS_SYS
 (
wcscmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

681 
_GL_CXXALIASWARN
 (
wcscmp
);

682 #ñi‡
deföed
 
GNULIB_POSIXCHECK


683 #unde‡
wcscmp


684 #i‡
HAVE_RAW_DECL_WCSCMP


685 
_GL_WARN_ON_USE
 (
wcscmp
, "wcscmp is unportable - "

692 #i‡@
GNULIB_WCSNCMP
@

693 #i‡!@
HAVE_WCSNCMP
@

694 
_GL_FUNCDECL_SYS
 (
wc¢cmp
, ,

695 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

697 
_GL_CXXALIAS_SYS
 (
wc¢cmp
, ,

698 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

699 
_GL_CXXALIASWARN
 (
wc¢cmp
);

700 #ñi‡
deföed
 
GNULIB_POSIXCHECK


701 #unde‡
wc¢cmp


702 #i‡
HAVE_RAW_DECL_WCSNCMP


703 
_GL_WARN_ON_USE
 (
wc¢cmp
, "wcsncmp is unportable - "

710 #i‡@
GNULIB_WCSCASECMP
@

711 #i‡!@
HAVE_WCSCASECMP
@

712 
_GL_FUNCDECL_SYS
 (
wcsˇ£cmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

714 
_GL_CXXALIAS_SYS
 (
wcsˇ£cmp
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

715 
_GL_CXXALIASWARN
 (
wcsˇ£cmp
);

716 #ñi‡
deföed
 
GNULIB_POSIXCHECK


717 #unde‡
wcsˇ£cmp


718 #i‡
HAVE_RAW_DECL_WCSCASECMP


719 
_GL_WARN_ON_USE
 (
wcsˇ£cmp
, "wcscasecmp is unportable - "

726 #i‡@
GNULIB_WCSNCASECMP
@

727 #i‡!@
HAVE_WCSNCASECMP
@

728 
_GL_FUNCDECL_SYS
 (
wc¢ˇ£cmp
, ,

729 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

731 
_GL_CXXALIAS_SYS
 (
wc¢ˇ£cmp
, ,

732 (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, 
size_t
 
n
));

733 
_GL_CXXALIASWARN
 (
wc¢ˇ£cmp
);

734 #ñi‡
deföed
 
GNULIB_POSIXCHECK


735 #unde‡
wc¢ˇ£cmp


736 #i‡
HAVE_RAW_DECL_WCSNCASECMP


737 
_GL_WARN_ON_USE
 (
wc¢ˇ£cmp
, "wcsncasecmp is unportable - "

745 #i‡@
GNULIB_WCSCOLL
@

746 #i‡!@
HAVE_WCSCOLL
@

747 
_GL_FUNCDECL_SYS
 (
wcscﬁl
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

749 
_GL_CXXALIAS_SYS
 (
wcscﬁl
, , (c⁄° 
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
));

750 
_GL_CXXALIASWARN
 (
wcscﬁl
);

751 #ñi‡
deföed
 
GNULIB_POSIXCHECK


752 #unde‡
wcscﬁl


753 #i‡
HAVE_RAW_DECL_WCSCOLL


754 
_GL_WARN_ON_USE
 (
wcscﬁl
, "wcscoll is unportable - "

763 #i‡@
GNULIB_WCSXFRM
@

764 #i‡!@
HAVE_WCSXFRM
@

765 
_GL_FUNCDECL_SYS
 (
wcsx‰m
, 
size_t
, (
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, size_à
n
));

767 
_GL_CXXALIAS_SYS
 (
wcsx‰m
, 
size_t
, (
wch¨_t
 *
s1
, c⁄° wch¨_à*
s2
, size_à
n
));

768 
_GL_CXXALIASWARN
 (
wcsx‰m
);

769 #ñi‡
deföed
 
GNULIB_POSIXCHECK


770 #unde‡
wcsx‰m


771 #i‡
HAVE_RAW_DECL_WCSXFRM


772 
_GL_WARN_ON_USE
 (
wcsx‰m
, "wcsxfrm is unportable - "

779 #i‡@
GNULIB_WCSDUP
@

780 #i‡!@
HAVE_WCSDUP
@

781 
_GL_FUNCDECL_SYS
 (
wcsdup
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
));

783 
_GL_CXXALIAS_SYS
 (
wcsdup
, 
wch¨_t
 *, (c⁄° wch¨_à*
s
));

784 
_GL_CXXALIASWARN
 (
wcsdup
);

785 #ñi‡
deföed
 
GNULIB_POSIXCHECK


786 #unde‡
wcsdup


787 #i‡
HAVE_RAW_DECL_WCSDUP


788 
_GL_WARN_ON_USE
 (
wcsdup
, "wcsdup is unportable - "

795 #i‡@
GNULIB_WCSCHR
@

796 #i‡!@
HAVE_WCSCHR
@

797 
_GL_FUNCDECL_SYS
 (
wcschr
, 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

804 
_GL_CXXALIAS_SYS_CAST2
 (
wcschr
,

805 
wch¨_t
 *, (const wchar_t *, wchar_t),

806 c⁄° 
wch¨_t
 *, (const wchar_t *, wchar_t));

807 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

808 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

809 
_GL_CXXALIASWARN1
 (
wcschr
, 
wch¨_t
 *, (wch¨_à*
wcs
, wch¨_à
wc
));

810 
_GL_CXXALIASWARN1
 (
wcschr
, c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

812 
_GL_CXXALIASWARN
 (
wcschr
);

814 #ñi‡
deföed
 
GNULIB_POSIXCHECK


815 #unde‡
wcschr


816 #i‡
HAVE_RAW_DECL_WCSCHR


817 
_GL_WARN_ON_USE
 (
wcschr
, "wcschr is unportable - "

824 #i‡@
GNULIB_WCSRCHR
@

825 #i‡!@
HAVE_WCSRCHR
@

826 
_GL_FUNCDECL_SYS
 (
wc§chr
, 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

833 
_GL_CXXALIAS_SYS_CAST2
 (
wc§chr
,

834 
wch¨_t
 *, (const wchar_t *, wchar_t),

835 c⁄° 
wch¨_t
 *, (const wchar_t *, wchar_t));

836 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

837 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

838 
_GL_CXXALIASWARN1
 (
wc§chr
, 
wch¨_t
 *, (wch¨_à*
wcs
, wch¨_à
wc
));

839 
_GL_CXXALIASWARN1
 (
wc§chr
, c⁄° 
wch¨_t
 *, (c⁄° wch¨_à*
wcs
, wch¨_à
wc
));

841 
_GL_CXXALIASWARN
 (
wc§chr
);

843 #ñi‡
deföed
 
GNULIB_POSIXCHECK


844 #unde‡
wc§chr


845 #i‡
HAVE_RAW_DECL_WCSRCHR


846 
_GL_WARN_ON_USE
 (
wc§chr
, "wcsrchr is unportable - "

854 #i‡@
GNULIB_WCSCSPN
@

855 #i‡!@
HAVE_WCSCSPN
@

856 
_GL_FUNCDECL_SYS
 (
wcsc•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ªje˘
));

858 
_GL_CXXALIAS_SYS
 (
wcsc•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ªje˘
));

859 
_GL_CXXALIASWARN
 (
wcsc•n
);

860 #ñi‡
deföed
 
GNULIB_POSIXCHECK


861 #unde‡
wcsc•n


862 #i‡
HAVE_RAW_DECL_WCSCSPN


863 
_GL_WARN_ON_USE
 (
wcsc•n
, "wcscspn is unportable - "

871 #i‡@
GNULIB_WCSSPN
@

872 #i‡!@
HAVE_WCSSPN
@

873 
_GL_FUNCDECL_SYS
 (
wcs•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

875 
_GL_CXXALIAS_SYS
 (
wcs•n
, 
size_t
, (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

876 
_GL_CXXALIASWARN
 (
wcs•n
);

877 #ñi‡
deföed
 
GNULIB_POSIXCHECK


878 #unde‡
wcs•n


879 #i‡
HAVE_RAW_DECL_WCSSPN


880 
_GL_WARN_ON_USE
 (
wcs•n
, "wcsspn is unportable - "

887 #i‡@
GNULIB_WCSPBRK
@

888 #i‡!@
HAVE_WCSPBRK
@

889 
_GL_FUNCDECL_SYS
 (
wc•brk
, 
wch¨_t
 *,

890 (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

897 
_GL_CXXALIAS_SYS_CAST2
 (
wc•brk
,

898 
wch¨_t
 *, (const wchar_t *, const wchar_t *),

899 c⁄° 
wch¨_t
 *, (const wchar_t *, const wchar_t *));

900 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

901 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

902 
_GL_CXXALIASWARN1
 (
wc•brk
, 
wch¨_t
 *,

903 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

904 
_GL_CXXALIASWARN1
 (
wc•brk
, c⁄° 
wch¨_t
 *,

905 (c⁄° 
wch¨_t
 *
wcs
, c⁄° wch¨_à*
ac˚±
));

907 
_GL_CXXALIASWARN
 (
wc•brk
);

909 #ñi‡
deföed
 
GNULIB_POSIXCHECK


910 #unde‡
wc•brk


911 #i‡
HAVE_RAW_DECL_WCSPBRK


912 
_GL_WARN_ON_USE
 (
wc•brk
, "wcspbrk is unportable - "

919 #i‡@
GNULIB_WCSSTR
@

920 #i‡!@
HAVE_WCSSTR
@

921 
_GL_FUNCDECL_SYS
 (
wcs°r
, 
wch¨_t
 *,

922 (c⁄° 
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

929 
_GL_CXXALIAS_SYS_CAST2
 (
wcs°r
,

930 
wch¨_t
 *, (const wchar_t *, const wchar_t *),

931 c⁄° 
wch¨_t
 *, (const wchar_t *, const wchar_t *));

932 #i‡((
__GLIBC__
 =2 && 
__GLIBC_MINOR__
 >10Ë&& !
deföed
 
__UCLIBC__
) \

933 && (
	g__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 4))

934 
_GL_CXXALIASWARN1
 (
wcs°r
, 
wch¨_t
 *,

935 (
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

936 
_GL_CXXALIASWARN1
 (
wcs°r
, c⁄° 
wch¨_t
 *,

937 (c⁄° 
wch¨_t
 *
hay°ack
, c⁄° wch¨_à*
√edÀ
));

939 
_GL_CXXALIASWARN
 (
wcs°r
);

941 #ñi‡
deföed
 
GNULIB_POSIXCHECK


942 #unde‡
wcs°r


943 #i‡
HAVE_RAW_DECL_WCSSTR


944 
_GL_WARN_ON_USE
 (
wcs°r
, "wcsstr is unportable - "

951 #i‡@
GNULIB_WCSTOK
@

952 #i‡!@
HAVE_WCSTOK
@

953 
_GL_FUNCDECL_SYS
 (
wc°ok
, 
wch¨_t
 *,

954 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
dñim
, wch¨_à**
±r
));

956 
_GL_CXXALIAS_SYS
 (
wc°ok
, 
wch¨_t
 *,

957 (
wch¨_t
 *
wcs
, c⁄° wch¨_à*
dñim
, wch¨_à**
±r
));

958 
_GL_CXXALIASWARN
 (
wc°ok
);

959 #ñi‡
deföed
 
GNULIB_POSIXCHECK


960 #unde‡
wc°ok


961 #i‡
HAVE_RAW_DECL_WCSTOK


962 
_GL_WARN_ON_USE
 (
wc°ok
, "wcstok is unportable - "

970 #i‡@
GNULIB_WCSWIDTH
@

971 #i‡@
REPLACE_WCSWIDTH
@

972 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

973 #unde‡
wcswidth


974 
	#wcswidth
 
Ωl_wcswidth


	)

976 
_GL_FUNCDECL_RPL
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

977 
_GL_CXXALIAS_RPL
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

979 #i‡!@
HAVE_WCSWIDTH
@

980 
_GL_FUNCDECL_SYS
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

982 
_GL_CXXALIAS_SYS
 (
wcswidth
, , (c⁄° 
wch¨_t
 *
s
, 
size_t
 
n
));

984 
_GL_CXXALIASWARN
 (
wcswidth
);

985 #ñi‡
deföed
 
GNULIB_POSIXCHECK


986 #unde‡
wcswidth


987 #i‡
HAVE_RAW_DECL_WCSWIDTH


988 
_GL_WARN_ON_USE
 (
wcswidth
, "wcswidth is unportable - "

	@lib/wctype.h

32 #i‚de‡
_GL_WCTYPE_H


34 #i‡
__GNUC__
 >= 3

35 #¥agm®
GCC
 
sy°em_hódî


45 
	~<°ddef.h
>

46 
	~<°dio.h
>

47 
	~<time.h
>

48 
	~<wch¨.h
>

55 #ö˛ude_√xà<
w˘y≥
.
h
>

58 #i‚de‡
_GL_WCTYPE_H


59 
	#_GL_WCTYPE_H


	)

62 #i‚de‡
_GL_CXXDEFS_H


63 
	#_GL_CXXDEFS_H


	)

126 #i‡
deföed
 
__˝lu•lus


127 
	#_GL_EXTERN_C
 "C"

	)

129 
	#_GL_EXTERN_C
 

	)

139 
	#_GL_FUNCDECL_RPL
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

140 
	`_GL_FUNCDECL_RPL_1
 (
Ωl_
##
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
)

	)

141 
	#_GL_FUNCDECL_RPL_1
(
Ωl_func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

142 
_GL_EXTERN_C
 
ªây≥
 
Ωl_func
 
∑ømëîs_™d_©åibuãs


	)

151 
	#_GL_FUNCDECL_SYS
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

152 
_GL_EXTERN_C
 
ªây≥
 
func
 
∑ømëîs_™d_©åibuãs


	)

160 
	#_GL_CXXALIAS_RPL
(
func
,
ªây≥
,
∑ømëîs
) \

161 
	`_GL_CXXALIAS_RPL_1
 (
func
, 
Ωl_
##func, 
ªây≥
, 
∑ømëîs
)

	)

162 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


163 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

164 
«me•a˚
 
GNULIB_NAMESPACE
 \

166 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = ::
Ωl_func
; \

168 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

170 
	#_GL_CXXALIAS_RPL_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

171 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

179 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


180 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

181 
«me•a˚
 
GNULIB_NAMESPACE
 \

183 
	`ªây≥
 (*c⁄° 
func
Ë
∑ømëîs
 = \

184 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
Ωl_func
); \

186 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

188 
	#_GL_CXXALIAS_RPL_CAST_1
(
func
,
Ωl_func
,
ªây≥
,
∑ømëîs
) \

189 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

199 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


206 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

207 
«me•a˚
 
GNULIB_NAMESPACE
 \

209 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = ::func; \

211 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

213 
	#_GL_CXXALIAS_SYS
(
func
,
ªây≥
,
∑ømëîs
) \

214 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

222 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


223 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

224 
«me•a˚
 
GNULIB_NAMESPACE
 \

226 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

227 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>(::
func
); \

229 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

231 
	#_GL_CXXALIAS_SYS_CAST
(
func
,
ªây≥
,
∑ømëîs
) \

232 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

241 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


247 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

248 
«me•a˚
 
GNULIB_NAMESPACE
 \

250 
	`ªây≥
 (*
func
Ë
∑ømëîs
 = \

251 
ªöãΩªt_ˇ°
<
	`ªây≥
(*)
∑ømëîs
>( \

252 (
	`ªây≥2
(*)
∑ømëîs2
)(::
func
)); \

254 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

256 
	#_GL_CXXALIAS_SYS_CAST2
(
func
,
ªây≥
,
∑ømëîs
,
ªây≥2
,
∑ømëîs2
) \

257 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

264 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


265 
	#_GL_CXXALIASWARN
(
func
) \

266 
	`_GL_CXXALIASWARN_1
 (
func
, 
GNULIB_NAMESPACE
)

	)

267 
	#_GL_CXXALIASWARN_1
(
func
,
«me•a˚
) \

268 
	`_GL_CXXALIASWARN_2
 (
func
, 
«me•a˚
)

	)

271 #i‡!
__OPTIMIZE__


272 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

273 
	`_GL_WARN_ON_USE
 (
func
, \

275 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

276 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


277 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

278 
	`__ty≥of__
 (
func
Ë
	)
func

280 
	#_GL_CXXALIASWARN_2
(
func
,
«me•a˚
) \

281 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

284 
	#_GL_CXXALIASWARN
(
func
) \

285 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

291 #i‡
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE


292 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

293 
	`_GL_CXXALIASWARN1_1
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

294 
GNULIB_NAMESPACE
)

	)

295 
	#_GL_CXXALIASWARN1_1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

296 
	`_GL_CXXALIASWARN1_2
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, 
«me•a˚
)

	)

299 #i‡!
__OPTIMIZE__


300 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

301 
	`_GL_WARN_ON_USE_CXX
 (
func
, 
ªây≥
, 
∑ømëîs_™d_©åibuãs
, \

303 "U£ " #«me•a˚ "::" #fun¯" in°ód.")

	)

304 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


305 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

306 
	`__ty≥of__
 (
func
Ë
	)
func

308 
	#_GL_CXXALIASWARN1_2
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
«me•a˚
) \

309 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

312 
	#_GL_CXXALIASWARN1
(
func
,
ªây≥
,
∑ømëîs_™d_©åibuãs
) \

313 
_GL_EXTERN_C
 
_gl_cxxÆüs_dummy


	)

319 #i‚de‡
_GL_WARN_ON_USE


321 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

323 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

324 
	`__ty≥of__
 (
fun˘i⁄
Ëfun˘i⁄ 
	`__©åibuã__
 ((
	`__w¨nög__
 (
mesßge
)))

	)

325 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


327 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

328 
	`__ty≥of__
 (
fun˘i⁄
Ë
	)
function

330 
	#_GL_WARN_ON_USE
(
fun˘i⁄
, 
mesßge
) \

331 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

341 #i‚de‡
_GL_WARN_ON_USE_CXX


342 #i‡4 < 
__GNUC__
 || (__GNUC__ =4 && 3 <
__GNUC_MINOR__
)

343 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

344 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs
 \

345 
	`__©åibuã__
 ((
	`__w¨nög__
 (
msg
)))

	)

346 #ñi‡
__GNUC__
 >3 && 
GNULIB_STRICT_CHECKING


348 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

349 
ªây≥
 
fun˘i⁄
 
∑ømëîs_™d_©åibuãs


	)

351 
	#_GL_WARN_ON_USE_CXX
(
fun˘i⁄
,
ªây≥
,
∑ømëîs_™d_©åibuãs
,
msg
) \

352 
_GL_WARN_EXTERN_C
 
_gl_w¨n_⁄_u£


	)

358 #i‚de‡
_GL_WARN_EXTERN_C


359 #i‡
deföed
 
__˝lu•lus


360 
	#_GL_WARN_EXTERN_C
 "C"

	)

362 
	#_GL_WARN_EXTERN_C
 

	)

369 #ifde‡
__sun


370 #unde‡
mu…ibyã


371 #unde‡
eucw1


372 #unde‡
eucw2


373 #unde‡
eucw3


374 #unde‡
s¸w1


375 #unde‡
s¸w2


376 #unde‡
s¸w3


380 #i‡!1 && !
deföed
 
wöt_t


381 
	#wöt_t
 

	)

382 #i‚de‡
WEOF


383 
	#WEOF
 -1

	)

386 #i‚de‡
WEOF


387 
	#WEOF
 ((
wöt_t
Ë-1)

	)

392 #i‡!
GNULIB_deföed_w˘y≥_fun˘i⁄s


405 #unde‡
iswÆnum


406 #unde‡
iswÆpha


407 #unde‡
iswbœnk


408 #unde‡
isw˙ål


409 #unde‡
iswdigô


410 #unde‡
iswgøph


411 #unde‡
iswlowî


412 #unde‡
isw¥öt


413 #unde‡
iswpun˘


414 #unde‡
isw•a˚


415 #unde‡
iswuµî


416 #unde‡
iswxdigô


417 #unde‡
towlowî


418 #unde‡
towuµî


422 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

423 
	#iswÆnum
 
Ωl_iswÆnum


	)

424 
	#iswÆpha
 
Ωl_iswÆpha


	)

425 
	#iswbœnk
 
Ωl_iswbœnk


	)

426 
	#isw˙ål
 
Ωl_isw˙ål


	)

427 
	#iswdigô
 
Ωl_iswdigô


	)

428 
	#iswgøph
 
Ωl_iswgøph


	)

429 
	#iswlowî
 
Ωl_iswlowî


	)

430 
	#isw¥öt
 
Ωl_isw¥öt


	)

431 
	#iswpun˘
 
Ωl_iswpun˘


	)

432 
	#isw•a˚
 
Ωl_isw•a˚


	)

433 
	#iswuµî
 
Ωl_iswuµî


	)

434 
	#iswxdigô
 
Ωl_iswxdigô


	)

438 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

439 
	#towlowî
 
Ωl_towlowî


	)

440 
	#towuµî
 
Ωl_towuµî


	)

444 
ölöe
 

446 
Ωl_iswÆnum


448 
iswÆnum


450 (
wöt_t
 
wc
)

452  ((
wc
 >= '0' && wc <= '9')

453 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'Z'));

456 
ölöe
 

458 
Ωl_iswÆpha


460 
iswÆpha


462 (
wöt_t
 
wc
)

464  (
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'Z';

467 
ölöe
 

469 
Ωl_iswbœnk


471 
iswbœnk


473 (
wöt_t
 
wc
)

475  
wc
 == ' ' || wc == '\t';

478 
ölöe
 

480 
Ωl_isw˙ål


482 
isw˙ål


484 (
wöt_t
 
wc
)

486  (
wc
 & ~0x1f) == 0 || wc == 0x7f;

489 
ölöe
 

491 
Ωl_iswdigô


493 
iswdigô


495 (
wöt_t
 
wc
)

497  
wc
 >= '0' && wc <= '9';

500 
ölöe
 

502 
Ωl_iswgøph


504 
iswgøph


506 (
wöt_t
 
wc
)

508  
wc
 >= '!' && wc <= '~';

511 
ölöe
 

513 
Ωl_iswlowî


515 
iswlowî


517 (
wöt_t
 
wc
)

519  
wc
 >= 'a' && wc <= 'z';

522 
ölöe
 

524 
Ωl_isw¥öt


526 
isw¥öt


528 (
wöt_t
 
wc
)

530  
wc
 >= ' ' && wc <= '~';

533 
ölöe
 

535 
Ωl_iswpun˘


537 
iswpun˘


539 (
wöt_t
 
wc
)

541  (
wc
 >= '!' && wc <= '~'

542 && !((
wc
 >= '0' && wc <= '9')

543 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'Z')));

546 
ölöe
 

548 
Ωl_isw•a˚


550 
isw•a˚


552 (
wöt_t
 
wc
)

554  (
wc
 == ' ' || wc == '\t'

555 || 
wc
 == '\n' || wc == '\v' || wc == '\f' || wc == '\r');

558 
ölöe
 

560 
Ωl_iswuµî


562 
iswuµî


564 (
wöt_t
 
wc
)

566  
wc
 >= 'A' && wc <= 'Z';

569 
ölöe
 

571 
Ωl_iswxdigô


573 
iswxdigô


575 (
wöt_t
 
wc
)

577  ((
wc
 >= '0' && wc <= '9')

578 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'F'));

581 
ölöe
 
wöt_t


583 
Ωl_towlowî


585 
towlowî


587 (
wöt_t
 
wc
)

589  (
wc
 >= 'A' && wc <= 'Z' ? wc - 'A' + 'a' : wc);

592 
ölöe
 
wöt_t


594 
Ωl_towuµî


596 
towuµî


598 (
wöt_t
 
wc
)

600  (
wc
 >= 'a' && wc <= 'z' ? wc - 'a' + 'A' : wc);

607 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

608 
	#iswbœnk
 
Ωl_iswbœnk


	)

610 
_GL_FUNCDECL_RPL
 (
iswbœnk
, , (
wöt_t
 
wc
));

612 
_GL_FUNCDECL_SYS
 (
iswbœnk
, , (
wöt_t
 
wc
));

617 #i‡
deföed
 
__MINGW32__


632 
ölöe
 
wöt_t


633 
	$Ωl_towlowî
 (
wöt_t
 
wc
)

635  (
wöt_t
Ë(
wch¨_t
Ë
	`towlowî
 (
wc
);

636 
	}
}

637 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

638 
	#towlowî
 
Ωl_towlowî


	)

641 
ölöe
 
wöt_t


642 
	$Ωl_towuµî
 (
wöt_t
 
wc
)

644  (
wöt_t
Ë(
wch¨_t
Ë
	`towuµî
 (
wc
);

645 
	}
}

646 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

647 
	#towuµî
 
Ωl_towuµî


	)

652 
	#GNULIB_deföed_w˘y≥_fun˘i⁄s
 1

	)

656 
_GL_CXXALIAS_RPL
 (
iswÆnum
, , (
wöt_t
 
wc
));

657 
_GL_CXXALIAS_RPL
 (
iswÆpha
, , (
wöt_t
 
wc
));

658 
_GL_CXXALIAS_RPL
 (
isw˙ål
, , (
wöt_t
 
wc
));

659 
_GL_CXXALIAS_RPL
 (
iswdigô
, , (
wöt_t
 
wc
));

660 
_GL_CXXALIAS_RPL
 (
iswgøph
, , (
wöt_t
 
wc
));

661 
_GL_CXXALIAS_RPL
 (
iswlowî
, , (
wöt_t
 
wc
));

662 
_GL_CXXALIAS_RPL
 (
isw¥öt
, , (
wöt_t
 
wc
));

663 
_GL_CXXALIAS_RPL
 (
iswpun˘
, , (
wöt_t
 
wc
));

664 
_GL_CXXALIAS_RPL
 (
isw•a˚
, , (
wöt_t
 
wc
));

665 
_GL_CXXALIAS_RPL
 (
iswuµî
, , (
wöt_t
 
wc
));

666 
_GL_CXXALIAS_RPL
 (
iswxdigô
, , (
wöt_t
 
wc
));

668 
_GL_CXXALIAS_SYS
 (
iswÆnum
, , (
wöt_t
 
wc
));

669 
_GL_CXXALIAS_SYS
 (
iswÆpha
, , (
wöt_t
 
wc
));

670 
_GL_CXXALIAS_SYS
 (
isw˙ål
, , (
wöt_t
 
wc
));

671 
_GL_CXXALIAS_SYS
 (
iswdigô
, , (
wöt_t
 
wc
));

672 
_GL_CXXALIAS_SYS
 (
iswgøph
, , (
wöt_t
 
wc
));

673 
_GL_CXXALIAS_SYS
 (
iswlowî
, , (
wöt_t
 
wc
));

674 
_GL_CXXALIAS_SYS
 (
isw¥öt
, , (
wöt_t
 
wc
));

675 
_GL_CXXALIAS_SYS
 (
iswpun˘
, , (
wöt_t
 
wc
));

676 
_GL_CXXALIAS_SYS
 (
isw•a˚
, , (
wöt_t
 
wc
));

677 
_GL_CXXALIAS_SYS
 (
iswuµî
, , (
wöt_t
 
wc
));

678 
_GL_CXXALIAS_SYS
 (
iswxdigô
, , (
wöt_t
 
wc
));

680 
_GL_CXXALIASWARN
 (
iswÆnum
);

681 
_GL_CXXALIASWARN
 (
iswÆpha
);

682 
_GL_CXXALIASWARN
 (
isw˙ål
);

683 
_GL_CXXALIASWARN
 (
iswdigô
);

684 
_GL_CXXALIASWARN
 (
iswgøph
);

685 
_GL_CXXALIASWARN
 (
iswlowî
);

686 
_GL_CXXALIASWARN
 (
isw¥öt
);

687 
_GL_CXXALIASWARN
 (
iswpun˘
);

688 
_GL_CXXALIASWARN
 (
isw•a˚
);

689 
_GL_CXXALIASWARN
 (
iswuµî
);

690 
_GL_CXXALIASWARN
 (
iswxdigô
);

694 
_GL_CXXALIAS_RPL
 (
iswbœnk
, , (
wöt_t
 
wc
));

696 
_GL_CXXALIAS_SYS
 (
iswbœnk
, , (
wöt_t
 
wc
));

698 
_GL_CXXALIASWARN
 (
iswbœnk
);

702 #i‡!
GNULIB_deföed_w˘y≥_t


703 * 
	tw˘y≥_t
;

704 
	#GNULIB_deföed_w˘y≥_t
 1

	)

711 
_GL_FUNCDECL_SYS
 (
w˘y≥
, 
w˘y≥_t
, (c⁄° *
«me
));

713 
_GL_CXXALIAS_SYS
 (
w˘y≥
, 
w˘y≥_t
, (c⁄° *
«me
));

714 
_GL_CXXALIASWARN
 (
w˘y≥
);

715 #ñi‡
deföed
 
GNULIB_POSIXCHECK


716 #unde‡
w˘y≥


717 #i‡
HAVE_RAW_DECL_WCTYPE


718 
_GL_WARN_ON_USE
 (
w˘y≥
, "wctype is unportable - "

728 
_GL_FUNCDECL_SYS
 (
isw˘y≥
, , (
wöt_t
 
wc
, 
w˘y≥_t
 
desc
));

730 
_GL_CXXALIAS_SYS
 (
isw˘y≥
, , (
wöt_t
 
wc
, 
w˘y≥_t
 
desc
));

731 
_GL_CXXALIASWARN
 (
isw˘y≥
);

732 #ñi‡
deföed
 
GNULIB_POSIXCHECK


733 #unde‡
isw˘y≥


734 #i‡
HAVE_RAW_DECL_ISWCTYPE


735 
_GL_WARN_ON_USE
 (
isw˘y≥
, "iswctype is unportable - "

740 #i‡0 || 
deföed
 
__MINGW32__


741 
_GL_CXXALIAS_RPL
 (
towlowî
, 
wöt_t
, (wöt_à
wc
));

742 
_GL_CXXALIAS_RPL
 (
towuµî
, 
wöt_t
, (wöt_à
wc
));

744 
_GL_CXXALIAS_SYS
 (
towlowî
, 
wöt_t
, (wöt_à
wc
));

745 
_GL_CXXALIAS_SYS
 (
towuµî
, 
wöt_t
, (wöt_à
wc
));

747 
_GL_CXXALIASWARN
 (
towlowî
);

748 
_GL_CXXALIASWARN
 (
towuµî
);

751 #i‡!
GNULIB_deföed_w˘øns_t


752 * 
	tw˘øns_t
;

753 
	#GNULIB_deföed_w˘øns_t
 1

	)

760 
_GL_FUNCDECL_SYS
 (
w˘øns
, 
w˘øns_t
, (c⁄° *
«me
));

762 
_GL_CXXALIAS_SYS
 (
w˘øns
, 
w˘øns_t
, (c⁄° *
«me
));

763 
_GL_CXXALIASWARN
 (
w˘øns
);

764 #ñi‡
deföed
 
GNULIB_POSIXCHECK


765 #unde‡
w˘øns


766 #i‡
HAVE_RAW_DECL_WCTRANS


767 
_GL_WARN_ON_USE
 (
w˘øns
, "wctrans is unportable - "

777 
_GL_FUNCDECL_SYS
 (
tow˘øns
, 
wöt_t
, (wöt_à
wc
, 
w˘øns_t
 
desc
));

779 
_GL_CXXALIAS_SYS
 (
tow˘øns
, 
wöt_t
, (wöt_à
wc
, 
w˘øns_t
 
desc
));

780 
_GL_CXXALIASWARN
 (
tow˘øns
);

781 #ñi‡
deföed
 
GNULIB_POSIXCHECK


782 #unde‡
tow˘øns


783 #i‡
HAVE_RAW_DECL_TOWCTRANS


784 
_GL_WARN_ON_USE
 (
tow˘øns
, "towctrans is unportable - "

	@lib/wctype.in.h

31 #i‚de‡
_
@
GUARD_PREFIX
@
_WCTYPE_H


33 #i‡
__GNUC__
 >= 3

34 @
	gPRAGMA_SYSTEM_HEADER
@

36 @
	gPRAGMA_COLUMNS
@

38 #i‡@
HAVE_WINT_T
@

44 
	~<°ddef.h
>

45 
	~<°dio.h
>

46 
	~<time.h
>

47 
	~<wch¨.h
>

53 #i‡@
HAVE_WCTYPE_H
@

54 #@
INCLUDE_NEXT
@ @
NEXT_WCTYPE_H
@

57 #i‚de‡
_
@
GUARD_PREFIX
@
_WCTYPE_H


58 
	#_
@
GUARD_PREFIX
@
_WCTYPE_H


	)

67 #ifde‡
__sun


68 #unde‡
mu…ibyã


69 #unde‡
eucw1


70 #unde‡
eucw2


71 #unde‡
eucw3


72 #unde‡
s¸w1


73 #unde‡
s¸w2


74 #unde‡
s¸w3


78 #i‡!@
HAVE_WINT_T
@ && !
deföed
 
wöt_t


79 
	#wöt_t
 

	)

80 #i‚de‡
WEOF


81 
	#WEOF
 -1

	)

84 #i‚de‡
WEOF


85 
	#WEOF
 ((
wöt_t
Ë-1)

	)

90 #i‡!
GNULIB_deföed_w˘y≥_fun˘i⁄s


96 #i‡! @
HAVE_ISWCNTRL
@ || @
REPLACE_ISWCNTRL
@

103 #unde‡
iswÆnum


104 #unde‡
iswÆpha


105 #unde‡
iswbœnk


106 #unde‡
isw˙ål


107 #unde‡
iswdigô


108 #unde‡
iswgøph


109 #unde‡
iswlowî


110 #unde‡
isw¥öt


111 #unde‡
iswpun˘


112 #unde‡
isw•a˚


113 #unde‡
iswuµî


114 #unde‡
iswxdigô


115 #unde‡
towlowî


116 #unde‡
towuµî


119 #i‡@
REPLACE_ISWCNTRL
@

120 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

121 
	#iswÆnum
 
Ωl_iswÆnum


	)

122 
	#iswÆpha
 
Ωl_iswÆpha


	)

123 
	#iswbœnk
 
Ωl_iswbœnk


	)

124 
	#isw˙ål
 
Ωl_isw˙ål


	)

125 
	#iswdigô
 
Ωl_iswdigô


	)

126 
	#iswgøph
 
Ωl_iswgøph


	)

127 
	#iswlowî
 
Ωl_iswlowî


	)

128 
	#isw¥öt
 
Ωl_isw¥öt


	)

129 
	#iswpun˘
 
Ωl_iswpun˘


	)

130 
	#isw•a˚
 
Ωl_isw•a˚


	)

131 
	#iswuµî
 
Ωl_iswuµî


	)

132 
	#iswxdigô
 
Ωl_iswxdigô


	)

135 #i‡@
REPLACE_TOWLOWER
@

136 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

137 
	#towlowî
 
Ωl_towlowî


	)

138 
	#towuµî
 
Ωl_towuµî


	)

142 
ölöe
 

143 #i‡@
REPLACE_ISWCNTRL
@

144 
	gΩl_iswÆnum


146 
	giswÆnum


148 (
wöt_t
 
	gwc
)

150  ((
	gwc
 >'0' && 
wc
 <= '9')

151 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'Z'));

154 
ölöe
 

155 #i‡@
REPLACE_ISWCNTRL
@

156 
	gΩl_iswÆpha


158 
	giswÆpha


160 (
wöt_t
 
	gwc
)

162  (
	gwc
 & ~0x20Ë>'A' && (
wc
 & ~0x20) <= 'Z';

165 
ölöe
 

166 #i‡@
REPLACE_ISWCNTRL
@

167 
	gΩl_iswbœnk


169 
	giswbœnk


171 (
wöt_t
 
	gwc
)

173  
	gwc
 =' ' || 
wc
 == '\t';

176 
ölöe
 

177 #i‡@
REPLACE_ISWCNTRL
@

178 
	gΩl_isw˙ål


180 
	gisw˙ål


182 (
wöt_t
 
	gwc
)

184  (
	gwc
 & ~0x1fË=0 || 
wc
 == 0x7f;

187 
ölöe
 

188 #i‡@
REPLACE_ISWCNTRL
@

189 
	gΩl_iswdigô


191 
	giswdigô


193 (
wöt_t
 
	gwc
)

195  
	gwc
 >'0' && 
wc
 <= '9';

198 
ölöe
 

199 #i‡@
REPLACE_ISWCNTRL
@

200 
	gΩl_iswgøph


202 
	giswgøph


204 (
wöt_t
 
	gwc
)

206  
	gwc
 >'!' && 
wc
 <= '~';

209 
ölöe
 

210 #i‡@
REPLACE_ISWCNTRL
@

211 
	gΩl_iswlowî


213 
	giswlowî


215 (
wöt_t
 
	gwc
)

217  
	gwc
 >'a' && 
wc
 <= 'z';

220 
ölöe
 

221 #i‡@
REPLACE_ISWCNTRL
@

222 
	gΩl_isw¥öt


224 
	gisw¥öt


226 (
wöt_t
 
	gwc
)

228  
	gwc
 >' ' && 
wc
 <= '~';

231 
ölöe
 

232 #i‡@
REPLACE_ISWCNTRL
@

233 
	gΩl_iswpun˘


235 
	giswpun˘


237 (
wöt_t
 
	gwc
)

239  (
	gwc
 >'!' && 
wc
 <= '~'

240 && !((
wc
 >= '0' && wc <= '9')

241 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'Z')));

244 
ölöe
 

245 #i‡@
REPLACE_ISWCNTRL
@

246 
	gΩl_isw•a˚


248 
	gisw•a˚


250 (
wöt_t
 
	gwc
)

252  (
	gwc
 =' ' || 
wc
 == '\t'

253 || 
wc
 == '\n' || wc == '\v' || wc == '\f' || wc == '\r');

256 
ölöe
 

257 #i‡@
REPLACE_ISWCNTRL
@

258 
	gΩl_iswuµî


260 
	giswuµî


262 (
wöt_t
 
	gwc
)

264  
	gwc
 >'A' && 
wc
 <= 'Z';

267 
ölöe
 

268 #i‡@
REPLACE_ISWCNTRL
@

269 
	gΩl_iswxdigô


271 
	giswxdigô


273 (
wöt_t
 
	gwc
)

275  ((
	gwc
 >'0' && 
wc
 <= '9')

276 || ((
wc
 & ~0x20) >= 'A' && (wc & ~0x20) <= 'F'));

279 
ölöe
 
	gwöt_t


280 #i‡@
REPLACE_TOWLOWER
@

281 
	gΩl_towlowî


283 
	gtowlowî


285 (
wöt_t
 
	gwc
)

287  (
	gwc
 >'A' && 
wc
 <= 'Z' ? wc - 'A' + 'a' : wc);

290 
ölöe
 
	gwöt_t


291 #i‡@
REPLACE_TOWLOWER
@

292 
	gΩl_towuµî


294 
	gtowuµî


296 (
wöt_t
 
	gwc
)

298  (
	gwc
 >'a' && 
wc
 <= 'z' ? wc - 'a' + 'A' : wc);

301 #ñi‡@
GNULIB_ISWBLANK
@ && (! @
HAVE_ISWBLANK
@ || @
REPLACE_ISWBLANK
@)

304 #i‡@
REPLACE_ISWBLANK
@

305 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

306 
	#iswbœnk
 
Ωl_iswbœnk


	)

308 
_GL_FUNCDECL_RPL
 (
iswbœnk
, , (
wöt_t
 
wc
));

310 
_GL_FUNCDECL_SYS
 (
iswbœnk
, , (
wöt_t
 
wc
));

315 #i‡
deföed
 
__MINGW32__


330 
ölöe
 
wöt_t


331 
	$Ωl_towlowî
 (
wöt_t
 
wc
)

333  (
wöt_t
Ë(
wch¨_t
Ë
	`towlowî
 (
wc
);

334 
	}
}

335 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

336 
	#towlowî
 
Ωl_towlowî


	)

339 
ölöe
 
wöt_t


340 
	$Ωl_towuµî
 (
wöt_t
 
wc
)

342  (
wöt_t
Ë(
wch¨_t
Ë
	`towuµî
 (
wc
);

343 
	}
}

344 #i‡!(
deföed
 
__˝lu•lus
 && deföed 
GNULIB_NAMESPACE
)

345 
	#towuµî
 
Ωl_towuµî


	)

350 
	#GNULIB_deföed_w˘y≥_fun˘i⁄s
 1

	)

353 #i‡@
REPLACE_ISWCNTRL
@

354 
_GL_CXXALIAS_RPL
 (
iswÆnum
, , (
wöt_t
 
wc
));

355 
_GL_CXXALIAS_RPL
 (
iswÆpha
, , (
wöt_t
 
wc
));

356 
_GL_CXXALIAS_RPL
 (
isw˙ål
, , (
wöt_t
 
wc
));

357 
_GL_CXXALIAS_RPL
 (
iswdigô
, , (
wöt_t
 
wc
));

358 
_GL_CXXALIAS_RPL
 (
iswgøph
, , (
wöt_t
 
wc
));

359 
_GL_CXXALIAS_RPL
 (
iswlowî
, , (
wöt_t
 
wc
));

360 
_GL_CXXALIAS_RPL
 (
isw¥öt
, , (
wöt_t
 
wc
));

361 
_GL_CXXALIAS_RPL
 (
iswpun˘
, , (
wöt_t
 
wc
));

362 
_GL_CXXALIAS_RPL
 (
isw•a˚
, , (
wöt_t
 
wc
));

363 
_GL_CXXALIAS_RPL
 (
iswuµî
, , (
wöt_t
 
wc
));

364 
_GL_CXXALIAS_RPL
 (
iswxdigô
, , (
wöt_t
 
wc
));

366 
_GL_CXXALIAS_SYS
 (
iswÆnum
, , (
wöt_t
 
wc
));

367 
_GL_CXXALIAS_SYS
 (
iswÆpha
, , (
wöt_t
 
wc
));

368 
_GL_CXXALIAS_SYS
 (
isw˙ål
, , (
wöt_t
 
wc
));

369 
_GL_CXXALIAS_SYS
 (
iswdigô
, , (
wöt_t
 
wc
));

370 
_GL_CXXALIAS_SYS
 (
iswgøph
, , (
wöt_t
 
wc
));

371 
_GL_CXXALIAS_SYS
 (
iswlowî
, , (
wöt_t
 
wc
));

372 
_GL_CXXALIAS_SYS
 (
isw¥öt
, , (
wöt_t
 
wc
));

373 
_GL_CXXALIAS_SYS
 (
iswpun˘
, , (
wöt_t
 
wc
));

374 
_GL_CXXALIAS_SYS
 (
isw•a˚
, , (
wöt_t
 
wc
));

375 
_GL_CXXALIAS_SYS
 (
iswuµî
, , (
wöt_t
 
wc
));

376 
_GL_CXXALIAS_SYS
 (
iswxdigô
, , (
wöt_t
 
wc
));

378 
_GL_CXXALIASWARN
 (
iswÆnum
);

379 
_GL_CXXALIASWARN
 (
iswÆpha
);

380 
_GL_CXXALIASWARN
 (
isw˙ål
);

381 
_GL_CXXALIASWARN
 (
iswdigô
);

382 
_GL_CXXALIASWARN
 (
iswgøph
);

383 
_GL_CXXALIASWARN
 (
iswlowî
);

384 
_GL_CXXALIASWARN
 (
isw¥öt
);

385 
_GL_CXXALIASWARN
 (
iswpun˘
);

386 
_GL_CXXALIASWARN
 (
isw•a˚
);

387 
_GL_CXXALIASWARN
 (
iswuµî
);

388 
_GL_CXXALIASWARN
 (
iswxdigô
);

390 #i‡@
GNULIB_ISWBLANK
@

391 #i‡@
REPLACE_ISWCNTRL
@ || @
REPLACE_ISWBLANK
@

392 
_GL_CXXALIAS_RPL
 (
iswbœnk
, , (
wöt_t
 
wc
));

394 
_GL_CXXALIAS_SYS
 (
iswbœnk
, , (
wöt_t
 
wc
));

396 
_GL_CXXALIASWARN
 (
iswbœnk
);

399 #i‡!@
HAVE_WCTYPE_T
@

400 #i‡!
GNULIB_deföed_w˘y≥_t


401 * 
	tw˘y≥_t
;

402 
	#GNULIB_deföed_w˘y≥_t
 1

	)

407 #i‡@
GNULIB_WCTYPE
@

408 #i‡!@
HAVE_WCTYPE_T
@

409 
_GL_FUNCDECL_SYS
 (
w˘y≥
, 
w˘y≥_t
, (c⁄° *
«me
));

411 
_GL_CXXALIAS_SYS
 (
w˘y≥
, 
w˘y≥_t
, (c⁄° *
«me
));

412 
_GL_CXXALIASWARN
 (
w˘y≥
);

413 #ñi‡
deföed
 
GNULIB_POSIXCHECK


414 #unde‡
w˘y≥


415 #i‡
HAVE_RAW_DECL_WCTYPE


416 
_GL_WARN_ON_USE
 (
w˘y≥
, "wctype is unportable - "

424 #i‡@
GNULIB_ISWCTYPE
@

425 #i‡!@
HAVE_WCTYPE_T
@

426 
_GL_FUNCDECL_SYS
 (
isw˘y≥
, , (
wöt_t
 
wc
, 
w˘y≥_t
 
desc
));

428 
_GL_CXXALIAS_SYS
 (
isw˘y≥
, , (
wöt_t
 
wc
, 
w˘y≥_t
 
desc
));

429 
_GL_CXXALIASWARN
 (
isw˘y≥
);

430 #ñi‡
deföed
 
GNULIB_POSIXCHECK


431 #unde‡
isw˘y≥


432 #i‡
HAVE_RAW_DECL_ISWCTYPE


433 
_GL_WARN_ON_USE
 (
isw˘y≥
, "iswctype is unportable - "

438 #i‡@
REPLACE_TOWLOWER
@ || 
deföed
 
__MINGW32__


439 
_GL_CXXALIAS_RPL
 (
towlowî
, 
wöt_t
, (wöt_à
wc
));

440 
_GL_CXXALIAS_RPL
 (
towuµî
, 
wöt_t
, (wöt_à
wc
));

442 
_GL_CXXALIAS_SYS
 (
towlowî
, 
wöt_t
, (wöt_à
wc
));

443 
_GL_CXXALIAS_SYS
 (
towuµî
, 
wöt_t
, (wöt_à
wc
));

445 
_GL_CXXALIASWARN
 (
towlowî
);

446 
_GL_CXXALIASWARN
 (
towuµî
);

448 #i‡!@
HAVE_WCTRANS_T
@

449 #i‡!
GNULIB_deföed_w˘øns_t


450 * 
	tw˘øns_t
;

451 
	#GNULIB_deföed_w˘øns_t
 1

	)

456 #i‡@
GNULIB_WCTRANS
@

457 #i‡!@
HAVE_WCTRANS_T
@

458 
_GL_FUNCDECL_SYS
 (
w˘øns
, 
w˘øns_t
, (c⁄° *
«me
));

460 
_GL_CXXALIAS_SYS
 (
w˘øns
, 
w˘øns_t
, (c⁄° *
«me
));

461 
_GL_CXXALIASWARN
 (
w˘øns
);

462 #ñi‡
deföed
 
GNULIB_POSIXCHECK


463 #unde‡
w˘øns


464 #i‡
HAVE_RAW_DECL_WCTRANS


465 
_GL_WARN_ON_USE
 (
w˘øns
, "wctrans is unportable - "

473 #i‡@
GNULIB_TOWCTRANS
@

474 #i‡!@
HAVE_WCTRANS_T
@

475 
_GL_FUNCDECL_SYS
 (
tow˘øns
, 
wöt_t
, (wöt_à
wc
, 
w˘øns_t
 
desc
));

477 
_GL_CXXALIAS_SYS
 (
tow˘øns
, 
wöt_t
, (wöt_à
wc
, 
w˘øns_t
 
desc
));

478 
_GL_CXXALIASWARN
 (
tow˘øns
);

479 #ñi‡
deföed
 
GNULIB_POSIXCHECK


480 #unde‡
tow˘øns


481 #i‡
HAVE_RAW_DECL_TOWCTRANS


482 
_GL_WARN_ON_USE
 (
tow˘øns
, "towctrans is unportable - "

	@lib/write.c

18 
	~<c⁄fig.h
>

21 
	~<uni°d.h
>

25 #i‡
GNULIB_NONBLOCKING
 || 
GNULIB_SIGPIPE


32 #i‡(
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& ! deföed 
__CYGWIN__


34 
	~<î∫o.h
>

35 
	~<sig«l.h
>

36 
	~<io.h
>

38 
	#WIN32_LEAN_AND_MEAN


	)

39 
	~<wödows.h
>

41 
ssize_t


42 
	$Ωl_wrôe
 (
fd
, c⁄° *
buf
, 
size_t
 
cou¡
)

43 #unde‡
wrôe


47 
ssize_t
 
ªt
 = 
	`wrôe
 (
fd
, 
buf
, 
cou¡
);

49 i‡(
ªt
 < 0)

51 #i‡
GNULIB_NONBLOCKING


52 i‡(
î∫o
 =
ENOSPC
)

54 
HANDLE
 
h
 = (HANDLEË
	`_gë_osfh™dÀ
 (
fd
);

55 i‡(
	`GëFûeTy≥
 (
h
Ë=
FILE_TYPE_PIPE
)

58 
DWORD
 
°©e
;

59 i‡(
	`GëNamedPùeH™dÀSèã
 (
h
, &
°©e
, 
NULL
, NULL, NULL,

60 
NULL
, 0)

61 && (
°©e
 & 
PIPE_NOWAIT
) != 0)

77 
DWORD
 
out_size
;

78 
DWORD
 
ö_size
;

79 i‡(
	`GëNamedPùeInfo
 (
h
, 
NULL
, &
out_size
, &
ö_size
, NULL))

81 
size_t
 
ªdu˚d_cou¡
 = 
cou¡
;

85 i‡(
out_size
 !0 && out_sizê< 
ªdu˚d_cou¡
)

86 
ªdu˚d_cou¡
 = 
out_size
;

87 i‡(
ö_size
 !0 && in_sizê< 
ªdu˚d_cou¡
)

88 
ªdu˚d_cou¡
 = 
ö_size
;

89 i‡(
ªdu˚d_cou¡
 < 
cou¡
)

92 
cou¡
 = 
ªdu˚d_cou¡
;

97 
î∫o
 = 
EAGAIN
;

104 #i‡
GNULIB_SIGPIPE


105 i‡(
	`GëLa°Eº‹
 (Ë=
ERROR_NO_DATA


106 && 
	`GëFûeTy≥
 ((
HANDLE
Ë
	`_gë_osfh™dÀ
 (
fd
))

107 =
FILE_TYPE_PIPE
)

110 
	`øi£
 (
SIGPIPE
);

113 
î∫o
 = 
EPIPE
;

118  
ªt
;

120 
	}
}

	@lib/xalloc-die.c

19 
	~<c⁄fig.h
>

21 
	~"xÆloc.h
"

23 
	~<°dlib.h
>

25 
	~"îr‹.h
"

26 
	~"exôÁû.h
"

28 
	~"gëãxt.h
"

29 
	#_
(
msgid
Ë
	`gëãxt
 (msgid)

	)

32 
	$xÆloc_dõ
 ()

34 
	`îr‹
 (
exô_Áûuª
, 0, "%s", 
	`_
("memoryÉxhausted"));

40 
	`ab‹t
 ();

41 
	}
}

	@lib/xalloc-oversized.h

18 #i‚de‡
XALLOC_OVERSIZED_H_


19 
	#XALLOC_OVERSIZED_H_


	)

21 
	~<°ddef.h
>

35 
	#xÆloc_ovîsized
(
n
, 
s
) \

36 ((
size_t
Ë( (
±rdiff_t
Ë< (size_tË? -1 : -2Ë/ (
s
Ë< (
n
))

	)

	@lib/xalloc.h

18 #i‚de‡
XALLOC_H_


19 
	#XALLOC_H_


	)

21 
	~<°ddef.h
>

23 
	~"xÆloc-ovîsized.h
"

25 #ifde‡
__˝lu•lus


30 #i‡
__GNUC__
 >= 3

31 
	#_GL_ATTRIBUTE_MALLOC
 
	`__©åibuã__
 ((
__mÆloc__
))

	)

33 
	#_GL_ATTRIBUTE_MALLOC


	)

36 #i‡
__GNUC__
 > 4 || (__GNUC__ =4 && 
__GNUC_MINOR__
 >= 3)

37 
	#_GL_ATTRIBUTE_ALLOC_SIZE
(
¨gs
Ë
	`__©åibuã__
 ((
__Æloc_size__
árgs))

	)

39 
	#_GL_ATTRIBUTE_ALLOC_SIZE
(
¨gs
)

	)

47 
_N‹ëu∫
 
xÆloc_dõ
 ();

49 *
xmÆloc
 (
size_t
 
s
)

50 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1));

51 *
xzÆloc
 (
size_t
 
s
)

52 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1));

53 *
xˇŒoc
 (
size_t
 
n
, size_à
s
)

54 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1, 2));

55 *
xªÆloc
 (*
p
, 
size_t
 
s
)

56 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((2));

57 *
x2ªÆloc
 (*
p
, 
size_t
 *
≤
);

58 *
xmemdup
 (c⁄° *
p
, 
size_t
 
s
)

59 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((2));

60 *
x°rdup
 (c⁄° *
°r
)

61 
	g_GL_ATTRIBUTE_MALLOC
;

70 
	#XMALLOC
(
t
Ë(— *Ë
	`xmÆloc
 ( (t)))

	)

74 
	#XNMALLOC
(
n
, 
t
) \

75 ((
t
 *Ë( (tË=1 ? 
	`xmÆloc
 (
n
Ë: 
	`xnmÆloc
 (n,  (t))))

	)

80 
	#XZALLOC
(
t
Ë(— *Ë
	`xzÆloc
 ( (t)))

	)

85 
	#XCALLOC
(
n
, 
t
) \

86 ((
t
 *Ë( (tË=1 ? 
	`xzÆloc
 (
n
Ë: 
	`xˇŒoc
 (n,  (t))))

	)

89 #i‡
HAVE_INLINE


90 
	#°©ic_ölöe
 
ölöe


	)

92 *
xnmÆloc
 (
size_t
 
n
, size_à
s
)

93 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1, 2));

94 *
xƒóŒoc
 (*
p
, 
size_t
 
n
, size_à
s
)

95 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((2, 3));

96 *
x2ƒóŒoc
 (*
p
, 
size_t
 *
≤
, size_à
s
);

97 *
xch¨Æloc
 (
size_t
 
n
)

98 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1));

101 #ifde‡
°©ic_ölöe


106 
°©ic_ölöe
 *
xnmÆloc
 (
size_t
 
n
, size_à
s
)

107 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1, 2));

108 
°©ic_ölöe
 *

109 
xnmÆloc
 (
size_t
 
n
, size_à
s
)

111 i‡(
xÆloc_ovîsized
 (
n
, 
s
))

112 
xÆloc_dõ
 ();

113  
xmÆloc
 (
n
 * 
s
);

119 
°©ic_ölöe
 *
xƒóŒoc
 (*
p
, 
size_t
 
n
, size_à
s
)

120 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((2, 3));

121 
°©ic_ölöe
 *

122 
xƒóŒoc
 (*
p
, 
size_t
 
n
, size_à
s
)

124 i‡(
xÆloc_ovîsized
 (
n
, 
s
))

125 
xÆloc_dõ
 ();

126  
xªÆloc
 (
p
, 
n
 * 
s
);

184 
°©ic_ölöe
 *

185 
x2ƒóŒoc
 (*
p
, 
size_t
 *
≤
, size_à
s
)

187 
size_t
 
	gn
 = *
≤
;

189 i‡(! 
	gp
)

191 i‡(! 
	gn
)

197 íum { 
	gDEFAULT_MXFAST
 = 64 *  (
size_t
) / 4 };

199 
	gn
 = 
DEFAULT_MXFAST
 / 
s
;

200 
	gn
 +!
n
;

209 i‡((
	gsize_t
Ë-1 / 3 * 2 / 
	gs
 <
n
)

210 
xÆloc_dõ
 ();

211 
	gn
 +(
n
 + 1) / 2;

214 *
	g≤
 = 
n
;

215  
xªÆloc
 (
p
, 
n
 * 
s
);

221 
°©ic_ölöe
 *
xch¨Æloc
 (
size_t
 
n
)

222 
_GL_ATTRIBUTE_MALLOC
 
_GL_ATTRIBUTE_ALLOC_SIZE
 ((1));

223 
°©ic_ölöe
 *

224 
xch¨Æloc
 (
size_t
 
n
)

226  
XNMALLOC
 (
n
, );

231 #ifde‡
__˝lu•lus


238 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 *

239 
	$xªÆloc
 (
T
 *
p
, 
size_t
 
s
)

241  (
T
 *Ë
	`xªÆloc
 ((*Ë
p
, 
s
);

242 
	}
}

244 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 *

245 
	$xƒóŒoc
 (
T
 *
p
, 
size_t
 
n
, size_à
s
)

247  (
T
 *Ë
	`xƒóŒoc
 ((*Ë
p
, 
n
, 
s
);

248 
	}
}

250 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 *

251 
	$x2ªÆloc
 (
T
 *
p
, 
size_t
 *
≤
)

253  (
T
 *Ë
	`x2ªÆloc
 ((*Ë
p
, 
≤
);

254 
	}
}

256 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 *

257 
	$x2ƒóŒoc
 (
T
 *
p
, 
size_t
 *
≤
, size_à
s
)

259  (
T
 *Ë
	`x2ƒóŒoc
 ((*Ë
p
, 
≤
, 
s
);

260 
	}
}

262 
	gãm∂©e
 <
ty≥«me
 
	gT
> 
ölöe
 
T
 *

263 
	$xmemdup
 (
T
 c⁄° *
p
, 
size_t
 
s
)

265  (
T
 *Ë
	`xmemdup
 ((c⁄° *Ë
p
, 
s
);

266 
	}
}

	@lib/xmalloc.c

18 
	~<c⁄fig.h
>

20 #i‡! 
HAVE_INLINE


21 
	#°©ic_ölöe


	)

23 
	~"xÆloc.h
"

24 #unde‡
°©ic_ölöe


26 
	~<°dlib.h
>

27 
	~<°rög.h
>

32 #i‡
deföed
 
HAVE_CALLOC_GNU
 || (deföed 
__GLIBC__
 && !deföed 
__UCLIBC__
)

33 íum { 
	mHAVE_GNU_CALLOC
 = 1 };

35 íum { 
	mHAVE_GNU_CALLOC
 = 0 };

41 
	$xmÆloc
 (
size_t
 
n
)

43 *
p
 = 
	`mÆloc
 (
n
);

44 i‡(!
p
 && 
n
 != 0)

45 
	`xÆloc_dõ
 ();

46  
p
;

47 
	}
}

53 
	$xªÆloc
 (*
p
, 
size_t
 
n
)

55 i‡(!
n
 && 
p
)

59 
	`‰ì
 (
p
);

60  
NULL
;

63 
p
 = 
	`ªÆloc
 (p, 
n
);

64 i‡(!
p
 && 
n
)

65 
	`xÆloc_dõ
 ();

66  
p
;

67 
	}
}

76 
	$x2ªÆloc
 (*
p
, 
size_t
 *
≤
)

78  
	`x2ƒóŒoc
 (
p
, 
≤
, 1);

79 
	}
}

86 
	$xzÆloc
 (
size_t
 
s
)

88  
	`mem£t
 (
	`xmÆloc
 (
s
), 0, s);

89 
	}
}

95 
	$xˇŒoc
 (
size_t
 
n
, size_à
s
)

97 *
p
;

102 i‡((! 
HAVE_GNU_CALLOC
 && 
	`xÆloc_ovîsized
 (
n
, 
s
))

103 || (! (
p
 = 
	`ˇŒoc
 (
n
, 
s
)Ë&& (
HAVE_GNU_CALLOC
 ||Ç != 0)))

104 
	`xÆloc_dõ
 ();

105  
p
;

106 
	}
}

113 
	$xmemdup
 (c⁄° *
p
, 
size_t
 
s
)

115  
	`mem˝y
 (
	`xmÆloc
 (
s
), 
p
, s);

116 
	}
}

121 
	$x°rdup
 (c⁄° *
°rög
)

123  
	`xmemdup
 (
°rög
, 
	`°æí
 (string) + 1);

124 
	}
}

	@lib/xsize.h

21 #i‚de‡
_XSIZE_H


22 
	#_XSIZE_H


	)

25 
	~<°ddef.h
>

28 
	~<limôs.h
>

29 #i‡
HAVE_STDINT_H


30 
	~<°döt.h
>

50 
	#xˇ°_size_t
(
N
) \

51 ((
N
Ë<
SIZE_MAX
 ? (
size_t
Ë(NË: SIZE_MAX)

	)

54 
ölöe
 
	gsize_t


55 #i‡
__GNUC__
 >= 3

56 
__©åibuã__
 ((
__puª__
))

58 
	$xsum
 (
size_t
 
size1
, size_à
size2
)

60 
size_t
 
sum
 = 
size1
 + 
size2
;

61  (
sum
 >
size1
 ? sum : 
SIZE_MAX
);

62 
	}
}

65 
ölöe
 
	gsize_t


66 #i‡
__GNUC__
 >= 3

67 
__©åibuã__
 ((
__puª__
))

69 
	$xsum3
 (
size_t
 
size1
, size_à
size2
, size_à
size3
)

71  
	`xsum
 (xsum (
size1
, 
size2
), 
size3
);

72 
	}
}

75 
ölöe
 
	gsize_t


76 #i‡
__GNUC__
 >= 3

77 
__©åibuã__
 ((
__puª__
))

79 
	$xsum4
 (
size_t
 
size1
, size_à
size2
, size_à
size3
, size_à
size4
)

81  
	`xsum
 (xsum (xsum (
size1
, 
size2
), 
size3
), 
size4
);

82 
	}
}

85 
ölöe
 
	gsize_t


86 #i‡
__GNUC__
 >= 3

87 
__©åibuã__
 ((
__puª__
))

89 
	$xmax
 (
size_t
 
size1
, size_à
size2
)

93  (
size1
 >
size2
 ? size1 : size2);

94 
	}
}

100 
	#xtimes
(
N
, 
ELSIZE
) \

101 ((
N
Ë<
SIZE_MAX
 / (
ELSIZE
Ë? (
size_t
Ë(NË* (ELSIZEË: SIZE_MAX)

	)

104 
	#size_ovîÊow_p
(
SIZE
) \

105 ((
SIZE
Ë=
SIZE_MAX
)

	)

107 
	#size_ö_bounds_p
(
SIZE
) \

108 ((
SIZE
Ë!
SIZE_MAX
)

	)

	@msdos/config.h

32 #i‚de‡
CONFIG_DOS_H


33 
	#CONFIG_DOS_H


	)

35 
	~<°dlib.h
>

36 
	~<limôs.h
>

37 
	~<t˝.h
>

38 
	~<mÆloc.h
>

40 #ifde‡
__DJGPP__


41 
	~<sys/c⁄fig.h
>

44 
	~<sys/î∫o.h
>

46 #i‡
deföed
(
__WATCOMC__
)

47 #i‡(
__WATCOMC__
 >= 1250)

48 
	#OPENWATCOM_15


	)

50 #i‡(
__WATCOMC__
 >= 1270)

51 
	#OPENWATCOM_17


	)

55 #i‡
deföed
(
__HIGHC__
)

56 
	#HAVE_UNISTD_H
 1

	)

57 
	#HAVE_UTIME_H
 1

	)

60 #i‡
deföed
(
__WATCOMC__
Ë|| deföed(
__BORLANDC__
Ë|| deföed(
__HIGHC__
)

61 
	#ölöe


	)

64 
	#USE_OPIE
 1

	)

65 
	#USE_DIGEST
 1

	)

66 
	#DEBUG


	)

68 #ifde‡
__DJGPP__


69 
	#HAVE__BOOL
 1

	)

70 
	#HAVE_STRCASECMP
 1

	)

71 
	#HAVE_STRNCASECMP
 1

	)

72 
	#HAVE_SIGSETJMP
 1

	)

73 
	#HAVE_SIGBLOCK
 1

	)

74 
	#HAVE_STRUCT_UTIMBUF
 1

	)

75 
	#HAVE_SYS_SELECT_H
 1

	)

76 
	#HAVE_USLEEP
 1

	)

77 
	#HAVE_UTIME_H
 1

	)

78 
	#HAVE_INT64_T
 1

	)

80 #i‡(
DJGPP_MINOR
 >= 4)

81 
	#HAVE_STDBOOL_H
 1

	)

82 
	#HAVE_STDINT_H
 1

	)

83 
	#HAVE_SNPRINTF
 1

	)

84 
	#HAVE_VSNPRINTF
 1

	)

85 
	#HAVE_UINT32_T
 1

	)

89 #ifde‡
__HIGHC__


90 
	#HAVE_STRUCT_UTIMBUF
 1

	)

91 
	#HAVE_UTIME_H
 1

	)

94 #ifde‡
OPENWATCOM_15


95 
	#HAVE_ALLOCA_H
 1

	)

96 
	#HAVE_INT64_T
 1

	)

97 
	#HAVE_SNPRINTF
 1

	)

98 
	#HAVE_STRCASECMP
 1

	)

99 
	#HAVE_STRNCASECMP
 1

	)

100 
	#HAVE_STDINT_H
 1

	)

101 
	#HAVE_UTIME_H
 1

	)

104 #ifde‡
OPENWATCOM_17


105 
	#HAVE__BOOL
 1

	)

106 
	#HAVE_STDBOOL_H
 1

	)

109 
	#HAVE_PROCESS_H
 1

	)

110 
	#HAVE_STRDUP
 1

	)

111 
	#HAVE_STDLIB_H
 1

	)

112 
	#HAVE_STRING_H
 1

	)

113 
	#HAVE_BUILTIN_MD5
 1

	)

114 
	#HAVE_ISATTY
 1

	)

116 
	#lookup_ho°
 
wgë_lookupho°


	)

117 
	#£À˘
 
£À˘_s


	)

118 
	#sockÀn_t
 

	)

120 
	#sock_ªad
 
wgë_sock_ªad


	)

121 
	#sock_wrôe
 
wgë_sock_wrôe


	)

122 
	#sock_˛o£
 
wgë_sock_˛o£


	)

124 #i‡!
deföed
(
__DJGPP__
)

125 
	~<dúe˘.h
>

126 
	#mkdú
(
p
,
a
Ë(
mkdú
)’)

	)

127 
	#°rˇ£cmp
 
°ricmp


	)

130 #i‡!
deföed
(
MSDOS
)

131 
	#MSDOS


	)

134 #i‡!
deföed
(
USE_WATT32
)

135 
	#USE_WATT32


	)

138 
	#LOCALEDIR
 ""

	)

139 
	#OS_TYPE
 "DOS"

	)

	@src/build_info.c

9 
	~"wgë.h
"

10 
	~<°dio.h
>

12 c⁄° *
	gcompûed_„©uªs
[] =

15 #i‡
deföed
 
ENABLE_DIGEST


21 #i‡
deföed
 
HAVE_SSL


27 #i‡
deföed
 
ENABLE_IPV6


33 #i‡
deföed
 
ENABLE_IRI


39 #i‡
SIZEOF_OFF_T
 >= 8

45 #i‡
deföed
 
ENABLE_NLS


51 #i‡
deföed
 
ENABLE_NTLM


57 #i‡
deföed
 
ENABLE_OPIE


63 #i‡
deföed
 
HAVE_LIBSSL


65 #ñi‡
deföed
 
HAVE_LIBGNUTLS


73 
NULL


	@src/cmpt.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<time.h
>

39 
	~<uni°d.h
>

41 
	~<î∫o.h
>

57 #i‚de‡
HAVE_STRCASECMP


63 
	$°rˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
)

65 c⁄° *
p1
 = (c⁄° *Ë
s1
;

66 c⁄° *
p2
 = (c⁄° *Ë
s2
;

67 
c1
, 
c2
;

69 i‡(
p1
 =
p2
)

74 
c1
 = 
	`c_tﬁowî
 (*
p1
++);

75 
c2
 = 
	`c_tﬁowî
 (*
p2
++);

76 i‡(
c1
 == '\0')

79 
c1
 =
c2
);

81  
c1
 - 
c2
;

82 
	}
}

85 #i‚de‡
HAVE_STRNCASECMP


92 
	$°∫ˇ£cmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
)

94 c⁄° *
p1
 = (c⁄° *Ë
s1
;

95 c⁄° *
p2
 = (c⁄° *Ë
s2
;

96 
c1
, 
c2
;

98 i‡(
p1
 =
p2
 || 
n
 == 0)

103 
c1
 = 
	`c_tﬁowî
 (*
p1
++);

104 
c2
 = 
	`c_tﬁowî
 (*
p2
++);

105 i‡(
c1
 ='\0' || c1 !
c2
)

106  
c1
 - 
c2
;

107 } --
n
 > 0);

109  
c1
 - 
c2
;

110 
	}
}

113 #i‚de‡
HAVE_MEMRCHR


119 
	$memrchr
 (c⁄° *
s
, 
c
, 
size_t
 
n
)

121 c⁄° *
b
 = 
s
;

122 c⁄° *
e
 = 
b
 + 
n
;

123 
e
 > 
b
)

124 i‡(*--
e
 =
c
)

125  (*Ë
e
;

126  
NULL
;

127 
	}
}

135 #i‚de‡
HAVE_STRPTIME


149 #i‚de‡
__P


150 
	#__P
(
¨gs
Ë
	)
args

153 #i‡! 
HAVE_LOCALTIME_R
 && ! 
deföed
 
loˇ…ime_r


154 #ifde‡
_LIBC


155 
	#loˇ…ime_r
 
__loˇ…ime_r


	)

158 
	#loˇ…ime_r
 
my_loˇ…ime_r


	)

159 
tm
 *
loˇ…ime_r
 
__P
 ((c⁄° 
time_t
 *, tm *));

160 
tm
 *

161 
	$loˇ…ime_r
 (
t
, 
ç
)

162 c⁄° 
time_t
 *
t
;

163 
tm
 *
ç
;

165 
tm
 *
l
 = 
	`loˇ…ime
 (
t
);

166 i‡(! 
l
)

168 *
ç
 = *
l
;

169  
ç
;

170 
	}
}

175 
	#m©ch_ch¨
(
ch1
, 
ch2
Ëi‡(ch1 !ch2Ë 
NULL


	)

176 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#m©ch_°rög
(
cs1
, 
s2
) \

178 ({ 
size_t
 
Àn
 = 
	`°æí
 (
cs1
); \

179 
ªsu…
 = 
	`°∫ˇ£cmp
 ((
cs1
), (
s2
), 
Àn
) == 0; \

180 i‡(
ªsu…
Ë(
s2
Ë+
Àn
; \

181 
ªsu…
; })

	)

184 
	#m©ch_°rög
(
cs1
, 
s2
) \

185 (
	`°∫ˇ£cmp
 ((
cs1
), (
s2
), 
	`°æí
 (cs1)Ë? 0 : ((s2Ë+°æí (cs1), 1))

	)

189 
	#gë_numbî
(
‰om
, 
to
, 
n
) \

191 
__n
 = 
n
; \

192 
vÆ
 = 0; \

193 *
Ω
 == ' ') \

194 ++
Ω
; \

195 i‡(*
Ω
 < '0' || *rp > '9') \

196  
NULL
; \

198 
vÆ
 *= 10; \

199 
vÆ
 +*
Ω
++ - '0'; \

200 } --
__n
 > 0 && 
vÆ
 * 10 <
to
 && *
Ω
 >= '0' && *rp <= '9'); \

201 i‡(
vÆ
 < 
‰om
 || vÆ > 
to
) \

202  
NULL
; \

203 } 0)

	)

204 #ifde‡
_NL_CURRENT


206 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

207 
	#gë_Æt_numbî
(
‰om
, 
to
, 
n
) \

209 
__œbñ__
 
do_n‹mÆ
; \

210 i‡(*
decided
 !
øw
) \

212 c⁄° *
Æts
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
ALT_DIGITS
); \

213 
__n
 = 
n
; \

214 
™y
 = 0; \

215 *
Ω
 == ' ') \

216 ++
Ω
; \

217 
vÆ
 = 0; \

219 
vÆ
 *= 10; \

220 *
Æts
 != '\0') \

222 
size_t
 
Àn
 = 
	`°æí
 (
Æts
); \

223 i‡(
	`°∫ˇ£cmp
 (
Æts
, 
Ω
, 
Àn
) == 0) \

225 
Æts
 +
Àn
 + 1; \

226 ++
vÆ
; \

228 i‡(*
Æts
 == '\0') \

230 i‡(*
decided
 =
nŸ
 && ! 
™y
) \

231 
do_n‹mÆ
; \

233 i‡(! 
™y
) \

234  
NULL
; \

236 
vÆ
 /= 10; \

240 *
decided
 = 
loc
; \

241 } --
__n
 > 0 && 
vÆ
 * 10 <
to
); \

242 i‡(
vÆ
 < 
‰om
 || vÆ > 
to
) \

243  
NULL
; \

247 
do_n‹mÆ
: \

248 
	`gë_numbî
 (
‰om
, 
to
, 
n
); \

251 })

	)

253 
	#gë_Æt_numbî
(
‰om
, 
to
, 
n
) \

254 dÿ{

	)

255 i‡(*
	gdecided
 !
øw
) \

257 c⁄° *
Æts
 = 
_NL_CURRENT
 (
LC_TIME
, 
ALT_DIGITS
); \

258 
	g__n
 = 
n
; \

259 
	g™y
 = 0; \

260 *
	gΩ
 == ' ') \

261 ++
Ω
; \

262 
	gvÆ
 = 0; \

264 
	gvÆ
 *= 10; \

265 *
	gÆts
 != '\0') \

267 
size_t
 
Àn
 = 
°æí
 (
Æts
); \

268 i‡(
°∫ˇ£cmp
 (
Æts
, 
Ω
, 
Àn
) == 0) \

270 
	gÆts
 +
Àn
 + 1; \

271 ++
	gvÆ
; \

273 i‡(*
	gÆts
 == '\0') \

275 i‡(*
decided
 =
nŸ
 && ! 
™y
) \

276 
do_n‹mÆ
; \

278 i‡(! 
	g™y
) \

279  
	gNULL
; \

281 
	gvÆ
 /= 10; \

285 *
	gdecided
 = 
loc
; \

286 } --
	g__n
 > 0 && 
	gvÆ
 * 10 <
to
); \

287 i‡(
	gvÆ
 < 
	g‰om
 || vÆ > 
	gto
) \

288  
	gNULL
; \

292 
	gdo_n‹mÆ
: \

293 
gë_numbî
 (
‰om
, 
to
, 
n
); \

298 
	#gë_Æt_numbî
(
‰om
, 
to
, 
n
) \

300 
	`gë_numbî
(
‰om
, 
to
, 
n
)

	)

302 
	#ªcursive
(
√w_fmt
) \

303 (*(
√w_fmt
) != '\0' \

304 && (
Ω
 = 
	`°Ωtime_öã∫Æ
 (Ω, (
√w_fmt
), 
tm
, 
decided
)Ë!
NULL
)

	)

307 #ifde‡
_LIBC


309 c⁄° 
loˇÀ_d©a
 
_∆_C_LC_TIME
;

310 c⁄° 
__m⁄_yday
[2][13];

312 
	#wìkday_«me
 (&
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
DAY_1
)].
°rög
)

	)

313 
	#ab_wìkday_«me
 \

314 (&
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
ABDAY_1
)].
°rög
)

	)

315 
	#m⁄th_«me
 (&
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
MON_1
)].
°rög
)

	)

316 
	#ab_m⁄th_«me
 (&
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
ABMON_1
)].
°rög
)

	)

317 
	#HERE_D_T_FMT
 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
D_T_FMT
)].
°rög
)

	)

318 
	#HERE_D_FMT
 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
D_FMT
)].
°rög
)

	)

319 
	#HERE_AM_STR
 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
AM_STR
)].
°rög
)

	)

320 
	#HERE_PM_STR
 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
PM_STR
)].
°rög
)

	)

321 
	#HERE_T_FMT_AMPM
 \

322 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
T_FMT_AMPM
)].
°rög
)

	)

323 
	#HERE_T_FMT
 (
_∆_C_LC_TIME
.
vÆues
[
	`_NL_ITEM_INDEX
 (
T_FMT
)].
°rög
)

	)

325 
	#°∫ˇ£cmp
(
s1
, 
s2
, 
n
Ë
	`__°∫ˇ£cmp
 (s1, s2,Ç)

	)

327 c⁄° 
wìkday_«me
[][10] =

331 
	}
};

332 c⁄° 
	gab_wìkday_«me
[][4] =

336 c⁄° 
	gm⁄th_«me
[][10] =

341 c⁄° 
	gab_m⁄th_«me
[][4] =

346 
	#HERE_D_T_FMT
 "%®%b %ê%H:%M:%S %Y"

	)

347 
	#HERE_D_FMT
 "%m/%d/%y"

	)

348 
	#HERE_AM_STR
 "AM"

	)

349 
	#HERE_PM_STR
 "PM"

	)

350 
	#HERE_T_FMT_AMPM
 "%I:%M:%S %p"

	)

351 
	#HERE_T_FMT
 "%H:%M:%S"

	)

353 c⁄° 
	g__m⁄_yday
[2][13];

354 #i‚de‡
NEED_MON_YDAY


355 
	#NEED_MON_YDAY


	)

360 
	eloˇÀ_°©us
 { 
	mnŸ
, 
	mloc
, 
	møw
 };

363 #i‚de‡
__i¶óp


366 
	#__i¶óp
(
yór
) \

367 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

372 
	$day_of_the_wìk
 (
tm
 *tm)

377 
c‹r_yór
 = 1900 + 
tm
->
tm_yór
 - (tm->
tm_m⁄
 < 2);

378 
wday
 = (-473

379 + (365 * (
tm
->
tm_yór
 - 70))

380 + (
c‹r_yór
 / 4)

381 - ((
c‹r_yór
 / 4) / 25) + ((corr_year / 4) % 25 < 0)

382 + (((
c‹r_yór
 / 4) / 25) / 4)

383 + 
__m⁄_yday
[0][
tm
->
tm_m⁄
]

384 + 
tm
->
tm_mday
 - 1);

385 
tm
->
tm_wday
 = ((
wday
 % 7) + 7) % 7;

386 
	}
}

390 
	$day_of_the_yór
 (
tm
 *tm)

392 
tm
->
tm_yday
 = (
__m⁄_yday
[
	`__i¶óp
 (1900 +Åm->
tm_yór
)][tm->
tm_m⁄
]

393 + (
tm
->
tm_mday
 - 1));

394 
	}
}

397 #ifde‡
_LIBC


398 
	göã∫Æ_fun˘i⁄


400 
°Ωtime_öã∫Æ
 
__P
 ((c⁄° *
buf
, c⁄° *
f‹m©
, 
tm
 *tm,

401 
loˇÀ_°©us
 *
decided
));

404 #ifde‡
_LIBC


405 
	göã∫Æ_fun˘i⁄


407 
	$°Ωtime_öã∫Æ
 (
Ω
, 
fmt
, 
tm
, 
decided
)

408 c⁄° *
Ω
;

409 c⁄° *
fmt
;

410 
tm
 *tm;

411 
loˇÀ_°©us
 *
decided
;

413 #ifde‡
_NL_CURRENT


414 c⁄° *
Ω_backup
;

416 
˙t
;

417 
size_t
 
vÆ
;

418 
have_I
, 
is_pm
;

419 
˚¡ury
, 
w™t_˚¡ury
;

420 
have_wday
, 
w™t_xday
;

421 
have_yday
;

422 
have_m⁄
, 
have_mday
;

424 
have_I
 = 
is_pm
 = 0;

425 
˚¡ury
 = -1;

426 
w™t_˚¡ury
 = 0;

427 
have_wday
 = 
w™t_xday
 = 
have_yday
 = 
have_m⁄
 = 
have_mday
 = 0;

429 *
fmt
 != '\0')

433 i‡(
	`c_is•a˚
 (*
fmt
))

435 
	`c_is•a˚
 (*
Ω
))

436 ++
Ω
;

437 ++
fmt
;

443 i‡(*
fmt
 != '%')

445 
	`m©ch_ch¨
 (*
fmt
++, *
Ω
++);

449 ++
fmt
;

450 #i‚de‡
_NL_CURRENT


452 
°¨t_ovî
:

455 #ifde‡
_NL_CURRENT


457 
Ω_backup
 = 
Ω
;

460 *
fmt
++)

464 
	`m©ch_ch¨
 ('%', *
Ω
++);

469 
˙t
 = 0; cnt < 7; ++cnt)

471 #ifde‡
_NL_CURRENT


472 i‡(*
decided
 !=
øw
)

474 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
DAY_1
 + 
˙t
), 
Ω
))

476 i‡(*
decided
 =
nŸ


477 && 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
DAY_1
 + 
˙t
),

478 
wìkday_«me
[
˙t
]))

479 *
decided
 = 
loc
;

482 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
ABDAY_1
 + 
˙t
), 
Ω
))

484 i‡(*
decided
 =
nŸ


485 && 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
ABDAY_1
 + 
˙t
),

486 
ab_wìkday_«me
[
˙t
]))

487 *
decided
 = 
loc
;

492 i‡(*
decided
 !
loc


493 && (
	`m©ch_°rög
 (
wìkday_«me
[
˙t
], 
Ω
)

494 || 
	`m©ch_°rög
 (
ab_wìkday_«me
[
˙t
], 
Ω
)))

496 *
decided
 = 
øw
;

500 i‡(
˙t
 == 7)

502  
NULL
;

503 
tm
->
tm_wday
 = 
˙t
;

504 
have_wday
 = 1;

510 
˙t
 = 0; cnt < 12; ++cnt)

512 #ifde‡
_NL_CURRENT


513 i‡(*
decided
 !=
øw
)

515 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
MON_1
 + 
˙t
), 
Ω
))

517 i‡(*
decided
 =
nŸ


518 && 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
MON_1
 + 
˙t
),

519 
m⁄th_«me
[
˙t
]))

520 *
decided
 = 
loc
;

523 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
ABMON_1
 + 
˙t
), 
Ω
))

525 i‡(*
decided
 =
nŸ


526 && 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
ABMON_1
 + 
˙t
),

527 
ab_m⁄th_«me
[
˙t
]))

528 *
decided
 = 
loc
;

533 i‡(
	`m©ch_°rög
 (
m⁄th_«me
[
˙t
], 
Ω
)

534 || 
	`m©ch_°rög
 (
ab_m⁄th_«me
[
˙t
], 
Ω
))

536 *
decided
 = 
øw
;

540 i‡(
˙t
 == 12)

542  
NULL
;

543 
tm
->
tm_m⁄
 = 
˙t
;

544 
w™t_xday
 = 1;

548 #ifde‡
_NL_CURRENT


549 i‡(*
decided
 !
øw
)

551 i‡(!
	`ªcursive
 (
	`_NL_CURRENT
 (
LC_TIME
, 
D_T_FMT
)))

553 i‡(*
decided
 =
loc
)

554  
NULL
;

556 
Ω
 = 
Ω_backup
;

560 i‡(*
decided
 =
nŸ
 &&

561 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
D_T_FMT
), 
HERE_D_T_FMT
))

562 *
decided
 = 
loc
;

563 
w™t_xday
 = 1;

566 *
decided
 = 
øw
;

569 i‡(!
	`ªcursive
 (
HERE_D_T_FMT
))

570  
NULL
;

571 
w™t_xday
 = 1;

575 
	`gë_numbî
 (0, 99, 2);

576 
˚¡ury
 = 
vÆ
;

577 
w™t_xday
 = 1;

582 
	`gë_numbî
 (1, 31, 2);

583 
tm
->
tm_mday
 = 
vÆ
;

584 
have_mday
 = 1;

585 
w™t_xday
 = 1;

588 i‡(!
	`ªcursive
 ("%Y-%m-%d"))

589  
NULL
;

590 
w™t_xday
 = 1;

593 #ifde‡
_NL_CURRENT


594 i‡(*
decided
 !
øw
)

596 i‡(!
	`ªcursive
 (
	`_NL_CURRENT
 (
LC_TIME
, 
D_FMT
)))

598 i‡(*
decided
 =
loc
)

599  
NULL
;

601 
Ω
 = 
Ω_backup
;

605 i‡(*
decided
 =
nŸ


606 && 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
D_FMT
), 
HERE_D_FMT
))

607 *
decided
 = 
loc
;

608 
w™t_xday
 = 1;

611 *
decided
 = 
øw
;

617 i‡(!
	`ªcursive
 (
HERE_D_FMT
))

618  
NULL
;

619 
w™t_xday
 = 1;

624 
	`gë_numbî
 (0, 23, 2);

625 
tm
->
tm_hour
 = 
vÆ
;

626 
have_I
 = 0;

630 
	`gë_numbî
 (1, 12, 2);

631 
tm
->
tm_hour
 = 
vÆ
 % 12;

632 
have_I
 = 1;

636 
	`gë_numbî
 (1, 366, 3);

637 
tm
->
tm_yday
 = 
vÆ
 - 1;

638 
have_yday
 = 1;

642 
	`gë_numbî
 (1, 12, 2);

643 
tm
->
tm_m⁄
 = 
vÆ
 - 1;

644 
have_m⁄
 = 1;

645 
w™t_xday
 = 1;

649 
	`gë_numbî
 (0, 59, 2);

650 
tm
->
tm_mö
 = 
vÆ
;

655 
	`c_is•a˚
 (*
Ω
))

656 ++
Ω
;

660 #ifde‡
_NL_CURRENT


661 i‡(*
decided
 !
øw
)

663 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
AM_STR
), 
Ω
))

665 i‡(
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
AM_STR
), 
HERE_AM_STR
))

666 *
decided
 = 
loc
;

669 i‡(
	`m©ch_°rög
 (
	`_NL_CURRENT
 (
LC_TIME
, 
PM_STR
), 
Ω
))

671 i‡(
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
PM_STR
), 
HERE_PM_STR
))

672 *
decided
 = 
loc
;

673 
is_pm
 = 1;

676 *
decided
 = 
øw
;

679 i‡(!
	`m©ch_°rög
 (
HERE_AM_STR
, 
Ω
))

681 i‡(
	`m©ch_°rög
 (
HERE_PM_STR
, 
Ω
))

682 
is_pm
 = 1;

684  
NULL
;

688 #ifde‡
_NL_CURRENT


689 i‡(*
decided
 !
øw
)

691 i‡(!
	`ªcursive
 (
	`_NL_CURRENT
 (
LC_TIME
, 
T_FMT_AMPM
)))

693 i‡(*
decided
 =
loc
)

694  
NULL
;

696 
Ω
 = 
Ω_backup
;

700 i‡(*
decided
 =
nŸ
 &&

701 
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
T_FMT_AMPM
),

702 
HERE_T_FMT_AMPM
))

703 *
decided
 = 
loc
;

706 *
decided
 = 
øw
;

709 i‡(!
	`ªcursive
 (
HERE_T_FMT_AMPM
))

710  
NULL
;

713 i‡(!
	`ªcursive
 ("%H:%M"))

714  
NULL
;

722 
time_t
 
£cs
 = 0;

723 i‡(*
Ω
 < '0' || *rp > '9')

725  
NULL
;

729 
£cs
 *= 10;

730 
£cs
 +*
Ω
++ - '0';

732 *
Ω
 >= '0' && *rp <= '9');

734 i‡(
	`loˇ…ime_r
 (&
£cs
, 
tm
Ë=
NULL
)

736  
NULL
;

740 
	`gë_numbî
 (0, 61, 2);

741 
tm
->
tm_£c
 = 
vÆ
;

744 #ifde‡
_NL_CURRENT


745 i‡(*
decided
 !
øw
)

747 i‡(!
	`ªcursive
 (
	`_NL_CURRENT
 (
LC_TIME
, 
T_FMT
)))

749 i‡(*
decided
 =
loc
)

750  
NULL
;

752 
Ω
 = 
Ω_backup
;

756 i‡(
	`°rcmp
 (
	`_NL_CURRENT
 (
LC_TIME
, 
T_FMT
), 
HERE_T_FMT
))

757 *
decided
 = 
loc
;

760 *
decided
 = 
øw
;

765 i‡(!
	`ªcursive
 (
HERE_T_FMT
))

766  
NULL
;

769 
	`gë_numbî
 (1, 7, 1);

770 
tm
->
tm_wday
 = 
vÆ
 % 7;

771 
have_wday
 = 1;

774 
	`gë_numbî
 (0, 99, 2);

778 i‡(*
Ω
 < '0' || *rp > '9')

779  
NULL
;

783 ++
Ω
;

784 *
Ω
 >= '0' && *rp <= '9');

789 
	`gë_numbî
 (0, 53, 2);

795 
	`gë_numbî
 (0, 6, 1);

796 
tm
->
tm_wday
 = 
vÆ
;

797 
have_wday
 = 1;

801 
	`gë_numbî
 (0, 99, 2);

804 
tm
->
tm_yór
 = 
vÆ
 >= 69 ? val : val + 100;

806 
w™t_˚¡ury
 = 1;

807 
w™t_xday
 = 1;

811 
	`gë_numbî
 (0, 9999, 4);

812 
tm
->
tm_yór
 = 
vÆ
 - 1900;

813 
w™t_˚¡ury
 = 0;

814 
w™t_xday
 = 1;

820 #ifde‡
_NL_CURRENT


821 *
fmt
++)

825 i‡(*
decided
 !
øw
)

827 c⁄° *
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
ERA_D_T_FMT
);

829 i‡(*
fmt
 == '\0')

830 
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
D_T_FMT
);

832 i‡(!
	`ªcursive
 (
fmt
))

834 i‡(*
decided
 =
loc
)

835  
NULL
;

837 
Ω
 = 
Ω_backup
;

841 i‡(
	`°rcmp
 (
fmt
, 
HERE_D_T_FMT
))

842 *
decided
 = 
loc
;

843 
w™t_xday
 = 1;

846 *
decided
 = 
øw
;

850 i‡(!
	`ªcursive
 (
HERE_D_T_FMT
))

851  
NULL
;

852 
w™t_xday
 = 1;

863 i‡(*
decided
 !
øw
)

865 c⁄° *
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
ERA_D_FMT
);

867 i‡(*
fmt
 == '\0')

868 
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
D_FMT
);

870 i‡(!
	`ªcursive
 (
fmt
))

872 i‡(*
decided
 =
loc
)

873  
NULL
;

875 
Ω
 = 
Ω_backup
;

879 i‡(
	`°rcmp
 (
fmt
, 
HERE_D_FMT
))

880 *
decided
 = 
loc
;

883 *
decided
 = 
øw
;

885 i‡(!
	`ªcursive
 (
HERE_D_FMT
))

886  
NULL
;

889 i‡(*
decided
 !
øw
)

891 c⁄° *
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
ERA_T_FMT
);

893 i‡(*
fmt
 == '\0')

894 
fmt
 = 
	`_NL_CURRENT
 (
LC_TIME
, 
T_FMT
);

896 i‡(!
	`ªcursive
 (
fmt
))

898 i‡(*
decided
 =
loc
)

899  
NULL
;

901 
Ω
 = 
Ω_backup
;

905 i‡(
	`°rcmp
 (
fmt
, 
HERE_T_FMT
))

906 *
decided
 = 
loc
;

909 *
decided
 = 
øw
;

911 i‡(!
	`ªcursive
 (
HERE_T_FMT
))

912  
NULL
;

915  
NULL
;

921 i‡(*
fmt
 != 'c' && *fmt != 'C' && *fmt != 'y' && *fmt != 'Y'

922 && *
fmt
 != 'x' && *fmt != 'X')

924  
NULL
;

926 
°¨t_ovî
;

929 *
fmt
++)

934 
	`gë_Æt_numbî
 (1, 31, 2);

935 
tm
->
tm_mday
 = 
vÆ
;

936 
have_mday
 = 1;

937 
w™t_xday
 = 1;

942 
	`gë_Æt_numbî
 (0, 23, 2);

943 
tm
->
tm_hour
 = 
vÆ
;

944 
have_I
 = 0;

949 
	`gë_Æt_numbî
 (1, 12, 2);

950 
tm
->
tm_hour
 = 
vÆ
 - 1;

951 
have_I
 = 1;

955 
	`gë_Æt_numbî
 (1, 12, 2);

956 
tm
->
tm_m⁄
 = 
vÆ
 - 1;

957 
have_m⁄
 = 1;

958 
w™t_xday
 = 1;

962 
	`gë_Æt_numbî
 (0, 59, 2);

963 
tm
->
tm_mö
 = 
vÆ
;

967 
	`gë_Æt_numbî
 (0, 61, 2);

968 
tm
->
tm_£c
 = 
vÆ
;

973 
	`gë_Æt_numbî
 (0, 53, 2);

979 
	`gë_Æt_numbî
 (0, 6, 1);

980 
tm
->
tm_wday
 = 
vÆ
;

981 
have_wday
 = 1;

985 
	`gë_Æt_numbî
 (0, 99, 2);

986 
tm
->
tm_yór
 = 
vÆ
 >= 69 ? val : val + 100;

987 
w™t_xday
 = 1;

990  
NULL
;

994  
NULL
;

998 i‡(
have_I
 && 
is_pm
)

999 
tm
->
tm_hour
 += 12;

1001 i‡(
˚¡ury
 != -1)

1003 i‡(
w™t_˚¡ury
)

1004 
tm
->
tm_yór
 =Åm->tm_yó∏% 100 + (
˚¡ury
 - 19) * 100;

1007 
tm
->
tm_yór
 = (
˚¡ury
 - 19) * 100;

1010 i‡(
w™t_xday
 && !
have_wday
) {

1011 i‡–!(
have_m⁄
 && 
have_mday
Ë&& 
have_yday
) {

1013 
t_m⁄
 = 0;

1014 
__m⁄_yday
[
	`__i¶óp
(1900 + 
tm
->
tm_yór
)][
t_m⁄
] <tm->
tm_yday
)

1015 
t_m⁄
++;

1016 i‡(!
have_m⁄
)

1017 
tm
->
tm_m⁄
 = 
t_m⁄
 - 1;

1018 i‡(!
have_mday
)

1019 
tm
->
tm_mday
 =Åm->
tm_yday
 - 
__m⁄_yday
[
	`__i¶óp
(1900 +Åm->
tm_yór
)][
t_m⁄
 - 1] + 1;

1021 
	`day_of_the_wìk
 (
tm
);

1023 i‡(
w™t_xday
 && !
have_yday
)

1024 
	`day_of_the_yór
 (
tm
);

1026  (*Ë
Ω
;

1027 
	}
}

1031 
	$°Ωtime
 (
buf
, 
f‹m©
, 
tm
)

1032 c⁄° *
buf
;

1033 c⁄° *
f‹m©
;

1034 
tm
 *tm;

1036 
loˇÀ_°©us
 
decided
;

1037 #ifde‡
_NL_CURRENT


1038 
decided
 = 
nŸ
;

1040 
decided
 = 
øw
;

1042  
	`°Ωtime_öã∫Æ
 (
buf
, 
f‹m©
, 
tm
, &
decided
);

1043 
	}
}

1046 #ifde‡
NEED_MON_YDAY


1047 c⁄° 
	g__m⁄_yday
[2][13] =

1070 #i‚de‡
SYSTEM_FNMATCH


1072 
	#__FNM_FLAGS
 (
FNM_PATHNAME
 | 
FNM_NOESCAPE
 | 
FNM_PERIOD
)

	)

1081 
	$‚m©ch
 (c⁄° *
∑âîn
, c⁄° *
°rög
, 
Êags
)

1083 c⁄° *
p
 = 
∑âîn
, *
n
 = 
°rög
;

1084 
c
;

1086 i‡((
Êags
 & ~
__FNM_FLAGS
) != 0)

1088 
î∫o
 = 
EINVAL
;

1092 (
c
 = *
p
++) != '\0')

1094 
c
)

1097 i‡(*
n
 == '\0')

1098  (
FNM_NOMATCH
);

1099 i‡((
Êags
 & 
FNM_PATHNAME
Ë&& *
n
 == '/')

1100  (
FNM_NOMATCH
);

1101 i‡((
Êags
 & 
FNM_PERIOD
Ë&& *
n
 == '.' &&

1102 (
n
 =
°rög
 || ((
Êags
 & 
FNM_PATHNAME
) &&Ç[-1] == '/')))

1103  (
FNM_NOMATCH
);

1107 i‡(!(
Êags
 & 
FNM_NOESCAPE
))

1108 
c
 = *
p
++;

1109 i‡(*
n
 !
c
)

1110  (
FNM_NOMATCH
);

1114 i‡((
Êags
 & 
FNM_PERIOD
Ë&& *
n
 == '.' &&

1115 (
n
 =
°rög
 || ((
Êags
 & 
FNM_PATHNAME
) &&Ç[-1] == '/')))

1116  (
FNM_NOMATCH
);

1118 
c
 = *
p
++; c ='?' || c ='*'; c = *p++, ++
n
)

1119 i‡(((
Êags
 & 
FNM_PATHNAME
Ë&& *
n
 == '/') ||

1120 (
c
 ='?' && *
n
 == '\0'))

1121  (
FNM_NOMATCH
);

1123 i‡(
c
 == '\0')

1127 
c1
 = (!(
Êags
 & 
FNM_NOESCAPE
Ë&& 
c
 ='\\'Ë? *
p
 : c;

1128 --
p
; *
n
 != '\0'; ++n)

1129 i‡((
c
 ='[' || *
n
 =
c1
) &&

1130 
	`‚m©ch
 (
p
, 
n
, 
Êags
 & ~
FNM_PERIOD
) == 0)

1132  (
FNM_NOMATCH
);

1139 
nŸ
;

1141 i‡(*
n
 == '\0')

1142  (
FNM_NOMATCH
);

1144 i‡((
Êags
 & 
FNM_PERIOD
Ë&& *
n
 == '.' &&

1145 (
n
 =
°rög
 || ((
Êags
 & 
FNM_PATHNAME
) &&Ç[-1] == '/')))

1146  (
FNM_NOMATCH
);

1151 c⁄° *
≈
;

1153 
≈
 = 
p
;Çp && *np && *np != ']';Çp++)

1156 i‡(
≈
 && !*np)

1158 i‡(*
n
 != '[')

1159  (
FNM_NOMATCH
);

1160 
√xt_ch¨
;

1164 
nŸ
 = (*
p
 == '!' || *p == '^');

1165 i‡(
nŸ
)

1166 ++
p
;

1168 
c
 = *
p
++;

1171 
c°¨t
 = 
c
, 
˚nd
 = c;

1173 i‡(!(
Êags
 & 
FNM_NOESCAPE
Ë&& 
c
 == '\\')

1174 
c°¨t
 = 
˚nd
 = *
p
++;

1176 i‡(
c
 == '\0')

1178  (
FNM_NOMATCH
);

1180 
c
 = *
p
++;

1182 i‡((
Êags
 & 
FNM_PATHNAME
Ë&& 
c
 == '/')

1184  (
FNM_NOMATCH
);

1186 i‡(
c
 ='-' && *
p
 != ']')

1188 
˚nd
 = *
p
++;

1189 i‡(!(
Êags
 & 
FNM_NOESCAPE
Ë&& 
˚nd
 == '\\')

1190 
˚nd
 = *
p
++;

1191 i‡(
˚nd
 == '\0')

1192  (
FNM_NOMATCH
);

1193 
c
 = *
p
++;

1196 i‡(*
n
 >
c°¨t
 && *¿<
˚nd
)

1197 
m©ched
;

1199 i‡(
c
 == ']')

1202 i‡(!
nŸ
)

1203  (
FNM_NOMATCH
);

1205 
√xt_ch¨
:

1208 
m©ched
:

1210 
c
 != ']')

1212 i‡(
c
 == '\0')

1214  (
FNM_NOMATCH
);

1216 
c
 = *
p
++;

1217 i‡(!(
Êags
 & 
FNM_NOESCAPE
Ë&& 
c
 == '\\')

1219 ++
p
;

1221 i‡(
nŸ
)

1222  (
FNM_NOMATCH
);

1227 i‡(
c
 !*
n
)

1228  (
FNM_NOMATCH
);

1231 ++
n
;

1234 i‡(*
n
 == '\0')

1237  (
FNM_NOMATCH
);

1238 
	}
}

1242 #i‚de‡
HAVE_TIMEGM


1247 
	#ISLEAP
(
yór
) \

1248 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

1251 
	#LEAPYEARS
(
y1
, 
y2
) \

1252 ((
y2
-1)/4 - (
y1
-1)/4Ë- ((y2-1)/100 - (y1-1)/100Ë+ ((y2-1)/400 - (y1-1)/400)

	)

1259 
time_t


1260 
	$timegm
 (
tm
 *
t
)

1262 c⁄° 
m⁄th_to_days
[][13] = {

1266 c⁄° 
yór
 = 1900 + 
t
->
tm_yór
;

1267 
£cs
;

1268 
days
;

1270 i‡(
yór
 < 1970)

1271  (
time_t
) -1;

1273 
days
 = 365 * (
yór
 - 1970);

1276 
days
 +
	`LEAPYEARS
 (1970, 
yór
);

1277 i‡(
t
->
tm_m⁄
 < 0 ||Å->tm_mon >= 12)

1278  (
time_t
) -1;

1279 
days
 +
m⁄th_to_days
[
	`ISLEAP
 (
yór
)][
t
->
tm_m⁄
];

1280 
days
 +
t
->
tm_mday
 - 1;

1282 
£cs
 = 
days
 * 86400 + 
t
->
tm_hour
 * 3600 +Å->
tm_mö
 * 60 +Å->
tm_£c
;

1283  (
time_t
Ë
£cs
;

1284 
	}
}

1287 #ifde‡
NEED_STRTOLL


1297 
ölöe
 

1298 
	$ch¨_vÆue
 (
c
, 
ba£
)

1300 
vÆue
;

1301 i‡(
c
 < '0')

1303 i‡('0' <
c
 && c <= '9')

1304 
vÆue
 = 
c
 - '0';

1305 i‡('a' <
c
 && c <= 'z')

1306 
vÆue
 = 
c
 - 'a' + 10;

1307 i‡('A' <
c
 && c <= 'Z')

1308 
vÆue
 = 
c
 - 'A' + 10;

1311 i‡(
vÆue
 >
ba£
)

1313  
vÆue
;

1314 
	}
}

1316 
	#STRTOLL_MAX
 
	`TYPE_MAXIMUM
 (
°πﬁl_ty≥
)

	)

1318 
	#STRTOLL_MIN
 (-
STRTOLL_MAX
 - 1)

	)

1322 
	#MOD
(
a
, 
b
Ë((
°πﬁl_ty≥
Ë-1 % 2 =1 ? (aË% (bË: - (◊Ë% (b)))

	)

1328 
°πﬁl_ty≥


1329 
	$°πﬁl
 (c⁄° *
≈å
, **
íd±r
, 
ba£
)

1331 
°πﬁl_ty≥
 
ªsu…
 = 0;

1332 
boﬁ
 
√g©ive
;

1334 i‡(
ba£
 != 0 && (base < 2 || base > 36))

1336 
î∫o
 = 
EINVAL
;

1340 *
≈å
 == ' ' || *nptr == '\t')

1341 ++
≈å
;

1342 i‡(*
≈å
 == '-')

1344 
√g©ive
 = 
åue
;

1345 ++
≈å
;

1347 i‡(*
≈å
 == '+')

1349 
√g©ive
 = 
Ál£
;

1350 ++
≈å
;

1353 
√g©ive
 = 
Ál£
;

1358 i‡(*
≈å
 == '0')

1360 i‡((
ba£
 == 0 || base == 16)

1362 (*(
≈å
 + 1) == 'x' || *(nptr + 1) == 'X'))

1364 
ba£
 = 16;

1365 
≈å
 += 2;

1368 i‡(!
	`c_isxdigô
 (*
≈å
))

1370 --
≈å
;

1371 
out
;

1374 i‡(
ba£
 == 0)

1375 
ba£
 = 8;

1377 i‡(
ba£
 == 0)

1378 
ba£
 = 10;

1380 i‡(!
√g©ive
)

1383 
digô
;

1387 c⁄° 
°πﬁl_ty≥
 
WATERMARK
 = 
STRTOLL_MAX
 / 
ba£
;

1388 ; (
digô
 = 
	`ch¨_vÆue
 (*
≈å
, 
ba£
)) != -1; ++nptr)

1390 i‡(
ªsu…
 > 
WATERMARK


1391 || (
ªsu…
 =
WATERMARK
 && 
digô
 > 
STRTOLL_MAX
 % 
ba£
))

1393 
ªsu…
 = 
STRTOLL_MAX
;

1394 
î∫o
 = 
ERANGE
;

1397 
ªsu…
 = 
ba£
 *Ñesu… + 
digô
;

1403 
digô
;

1404 c⁄° 
°πﬁl_ty≥
 
WATERMARK
 = 
STRTOLL_MIN
 / 
ba£
;

1405 ; (
digô
 = 
	`ch¨_vÆue
 (*
≈å
, 
ba£
)) != -1; ++nptr)

1407 i‡(
ªsu…
 < 
WATERMARK


1408 || (
ªsu…
 =
WATERMARK
 && 
digô
 > 
	`MOD
 (
STRTOLL_MIN
, 
ba£
)))

1410 
ªsu…
 = 
STRTOLL_MIN
;

1411 
î∫o
 = 
ERANGE
;

1414 
ªsu…
 = 
ba£
 *Ñesu… - 
digô
;

1417 
out
:

1418 i‡(
íd±r
)

1419 *
íd±r
 = (*Ë
≈å
;

1420  
ªsu…
;

1421 
	}
}

1423 #unde‡
STRTOLL_MAX


1424 #unde‡
STRTOLL_MIN


1425 #unde‡
ABS


	@src/config.h

8 
	#BITSIZEOF_PTRDIFF_T
 64

	)

11 
	#BITSIZEOF_SIG_ATOMIC_T
 32

	)

14 
	#BITSIZEOF_SIZE_T
 64

	)

17 
	#BITSIZEOF_WCHAR_T
 32

	)

20 
	#BITSIZEOF_WINT_T
 32

	)

34 
	#ENABLE_DEBUG
 1

	)

37 
	#ENABLE_DIGEST
 1

	)

40 
	#ENABLE_IPV6
 1

	)

43 
	#ENABLE_IRI
 1

	)

47 
	#ENABLE_NLS
 1

	)

53 
	#ENABLE_OPIE
 1

	)

70 
	#GETTIMEOFDAY_TIMEZONE
 
timez⁄e


	)

74 
	#GNULIB_FD_SAFER_FLAG
 1

	)

78 
	#GNULIB_PIPE2_SAFER
 1

	)

82 
	#GNULIB_SIGPIPE
 1

	)

86 
	#GNULIB_SNPRINTF
 1

	)

90 
	#GNULIB_STRERROR
 1

	)

93 
	#GNULIB_TEST_ACCEPT
 1

	)

96 
	#GNULIB_TEST_BIND
 1

	)

99 
	#GNULIB_TEST_CLOEXEC
 1

	)

102 
	#GNULIB_TEST_CLOSE
 1

	)

105 
	#GNULIB_TEST_CONNECT
 1

	)

108 
	#GNULIB_TEST_DUP2
 1

	)

111 
	#GNULIB_TEST_ENVIRON
 1

	)

114 
	#GNULIB_TEST_FCNTL
 1

	)

117 
	#GNULIB_TEST_FSEEK
 1

	)

120 
	#GNULIB_TEST_FSEEKO
 1

	)

123 
	#GNULIB_TEST_FUTIMENS
 1

	)

126 
	#GNULIB_TEST_GETADDRINFO
 1

	)

129 
	#GNULIB_TEST_GETDELIM
 1

	)

132 
	#GNULIB_TEST_GETDTABLESIZE
 1

	)

135 
	#GNULIB_TEST_GETLINE
 1

	)

138 
	#GNULIB_TEST_GETOPT_GNU
 1

	)

141 
	#GNULIB_TEST_GETPEERNAME
 1

	)

144 
	#GNULIB_TEST_GETSOCKNAME
 1

	)

147 
	#GNULIB_TEST_GETTIMEOFDAY
 1

	)

150 
	#GNULIB_TEST_IOCTL
 1

	)

153 
	#GNULIB_TEST_LISTEN
 1

	)

156 
	#GNULIB_TEST_LSEEK
 1

	)

159 
	#GNULIB_TEST_LSTAT
 1

	)

162 
	#GNULIB_TEST_MALLOC_POSIX
 1

	)

165 
	#GNULIB_TEST_MBRTOWC
 1

	)

168 
	#GNULIB_TEST_MBSINIT
 1

	)

171 
	#GNULIB_TEST_MBTOWC
 1

	)

174 
	#GNULIB_TEST_MEMCHR
 1

	)

177 
	#GNULIB_TEST_OPEN
 1

	)

180 
	#GNULIB_TEST_PIPE2
 1

	)

184 
	#GNULIB_TEST_POSIX_SPAWNATTR_DESTROY
 1

	)

188 
	#GNULIB_TEST_POSIX_SPAWNATTR_INIT
 1

	)

192 
	#GNULIB_TEST_POSIX_SPAWNATTR_SETFLAGS
 1

	)

196 
	#GNULIB_TEST_POSIX_SPAWNATTR_SETSIGMASK
 1

	)

199 
	#GNULIB_TEST_POSIX_SPAWNP
 1

	)

203 
	#GNULIB_TEST_POSIX_SPAWN_FILE_ACTIONS_ADDCLOSE
 1

	)

207 
	#GNULIB_TEST_POSIX_SPAWN_FILE_ACTIONS_ADDDUP2
 1

	)

211 
	#GNULIB_TEST_POSIX_SPAWN_FILE_ACTIONS_ADDOPEN
 1

	)

215 
	#GNULIB_TEST_POSIX_SPAWN_FILE_ACTIONS_DESTROY
 1

	)

219 
	#GNULIB_TEST_POSIX_SPAWN_FILE_ACTIONS_INIT
 1

	)

222 
	#GNULIB_TEST_RAWMEMCHR
 1

	)

225 
	#GNULIB_TEST_REALLOC_POSIX
 1

	)

228 
	#GNULIB_TEST_RECV
 1

	)

231 
	#GNULIB_TEST_SELECT
 1

	)

234 
	#GNULIB_TEST_SEND
 1

	)

237 
	#GNULIB_TEST_SETSOCKOPT
 1

	)

240 
	#GNULIB_TEST_SIGACTION
 1

	)

243 
	#GNULIB_TEST_SIGPROCMASK
 1

	)

246 
	#GNULIB_TEST_SNPRINTF
 1

	)

249 
	#GNULIB_TEST_SOCKET
 1

	)

252 
	#GNULIB_TEST_STAT
 1

	)

255 
	#GNULIB_TEST_STRCASESTR
 1

	)

258 
	#GNULIB_TEST_STRCHRNUL
 1

	)

261 
	#GNULIB_TEST_STRERROR
 1

	)

264 
	#GNULIB_TEST_STRERROR_R
 1

	)

267 
	#GNULIB_TEST_VASPRINTF
 1

	)

270 
	#GNULIB_TEST_WAITPID
 1

	)

273 
	#GNULIB_TEST_WRITE
 1

	)

277 
	#HAVE_ALLOCA
 1

	)

281 
	#HAVE_ALLOCA_H
 1

	)

284 
	#HAVE_ARPA_INET_H
 1

	)

290 
	#HAVE_CATGETS
 1

	)

301 
	#HAVE_CLOCK_GETTIME
 1

	)

304 
	#HAVE_CLOCK_SETTIME
 1

	)

311 
	#HAVE_DCGETTEXT
 1

	)

315 
	#HAVE_DECL_CLEARERR_UNLOCKED
 1

	)

319 
	#HAVE_DECL_FEOF_UNLOCKED
 1

	)

323 
	#HAVE_DECL_FERROR_UNLOCKED
 1

	)

327 
	#HAVE_DECL_FFLUSH_UNLOCKED
 1

	)

331 
	#HAVE_DECL_FGETS_UNLOCKED
 1

	)

335 
	#HAVE_DECL_FLOCKFILE
 1

	)

339 
	#HAVE_DECL_FPUTC_UNLOCKED
 1

	)

343 
	#HAVE_DECL_FPUTS_UNLOCKED
 1

	)

347 
	#HAVE_DECL_FREAD_UNLOCKED
 1

	)

351 
	#HAVE_DECL_FREEADDRINFO
 1

	)

355 
	#HAVE_DECL_FSEEKO
 1

	)

359 
	#HAVE_DECL_FUNLOCKFILE
 1

	)

363 
	#HAVE_DECL_FWRITE_UNLOCKED
 1

	)

367 
	#HAVE_DECL_GAI_STRERROR
 1

	)

371 
	#HAVE_DECL_GAI_STRERRORA
 0

	)

375 
	#HAVE_DECL_GETADDRINFO
 1

	)

379 
	#HAVE_DECL_GETCHAR_UNLOCKED
 1

	)

383 
	#HAVE_DECL_GETC_UNLOCKED
 1

	)

387 
	#HAVE_DECL_GETDELIM
 1

	)

391 
	#HAVE_DECL_GETENV
 1

	)

395 
	#HAVE_DECL_GETLINE
 1

	)

399 
	#HAVE_DECL_GETNAMEINFO
 1

	)

403 
	#HAVE_DECL_GETPASS
 1

	)

407 
	#HAVE_DECL_H_ERRNO
 1

	)

411 
	#HAVE_DECL_INET_NTOP
 1

	)

423 
	#HAVE_DECL_PUTCHAR_UNLOCKED
 1

	)

427 
	#HAVE_DECL_PUTC_UNLOCKED
 1

	)

431 
	#HAVE_DECL_SNPRINTF
 1

	)

435 
	#HAVE_DECL_STRERROR_R
 1

	)

443 
	#HAVE_DECL__SNPRINTF
 0

	)

447 
	#HAVE_DECL___FSETLOCKING
 1

	)

450 
	#HAVE_DRAND48
 1

	)

453 
	#HAVE_DUP2
 1

	)

456 
	#HAVE_ENVIRON_DECL
 1

	)

459 
	#HAVE_FCNTL
 1

	)

462 
	#HAVE_FEATURES_H
 1

	)

468 
	#HAVE_FSEEKO
 1

	)

471 
	#HAVE_FTELLO
 1

	)

480 
	#HAVE_FUTIMES
 1

	)

486 
	#HAVE_GETDELIM
 1

	)

489 
	#HAVE_GETDTABLESIZE
 1

	)

492 
	#HAVE_GETHOSTBYNAME
 1

	)

495 
	#HAVE_GETOPT_H
 1

	)

498 
	#HAVE_GETOPT_LONG_ONLY
 1

	)

501 
	#HAVE_GETPAGESIZE
 1

	)

504 
	#HAVE_GETSERVBYNAME
 1

	)

507 
	#HAVE_GETTEXT
 1

	)

510 
	#HAVE_GETTIMEOFDAY
 1

	)

513 
	#HAVE_ICONV
 1

	)

516 
	#HAVE_ICONV_H
 1

	)

519 
	#HAVE_INET_NTOA
 1

	)

527 
	#HAVE_INLINE
 1

	)

530 
	#HAVE_INT64_T
 1

	)

533 
	#HAVE_INTMAX_T
 1

	)

536 
	#HAVE_INTPTR_T
 1

	)

539 
	#HAVE_INTTYPES_H
 1

	)

543 
	#HAVE_INTTYPES_H_WITH_UINTMAX
 1

	)

546 
	#HAVE_IOCTL
 1

	)

549 
	#HAVE_IPV4
 1

	)

552 
	#HAVE_IPV6
 1

	)

555 
	#HAVE_ISATTY
 1

	)

558 
	#HAVE_ISWCNTRL
 1

	)

561 
	#HAVE_LANGINFO_CODESET
 1

	)

600 
	#HAVE_LONG_LONG_INT
 1

	)

603 
	#HAVE_LSTAT
 1

	)

609 
	#HAVE_MALLOC_POSIX
 1

	)

613 
	#HAVE_MAP_ANONYMOUS
 1

	)

616 
	#HAVE_MBRTOWC
 1

	)

619 
	#HAVE_MBSINIT
 1

	)

622 
	#HAVE_MBSTATE_T
 1

	)

625 
	#HAVE_MBTOWC
 1

	)

628 
	#HAVE_MEMORY_H
 1

	)

631 
	#HAVE_MEMRCHR
 1

	)

634 
	#HAVE_MMAP
 1

	)

637 
	#HAVE_MPROTECT
 1

	)

640 
	#HAVE_NANOSLEEP
 1

	)

646 
	#HAVE_NETDB_H
 1

	)

649 
	#HAVE_NETINET_IN_H
 1

	)

655 
	#HAVE_PIPE
 1

	)

661 
	#HAVE_POSIX_SPAWN
 1

	)

664 
	#HAVE_POSIX_SPAWNATTR_T
 1

	)

667 
	#HAVE_POSIX_SPAWN_FILE_ACTIONS_T
 1

	)

670 
	#HAVE_PTHREAD_MUTEX_RECURSIVE
 1

	)

673 
	#HAVE_PTHREAD_RWLOCK
 1

	)

676 
	#HAVE_PWD_H
 1

	)

679 
	#HAVE_RAWMEMCHR
 1

	)

682 
	#HAVE_RAW_DECL_ACCEPT
 1

	)

688 
	#HAVE_RAW_DECL_ATOLL
 1

	)

691 
	#HAVE_RAW_DECL_BIND
 1

	)

694 
	#HAVE_RAW_DECL_BTOWC
 1

	)

698 
	#HAVE_RAW_DECL_CANONICALIZE_FILE_NAME
 1

	)

701 
	#HAVE_RAW_DECL_CHOWN
 1

	)

704 
	#HAVE_RAW_DECL_CONNECT
 1

	)

707 
	#HAVE_RAW_DECL_DPRINTF
 1

	)

710 
	#HAVE_RAW_DECL_DUP2
 1

	)

716 
	#HAVE_RAW_DECL_ENDUSERSHELL
 1

	)

719 
	#HAVE_RAW_DECL_ENVIRON
 1

	)

722 
	#HAVE_RAW_DECL_EUIDACCESS
 1

	)

728 
	#HAVE_RAW_DECL_FCHDIR
 1

	)

737 
	#HAVE_RAW_DECL_FCNTL
 1

	)

740 
	#HAVE_RAW_DECL_FFSL
 1

	)

743 
	#HAVE_RAW_DECL_FFSLL
 1

	)

749 
	#HAVE_RAW_DECL_FREEADDRINFO
 1

	)

752 
	#HAVE_RAW_DECL_FSEEKO
 1

	)

758 
	#HAVE_RAW_DECL_FSYNC
 1

	)

761 
	#HAVE_RAW_DECL_FTELLO
 1

	)

764 
	#HAVE_RAW_DECL_FTRUNCATE
 1

	)

770 
	#HAVE_RAW_DECL_GAI_STRERROR
 1

	)

773 
	#HAVE_RAW_DECL_GETADDRINFO
 1

	)

776 
	#HAVE_RAW_DECL_GETCWD
 1

	)

779 
	#HAVE_RAW_DECL_GETDELIM
 1

	)

782 
	#HAVE_RAW_DECL_GETDOMAINNAME
 1

	)

785 
	#HAVE_RAW_DECL_GETDTABLESIZE
 1

	)

788 
	#HAVE_RAW_DECL_GETGROUPS
 1

	)

791 
	#HAVE_RAW_DECL_GETHOSTNAME
 1

	)

794 
	#HAVE_RAW_DECL_GETLINE
 1

	)

797 
	#HAVE_RAW_DECL_GETLOADAVG
 1

	)

800 
	#HAVE_RAW_DECL_GETLOGIN
 1

	)

803 
	#HAVE_RAW_DECL_GETLOGIN_R
 1

	)

806 
	#HAVE_RAW_DECL_GETNAMEINFO
 1

	)

809 
	#HAVE_RAW_DECL_GETPAGESIZE
 1

	)

812 
	#HAVE_RAW_DECL_GETPEERNAME
 1

	)

815 
	#HAVE_RAW_DECL_GETSOCKNAME
 1

	)

818 
	#HAVE_RAW_DECL_GETSOCKOPT
 1

	)

821 
	#HAVE_RAW_DECL_GETSUBOPT
 1

	)

824 
	#HAVE_RAW_DECL_GETTIMEOFDAY
 1

	)

827 
	#HAVE_RAW_DECL_GETUSERSHELL
 1

	)

830 
	#HAVE_RAW_DECL_GRANTPT
 1

	)

833 
	#HAVE_RAW_DECL_GROUP_MEMBER
 1

	)

836 
	#HAVE_RAW_DECL_INET_NTOP
 1

	)

839 
	#HAVE_RAW_DECL_INET_PTON
 1

	)

845 
	#HAVE_RAW_DECL_IOCTL
 1

	)

848 
	#HAVE_RAW_DECL_ISWCTYPE
 1

	)

851 
	#HAVE_RAW_DECL_LCHMOD
 1

	)

854 
	#HAVE_RAW_DECL_LCHOWN
 1

	)

857 
	#HAVE_RAW_DECL_LINK
 1

	)

863 
	#HAVE_RAW_DECL_LISTEN
 1

	)

866 
	#HAVE_RAW_DECL_LSEEK
 1

	)

869 
	#HAVE_RAW_DECL_LSTAT
 1

	)

872 
	#HAVE_RAW_DECL_MBRLEN
 1

	)

875 
	#HAVE_RAW_DECL_MBRTOWC
 1

	)

878 
	#HAVE_RAW_DECL_MBSINIT
 1

	)

881 
	#HAVE_RAW_DECL_MBSNRTOWCS
 1

	)

884 
	#HAVE_RAW_DECL_MBSRTOWCS
 1

	)

887 
	#HAVE_RAW_DECL_MEMMEM
 1

	)

890 
	#HAVE_RAW_DECL_MEMPCPY
 1

	)

893 
	#HAVE_RAW_DECL_MEMRCHR
 1

	)

899 
	#HAVE_RAW_DECL_MKDTEMP
 1

	)

902 
	#HAVE_RAW_DECL_MKFIFO
 1

	)

908 
	#HAVE_RAW_DECL_MKNOD
 1

	)

920 
	#HAVE_RAW_DECL_MKSTEMP
 1

	)

929 
	#HAVE_RAW_DECL_PIPE
 1

	)

935 
	#HAVE_RAW_DECL_POPEN
 1

	)

938 
	#HAVE_RAW_DECL_POSIX_SPAWN
 1

	)

942 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_DESTROY
 1

	)

946 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETFLAGS
 1

	)

950 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETPGROUP
 1

	)

954 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPARAM
 1

	)

958 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSCHEDPOLICY
 1

	)

962 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGDEFAULT
 1

	)

966 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_GETSIGMASK
 1

	)

970 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_INIT
 1

	)

974 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETFLAGS
 1

	)

978 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETPGROUP
 1

	)

982 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPARAM
 1

	)

986 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSCHEDPOLICY
 1

	)

990 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGDEFAULT
 1

	)

994 
	#HAVE_RAW_DECL_POSIX_SPAWNATTR_SETSIGMASK
 1

	)

997 
	#HAVE_RAW_DECL_POSIX_SPAWNP
 1

	)

1001 
	#HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDCLOSE
 1

	)

1005 
	#HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDDUP2
 1

	)

1009 
	#HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_ADDOPEN
 1

	)

1013 
	#HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_DESTROY
 1

	)

1017 
	#HAVE_RAW_DECL_POSIX_SPAWN_FILE_ACTIONS_INIT
 1

	)

1020 
	#HAVE_RAW_DECL_PREAD
 1

	)

1023 
	#HAVE_RAW_DECL_PSELECT
 1

	)

1026 
	#HAVE_RAW_DECL_PTHREAD_SIGMASK
 1

	)

1029 
	#HAVE_RAW_DECL_PTSNAME
 1

	)

1032 
	#HAVE_RAW_DECL_PWRITE
 1

	)

1035 
	#HAVE_RAW_DECL_RANDOM_R
 1

	)

1038 
	#HAVE_RAW_DECL_RAWMEMCHR
 1

	)

1041 
	#HAVE_RAW_DECL_READLINK
 1

	)

1047 
	#HAVE_RAW_DECL_REALPATH
 1

	)

1050 
	#HAVE_RAW_DECL_RECV
 1

	)

1053 
	#HAVE_RAW_DECL_RECVFROM
 1

	)

1059 
	#HAVE_RAW_DECL_RMDIR
 1

	)

1062 
	#HAVE_RAW_DECL_RPMATCH
 1

	)

1065 
	#HAVE_RAW_DECL_SELECT
 1

	)

1068 
	#HAVE_RAW_DECL_SEND
 1

	)

1071 
	#HAVE_RAW_DECL_SENDTO
 1

	)

1074 
	#HAVE_RAW_DECL_SETENV
 1

	)

1077 
	#HAVE_RAW_DECL_SETSOCKOPT
 1

	)

1080 
	#HAVE_RAW_DECL_SETSTATE_R
 1

	)

1083 
	#HAVE_RAW_DECL_SETUSERSHELL
 1

	)

1086 
	#HAVE_RAW_DECL_SHUTDOWN
 1

	)

1089 
	#HAVE_RAW_DECL_SIGACTION
 1

	)

1092 
	#HAVE_RAW_DECL_SIGADDSET
 1

	)

1095 
	#HAVE_RAW_DECL_SIGDELSET
 1

	)

1098 
	#HAVE_RAW_DECL_SIGEMPTYSET
 1

	)

1101 
	#HAVE_RAW_DECL_SIGFILLSET
 1

	)

1104 
	#HAVE_RAW_DECL_SIGISMEMBER
 1

	)

1107 
	#HAVE_RAW_DECL_SIGPENDING
 1

	)

1110 
	#HAVE_RAW_DECL_SIGPROCMASK
 1

	)

1113 
	#HAVE_RAW_DECL_SLEEP
 1

	)

1116 
	#HAVE_RAW_DECL_SNPRINTF
 1

	)

1119 
	#HAVE_RAW_DECL_SOCKET
 1

	)

1122 
	#HAVE_RAW_DECL_SRANDOM_R
 1

	)

1125 
	#HAVE_RAW_DECL_STAT
 1

	)

1128 
	#HAVE_RAW_DECL_STPCPY
 1

	)

1131 
	#HAVE_RAW_DECL_STPNCPY
 1

	)

1134 
	#HAVE_RAW_DECL_STRCASESTR
 1

	)

1137 
	#HAVE_RAW_DECL_STRCHRNUL
 1

	)

1140 
	#HAVE_RAW_DECL_STRDUP
 1

	)

1143 
	#HAVE_RAW_DECL_STRERROR_R
 1

	)

1146 
	#HAVE_RAW_DECL_STRNCAT
 1

	)

1149 
	#HAVE_RAW_DECL_STRNDUP
 1

	)

1152 
	#HAVE_RAW_DECL_STRNLEN
 1

	)

1155 
	#HAVE_RAW_DECL_STRPBRK
 1

	)

1158 
	#HAVE_RAW_DECL_STRSEP
 1

	)

1161 
	#HAVE_RAW_DECL_STRSIGNAL
 1

	)

1164 
	#HAVE_RAW_DECL_STRTOD
 1

	)

1167 
	#HAVE_RAW_DECL_STRTOK_R
 1

	)

1170 
	#HAVE_RAW_DECL_STRTOLL
 1

	)

1173 
	#HAVE_RAW_DECL_STRTOULL
 1

	)

1176 
	#HAVE_RAW_DECL_STRVERSCMP
 1

	)

1179 
	#HAVE_RAW_DECL_SYMLINK
 1

	)

1185 
	#HAVE_RAW_DECL_TMPFILE
 1

	)

1188 
	#HAVE_RAW_DECL_TOWCTRANS
 1

	)

1191 
	#HAVE_RAW_DECL_TTYNAME_R
 1

	)

1194 
	#HAVE_RAW_DECL_UNLINK
 1

	)

1200 
	#HAVE_RAW_DECL_UNLOCKPT
 1

	)

1203 
	#HAVE_RAW_DECL_UNSETENV
 1

	)

1206 
	#HAVE_RAW_DECL_USLEEP
 1

	)

1212 
	#HAVE_RAW_DECL_VDPRINTF
 1

	)

1215 
	#HAVE_RAW_DECL_VSNPRINTF
 1

	)

1218 
	#HAVE_RAW_DECL_WAITPID
 1

	)

1221 
	#HAVE_RAW_DECL_WCPCPY
 1

	)

1224 
	#HAVE_RAW_DECL_WCPNCPY
 1

	)

1227 
	#HAVE_RAW_DECL_WCRTOMB
 1

	)

1230 
	#HAVE_RAW_DECL_WCSCASECMP
 1

	)

1233 
	#HAVE_RAW_DECL_WCSCAT
 1

	)

1236 
	#HAVE_RAW_DECL_WCSCHR
 1

	)

1239 
	#HAVE_RAW_DECL_WCSCMP
 1

	)

1242 
	#HAVE_RAW_DECL_WCSCOLL
 1

	)

1245 
	#HAVE_RAW_DECL_WCSCPY
 1

	)

1248 
	#HAVE_RAW_DECL_WCSCSPN
 1

	)

1251 
	#HAVE_RAW_DECL_WCSDUP
 1

	)

1254 
	#HAVE_RAW_DECL_WCSLEN
 1

	)

1257 
	#HAVE_RAW_DECL_WCSNCASECMP
 1

	)

1260 
	#HAVE_RAW_DECL_WCSNCAT
 1

	)

1263 
	#HAVE_RAW_DECL_WCSNCMP
 1

	)

1266 
	#HAVE_RAW_DECL_WCSNCPY
 1

	)

1269 
	#HAVE_RAW_DECL_WCSNLEN
 1

	)

1272 
	#HAVE_RAW_DECL_WCSNRTOMBS
 1

	)

1275 
	#HAVE_RAW_DECL_WCSPBRK
 1

	)

1278 
	#HAVE_RAW_DECL_WCSRCHR
 1

	)

1281 
	#HAVE_RAW_DECL_WCSRTOMBS
 1

	)

1284 
	#HAVE_RAW_DECL_WCSSPN
 1

	)

1287 
	#HAVE_RAW_DECL_WCSSTR
 1

	)

1290 
	#HAVE_RAW_DECL_WCSTOK
 1

	)

1293 
	#HAVE_RAW_DECL_WCSWIDTH
 1

	)

1296 
	#HAVE_RAW_DECL_WCSXFRM
 1

	)

1299 
	#HAVE_RAW_DECL_WCTOB
 1

	)

1302 
	#HAVE_RAW_DECL_WCTRANS
 1

	)

1305 
	#HAVE_RAW_DECL_WCTYPE
 1

	)

1308 
	#HAVE_RAW_DECL_WCWIDTH
 1

	)

1311 
	#HAVE_RAW_DECL_WMEMCHR
 1

	)

1314 
	#HAVE_RAW_DECL_WMEMCMP
 1

	)

1317 
	#HAVE_RAW_DECL_WMEMCPY
 1

	)

1320 
	#HAVE_RAW_DECL_WMEMMOVE
 1

	)

1323 
	#HAVE_RAW_DECL_WMEMSET
 1

	)

1326 
	#HAVE_RAW_DECL__EXIT
 1

	)

1329 
	#HAVE_REALLOC_POSIX
 1

	)

1332 
	#HAVE_SA_FAMILY_T
 1

	)

1335 
	#HAVE_SCHED_H
 1

	)

1350 
	#HAVE_SHUTDOWN
 1

	)

1353 
	#HAVE_SIGACTION
 1

	)

1356 
	#HAVE_SIGALTSTACK
 1

	)

1359 
	#HAVE_SIGBLOCK
 1

	)

1365 
	#HAVE_SIGINTERRUPT
 1

	)

1368 
	#HAVE_SIGNED_SIG_ATOMIC_T
 1

	)

1371 
	#HAVE_SIGNED_WCHAR_T
 1

	)

1380 
	#HAVE_SIGSET_T
 1

	)

1383 
	#HAVE_SIG_ATOMIC_T
 1

	)

1386 
	#HAVE_SLEEP
 1

	)

1389 
	#HAVE_SNPRINTF
 1

	)

1394 
	#HAVE_SNPRINTF_RETVAL_C99
 1

	)

1397 
	#HAVE_SOCKADDR_IN6_SCOPE_ID
 1

	)

1400 
	#HAVE_SPAWN_H
 1

	)

1403 
	#HAVE_STDBOOL_H
 1

	)

1406 
	#HAVE_STDINT_H
 1

	)

1410 
	#HAVE_STDINT_H_WITH_UINTMAX
 1

	)

1413 
	#HAVE_STDIO_EXT_H
 1

	)

1416 
	#HAVE_STDLIB_H
 1

	)

1419 
	#HAVE_STRCASECMP
 1

	)

1422 
	#HAVE_STRCASESTR
 1

	)

1425 
	#HAVE_STRCHRNUL
 1

	)

1428 
	#HAVE_STRDUP
 1

	)

1431 
	#HAVE_STRERROR_R
 1

	)

1434 
	#HAVE_STRINGS_H
 1

	)

1437 
	#HAVE_STRING_H
 1

	)

1440 
	#HAVE_STRNCASECMP
 1

	)

1443 
	#HAVE_STRNLEN
 1

	)

1446 
	#HAVE_STRPTIME
 1

	)

1449 
	#HAVE_STRTOLL
 1

	)

1452 
	#HAVE_STRUCT_ADDRINFO
 1

	)

1455 
	#HAVE_STRUCT_SIGACTION_SA_SIGACTION
 1

	)

1458 
	#HAVE_STRUCT_SOCKADDR_IN6
 1

	)

1464 
	#HAVE_STRUCT_SOCKADDR_STORAGE
 1

	)

1467 
	#HAVE_STRUCT_SOCKADDR_STORAGE_SS_FAMILY
 1

	)

1479 
	#HAVE_STRUCT_STAT_ST_ATIM_TV_NSEC
 1

	)

1491 
	#HAVE_STRUCT_UTIMBUF
 1

	)

1494 
	#HAVE_SYMLINK
 1

	)

1497 
	#HAVE_SYS_BITYPES_H
 1

	)

1503 
	#HAVE_SYS_IOCTL_H
 1

	)

1506 
	#HAVE_SYS_MMAN_H
 1

	)

1509 
	#HAVE_SYS_PARAM_H
 1

	)

1512 
	#HAVE_SYS_SELECT_H
 1

	)

1515 
	#HAVE_SYS_SOCKET_H
 1

	)

1518 
	#HAVE_SYS_STAT_H
 1

	)

1524 
	#HAVE_SYS_TIME_H
 1

	)

1527 
	#HAVE_SYS_TYPES_H
 1

	)

1530 
	#HAVE_SYS_UIO_H
 1

	)

1536 
	#HAVE_SYS_WAIT_H
 1

	)

1539 
	#HAVE_TCGETATTR
 1

	)

1542 
	#HAVE_TCSETATTR
 1

	)

1545 
	#HAVE_TERMIOS_H
 1

	)

1548 
	#HAVE_TIMEGM
 1

	)

1551 
	#HAVE_TOWLOWER
 1

	)

1554 
	#HAVE_UINT32_T
 1

	)

1557 
	#HAVE_UINTPTR_T
 1

	)

1560 
	#HAVE_UNISTD_H
 1

	)

1563 
	#HAVE_UNSIGNED_LONG_LONG_INT
 1

	)

1566 
	#HAVE_USLEEP
 1

	)

1572 
	#HAVE_UTIME_H
 1

	)

1578 
	#HAVE_VASPRINTF
 1

	)

1584 
	#HAVE_VSNPRINTF
 1

	)

1587 
	#HAVE_WAITID
 1

	)

1590 
	#HAVE_WCHAR_H
 1

	)

1593 
	#HAVE_WCHAR_T
 1

	)

1596 
	#HAVE_WCRTOMB
 1

	)

1599 
	#HAVE_WCSLEN
 1

	)

1602 
	#HAVE_WCSNLEN
 1

	)

1605 
	#HAVE_WCTYPE_H
 1

	)

1608 
	#HAVE_WCWIDTH
 1

	)

1614 
	#HAVE_WINT_T
 1

	)

1617 
	#HAVE_WORKING_FNMATCH_H
 1

	)

1620 
	#HAVE_WORKING_O_NOATIME
 1

	)

1623 
	#HAVE_WORKING_O_NOFOLLOW
 1

	)

1626 
	#HAVE_WORKING_UTIMES
 1

	)

1632 
	#HAVE__BOOL
 1

	)

1638 
	#HAVE___FSETLOCKING
 1

	)

1641 
	#HAVE___XPG_STRERROR_R
 1

	)

1644 
	#ICONV_CONST


	)

1651 
	#LSTAT_FOLLOWS_SLASHED_SYMLINK
 1

	)

1675 
	#OS_TYPE
 "löux-gnu"

	)

1678 
	#PACKAGE
 "wgë"

	)

1681 
	#PACKAGE_BUGREPORT
 "bug-wgë@gnu.‹g"

	)

1684 
	#PACKAGE_NAME
 "wgë"

	)

1687 
	#PACKAGE_STRING
 "wgë 1.13"

	)

1690 
	#PACKAGE_TARNAME
 "wgë"

	)

1693 
	#PACKAGE_URL
 ""

	)

1696 
	#PACKAGE_VERSION
 "1.13"

	)

1700 
	#PROMOTED_MODE_T
 
mode_t


	)

1707 
	#PTRDIFF_T_SUFFIX
 
l


	)

1725 
	#SIG_ATOMIC_T_SUFFIX


	)

1728 
	#SIZEOF_INT
 4

	)

1731 
	#SIZEOF_LONG
 8

	)

1734 
	#SIZEOF_LONG_LONG
 8

	)

1737 
	#SIZEOF_OFF_T
 8

	)

1740 
	#SIZEOF_SHORT
 2

	)

1743 
	#SIZEOF_VOID_P
 8

	)

1747 #i‚de‡
SIZE_MAX


1753 
	#SIZE_T_SUFFIX
 
ul


	)

1767 
	#STDC_HEADERS
 1

	)

1770 
	#STRERROR_R_CHAR_P
 1

	)

1774 
	#TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC
 1

	)

1778 
	#USER_LABEL_PREFIX


	)

1781 
	#USE_POSIX_THREADS
 1

	)

1785 
	#USE_POSIX_THREADS_WEAK
 1

	)

1804 
	#USE_UNLOCKED_IO
 1

	)

1810 
	#VERSION
 "1.13"

	)

1814 
	#WCHAR_T_SUFFIX


	)

1821 
	#WINT_T_SUFFIX
 
u


	)

1825 #i‡
deföed
 
AC_APPLE_UNIVERSAL_BUILD


1826 #i‡
deföed
 
__BIG_ENDIAN__


1827 
	#WORDS_BIGENDIAN
 1

	)

1830 #i‚de‡
WORDS_BIGENDIAN


1837 
	#YYTEXT_POINTER
 1

	)

1840 #i‚de‡
_DARWIN_USE_64_BIT_INODE


1841 
	#_DARWIN_USE_64_BIT_INODE
 1

	)

1857 #i‚de‡
_N‹ëu∫


1858 #i‡(3 <
__GNUC__
 || (__GNUC__ =2 && 8 <
__GNUC_MINOR__
) \

1859 || 0x5110 <
__SUNPRO_C
)

1860 
	#_N‹ëu∫
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

	)

1861 #ñi‡1200 <
_MSC_VER


1862 
	#_N‹ëu∫
 
	`__de˛•ec
 (
n‹ëu∫
)

	)

1864 
	#_N‹ëu∫


	)

1884 #i‚de‡
_ALL_SOURCE


1885 
	#_ALL_SOURCE
 1

	)

1888 #i‚de‡
_DARWIN_C_SOURCE


1889 
	#_DARWIN_C_SOURCE
 1

	)

1892 #i‚de‡
_GNU_SOURCE


1893 
	#_GNU_SOURCE
 1

	)

1896 #i‚de‡
_POSIX_PTHREAD_SEMANTICS


1897 
	#_POSIX_PTHREAD_SEMANTICS
 1

	)

1900 #i‚de‡
_TANDEM_SOURCE


1901 
	#_TANDEM_SOURCE
 1

	)

1904 #i‚de‡
__EXTENSIONS__


1905 
	#__EXTENSIONS__
 1

	)

1911 
	#__GETOPT_PREFIX
 
Ωl_


	)

1917 
	#gë∑ss
 
gnu_gë∑ss


	)

1927 #i‚de‡
__˝lu•lus


1940 #i‡
deföed
 
__APPLE__
 && deföed 
__MACH__
 && 
__APPLE_CC__
 >5465 && !deföed 
__˝lu•lus
 && 
__STDC_VERSION__
 >199901L && !deföed 
__GNUC_STDC_INLINE__


1941 
	#__GNUC_STDC_INLINE__
 1

	)

1966 
	#ª°ri˘
 
__ª°ri˘


	)

1972 #i‡
deföed
 
__SUNPRO_CC
 && !deföed 
__RESTRICT


1973 
	#_Re°ri˘


	)

1974 
	#__ª°ri˘__


	)

1993 #i‡
__GNUC__
 >3 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 7)

1994 
	#_GL_UNUSED
 
	`__©åibuã__
 ((
__unu£d__
))

	)

1996 
	#_GL_UNUSED


	)

2000 
	#_UNUSED_PARAMETER_
 
_GL_UNUSED


	)

2003 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 96)

2004 
	#_GL_ATTRIBUTE_PURE
 
	`__©åibuã__
 ((
__puª__
))

	)

2006 
	#_GL_ATTRIBUTE_PURE


	)

2010 #i‡
__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 95)

2011 
	#_GL_ATTRIBUTE_CONST
 
	`__©åibuã__
 ((
__c⁄°__
))

	)

2013 
	#_GL_ATTRIBUTE_CONST


	)

	@src/connect.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<uni°d.h
>

37 
	~<as£π.h
>

39 
	~<sys/sockë.h
>

40 
	~<sys/£À˘.h
>

42 #i‚de‡
WINDOWS


43 #ifde‡
__VMS


44 
	~"vms_ù.h
"

46 
	~<√tdb.h
>

48 
	~<√töë/ö.h
>

49 #i‚de‡
__BEOS__


50 
	~<¨∑/öë.h
>

54 
	~<î∫o.h
>

55 
	~<°rög.h
>

56 #ifde‡
HAVE_SYS_TIME_H


57 
	~<sys/time.h
>

59 
	~"utûs.h
"

60 
	~"ho°.h
"

61 
	~"c⁄√˘.h
"

62 
	~"hash.h
"

65 #ifde‡
HAVE_STDINT_H


66 
	~<°döt.h
>

72 #i‚de‡
ENABLE_IPV6


73 #i‚de‡
HAVE_STRUCT_SOCKADDR_STORAGE


74 
	#sockaddr_°‹age
 
sockaddr_ö


	)

83 
	$sockaddr_£t_d©a
 (
sockaddr
 *
ß
, c⁄° 
ù_addªss
 *
ù
, 
p‹t
)

85 
ù
->
Ámûy
)

87 
AF_INET
:

89 
sockaddr_ö
 *
sö
 = (sockaddr_ö *)
ß
;

90 
	`xzîo
 (*
sö
);

91 
sö
->
sö_Ámûy
 = 
AF_INET
;

92 
sö
->
sö_p‹t
 = 
	`ht⁄s
 (
p‹t
);

93 
sö
->
sö_addr
 = 
ù
->
d©a
.
d4
;

96 #ifde‡
ENABLE_IPV6


97 
AF_INET6
:

99 
sockaddr_ö6
 *
sö6
 = (sockaddr_ö6 *)
ß
;

100 
	`xzîo
 (*
sö6
);

101 
sö6
->
sö6_Ámûy
 = 
AF_INET6
;

102 
sö6
->
sö6_p‹t
 = 
	`ht⁄s
 (
p‹t
);

103 
sö6
->
sö6_addr
 = 
ù
->
d©a
.
d6
;

104 #ifde‡
HAVE_SOCKADDR_IN6_SCOPE_ID


105 
sö6
->
sö6_sc›e_id
 = 
ù
->
ùv6_sc›e
;

111 
	`ab‹t
 ();

113 
	}
}

120 
	$sockaddr_gë_d©a
 (c⁄° 
sockaddr
 *
ß
, 
ù_addªss
 *
ù
, *
p‹t
)

122 
ß
->
ß_Ámûy
)

124 
AF_INET
:

126 
sockaddr_ö
 *
sö
 = (sockaddr_ö *)
ß
;

127 i‡(
ù
)

129 
ù
->
Ámûy
 = 
AF_INET
;

130 
ù
->
d©a
.
d4
 = 
sö
->
sö_addr
;

132 i‡(
p‹t
)

133 *
p‹t
 = 
	`¡ohs
 (
sö
->
sö_p‹t
);

136 #ifde‡
ENABLE_IPV6


137 
AF_INET6
:

139 
sockaddr_ö6
 *
sö6
 = (sockaddr_ö6 *)
ß
;

140 i‡(
ù
)

142 
ù
->
Ámûy
 = 
AF_INET6
;

143 
ù
->
d©a
.
d6
 = 
sö6
->
sö6_addr
;

144 #ifde‡
HAVE_SOCKADDR_IN6_SCOPE_ID


145 
ù
->
ùv6_sc›e
 = 
sö6
->
sö6_sc›e_id
;

148 i‡(
p‹t
)

149 *
p‹t
 = 
	`¡ohs
 (
sö6
->
sö6_p‹t
);

154 
	`ab‹t
 ();

156 
	}
}

161 
sockÀn_t


162 
	$sockaddr_size
 (c⁄° 
sockaddr
 *
ß
)

164 
ß
->
ß_Ámûy
)

166 
AF_INET
:

167   (
sockaddr_ö
);

168 #ifde‡
ENABLE_IPV6


169 
AF_INET6
:

170   (
sockaddr_ö6
);

173 
	`ab‹t
 ();

175 
	}
}

183 
boﬁ


184 
	$ªsﬁve_böd_addªss
 (
sockaddr
 *
ß
)

186 
addªss_li°
 *
Æ
;

190 
boﬁ
 
ˇŒed
, 
should_böd
;

191 
ù_addªss
 
ù
;

192 i‡(
ˇŒed
)

194 i‡(
should_böd
)

195 
	`sockaddr_£t_d©a
 (
ß
, &
ù
, 0);

196  
should_böd
;

198 
ˇŒed
 = 
åue
;

200 
Æ
 = 
	`lookup_ho°
 (
›t
.
böd_addªss
, 
LH_BIND
 | 
LH_SILENT
);

201 i‡(!
Æ
)

204 
	`log¥ötf
 (
LOG_NOTQUIET
,

205 
	`_
("%s: unableÅoÑesolve bindáddress %s; disabling bind.\n"),

206 
exec_«me
, 
	`quŸe
 (
›t
.
böd_addªss
));

207 
should_böd
 = 
Ál£
;

208  
Ál£
;

214 
ù
 = *
	`addªss_li°_addªss_©
 (
Æ
, 0);

215 
	`addªss_li°_ªÀa£
 (
Æ
);

217 
	`sockaddr_£t_d©a
 (
ß
, &
ù
, 0);

218 
should_böd
 = 
åue
;

219  
åue
;

220 
	}
}

222 
	scwt_c⁄ãxt
 {

223 
	mfd
;

224 c⁄° 
sockaddr
 *
	maddr
;

225 
sockÀn_t
 
	maddæí
;

226 
	mªsu…
;

230 
	$c⁄√˘_wôh_timeout_ˇŒback
 (*
¨g
)

232 
cwt_c⁄ãxt
 *
˘x
 = (cwt_c⁄ãxà*)
¨g
;

233 
˘x
->
ªsu…
 = 
	`c⁄√˘
 (˘x->
fd
, ctx->
addr
, ctx->
addæí
);

234 
	}
}

241 
	$c⁄√˘_wôh_timeout
 (
fd
, c⁄° 
sockaddr
 *
addr
, 
sockÀn_t
 
addæí
,

242 
timeout
)

244 
cwt_c⁄ãxt
 
˘x
;

245 
˘x
.
fd
 = fd;

246 
˘x
.
addr
 =áddr;

247 
˘x
.
addæí
 =áddrlen;

249 i‡(
	`run_wôh_timeout
 (
timeout
, 
c⁄√˘_wôh_timeout_ˇŒback
, &
˘x
))

251 
î∫o
 = 
ETIMEDOUT
;

254 i‡(
˘x
.
ªsu…
 =-1 && 
î∫o
 =
EINTR
)

255 
î∫o
 = 
ETIMEDOUT
;

256  
˘x
.
ªsu…
;

257 
	}
}

265 
	$c⁄√˘_to_ù
 (c⁄° 
ù_addªss
 *
ù
, 
p‹t
, c⁄° *
¥öt
)

267 
sockaddr_°‹age
 
ss
;

268 
sockaddr
 *
ß
 = (sockadd∏*)&
ss
;

269 
sock
;

273 i‡(
¥öt
)

275 c⁄° *
txt_addr
 = 
	`¥öt_addªss
 (
ù
);

276 i‡(0 !
	`°rcmp
 (
¥öt
, 
txt_addr
))

278 *
°r
 = 
NULL
, *
«me
;

280 i‡(
›t
.
íabÀ_úi
 && (
«me
 = 
	`idn_decode
 ((*Ë
¥öt
)Ë!
NULL
)

282 
Àn
 = 
	`°æí
 (
¥öt
Ë+ såÀ¿(
«me
) + 4;

283 
°r
 = 
	`xmÆloc
 (
Àn
);

284 
	`¢¥ötf
 (
°r
, 
Àn
, "%†(%s)", 
«me
, 
¥öt
);

285 
°r
[
Àn
-1] = '\0';

286 
	`x‰ì
 (
«me
);

289 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("ConnectingÅo %s|%s|:%d... "),

290 
°r
 ? så : 
	`es˙⁄¥öt_uri
 (
¥öt
), 
txt_addr
, 
p‹t
);

292 i‡(
°r
)

293 
	`x‰ì
 (
°r
);

296 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("C⁄√˘ögÅÿ%s:%d... "), 
txt_addr
, 
p‹t
);

300 
	`sockaddr_£t_d©a
 (
ß
, 
ù
, 
p‹t
);

303 
sock
 = 
	`sockë
 (
ß
->
ß_Ámûy
, 
SOCK_STREAM
, 0);

304 i‡(
sock
 < 0)

305 
îr
;

307 #i‡
	`deföed
(
ENABLE_IPV6
Ë&& deföed(
IPV6_V6ONLY
)

308 i‡(
›t
.
ùv6_⁄ly
) {

309 
⁄
 = 1;

311 
îr
 = 
	`£tsock›t
 (
sock
, 
IPPROTO_IPV6
, 
IPV6_V6ONLY
, &
⁄
,  (on));

312 
IF_DEBUG


313 i‡(
îr
 < 0)

314 
	`DEBUGP
 (("Faûed sëtög IPV6_V6ONLY: %s", 
	`°ªº‹
 (
î∫o
)));

322 i‡(
›t
.
limô_øã
 && opt.limit_rate < 8192)

324 
bufsize
 = 
›t
.
limô_øã
;

325 i‡(
bufsize
 < 512)

326 
bufsize
 = 512;

327 #ifde‡
SO_RCVBUF


328 
	`£tsock›t
 (
sock
, 
SOL_SOCKET
, 
SO_RCVBUF
,

329 (*)&
bufsize
, (
sockÀn_t
) (bufsize));

335 i‡(
›t
.
böd_addªss
)

339 
sockaddr_°‹age
 
böd_ss
;

340 
sockaddr
 *
böd_ß
 = (sockadd∏*)&
böd_ss
;

341 i‡(
	`ªsﬁve_böd_addªss
 (
böd_ß
))

343 i‡(
	`böd
 (
sock
, 
böd_ß
, 
	`sockaddr_size
 (bind_sa)) < 0)

344 
îr
;

349 i‡(
	`c⁄√˘_wôh_timeout
 (
sock
, 
ß
, 
	`sockaddr_size
 (sa),

350 
›t
.
c⁄√˘_timeout
) < 0)

351 
îr
;

354 
	`as£π
 (
sock
 >= 0);

355 i‡(
¥öt
)

356 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("connected.\n"));

357 
	`DEBUGP
 (("Cª©ed sockë %d.\n", 
sock
));

358  
sock
;

360 
îr
:

364 
ßve_î∫o
 = 
î∫o
;

365 i‡(
sock
 >= 0)

366 
	`fd_˛o£
 (
sock
);

367 i‡(
¥öt
)

368 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Áûed: %s.\n"), 
	`°ªº‹
 (
î∫o
));

369 
î∫o
 = 
ßve_î∫o
;

372 
	}
}

381 
	$c⁄√˘_to_ho°
 (c⁄° *
ho°
, 
p‹t
)

383 
i
, 
°¨t
, 
íd
;

384 
sock
;

386 
addªss_li°
 *
Æ
 = 
	`lookup_ho°
 (
ho°
, 0);

388 
ªåy
:

389 i‡(!
Æ
)

391 
	`log¥ötf
 (
LOG_NOTQUIET
,

392 
	`_
("%s: unableÅoÑesolve hostáddress %s\n"),

393 
exec_«me
, 
	`quŸe
 (
ho°
));

394  
E_HOST
;

397 
	`addªss_li°_gë_bounds
 (
Æ
, &
°¨t
, &
íd
);

398 
i
 = 
°¨t
; i < 
íd
; i++)

400 c⁄° 
ù_addªss
 *
ù
 = 
	`addªss_li°_addªss_©
 (
Æ
, 
i
);

401 
sock
 = 
	`c⁄√˘_to_ù
 (
ù
, 
p‹t
, 
ho°
);

402 i‡(
sock
 >= 0)

405 
	`addªss_li°_£t_c⁄√˘ed
 (
Æ
);

406 
	`addªss_li°_ªÀa£
 (
Æ
);

407  
sock
;

413 
	`addªss_li°_£t_Áu…y
 (
Æ
, 
i
);

418 i‡(
	`addªss_li°_c⁄√˘ed_p
 (
Æ
))

422 
	`addªss_li°_ªÀa£
 (
Æ
);

423 
Æ
 = 
	`lookup_ho°
 (
ho°
, 
LH_REFRESH
);

424 
ªåy
;

426 
	`addªss_li°_ªÀa£
 (
Æ
);

429 
	}
}

445 
	$böd_loˇl
 (c⁄° 
ù_addªss
 *
böd_addªss
, *
p‹t
)

447 
sock
;

448 
sockaddr_°‹age
 
ss
;

449 
sockaddr
 *
ß
 = (sockadd∏*)&
ss
;

452 
£t›t_vÆ
 = 1;

453 *
£t›t_±r
 = (*)&
£t›t_vÆ
;

454 
sockÀn_t
 
£t›t_size
 =  (
£t›t_vÆ
);

456 
sock
 = 
	`sockë
 (
böd_addªss
->
Ámûy
, 
SOCK_STREAM
, 0);

457 i‡(
sock
 < 0)

460 #ifde‡
SO_REUSEADDR


461 
	`£tsock›t
 (
sock
, 
SOL_SOCKET
, 
SO_REUSEADDR
, 
£t›t_±r
, 
£t›t_size
);

464 
	`xzîo
 (
ss
);

465 
	`sockaddr_£t_d©a
 (
ß
, 
böd_addªss
, *
p‹t
);

466 i‡(
	`böd
 (
sock
, 
ß
, 
	`sockaddr_size
 (sa)) < 0)

468 
	`fd_˛o£
 (
sock
);

471 
	`DEBUGP
 (("Loˇ»sockë fd %d bound.\n", 
sock
));

474 i‡(*
p‹t
 == 0)

476 
sockÀn_t
 
addæí
 = 
	`sockaddr_size
 (
ß
);

477 i‡(
	`gësock«me
 (
sock
, 
ß
, &
addæí
) < 0)

483 
	`fd_˛o£
 (
sock
);

486 
	`sockaddr_gë_d©a
 (
ß
, 
NULL
, 
p‹t
);

487 
	`DEBUGP
 (("bindingÅoáddress %s usingÖort %i.\n",

488 
	`¥öt_addªss
 (
böd_addªss
), *
p‹t
));

490 i‡(
	`li°í
 (
sock
, 1) < 0)

492 
	`fd_˛o£
 (
sock
);

495  
sock
;

496 
	}
}

509 
	$ac˚±_c⁄√˘i⁄
 (
loˇl_sock
)

511 
sock
;

515 
sockaddr_°‹age
 
ss
;

516 
sockaddr
 *
ß
 = (sockadd∏*)&
ss
;

517 
sockÀn_t
 
addæí
 =  (
ss
);

519 i‡(
›t
.
c⁄√˘_timeout
)

521 
ã°
 = 
	`£À˘_fd
 (
loˇl_sock
, 
›t
.
c⁄√˘_timeout
, 
WAIT_FOR_READ
);

522 i‡(
ã°
 == 0)

523 
î∫o
 = 
ETIMEDOUT
;

524 i‡(
ã°
 <= 0)

527 
sock
 = 
	`ac˚±
 (
loˇl_sock
, 
ß
, &
addæí
);

528 
	`DEBUGP
 (("Ac˚±ed clõ¡áàsockë %d.\n", 
sock
));

529  
sock
;

530 
	}
}

539 
boﬁ


540 
	$sockë_ù_addªss
 (
sock
, 
ù_addªss
 *
ù
, 
ídpoöt
)

542 
sockaddr_°‹age
 
°‹age
;

543 
sockaddr
 *sockadd∏(sockadd∏*Ë&
°‹age
;

544 
sockÀn_t
 
addæí
 =  (
°‹age
);

545 
ªt
;

547 
	`mem£t
 (
sockaddr
, 0, 
addæí
);

548 i‡(
ídpoöt
 =
ENDPOINT_LOCAL
)

549 
ªt
 = 
	`gësock«me
 (
sock
, 
sockaddr
, &
addæí
);

550 i‡(
ídpoöt
 =
ENDPOINT_PEER
)

551 
ªt
 = 
	`gë≥î«me
 (
sock
, 
sockaddr
, &
addæí
);

553 
	`ab‹t
 ();

554 i‡(
ªt
 < 0)

555  
Ál£
;

557 
ù
->
Ámûy
 = 
sockaddr
->
ß_Ámûy
;

558 
sockaddr
->
ß_Ámûy
)

560 #ifde‡
ENABLE_IPV6


561 
AF_INET6
:

563 
sockaddr_ö6
 *
ß6
 = (sockaddr_ö6 *)&
°‹age
;

564 
ù
->
d©a
.
d6
 = 
ß6
->
sö6_addr
;

565 #ifde‡
HAVE_SOCKADDR_IN6_SCOPE_ID


566 
ù
->
ùv6_sc›e
 = 
ß6
->
sö6_sc›e_id
;

568 
	`DEBUGP
 (("c⁄add∏is: %s\n", 
	`¥öt_addªss
 (
ù
)));

569  
åue
;

572 
AF_INET
:

574 
sockaddr_ö
 *
ß
 = (sockaddr_ö *)&
°‹age
;

575 
ù
->
d©a
.
d4
 = 
ß
->
sö_addr
;

576 
	`DEBUGP
 (("c⁄add∏is: %s\n", 
	`¥öt_addªss
 (
ù
)));

577  
åue
;

580 
	`ab‹t
 ();

582 
	}
}

589 
boﬁ


590 
	$ªåyabÀ_sockë_c⁄√˘_îr‹
 (
îr
)

595 i‡(
Ál£


596 #ifde‡
EAFNOSUPPORT


597 || 
îr
 =
EAFNOSUPPORT


599 #ifde‡
EPFNOSUPPORT


600 || 
îr
 =
EPFNOSUPPORT


602 #ifde‡
ESOCKTNOSUPPORT


603 || 
îr
 =
ESOCKTNOSUPPORT


605 #ifde‡
EPROTONOSUPPORT


606 || 
îr
 =
EPROTONOSUPPORT


608 #ifde‡
ENOPROTOOPT


609 || 
îr
 =
ENOPROTOOPT


613 || 
îr
 =
EINVAL


615  
Ál£
;

617 i‡(!
›t
.
ªåy_c⁄ƒefu£d
)

618 i‡(
îr
 =
ECONNREFUSED


619 #ifde‡
ENETUNREACH


620 || 
îr
 =
ENETUNREACH


622 #ifde‡
EHOSTUNREACH


623 || 
îr
 =
EHOSTUNREACH


626  
Ál£
;

628  
åue
;

629 
	}
}

641 
	$£À˘_fd
 (
fd
, 
maxtime
, 
waô_f‹
)

643 
fd_£t
 
fd£t
;

644 
fd_£t
 *
rd
 = 
NULL
, *
wr
 = NULL;

645 
timevÆ
 
tmout
;

646 
ªsu…
;

648 
	`FD_ZERO
 (&
fd£t
);

649 
	`FD_SET
 (
fd
, &
fd£t
);

650 i‡(
waô_f‹
 & 
WAIT_FOR_READ
)

651 
rd
 = &
fd£t
;

652 i‡(
waô_f‹
 & 
WAIT_FOR_WRITE
)

653 
wr
 = &
fd£t
;

655 
tmout
.
tv_£c
 = (Ë
maxtime
;

656 
tmout
.
tv_u£c
 = 1000000 * (
maxtime
 - () maxtime);

660 
ªsu…
 = 
	`£À˘
 (
fd
 + 1, 
rd
, 
wr
, 
NULL
, &
tmout
);

661 #ifde‡
WINDOWS


664 
	`£t_wödows_fd_as_blockög_sockë
 (
fd
);

667 
ªsu…
 < 0 && 
î∫o
 =
EINTR
);

669  
ªsu…
;

670 
	}
}

683 
boﬁ


684 
	$ã°_sockë_›í
 (
sock
)

686 
fd_£t
 
check_£t
;

687 
timevÆ
 
to
;

688 
ªt
 = 0;

693 
	`FD_ZERO
 (&
check_£t
);

694 
	`FD_SET
 (
sock
, &
check_£t
);

697 
to
.
tv_£c
 = 0;

698 
to
.
tv_u£c
 = 1;

700 
ªt
 = 
	`£À˘
 (
sock
 + 1, &
check_£t
, 
NULL
, NULL, &
to
);

701 #ifde‡
WINDOWS


705 
	`£t_wödows_fd_as_blockög_sockë
 ( 
sock
 );

708 i‡–!
ªt
 )

710  
åue
;

714  
Ál£
;

715 
	}
}

720 
	$sock_ªad
 (
fd
, *
buf
, 
bufsize
)

722 
ªs
;

724 
ªs
 = 
	`ªad
 (
fd
, 
buf
, 
bufsize
);

725 
ªs
 =-1 && 
î∫o
 =
EINTR
);

726  
ªs
;

727 
	}
}

730 
	$sock_wrôe
 (
fd
, *
buf
, 
bufsize
)

732 
ªs
;

734 
ªs
 = 
	`wrôe
 (
fd
, 
buf
, 
bufsize
);

735 
ªs
 =-1 && 
î∫o
 =
EINTR
);

736  
ªs
;

737 
	}
}

740 
	$sock_pﬁl
 (
fd
, 
timeout
, 
waô_f‹
)

742  
	`£À˘_fd
 (
fd
, 
timeout
, 
waô_f‹
);

743 
	}
}

746 
	$sock_≥ek
 (
fd
, *
buf
, 
bufsize
)

748 
ªs
;

750 
ªs
 = 
	`ªcv
 (
fd
, 
buf
, 
bufsize
, 
MSG_PEEK
);

751 
ªs
 =-1 && 
î∫o
 =
EINTR
);

752  
ªs
;

753 
	}
}

756 
	$sock_˛o£
 (
fd
)

758 
	`˛o£
 (
fd
);

759 
	`DEBUGP
 (("Clo£d fd %d\n", 
fd
));

760 
	}
}

761 #unde‡
ªad


762 #unde‡
wrôe


763 #unde‡
˛o£


773 
hash_èbÀ
 *
	gå™•‹t_m≠
;

774 
	gå™•‹t_m≠_modifõd_tick
;

776 
	så™•‹t_öfo
 {

777 
å™•‹t_im∂emíèti⁄
 *
	mimp
;

778 *
	m˘x
;

789 
	$fd_ªgi°î_å™•‹t
 (
fd
, 
å™•‹t_im∂emíèti⁄
 *
imp
, *
˘x
)

791 
å™•‹t_öfo
 *
öfo
;

796 
	`as£π
 (
fd
 >= 0);

798 
öfo
 = 
	`x√w
 (
å™•‹t_öfo
);

799 
öfo
->
imp
 = imp;

800 
öfo
->
˘x
 = ctx;

801 i‡(!
å™•‹t_m≠
)

802 
å™•‹t_m≠
 = 
	`hash_èbÀ_√w
 (0, 
NULL
, NULL);

803 
	`hash_èbÀ_put
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
, 
öfo
);

804 ++
å™•‹t_m≠_modifõd_tick
;

805 
	}
}

812 
	$fd_å™•‹t_c⁄ãxt
 (
fd
)

814 
å™•‹t_öfo
 *
öfo
 = 
	`hash_èbÀ_gë
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
);

815  
öfo
->
˘x
;

816 
	}
}

827 
	#LAZY_RETRIEVE_INFO
(
öfo
) do { \

828 
å™•‹t_öfo
 *
œ°_öfo
; \

829 
œ°_fd
 = -1; \

830 
œ°_tick
; \

831 i‡(!
å™•‹t_m≠
) \

832 
öfo
 = 
NULL
; \

833 i‡(
œ°_fd
 =
fd
 && 
œ°_tick
 =
å™•‹t_m≠_modifõd_tick
) \

834 
öfo
 = 
œ°_öfo
; \

837 
öfo
 = 
	`hash_èbÀ_gë
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
); \

838 
œ°_fd
 = 
fd
; \

839 
œ°_öfo
 = 
öfo
; \

840 
œ°_tick
 = 
å™•‹t_m≠_modifõd_tick
; \

842 } 0)

	)

844 
boﬁ


845 
	$pﬁl_öã∫Æ
 (
fd
, 
å™•‹t_öfo
 *
öfo
, 
wf
, 
timeout
)

847 i‡(
timeout
 == -1)

848 
timeout
 = 
›t
.
ªad_timeout
;

849 i‡(
timeout
)

851 
ã°
;

852 i‡(
öfo
 && info->
imp
->
pﬁÀr
)

853 
ã°
 = 
öfo
->
imp
->
	`pﬁÀr
 (
fd
, 
timeout
, 
wf
, info->
˘x
);

855 
ã°
 = 
	`sock_pﬁl
 (
fd
, 
timeout
, 
wf
);

856 i‡(
ã°
 == 0)

857 
î∫o
 = 
ETIMEDOUT
;

858 i‡(
ã°
 <= 0)

859  
Ál£
;

861  
åue
;

862 
	}
}

870 
	$fd_ªad
 (
fd
, *
buf
, 
bufsize
, 
timeout
)

872 
å™•‹t_öfo
 *
öfo
;

873 
	`LAZY_RETRIEVE_INFO
 (
öfo
);

874 i‡(!
	`pﬁl_öã∫Æ
 (
fd
, 
öfo
, 
WAIT_FOR_READ
, 
timeout
))

876 i‡(
öfo
 && info->
imp
->
ªadî
)

877  
öfo
->
imp
->
	`ªadî
 (
fd
, 
buf
, 
bufsize
, info->
˘x
);

879  
	`sock_ªad
 (
fd
, 
buf
, 
bufsize
);

880 
	}
}

895 
	$fd_≥ek
 (
fd
, *
buf
, 
bufsize
, 
timeout
)

897 
å™•‹t_öfo
 *
öfo
;

898 
	`LAZY_RETRIEVE_INFO
 (
öfo
);

899 i‡(!
	`pﬁl_öã∫Æ
 (
fd
, 
öfo
, 
WAIT_FOR_READ
, 
timeout
))

901 i‡(
öfo
 && info->
imp
->
≥ekî
)

902  
öfo
->
imp
->
	`≥ekî
 (
fd
, 
buf
, 
bufsize
, info->
˘x
);

904  
	`sock_≥ek
 (
fd
, 
buf
, 
bufsize
);

905 
	}
}

913 
	$fd_wrôe
 (
fd
, *
buf
, 
bufsize
, 
timeout
)

915 
ªs
;

916 
å™•‹t_öfo
 *
öfo
;

917 
	`LAZY_RETRIEVE_INFO
 (
öfo
);

921 
ªs
 = 0;

922 
bufsize
 > 0)

924 i‡(!
	`pﬁl_öã∫Æ
 (
fd
, 
öfo
, 
WAIT_FOR_WRITE
, 
timeout
))

926 i‡(
öfo
 && info->
imp
->
wrôî
)

927 
ªs
 = 
öfo
->
imp
->
	`wrôî
 (
fd
, 
buf
, 
bufsize
, info->
˘x
);

929 
ªs
 = 
	`sock_wrôe
 (
fd
, 
buf
, 
bufsize
);

930 i‡(
ªs
 <= 0)

932 
buf
 +
ªs
;

933 
bufsize
 -
ªs
;

935  
ªs
;

936 
	}
}

949 
	$fd_îr°r
 (
fd
)

953 
å™•‹t_öfo
 *
öfo
 = 
NULL
;

954 i‡(
å™•‹t_m≠
)

955 
öfo
 = 
	`hash_èbÀ_gë
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
);

957 i‡(
öfo
 && info->
imp
->
îr°r
)

959 c⁄° *
îr
 = 
öfo
->
imp
->
	`îr°r
 (
fd
, info->
˘x
);

960 i‡(
îr
)

961  
îr
;

964  
	`°ªº‹
 (
î∫o
);

965 
	}
}

970 
	$fd_˛o£
 (
fd
)

972 
å™•‹t_öfo
 *
öfo
;

973 i‡(
fd
 < 0)

978 
öfo
 = 
NULL
;

979 i‡(
å™•‹t_m≠
)

980 
öfo
 = 
	`hash_èbÀ_gë
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
);

982 i‡(
öfo
 && info->
imp
->
˛o£r
)

983 
öfo
->
imp
->
	`˛o£r
 (
fd
, info->
˘x
);

985 
	`sock_˛o£
 (
fd
);

987 i‡(
öfo
)

989 
	`hash_èbÀ_ªmove
 (
å™•‹t_m≠
, (*)(
öçå_t
Ë
fd
);

990 
	`x‰ì
 (
öfo
);

991 ++
å™•‹t_m≠_modifõd_tick
;

993 
	}
}

	@src/connect.h

32 #i‚de‡
CONNECT_H


33 
	#CONNECT_H


	)

35 
	~"ho°.h
"

41 
	mE_HOST
 = -100

43 
c⁄√˘_to_ho°
 (const *, );

44 
c⁄√˘_to_ù
 (c⁄° 
ù_addªss
 *, , const *);

46 
böd_loˇl
 (c⁄° 
ù_addªss
 *, *);

47 
ac˚±_c⁄√˘i⁄
 ();

50 
	mENDPOINT_LOCAL
,

51 
	mENDPOINT_PEER


53 
boﬁ
 
sockë_ù_addªss
 (, 
ù_addªss
 *, );

55 
boﬁ
 
ªåyabÀ_sockë_c⁄√˘_îr‹
 ();

59 
	mWAIT_FOR_READ
 = 1,

60 
	mWAIT_FOR_WRITE
 = 2

62 
£À˘_fd
 (, , );

63 
boﬁ
 
ã°_sockë_›í
 ();

65 
	så™•‹t_im∂emíèti⁄
 {

66 (*
	mªadî
) (, *, , *);

67 (*
	mwrôî
) (, *, , *);

68 (*
	mpﬁÀr
) (, , , *);

69 (*
	m≥ekî
) (, *, , *);

70 c⁄° *(*
	mîr°r
) (, *);

71 (*
	m˛o£r
) (, *);

74 
fd_ªgi°î_å™•‹t
 (, 
å™•‹t_im∂emíèti⁄
 *, *);

75 *
fd_å™•‹t_c⁄ãxt
 ();

76 
fd_ªad
 (, *, , );

77 
fd_wrôe
 (, *, , );

78 
fd_≥ek
 (, *, , );

79 c⁄° *
fd_îr°r
 ();

80 
fd_˛o£
 ();

	@src/convert.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

36 
	~<uni°d.h
>

37 
	~<î∫o.h
>

38 
	~<as£π.h
>

39 
	~"c⁄vît.h
"

40 
	~"uæ.h
"

41 
	~"ªcur.h
"

42 
	~"utûs.h
"

43 
	~"hash.h
"

44 
	~"±imî.h
"

45 
	~"ªs.h
"

46 
	~"html-uæ.h
"

47 
	~"css-uæ.h
"

48 
	~"úi.h
"

50 
hash_èbÀ
 *
	gdl_fûe_uæ_m≠
;

51 
hash_èbÀ
 *
	gdl_uæ_fûe_m≠
;

55 
hash_èbÀ
 *
	gdow∆ﬂded_html_£t
;

56 
hash_èbÀ
 *
	gdow∆ﬂded_css_£t
;

58 
c⁄vît_löks
 (c⁄° *, 
uæpos
 *);

62 
	$c⁄vît_löks_ö_hashèbÀ
 (
hash_èbÀ
 *
dow∆ﬂded_£t
,

63 
is_css
,

64 *
fûe_cou¡
)

66 
i
;

68 
˙t
;

69 **
fûe_¨øy
;

71 
˙t
 = 0;

72 i‡(
dow∆ﬂded_£t
)

73 
˙t
 = 
	`hash_èbÀ_cou¡
 (
dow∆ﬂded_£t
);

74 i‡(
˙t
 == 0)

76 
fûe_¨øy
 = 
	`Æloˇ_¨øy
 (*, 
˙t
);

77 
	`°rög_£t_to_¨øy
 (
dow∆ﬂded_£t
, 
fûe_¨øy
);

79 
i
 = 0; i < 
˙t
; i++)

81 
uæpos
 *
uæs
, *
cur_uæ
;

82 *
uæ
;

83 *
fûe
 = 
fûe_¨øy
[
i
];

87 
uæ
 = 
	`hash_èbÀ_gë
 (
dl_fûe_uæ_m≠
, 
fûe
);

88 i‡(!
uæ
)

90 
	`DEBUGP
 (("Aµ¨íéy %†ha†bì¿ªmoved.\n", 
fûe
));

94 
	`DEBUGP
 (("Sˇ¬ög %†(‰om %s)\n", 
fûe
, 
uæ
));

97 
uæs
 = 
is_css
 ? 
	`gë_uæs_css_fûe
 (
fûe
, 
uæ
) :

98 
	`gë_uæs_html
 (
fûe
, 
uæ
, 
NULL
, NULL);

104 
cur_uæ
 = 
uæs
; cur_uæ; cur_uæ = cur_uæ->
√xt
)

106 *
loˇl_«me
;

107 
uæ
 *
u
;

108 
úi
 *
pi
;

110 i‡(
cur_uæ
->
lök_ba£_p
)

115 
cur_uæ
->
c⁄vît
 = 
CO_NULLIFY_BASE
;

123 
pi
 = 
	`úi_√w
 ();

124 
	`£t_uri_ícodög
 (
pi
, 
›t
.
loˇÀ
, 
åue
);

126 
u
 = 
	`uæ_∑r£
 (
cur_uæ
->
uæ
->uæ, 
NULL
, 
pi
, 
åue
);

127 
loˇl_«me
 = 
	`hash_èbÀ_gë
 (
dl_uæ_fûe_m≠
, 
u
->
uæ
);

130 i‡(
loˇl_«me
)

137 
cur_uæ
->
c⁄vît
 = 
CO_CONVERT_TO_RELATIVE
;

138 
cur_uæ
->
loˇl_«me
 = 
	`x°rdup
 (local_name);

139 
	`DEBUGP
 (("wû»c⁄vîàuæ %†tÿloˇ»%s\n", 
u
->
uæ
, 
loˇl_«me
));

147 i‡(!
cur_uæ
->
lök_com∂ëe_p
)

148 
cur_uæ
->
c⁄vît
 = 
CO_CONVERT_TO_COMPLETE
;

149 
cur_uæ
->
loˇl_«me
 = 
NULL
;

150 
	`DEBUGP
 (("wû»c⁄vîàuæ %†tÿcom∂ëe\n", 
u
->
uæ
));

153 
	`uæ_‰ì
 (
u
);

154 
	`úi_‰ì
 (
pi
);

158 
	`c⁄vît_löks
 (
fûe
, 
uæs
);

159 ++*
fûe_cou¡
;

162 
	`‰ì_uæpos
 (
uæs
);

164 
	}
}

182 
	$c⁄vît_Æl_löks
 ()

184 
£cs
;

185 
fûe_cou¡
 = 0;

187 
±imî
 *
timî
 = 
	`±imî_√w
 ();

189 
	`c⁄vît_löks_ö_hashèbÀ
 (
dow∆ﬂded_html_£t
, 0, &
fûe_cou¡
);

190 
	`c⁄vît_löks_ö_hashèbÀ
 (
dow∆ﬂded_css_£t
, 1, &
fûe_cou¡
);

192 
£cs
 = 
	`±imî_mósuª
 (
timî
);

193 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Converted %d files in %s seconds.\n"),

194 
fûe_cou¡
, 
	`¥öt_decimÆ
 (
£cs
));

196 
	`±imî_de°roy
 (
timî
);

197 
	}
}

199 
wrôe_backup_fûe
 (c⁄° *, 
dow∆ﬂded_fûe_t
);

200 c⁄° *
ª∂a˚_∂aö
 (c⁄° *, , 
FILE
*, const *);

201 c⁄° *
ª∂a˚_©å
 (c⁄° *, , 
FILE
 *, const *);

202 c⁄° *
ª∂a˚_©å_ª‰esh_hack
 (c⁄° *, , 
FILE
 *,

204 *
loˇl_quŸe_°rög
 (c⁄° *, 
boﬁ
);

205 *
c⁄°ru˘_ªœtive
 (const *, const *);

211 
	$c⁄vît_löks
 (c⁄° *
fûe
, 
uæpos
 *
löks
)

213 
fûe_mem‹y
 *
fm
;

214 
FILE
 *
Â
;

215 c⁄° *
p
;

216 
dow∆ﬂded_fûe_t
 
dow∆ﬂded_fûe_ªtu∫
;

218 
uæpos
 *
lök
;

219 
to_uæ_cou¡
 = 0, 
to_fûe_cou¡
 = 0;

221 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("C⁄vîtög %s... "), 
fûe
);

227 
dry_cou¡
 = 0;

228 
uæpos
 *
dry
;

229 
dry
 = 
löks
; dry; dry = dry->
√xt
)

230 i‡(
dry
->
c⁄vît
 !
CO_NOCONVERT
)

231 ++
dry_cou¡
;

232 i‡(!
dry_cou¡
)

234 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("nothingÅo do.\n"));

239 
fm
 = 
	`wgë_ªad_fûe
 (
fûe
);

240 i‡(!
fm
)

242 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot convertÜinks in %s: %s\n"),

243 
fûe
, 
	`°ªº‹
 (
î∫o
));

247 
dow∆ﬂded_fûe_ªtu∫
 = 
	`dow∆ﬂded_fûe
 (
CHECK_FOR_FILE
, 
fûe
);

248 i‡(
›t
.
backup_c⁄vîãd
 && 
dow∆ﬂded_fûe_ªtu∫
)

249 
	`wrôe_backup_fûe
 (
fûe
, 
dow∆ﬂded_fûe_ªtu∫
);

255 i‡(
	`u∆ök
 (
fûe
Ë< 0 && 
î∫o
 !
ENOENT
)

257 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("UnableÅo delete %s: %s\n"),

258 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

259 
	`wgë_ªad_fûe_‰ì
 (
fm
);

263 
Â
 = 
	`f›í
 (
fûe
, "wb");

264 i‡(!
Â
)

266 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot convertÜinks in %s: %s\n"),

267 
fûe
, 
	`°ªº‹
 (
î∫o
));

268 
	`wgë_ªad_fûe_‰ì
 (
fm
);

274 
p
 = 
fm
->
c⁄ã¡
;

275 
lök
 = 
löks
;Üök;Üök =Üök->
√xt
)

277 *
uæ_°¨t
 = 
fm
->
c⁄ã¡
 + 
lök
->
pos
;

279 i‡(
lök
->
pos
 >
fm
->
Àngth
)

281 
	`DEBUGP
 (("Something strange is going on. Please investigate."));

285 i‡(
lök
->
c⁄vît
 =
CO_NOCONVERT
)

287 
	`DEBUGP
 (("Skùpög %†©Öosôi⁄ %d.\n", 
lök
->
uæ
->uæ,Üök->
pos
));

293 
	`fwrôe
 (
p
, 1, 
uæ_°¨t
 -Ö, 
Â
);

294 
p
 = 
uæ_°¨t
;

296 
lök
->
c⁄vît
)

298 
CO_CONVERT_TO_RELATIVE
:

301 *
√w«me
 = 
	`c⁄°ru˘_ªœtive
 (
fûe
, 
lök
->
loˇl_«me
);

302 *
quŸed_√w«me
 = 
	`loˇl_quŸe_°rög
 (
√w«me
,

303 
lök
->
lök_css_p
);

305 i‡(
lök
->
lök_css_p
)

306 
p
 = 
	`ª∂a˚_∂aö
 (p, 
lök
->
size
, 
Â
, 
quŸed_√w«me
);

307 i‡(!
lök
->
lök_ª‰esh_p
)

308 
p
 = 
	`ª∂a˚_©å
 (p, 
lök
->
size
, 
Â
, 
quŸed_√w«me
);

310 
p
 = 
	`ª∂a˚_©å_ª‰esh_hack
 (p, 
lök
->
size
, 
Â
, 
quŸed_√w«me
,

311 
lök
->
ª‰esh_timeout
);

313 
	`DEBUGP
 (("TO_RELATIVE: %sÅo %sátÖosition %d in %s.\n",

314 
lök
->
uæ
->uæ, 
√w«me
,Üök->
pos
, 
fûe
));

315 
	`x‰ì
 (
√w«me
);

316 
	`x‰ì
 (
quŸed_√w«me
);

317 ++
to_fûe_cou¡
;

320 
CO_CONVERT_TO_COMPLETE
:

323 *
√wlök
 = 
lök
->
uæ
->url;

324 *
quŸed_√wlök
 = 
	`html_quŸe_°rög
 (
√wlök
);

326 i‡(
lök
->
lök_css_p
)

327 
p
 = 
	`ª∂a˚_∂aö
 (p, 
lök
->
size
, 
Â
, 
√wlök
);

328 i‡(!
lök
->
lök_ª‰esh_p
)

329 
p
 = 
	`ª∂a˚_©å
 (p, 
lök
->
size
, 
Â
, 
quŸed_√wlök
);

331 
p
 = 
	`ª∂a˚_©å_ª‰esh_hack
 (p, 
lök
->
size
, 
Â
, 
quŸed_√wlök
,

332 
lök
->
ª‰esh_timeout
);

334 
	`DEBUGP
 (("TO_COMPLETE: <something>Åo %sátÖosition %d in %s.\n",

335 
√wlök
, 
lök
->
pos
, 
fûe
));

336 
	`x‰ì
 (
quŸed_√wlök
);

337 ++
to_uæ_cou¡
;

340 
CO_NULLIFY_BASE
:

342 
p
 = 
	`ª∂a˚_©å
 (p, 
lök
->
size
, 
Â
, "");

344 
CO_NOCONVERT
:

345 
	`ab‹t
 ();

351 i‡(
p
 - 
fm
->
c⁄ã¡
 < fm->
Àngth
)

352 
	`fwrôe
 (
p
, 1, 
fm
->
Àngth
 - (∞- fm->
c⁄ã¡
), 
Â
);

353 
	`f˛o£
 (
Â
);

354 
	`wgë_ªad_fûe_‰ì
 (
fm
);

356 
	`log¥ötf
 (
LOG_VERBOSE
, "%d-%d\n", 
to_fûe_cou¡
, 
to_uæ_cou¡
);

357 
	}
}

377 
	$c⁄°ru˘_ªœtive
 (c⁄° *
ba£fûe
, c⁄° *
lökfûe
)

379 *
lök
;

380 
ba£dús
;

381 c⁄° *
b
, *
l
;

382 
i
, 
°¨t
;

386 
°¨t
 = 0;

387 
b
 = 
ba£fûe
, 
l
 = 
lökfûe
; *b == *l && *b != '\0'; ++b, ++l)

389 i‡(*
b
 == '/')

390 
°¨t
 = (
b
 - 
ba£fûe
) + 1;

392 
ba£fûe
 +
°¨t
;

393 
lökfûe
 +
°¨t
;

407 
ba£dús
 = 0;

408 
b
 = 
ba£fûe
; *b; b++)

410 i‡(*
b
 == '/')

411 ++
ba£dús
;

415 
lök
 = 
	`xmÆloc
 (3 * 
ba£dús
 + 
	`°æí
 (
lökfûe
) + 1);

416 
i
 = 0; i < 
ba£dús
; i++)

417 
	`mem˝y
 (
lök
 + 3 * 
i
, "../", 3);

418 
	`°r˝y
 (
lök
 + 3 * 
i
, 
lökfûe
);

419  
lök
;

420 
	}
}

424 
hash_èbÀ
 *
	gc⁄vîãd_fûes
;

427 
	$wrôe_backup_fûe
 (c⁄° *
fûe
, 
dow∆ﬂded_fûe_t
 
dow∆ﬂded_fûe_ªtu∫
)

436 
size_t
 
fûíame_Àn
 = 
	`°æí
 (
fûe
);

437 * 
fûíame_∂us_‹ig_suffix
;

440 i‡(
dow∆ﬂded_fûe_ªtu∫
 =
FILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
)

449 
fûíame_∂us_‹ig_suffix
 = 
	`Æloˇ
 (
fûíame_Àn
 + 1);

450 
	`°r˝y
 (
fûíame_∂us_‹ig_suffix
, 
fûe
);

451 
	`°r˝y
 ((
fûíame_∂us_‹ig_suffix
 + 
fûíame_Àn
) - 4, "orig");

456 
fûíame_∂us_‹ig_suffix
 = 
	`Æloˇ
 (
fûíame_Àn
 +  (
ORIG_SFX
));

457 
	`°r˝y
 (
fûíame_∂us_‹ig_suffix
, 
fûe
);

458 
	`°r˝y
 (
fûíame_∂us_‹ig_suffix
 + 
fûíame_Àn
, 
ORIG_SFX
);

461 i‡(!
c⁄vîãd_fûes
)

462 
c⁄vîãd_fûes
 = 
	`make_°rög_hash_èbÀ
 (0);

469 i‡(!
	`°rög_£t_c⁄èös
 (
c⁄vîãd_fûes
, 
fûe
))

472 i‡(
	`ª«me
 (
fûe
, 
fûíame_∂us_‹ig_suffix
) != 0)

473 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot back up %sás %s: %s\n"),

474 
fûe
, 
fûíame_∂us_‹ig_suffix
, 
	`°ªº‹
 (
î∫o
));

493 
	`°rög_£t_add
 (
c⁄vîãd_fûes
, 
fûe
);

495 
	}
}

497 
boﬁ
 
föd_‰agmít
 (const *, , const **, const **);

501 
	$ª∂a˚_∂aö
 (c⁄° *
p
, 
size
, 
FILE
 *
Â
, c⁄° *
√w_ãxt
)

503 
	`Âuts
 (
√w_ãxt
, 
Â
);

504 
p
 +
size
;

505  
p
;

506 
	}
}

511 
	$ª∂a˚_©å
 (c⁄° *
p
, 
size
, 
FILE
 *
Â
, c⁄° *
√w_ãxt
)

513 
boﬁ
 
quŸe_Êag
 = 
Ál£
;

514 
quŸe_ch¨
 = '\"';

517 c⁄° *
‰ag_beg
, *
‰ag_íd
;

526 i‡(*
p
 == '\"' || *p == '\'')

528 
quŸe_ch¨
 = *
p
;

529 
quŸe_Êag
 = 
åue
;

530 ++
p
;

531 
size
 -= 2;

533 
	`putc
 (
quŸe_ch¨
, 
Â
);

534 
	`Âuts
 (
√w_ãxt
, 
Â
);

537 i‡(
	`föd_‰agmít
 (
p
, 
size
, &
‰ag_beg
, &
‰ag_íd
))

538 
	`fwrôe
 (
‰ag_beg
, 1, 
‰ag_íd
 - føg_beg, 
Â
);

539 
p
 +
size
;

540 i‡(
quŸe_Êag
)

541 ++
p
;

542 
	`putc
 (
quŸe_ch¨
, 
Â
);

544  
p
;

545 
	}
}

552 
	$ª∂a˚_©å_ª‰esh_hack
 (c⁄° *
p
, 
size
, 
FILE
 *
Â
,

553 c⁄° *
√w_ãxt
, 
timeout
)

556 *
√w_wôh_timeout
 = (*)
	`Æloˇ
 (
	`numdigô
 (
timeout
)

558 + 
	`°æí
 (
√w_ãxt
)

560 
	`•rötf
 (
√w_wôh_timeout
, "%d; URL=%s", 
timeout
, 
√w_ãxt
);

562  
	`ª∂a˚_©å
 (
p
, 
size
, 
Â
, 
√w_wôh_timeout
);

563 
	}
}

572 
boﬁ


573 
	$föd_‰agmít
 (c⁄° *
beg
, 
size
, c⁄° **
bp
, c⁄° **
ï
)

575 c⁄° *
íd
 = 
beg
 + 
size
;

576 
boﬁ
 
ßw_amp
 = 
Ál£
;

577 ; 
beg
 < 
íd
; beg++)

579 *
beg
)

582 
ßw_amp
 = 
åue
;

585 i‡(!
ßw_amp
)

587 *
bp
 = 
beg
;

588 *
ï
 = 
íd
;

589  
åue
;

593 
ßw_amp
 = 
Ál£
;

596  
Ál£
;

597 
	}
}

614 
	$loˇl_quŸe_°rög
 (c⁄° *
fûe
, 
boﬁ
 
no_html_quŸe
)

616 c⁄° *
‰om
;

617 *
√w«me
, *
to
;

619 *
™y
 = 
	`°Ωbrk
 (
fûe
, "?#%;");

620 i‡(!
™y
)

621  
no_html_quŸe
 ? 
	`°rdup
 (
fûe
Ë: 
	`html_quŸe_°rög
 (file);

625 
to
 = 
√w«me
 = (*)
	`Æloˇ
 (3 * 
	`°æí
 (
fûe
) + 1);

626 
‰om
 = 
fûe
; *from; from++)

627 *
‰om
)

630 *
to
++ = '%';

631 *
to
++ = '2';

632 *
to
++ = '5';

635 *
to
++ = '%';

636 *
to
++ = '2';

637 *
to
++ = '3';

640 *
to
++ = '%';

641 *
to
++ = '3';

642 *
to
++ = 'B';

645 i‡(
›t
.
adju°_exãnsi⁄
)

647 *
to
++ = '%';

648 *
to
++ = '3';

649 *
to
++ = 'F';

654 *
to
++ = *
‰om
;

656 *
to
 = '\0';

658  
no_html_quŸe
 ? 
	`°rdup
 (
√w«me
Ë: 
	`html_quŸe_°rög
 (newname);

659 
	}
}

665 
	#ENSURE_TABLES_EXIST
 do { \

666 i‡(!
dl_fûe_uæ_m≠
) \

667 
dl_fûe_uæ_m≠
 = 
	`make_°rög_hash_èbÀ
 (0); \

668 i‡(!
dl_uæ_fûe_m≠
) \

669 
dl_uæ_fûe_m≠
 = 
	`make_°rög_hash_èbÀ
 (0); \

670 } 0)

	)

682 
boﬁ


683 
	$m©ch_ex˚±_ödex
 (c⁄° *
s1
, c⁄° *
s2
)

685 
i
;

686 c⁄° *
 g
;

689 
i
 = 0; *
s1
 && *
s2
 && *s1 == *s2; s1++, s2++, i++)

691 i‡(
i
 == 0)

695  
Ál£
;

697 i‡(!*
s1
 && !*
s2
)

699  
åue
;

700 i‡(*
s1
 && *
s2
)

702  
Ál£
;

703 i‡(*
s1
)

705 
 g
 = 
s1
;

708 
 g
 = 
s2
;

714 i‡(*
 g
 != '/')

716 --
 g
;

718 i‡(*
 g
 == '/' && *(lng + 1) == '\0')

721  
åue
;

723  0 =
	`°rcmp
 (
 g
, "/index.html");

724 
	}
}

727 
	$dissocüã_uæs_‰om_fûe_m≠≥r
 (*
key
, *
vÆue
, *
¨g
)

729 *
m≠pög_uæ
 = (*)
key
;

730 *
m≠pög_fûe
 = (*)
vÆue
;

731 *
fûe
 = (*)
¨g
;

733 i‡(0 =
	`°rcmp
 (
m≠pög_fûe
, 
fûe
))

735 
	`hash_èbÀ_ªmove
 (
dl_uæ_fûe_m≠
, 
m≠pög_uæ
);

736 
	`x‰ì
 (
m≠pög_uæ
);

737 
	`x‰ì
 (
m≠pög_fûe
);

742 
	}
}

747 
	$dissocüã_uæs_‰om_fûe
 (c⁄° *
fûe
)

750 
	`hash_èbÀ_f‹_óch
 (
dl_uæ_fûe_m≠
, 
dissocüã_uæs_‰om_fûe_m≠≥r
,

751 (*Ë
fûe
);

752 
	}
}

760 
	$ªgi°î_dow∆ﬂd
 (c⁄° *
uæ
, c⁄° *
fûe
)

762 *
ﬁd_fûe
, *
ﬁd_uæ
;

764 
ENSURE_TABLES_EXIST
;

771 i‡(
	`hash_èbÀ_gë_∑ú
 (
dl_fûe_uæ_m≠
, 
fûe
, &
ﬁd_fûe
, &
ﬁd_uæ
))

773 i‡(0 =
	`°rcmp
 (
uæ
, 
ﬁd_uæ
))

778 i‡(
	`m©ch_ex˚±_ödex
 (
uæ
, 
ﬁd_uæ
)

779 && !
	`hash_èbÀ_c⁄èös
 (
dl_uæ_fûe_m≠
, 
uæ
))

784 
uæ_⁄ly
;

786 
	`hash_èbÀ_ªmove
 (
dl_fûe_uæ_m≠
, 
fûe
);

787 
	`x‰ì
 (
ﬁd_fûe
);

788 
	`x‰ì
 (
ﬁd_uæ
);

803 
	`dissocüã_uæs_‰om_fûe
 (
fûe
);

806 
	`hash_èbÀ_put
 (
dl_fûe_uæ_m≠
, 
	`x°rdup
 (
fûe
), x°rdu∞(
uæ
));

808 
uæ_⁄ly
:

825 i‡(
	`hash_èbÀ_gë_∑ú
 (
dl_uæ_fûe_m≠
, 
uæ
, &
ﬁd_uæ
, &
ﬁd_fûe
))

827 
	`hash_èbÀ_ªmove
 (
dl_uæ_fûe_m≠
, 
uæ
);

828 
	`x‰ì
 (
ﬁd_uæ
);

829 
	`x‰ì
 (
ﬁd_fûe
);

832 
	`hash_èbÀ_put
 (
dl_uæ_fûe_m≠
, 
	`x°rdup
 (
uæ
), x°rdu∞(
fûe
));

833 
	}
}

840 
	$ªgi°î_ªdúe˘i⁄
 (c⁄° *
‰om
, c⁄° *
to
)

842 *
fûe
;

844 
ENSURE_TABLES_EXIST
;

846 
fûe
 = 
	`hash_èbÀ_gë
 (
dl_uæ_fûe_m≠
, 
to
);

847 
	`as£π
 (
fûe
 !
NULL
);

848 i‡(!
	`hash_èbÀ_c⁄èös
 (
dl_uæ_fûe_m≠
, 
‰om
))

849 
	`hash_èbÀ_put
 (
dl_uæ_fûe_m≠
, 
	`x°rdup
 (
‰om
), x°rdu∞(
fûe
));

850 
	}
}

855 
	$ªgi°î_dñëe_fûe
 (c⁄° *
fûe
)

857 *
ﬁd_uæ
, *
ﬁd_fûe
;

859 
ENSURE_TABLES_EXIST
;

861 i‡(!
	`hash_èbÀ_gë_∑ú
 (
dl_fûe_uæ_m≠
, 
fûe
, &
ﬁd_fûe
, &
ﬁd_uæ
))

864 
	`hash_èbÀ_ªmove
 (
dl_fûe_uæ_m≠
, 
fûe
);

865 
	`x‰ì
 (
ﬁd_fûe
);

866 
	`x‰ì
 (
ﬁd_uæ
);

867 
	`dissocüã_uæs_‰om_fûe
 (
fûe
);

868 
	}
}

873 
	$ªgi°î_html
 (c⁄° *
uæ
, c⁄° *
fûe
)

875 i‡(!
dow∆ﬂded_html_£t
)

876 
dow∆ﬂded_html_£t
 = 
	`make_°rög_hash_èbÀ
 (0);

877 
	`°rög_£t_add
 (
dow∆ﬂded_html_£t
, 
fûe
);

878 
	}
}

883 
	$ªgi°î_css
 (c⁄° *
uæ
, c⁄° *
fûe
)

885 i‡(!
dow∆ﬂded_css_£t
)

886 
dow∆ﬂded_css_£t
 = 
	`make_°rög_hash_èbÀ
 (0);

887 
	`°rög_£t_add
 (
dow∆ﬂded_css_£t
, 
fûe
);

888 
	}
}

890 
dow∆ﬂded_fûes_‰ì
 ();

895 
	$c⁄vît_˛ónup
 ()

897 i‡(
dl_fûe_uæ_m≠
)

899 
	`‰ì_keys_™d_vÆues
 (
dl_fûe_uæ_m≠
);

900 
	`hash_èbÀ_de°roy
 (
dl_fûe_uæ_m≠
);

901 
dl_fûe_uæ_m≠
 = 
NULL
;

903 i‡(
dl_uæ_fûe_m≠
)

905 
	`‰ì_keys_™d_vÆues
 (
dl_uæ_fûe_m≠
);

906 
	`hash_èbÀ_de°roy
 (
dl_uæ_fûe_m≠
);

907 
dl_uæ_fûe_m≠
 = 
NULL
;

909 i‡(
dow∆ﬂded_html_£t
)

910 
	`°rög_£t_‰ì
 (
dow∆ﬂded_html_£t
);

911 
	`dow∆ﬂded_fûes_‰ì
 ();

912 i‡(
c⁄vîãd_fûes
)

913 
	`°rög_£t_‰ì
 (
c⁄vîãd_fûes
);

914 
	}
}

924 
hash_èbÀ
 *
	gdow∆ﬂded_fûes_hash
;

931 
dow∆ﬂded_fûe_t
 *

932 
	$dow∆ﬂded_mode_to_±r
 (
dow∆ﬂded_fûe_t
 
mode
)

934 
dow∆ﬂded_fûe_t


935 
v1
 = 
FILE_NOT_ALREADY_DOWNLOADED
,

936 
v2
 = 
FILE_DOWNLOADED_NORMALLY
,

937 
v3
 = 
FILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
,

938 
v4
 = 
CHECK_FOR_FILE
;

940 
mode
)

942 
FILE_NOT_ALREADY_DOWNLOADED
:

943  &
v1
;

944 
FILE_DOWNLOADED_NORMALLY
:

945  &
v2
;

946 
FILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
:

947  &
v3
;

948 
CHECK_FOR_FILE
:

949  &
v4
;

951  
NULL
;

952 
	}
}

969 
dow∆ﬂded_fûe_t


970 
	$dow∆ﬂded_fûe
 (
dow∆ﬂded_fûe_t
 
mode
, c⁄° *
fûe
)

972 
dow∆ﬂded_fûe_t
 *
±r
;

974 i‡(
mode
 =
CHECK_FOR_FILE
)

976 i‡(!
dow∆ﬂded_fûes_hash
)

977  
FILE_NOT_ALREADY_DOWNLOADED
;

978 
±r
 = 
	`hash_èbÀ_gë
 (
dow∆ﬂded_fûes_hash
, 
fûe
);

979 i‡(!
±r
)

980  
FILE_NOT_ALREADY_DOWNLOADED
;

981  *
±r
;

984 i‡(!
dow∆ﬂded_fûes_hash
)

985 
dow∆ﬂded_fûes_hash
 = 
	`make_°rög_hash_èbÀ
 (0);

987 
±r
 = 
	`hash_èbÀ_gë
 (
dow∆ﬂded_fûes_hash
, 
fûe
);

988 i‡(
±r
)

989  *
±r
;

991 
±r
 = 
	`dow∆ﬂded_mode_to_±r
 (
mode
);

992 
	`hash_èbÀ_put
 (
dow∆ﬂded_fûes_hash
, 
	`x°rdup
 (
fûe
), 
±r
);

994  
FILE_NOT_ALREADY_DOWNLOADED
;

995 
	}
}

998 
	$dow∆ﬂded_fûes_‰ì
 ()

1000 i‡(
dow∆ﬂded_fûes_hash
)

1002 
hash_èbÀ_ôî©‹
 
ôî
;

1003 
	`hash_èbÀ_ôî©e
 (
dow∆ﬂded_fûes_hash
, &
ôî
);

1004 
	`hash_èbÀ_ôî_√xt
 (&
ôî
);

1006 
	`x‰ì
 (
ôî
.
key
);

1007 
	`hash_èbÀ_de°roy
 (
dow∆ﬂded_fûes_hash
);

1008 
dow∆ﬂded_fûes_hash
 = 
NULL
;

1010 
	}
}

1024 
	$html_quŸe_°rög
 (c⁄° *
s
)

1026 c⁄° *
b
 = 
s
;

1027 *
p
, *
ªs
;

1028 
i
;

1031 
i
 = 0; *
s
; s++, i++)

1033 i‡(*
s
 == '&')

1034 
i
 += 4;

1035 i‡(*
s
 == '<' || *s == '>')

1036 
i
 += 3;

1037 i‡(*
s
 == '\"')

1038 
i
 += 5;

1039 i‡(*
s
 == ' ')

1040 
i
 += 4;

1042 
ªs
 = 
	`xmÆloc
 (
i
 + 1);

1043 
s
 = 
b
;

1044 
p
 = 
ªs
; *
s
; s++)

1046 *
s
)

1049 *
p
++ = '&';

1050 *
p
++ = 'a';

1051 *
p
++ = 'm';

1052 *
p
++ = 'p';

1053 *
p
++ = ';';

1056 *
p
++ = '&';

1057 *
p
++ = (*
s
 == '<' ? 'l' : 'g');

1058 *
p
++ = 't';

1059 *
p
++ = ';';

1062 *
p
++ = '&';

1063 *
p
++ = 'q';

1064 *
p
++ = 'u';

1065 *
p
++ = 'o';

1066 *
p
++ = 't';

1067 *
p
++ = ';';

1070 *
p
++ = '&';

1071 *
p
++ = '#';

1072 *
p
++ = '3';

1073 *
p
++ = '2';

1074 *
p
++ = ';';

1077 *
p
++ = *
s
;

1080 *
p
 = '\0';

1081  
ªs
;

1082 
	}
}

	@src/convert.h

31 #i‚de‡
CONVERT_H


32 
	#CONVERT_H


	)

34 
	ghash_èbÀ
;

35 
hash_èbÀ
 *
dl_uæ_fûe_m≠
;

36 
hash_èbÀ
 *
dow∆ﬂded_html_£t
;

37 
hash_èbÀ
 *
dow∆ﬂded_css_£t
;

39 
	ec⁄vît_›ti⁄s
 {

40 
	mCO_NOCONVERT
 = 0,

41 
	mCO_CONVERT_TO_RELATIVE
,

43 
	mCO_CONVERT_TO_COMPLETE
,

45 
	mCO_NULLIFY_BASE


48 
	guæ
;

53 
	suæpos
 {

54 
uæ
 *
	muæ
;

56 *
	mloˇl_«me
;

61 
	mign‹e_whí_dow∆ﬂdög
 :1;

65 
	mlök_ªœtive_p
 :1;

66 
	mlök_com∂ëe_p
 :1;

67 
	mlök_ba£_p
 :1;

68 
	mlök_ölöe_p
 :1;

69 
	mlök_css_p
 :1;

70 
	mlök_ex≥˘_html
 :1;

71 
	mlök_ex≥˘_css
 :1;

73 
	mlök_ª‰esh_p
 :1;

75 
	mª‰esh_timeout
;

78 
c⁄vît_›ti⁄s
 
	mc⁄vît
;

81 
	mpos
, 
	msize
;

83 
uæpos
 *
	m√xt
;

90 
	mFILE_NOT_ALREADY_DOWNLOADED
 = 0,

93 
	mFILE_DOWNLOADED_NORMALLY
,

94 
	mFILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
,

97 
	mCHECK_FOR_FILE


98 } 
	tdow∆ﬂded_fûe_t
;

100 
dow∆ﬂded_fûe_t
 
dow∆ﬂded_fûe
 (downloaded_file_t, const *);

102 
ªgi°î_dow∆ﬂd
 (const *, const *);

103 
ªgi°î_ªdúe˘i⁄
 (const *, const *);

104 
ªgi°î_html
 (const *, const *);

105 
ªgi°î_css
 (const *, const *);

106 
ªgi°î_dñëe_fûe
 (const *);

107 
c⁄vît_Æl_löks
 ();

108 
c⁄vît_˛ónup
 ();

110 *
html_quŸe_°rög
 (const *);

	@src/cookies.c

46 
	~"wgë.h
"

48 
	~<°dio.h
>

49 
	~<°rög.h
>

50 
	~<°dlib.h
>

51 
	~<as£π.h
>

52 
	~<î∫o.h
>

53 
	~<time.h
>

54 
	~"utûs.h
"

55 
	~"hash.h
"

56 
	~"cookõs.h
"

57 
	~"hâp.h
"

73 
	scookõ_j¨
 {

75 
hash_èbÀ
 *
	mchaös
;

77 
	mcookõ_cou¡
;

82 
time_t
 
	gcookõs_now
;

84 
cookõ_j¨
 *

85 
	$cookõ_j¨_√w
 ()

87 
cookõ_j¨
 *
j¨
 = 
	`x√w
 (cookie_jar);

88 
j¨
->
chaös
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (0);

89 
j¨
->
cookõ_cou¡
 = 0;

90  
j¨
;

91 
	}
}

93 
	scookõ
 {

94 *
	mdomaö
;

95 
	mp‹t
;

96 *
	m∑th
;

98 
	mdisˇrd_ªque°ed
 :1;

102 
	m£cuª
 :1;

105 
	mdomaö_exa˘
 :1;

108 
	m≥rm™ít
 :1;

110 
time_t
 
	mexpúy_time
;

113 *
	m©å
;

114 *
	mvÆue
;

116 
cookõ
 *
	m√xt
;

120 
	#PORT_ANY
 (-1)

	)

124 
cookõ
 *

125 
	$cookõ_√w
 ()

127 
cookõ
 *cookõ = 
	`x√w0
 (cookie);

133 
cookõ
->
p‹t
 = 
PORT_ANY
;

134  
cookõ
;

135 
	}
}

140 
boﬁ


141 
	$cookõ_expúed_p
 (c⁄° 
cookõ
 *
c
)

143  
c
->
expúy_time
 !0 && c->expúy_timê< 
cookõs_now
;

144 
	}
}

149 
	$dñëe_cookõ
 (
cookõ
 *cookie)

151 
	`x‰ì_nuŒ
 (
cookõ
->
domaö
);

152 
	`x‰ì_nuŒ
 (
cookõ
->
∑th
);

153 
	`x‰ì_nuŒ
 (
cookõ
->
©å
);

154 
	`x‰ì_nuŒ
 (
cookõ
->
vÆue
);

155 
	`x‰ì
 (
cookõ
);

156 
	}
}

172 
cookõ
 *

173 
	$föd_m©chög_cookõ
 (
cookõ_j¨
 *
j¨
, 
cookõ
 *cookie,

174 
cookõ
 **
¥ev±r
)

176 
cookõ
 *
chaö
, *
¥ev
;

178 
chaö
 = 
	`hash_èbÀ_gë
 (
j¨
->
chaös
, 
cookõ
->
domaö
);

179 i‡(!
chaö
)

180 
nom©ch
;

182 
¥ev
 = 
NULL
;

183 ; 
chaö
; 
¥ev
 = chaö, chaö = chaö->
√xt
)

184 i‡(0 =
	`°rcmp
 (
cookõ
->
∑th
, 
chaö
->path)

185 && 0 =
	`°rcmp
 (
cookõ
->
©å
, 
chaö
->attr)

186 && 
cookõ
->
p‹t
 =
chaö
->port)

188 *
¥ev±r
 = 
¥ev
;

189  
chaö
;

192 
nom©ch
:

193 *
¥ev±r
 = 
NULL
;

194  
NULL
;

195 
	}
}

207 
	$°‹e_cookõ
 (
cookõ_j¨
 *
j¨
, 
cookõ
 *cookie)

209 
cookõ
 *
chaö_hód
;

210 *
chaö_key
;

212 i‡(
	`hash_èbÀ_gë_∑ú
 (
j¨
->
chaös
, 
cookõ
->
domaö
,

213 &
chaö_key
, &
chaö_hód
))

218 
cookõ
 *
¥ev
;

219 
cookõ
 *
vi˘im
 = 
	`föd_m©chög_cookõ
 (
j¨
, cookõ, &
¥ev
);

221 i‡(
vi˘im
)

225 i‡(
¥ev
)

227 
¥ev
->
√xt
 = 
vi˘im
->next;

228 
cookõ
->
√xt
 = 
chaö_hód
;

235 
cookõ
->
√xt
 = 
vi˘im
->next;

237 
	`dñëe_cookõ
 (
vi˘im
);

238 --
j¨
->
cookõ_cou¡
;

239 
	`DEBUGP
 (("Deleted old cookie (to beÑeplaced.)\n"));

242 
cookõ
->
√xt
 = 
chaö_hód
;

251 
cookõ
->
√xt
 = 
NULL
;

252 
chaö_key
 = 
	`x°rdup
 (
cookõ
->
domaö
);

255 
	`hash_èbÀ_put
 (
j¨
->
chaös
, 
chaö_key
, 
cookõ
);

256 ++
j¨
->
cookõ_cou¡
;

258 
IF_DEBUG


260 
time_t
 
ex±ime
 = 
cookõ
->
expúy_time
;

261 
	`DEBUGP
 (("\nStored cookie %s %d%s %s <%s> <%s> [expiry %s] %s %s\n",

262 
cookõ
->
domaö
, cookõ->
p‹t
,

263 
cookõ
->
p‹t
 =
PORT_ANY
 ? " (ANY)" : "",

264 
cookõ
->
∑th
,

265 
cookõ
->
≥rm™ít
 ? "permanent" : "session",

266 
cookõ
->
£cuª
 ? "secure" : "insecure",

267 
cookõ
->
expúy_time
 ? 
	`d©ëime_°r
 (
ex±ime
) : "none",

268 
cookõ
->
©å
, cookõ->
vÆue
));

270 
	}
}

279 
	$disˇrd_m©chög_cookõ
 (
cookõ_j¨
 *
j¨
, 
cookõ
 *cookie)

281 
cookõ
 *
¥ev
, *
vi˘im
;

283 i‡(!
	`hash_èbÀ_cou¡
 (
j¨
->
chaös
))

287 
vi˘im
 = 
	`föd_m©chög_cookõ
 (
j¨
, 
cookõ
, &
¥ev
);

288 i‡(
vi˘im
)

290 i‡(
¥ev
)

292 
¥ev
->
√xt
 = 
vi˘im
->next;

297 *
chaö_key
 = 
NULL
;

298 
ªs
;

300 
ªs
 = 
	`hash_èbÀ_gë_∑ú
 (
j¨
->
chaös
, 
vi˘im
->
domaö
,

301 &
chaö_key
, 
NULL
);

302 
	`as£π
 (
ªs
 != 0);

303 i‡(!
vi˘im
->
√xt
)

307 
	`hash_èbÀ_ªmove
 (
j¨
->
chaös
, 
vi˘im
->
domaö
);

308 
	`x‰ì
 (
chaö_key
);

311 
	`hash_èbÀ_put
 (
j¨
->
chaös
, 
chaö_key
, 
vi˘im
->
√xt
);

313 
	`dñëe_cookõ
 (
vi˘im
);

314 
	`DEBUGP
 (("Discarded old cookie.\n"));

316 
	}
}

321 
	#TOKEN_IS
(
tokí
, 
°rög_lôîÆ
) \

322 
	`BOUNDED_EQUAL_NO_CASE
 (
tokí
.
b
,Åokí.
e
, 
°rög_lôîÆ
)

	)

324 
	#TOKEN_NON_EMPTY
(
tokí
Ë—okí.
b
 !
NULL
 &&Åokí.b !tokí.
e
)

	)

342 
cookõ
 *

343 
	$∑r£_£t_cookõ
 (c⁄° *
£t_cookõ
, 
boﬁ
 
sûít
)

345 c⁄° *
±r
 = 
£t_cookõ
;

346 
cookõ
 *cookõ = 
	`cookõ_√w
 ();

347 
∑øm_tokí
 
«me
, 
vÆue
;

349 i‡(!
	`exåa˘_∑øm
 (&
±r
, &
«me
, &
vÆue
, ';'))

350 
îr‹
;

351 i‡(!
vÆue
.
b
)

352 
îr‹
;

355 i‡(*(
vÆue
.
b
 - 1) == '"')

356 
vÆue
.
b
--;

357 i‡(*
vÆue
.
e
 == '"')

358 
vÆue
.
e
++;

360 
cookõ
->
©å
 = 
	`°rdupdñim
 (
«me
.
b
,Çame.
e
);

361 
cookõ
->
vÆue
 = 
	`°rdupdñim
 (vÆue.
b
, vÆue.
e
);

363 
	`exåa˘_∑øm
 (&
±r
, &
«me
, &
vÆue
, ';'))

365 i‡(
	`TOKEN_IS
 (
«me
, "domain"))

367 i‡(!
	`TOKEN_NON_EMPTY
 (
vÆue
))

368 
îr‹
;

369 
	`x‰ì_nuŒ
 (
cookõ
->
domaö
);

374 i‡(*
vÆue
.
b
 == '.')

375 ++
vÆue
.
b
;

376 
cookõ
->
domaö
 = 
	`°rdupdñim
 (
vÆue
.
b
, vÆue.
e
);

378 i‡(
	`TOKEN_IS
 (
«me
, "path"))

380 i‡(!
	`TOKEN_NON_EMPTY
 (
vÆue
))

381 
îr‹
;

382 
	`x‰ì_nuŒ
 (
cookõ
->
∑th
);

383 
cookõ
->
∑th
 = 
	`°rdupdñim
 (
vÆue
.
b
, vÆue.
e
);

385 i‡(
	`TOKEN_IS
 (
«me
, "expires"))

387 *
vÆue_c›y
;

388 
time_t
 
expúes
;

390 i‡(!
	`TOKEN_NON_EMPTY
 (
vÆue
))

391 
îr‹
;

392 
	`BOUNDED_TO_ALLOCA
 (
vÆue
.
b
, vÆue.
e
, 
vÆue_c›y
);

394 
expúes
 = 
	`hâp_©Ÿm
 (
vÆue_c›y
);

395 i‡(
expúes
 !(
time_t
) -1)

397 
cookõ
->
≥rm™ít
 = 1;

398 
cookõ
->
expúy_time
 = 
expúes
;

402 i‡(
cookõ
->
expúy_time
 < 
cookõs_now
)

403 
cookõ
->
disˇrd_ªque°ed
 = 1;

410 i‡(
	`TOKEN_IS
 (
«me
, "max-age"))

412 
maxage
 = -1;

413 *
vÆue_c›y
;

415 i‡(!
	`TOKEN_NON_EMPTY
 (
vÆue
))

416 
îr‹
;

417 
	`BOUNDED_TO_ALLOCA
 (
vÆue
.
b
, vÆue.
e
, 
vÆue_c›y
);

419 
	`ssˇnf
 (
vÆue_c›y
, "%lf", &
maxage
);

420 i‡(
maxage
 == -1)

422 
îr‹
;

423 
cookõ
->
≥rm™ít
 = 1;

424 
cookõ
->
expúy_time
 = 
cookõs_now
 + 
maxage
;

428 i‡(
maxage
 == 0)

429 
cookõ
->
disˇrd_ªque°ed
 = 1;

431 i‡(
	`TOKEN_IS
 (
«me
, "secure"))

434 
cookõ
->
£cuª
 = 1;

440 i‡(*
±r
)

442 
îr‹
;

445  
cookõ
;

447 
îr‹
:

448 i‡(!
sûít
)

449 
	`log¥ötf
 (
LOG_NOTQUIET
,

450 
	`_
("SyntaxÉrror in Set-Cookie: %sátÖosition %d.\n"),

451 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
£t_cookõ
),

452 (Ë(
±r
 - 
£t_cookõ
));

453 
	`dñëe_cookõ
 (
cookõ
);

454  
NULL
;

455 
	}
}

457 #unde‡
TOKEN_IS


458 #unde‡
TOKEN_NON_EMPTY


465 
	#REQUIRE_DIGITS
(
p
) do { \

466 i‡(!
	`c_isdigô
 (*
p
)) \

467  
Ál£
; \

468 ++
p
; 
	`c_isdigô
 (*p);Ö++) \

470 } 0)

	)

472 
	#REQUIRE_DOT
(
p
) do { \

473 i‡(*
p
++ != '.') \

474  
Ál£
; \

475 } 0)

	)

483 
boﬁ


484 
	$numîic_addªss_p
 (c⁄° *
addr
)

486 c⁄° *
p
 = 
addr
;

488 
	`REQUIRE_DIGITS
 (
p
);

489 
	`REQUIRE_DOT
 (
p
);

490 
	`REQUIRE_DIGITS
 (
p
);

491 
	`REQUIRE_DOT
 (
p
);

492 
	`REQUIRE_DIGITS
 (
p
);

493 
	`REQUIRE_DOT
 (
p
);

494 
	`REQUIRE_DIGITS
 (
p
);

496 i‡(*
p
 != '\0')

497  
Ál£
;

498  
åue
;

499 
	}
}

506 
boﬁ


507 
	$check_domaö_m©ch
 (c⁄° *
cookõ_domaö
, c⁄° *
ho°
)

509 
	`DEBUGP
 (("cdm: 1"));

513 i‡(
	`numîic_addªss_p
 (
cookõ_domaö
))

514  0 =
	`°rcmp
 (
cookõ_domaö
, 
ho°
);

516 
	`DEBUGP
 ((" 2"));

519 i‡(0 =
	`°rˇ£cmp
 (
cookõ_domaö
, 
ho°
))

520  
åue
;

522 
	`DEBUGP
 ((" 3"));

525 i‡(!
	`m©ch_èû
 (
ho°
, 
cookõ_domaö
, 
åue
))

526  
Ál£
;

554 c⁄° *
p
 = 
cookõ_domaö
;

555 
dccou¡
 = 1;

556 
ld˛
 = 0;

557 
∆d˛
 = 0;

558 
out
;

559 i‡(*
p
 == '.')

561 ++
p
;

562 
	`DEBUGP
 ((" 4"));

563 
out
 = 0; !out; 
p
++)

564 *
p
)

567 
out
 = 1;

570 i‡(
ld˛
 == 0)

572  
Ál£
;

573 i‡(*(
p
 + 1) == '\0')

577 
out
 = 1;

580 
∆d˛
 = 
ld˛
;

581 
ld˛
 = 0;

582 ++
dccou¡
;

585 ++
ld˛
;

588 
	`DEBUGP
 ((" 5"));

590 i‡(
dccou¡
 < 2)

591  
Ál£
;

593 
	`DEBUGP
 ((" 6"));

595 i‡(
dccou¡
 == 2)

597 
size_t
 
i
;

598 
known_t›Àvñ
 = 
Ál£
;

599 c⁄° *
known_t›Àvñ_domaös
[] = {

602 
i
 = 0; i < 
	`cou¡of
 (
known_t›Àvñ_domaös
); i++)

603 i‡(
	`m©ch_èû
 (
cookõ_domaö
, 
known_t›Àvñ_domaös
[
i
], 
åue
))

605 
known_t›Àvñ
 = 
åue
;

608 i‡(!
known_t›Àvñ
 && 
∆d˛
 <= 3)

609  
Ál£
;

613 
	`DEBUGP
 ((" 7"));

617 i‡(*
cookõ_domaö
 != '.')

619 
dÀn
 = 
	`°æí
 (
cookõ_domaö
);

620 
hÀn
 = 
	`°æí
 (
ho°
);

624 i‡(
hÀn
 > 
dÀn
 && 
ho°
[hlen - dlen - 1] != '.')

625  
Ál£
;

628 
	`DEBUGP
 ((" 8"));

630  
åue
;

631 
	}
}

633 
∑th_m©ches
 (const *, const *);

637 
boﬁ


638 
	$check_∑th_m©ch
 (c⁄° *
cookõ_∑th
, c⁄° *
∑th
)

640  
	`∑th_m©ches
 (
∑th
, 
cookõ_∑th
) != 0;

641 
	}
}

646 
	#PREPEND_SLASH
(
s
) do { \

647 *
PS_√w°r
 = (*Ë
	`Æloˇ
 (1 + 
	`°æí
 (
s
) + 1); \

648 *
PS_√w°r
 = '/'; \

649 
	`°r˝y
 (
PS_√w°r
 + 1, 
s
); \

650 
s
 = 
PS_√w°r
; \

651 } 0)

	)

659 
	$cookõ_h™dÀ_£t_cookõ
 (
cookõ_j¨
 *
j¨
,

660 c⁄° *
ho°
, 
p‹t
,

661 c⁄° *
∑th
, c⁄° *
£t_cookõ
)

663 
cookõ
 *cookie;

664 
cookõs_now
 = 
	`time
 (
NULL
);

669 
	`PREPEND_SLASH
 (
∑th
);

671 
cookõ
 = 
	`∑r£_£t_cookõ
 (
£t_cookõ
, 
Ál£
);

672 i‡(!
cookõ
)

673 
out
;

677 i‡(!
cookõ
->
domaö
)

679 
c›y_domaö
:

682 
cookõ
->
domaö
 = 
	`x°rdup
 (
ho°
);

683 
cookõ
->
domaö_exa˘
 = 1;

685 i‡(
p‹t
 != 80 &&Öort != 443)

686 
cookõ
->
p‹t
 =Öort;

690 i‡(!
	`check_domaö_m©ch
 (
cookõ
->
domaö
, 
ho°
))

692 
	`log¥ötf
 (
LOG_NOTQUIET
,

693 
	`_
("Cookie coming from %sáttemptedÅo set domainÅo %s\n"),

694 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ho°
),

695 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
cookõ
->
domaö
));

696 
	`x‰ì
 (
cookõ
->
domaö
);

697 
c›y_domaö
;

701 i‡(!
cookõ
->
∑th
)

705 *
åaûög_¶ash
 = 
	`°ºchr
 (
∑th
, '/');

706 i‡(
åaûög_¶ash
)

707 
cookõ
->
∑th
 = 
	`°rdupdñim
 (∑th, 
åaûög_¶ash
 + 1);

710 
cookõ
->
∑th
 = 
	`x°rdup
 (path);

715 i‡(!
	`check_∑th_m©ch
 (
cookõ
->
∑th
,Öath))

717 
	`DEBUGP
 (("AttemptÅo fakeÅheÖath: %s, %s\n",

718 
cookõ
->
∑th
,Öath));

719 
out
;

726 i‡(
cookõ
->
disˇrd_ªque°ed
)

728 
	`disˇrd_m©chög_cookõ
 (
j¨
, 
cookõ
);

729 
out
;

732 
	`°‹e_cookõ
 (
j¨
, 
cookõ
);

735 
out
:

736 i‡(
cookõ
)

737 
	`dñëe_cookõ
 (
cookõ
);

738 
	}
}

747 
	$cou¡_ch¨
 (c⁄° *
°rög
, 
chr
)

749 c⁄° *
p
;

750 
cou¡
 = 0;

751 
p
 = 
°rög
; *p;Ö++)

752 i‡(*
p
 =
chr
)

753 ++
cou¡
;

754  
cou¡
;

755 
	}
}

770 
	$föd_chaös_of_ho°
 (
cookõ_j¨
 *
j¨
, c⁄° *
ho°
,

771 
cookõ
 *
de°
[])

773 
de°_cou¡
 = 0;

774 
∑s£s
, 
∑ss˙t
;

777 i‡(!
	`hash_èbÀ_cou¡
 (
j¨
->
chaös
))

780 i‡(
	`numîic_addªss_p
 (
ho°
))

782 
∑s£s
 = 1;

787 
∑s£s
 = 
	`cou¡_ch¨
 (
ho°
, '.');

789 
∑ss˙t
 = 0;

797 
cookõ
 *
chaö
 = 
	`hash_èbÀ_gë
 (
j¨
->
chaös
, 
ho°
);

798 i‡(
chaö
)

799 
de°
[
de°_cou¡
++] = 
chaö
;

800 i‡(++
∑ss˙t
 >
∑s£s
)

802 
ho°
 = 
	`°rchr
 (host, '.') + 1;

805  
de°_cou¡
;

806 
	}
}

812 
	$∑th_m©ches
 (c⁄° *
fuŒ_∑th
, c⁄° *
¥efix
)

814 
Àn
 = 
	`°æí
 (
¥efix
);

816 i‡(0 !
	`°∫cmp
 (
fuŒ_∑th
, 
¥efix
, 
Àn
))

821  
Àn
 + 1;

822 
	}
}

831 
boﬁ


832 
	$cookõ_m©ches_uæ
 (c⁄° 
cookõ
 *cookie,

833 c⁄° *
ho°
, 
p‹t
, c⁄° *
∑th
,

834 
boﬁ
 
£cÊag
, *
∑th_good√ss
)

836 
pg
;

838 i‡(
	`cookõ_expúed_p
 (
cookõ
))

844  
Ál£
;

846 i‡(
cookõ
->
£cuª
 && !
£cÊag
)

848  
Ál£
;

849 i‡(
cookõ
->
p‹t
 !
PORT_ANY
 && cookie->port !=Öort)

850  
Ál£
;

855 i‡(
cookõ
->
domaö_exa˘


856 && 0 !
	`°rˇ£cmp
 (
ho°
, 
cookõ
->
domaö
))

857  
Ál£
;

859 
pg
 = 
	`∑th_m©ches
 (
∑th
, 
cookõ
->path);

860 i‡(
pg
 == 0)

861  
Ál£
;

863 i‡(
∑th_good√ss
)

867 *
∑th_good√ss
 = 
pg
;

868  
åue
;

869 
	}
}

876 
	sweighed_cookõ
 {

877 
cookõ
 *
	mcookõ
;

878 
	mdomaö_good√ss
;

879 
	m∑th_good√ss
;

885 
	$equÆôy_com∑øt‹
 (c⁄° *
p1
, c⁄° *
p2
)

887 
weighed_cookõ
 *
wc1
 = (weighed_cookõ *)
p1
;

888 
weighed_cookõ
 *
wc2
 = (weighed_cookõ *)
p2
;

890 
«mecmp
 = 
	`°rcmp
 (
wc1
->
cookõ
->
©å
, 
wc2
->cookie->attr);

891 
vÆuecmp
 = 
	`°rcmp
 (
wc1
->
cookõ
->
vÆue
, 
wc2
->cookie->value);

895  
«mecmp
 ?Çamecm∞: 
vÆuecmp
;

896 
	}
}

903 
	$ñimö©e_dups
 (
weighed_cookõ
 *
outgoög
, 
cou¡
)

905 
weighed_cookõ
 *
h
;

906 
weighed_cookõ
 *
t
;

907 
weighed_cookõ
 *
íd
 = 
outgoög
 + 
cou¡
;

913 
	`qs‹t
 (
outgoög
, 
cou¡
,  (
weighed_cookõ
), 
equÆôy_com∑øt‹
);

919 
h
 = 
t
 = 
outgoög
; h < 
íd
; h++)

921 i‡(
h
 !
íd
 - 1)

923 
cookõ
 *
c0
 = 
h
[0].cookie;

924 
cookõ
 *
c1
 = 
h
[1].cookie;

925 i‡(!
	`°rcmp
 (
c0
->
©å
, 
c1
->©åË&& !°rcm∞(c0->
vÆue
, c1->value))

932 i‡(
h
 !
t
)

933 *
t
++ = *
h
;

935 
t
++;

937  
t
 - 
outgoög
;

938 
	}
}

943 
	$good√ss_com∑øt‹
 (c⁄° *
p1
, c⁄° *
p2
)

945 
weighed_cookõ
 *
wc1
 = (weighed_cookõ *)
p1
;

946 
weighed_cookõ
 *
wc2
 = (weighed_cookõ *)
p2
;

950 
dgdiff
 = 
wc2
->
domaö_good√ss
 - 
wc1
->domain_goodness;

951 
pgdiff
 = 
wc2
->
∑th_good√ss
 - 
wc1
->path_goodness;

956  
dgdiff
 ? dgdif‡: 
pgdiff
;

957 
	}
}

966 
	$cookõ_hódî
 (
cookõ_j¨
 *
j¨
, c⁄° *
ho°
,

967 
p‹t
, c⁄° *
∑th
, 
boﬁ
 
£cÊag
)

969 
cookõ
 **
chaös
;

970 
chaö_cou¡
;

972 
cookõ
 *cookie;

973 
weighed_cookõ
 *
outgoög
;

974 
cou¡
, 
i
, 
o˙t
;

975 *
ªsu…
;

976 
ªsu…_size
, 
pos
;

977 
	`PREPEND_SLASH
 (
∑th
);

984 
chaös
 = 
	`Æloˇ_¨øy
 (
cookõ
 *, 1 + 
	`cou¡_ch¨
 (
ho°
, '.'));

985 
chaö_cou¡
 = 
	`föd_chaös_of_ho°
 (
j¨
, 
ho°
, 
chaös
);

988 i‡(!
chaö_cou¡
)

989  
NULL
;

991 
cookõs_now
 = 
	`time
 (
NULL
);

998 
cou¡
 = 0;

999 
i
 = 0; i < 
chaö_cou¡
; i++)

1000 
cookõ
 = 
chaös
[
i
]; cookõ; cookõ = cookõ->
√xt
)

1001 i‡(
	`cookõ_m©ches_uæ
 (
cookõ
, 
ho°
, 
p‹t
, 
∑th
, 
£cÊag
, 
NULL
))

1002 ++
cou¡
;

1003 i‡(!
cou¡
)

1004  
NULL
;

1007 
outgoög
 = 
	`Æloˇ_¨øy
 (
weighed_cookõ
, 
cou¡
);

1011 
o˙t
 = 0;

1012 
i
 = 0; i < 
chaö_cou¡
; i++)

1013 
cookõ
 = 
chaös
[
i
]; cookõ; cookõ = cookõ->
√xt
)

1015 
pg
;

1016 i‡(!
	`cookõ_m©ches_uæ
 (
cookõ
, 
ho°
, 
p‹t
, 
∑th
, 
£cÊag
, &
pg
))

1018 
outgoög
[
o˙t
].
cookõ
 = cookie;

1019 
outgoög
[
o˙t
].
domaö_good√ss
 = 
	`°æí
 (
cookõ
->
domaö
);

1020 
outgoög
[
o˙t
].
∑th_good√ss
 = 
pg
;

1021 ++
o˙t
;

1023 
	`as£π
 (
o˙t
 =
cou¡
);

1027 
cou¡
 = 
	`ñimö©e_dups
 (
outgoög
, count);

1031 
	`qs‹t
 (
outgoög
, 
cou¡
,  (
weighed_cookõ
), 
good√ss_com∑øt‹
);

1034 
ªsu…_size
 = 0;

1035 
i
 = 0; i < 
cou¡
; i++)

1037 
cookõ
 *
c
 = 
outgoög
[
i
].cookie;

1039 
ªsu…_size
 +
	`°æí
 (
c
->
©å
Ë+ 1 + såÀ¿(c->
vÆue
);

1046 
ªsu…_size
 =Ñesu…_sizê+ (
cou¡
 - 1) * 2 + 1;

1047 
ªsu…
 = 
	`xmÆloc
 (
ªsu…_size
);

1048 
pos
 = 0;

1049 
i
 = 0; i < 
cou¡
; i++)

1051 
cookõ
 *
c
 = 
outgoög
[
i
].cookie;

1052 
«mÀn
 = 
	`°æí
 (
c
->
©å
);

1053 
vÆÀn
 = 
	`°æí
 (
c
->
vÆue
);

1055 
	`mem˝y
 (
ªsu…
 + 
pos
, 
c
->
©å
, 
«mÀn
);

1056 
pos
 +
«mÀn
;

1057 
ªsu…
[
pos
++] = '=';

1058 
	`mem˝y
 (
ªsu…
 + 
pos
, 
c
->
vÆue
, 
vÆÀn
);

1059 
pos
 +
vÆÀn
;

1060 i‡(
i
 < 
cou¡
 - 1)

1062 
ªsu…
[
pos
++] = ';';

1063 
ªsu…
[
pos
++] = ' ';

1066 
ªsu…
[
pos
++] = '\0';

1067 
	`as£π
 (
pos
 =
ªsu…_size
);

1068  
ªsu…
;

1069 
	}
}

1105 
	$domaö_p‹t
 (c⁄° *
domaö_b
, c⁄° *
domaö_e
,

1106 c⁄° **
domaö_e_±r
)

1108 
p‹t
 = 0;

1109 c⁄° *
p
;

1110 c⁄° *
cﬁ⁄
 = 
	`memchr
 (
domaö_b
, ':', 
domaö_e
 - domain_b);

1111 i‡(!
cﬁ⁄
)

1113 
p
 = 
cﬁ⁄
 + 1;Ö < 
domaö_e
 && 
	`c_isdigô
 (*p);Ö++)

1114 
p‹t
 = 10 *Ö‹à+ (*
p
 - '0');

1115 i‡(
p
 < 
domaö_e
)

1118 *
domaö_e_±r
 = 
cﬁ⁄
;

1119  
p‹t
;

1120 
	}
}

1122 
	#GET_WORD
(
p
, 
b
, 
e
) do { \

1123 
b
 = 
p
; \

1124 *
p
 && *p != '\t') \

1125 ++
p
; \

1126 
e
 = 
p
; \

1127 i‡(
b
 =
e
 || !*
p
) \

1128 
√xt
; \

1129 ++
p
; \

1130 } 0)

	)

1135 
	$cookõ_j¨_lﬂd
 (
cookõ_j¨
 *
j¨
, c⁄° *
fûe
)

1137 *
löe
;

1138 
FILE
 *
Â
 = 
	`f›í
 (
fûe
, "r");

1139 i‡(!
Â
)

1141 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot open cookies file %s: %s\n"),

1142 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

1145 
cookõs_now
 = 
	`time
 (
NULL
);

1147 ; ((
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
); 
	`x‰ì
 (line))

1149 
cookõ
 *cookie;

1150 *
p
 = 
löe
;

1152 
expúy
;

1153 
p‹t
;

1155 *
domaö_b
 = 
NULL
, *
domaö_e
 = NULL;

1156 *
domÊag_b
 = 
NULL
, *
domÊag_e
 = NULL;

1157 *
∑th_b
 = 
NULL
, *
∑th_e
 = NULL;

1158 *
£cuª_b
 = 
NULL
, *
£cuª_e
 = NULL;

1159 *
expúes_b
 = 
NULL
, *
expúes_e
 = NULL;

1160 *
«me_b
 = 
NULL
, *
«me_e
 = NULL;

1161 *
vÆue_b
 = 
NULL
, *
vÆue_e
 = NULL;

1164 *
p
 && 
	`c_is•a˚
 (*p))

1165 ++
p
;

1167 i‡(!*
p
 || *p == '#')

1170 
	`GET_WORD
 (
p
, 
domaö_b
, 
domaö_e
);

1171 
	`GET_WORD
 (
p
, 
domÊag_b
, 
domÊag_e
);

1172 
	`GET_WORD
 (
p
, 
∑th_b
, 
∑th_e
);

1173 
	`GET_WORD
 (
p
, 
£cuª_b
, 
£cuª_e
);

1174 
	`GET_WORD
 (
p
, 
expúes_b
, 
expúes_e
);

1175 
	`GET_WORD
 (
p
, 
«me_b
, 
«me_e
);

1179 
vÆue_b
 = 
p
;

1180 
vÆue_e
 = 
p
 + 
	`°æí
 (p);

1181 i‡(
vÆue_e
 > 
vÆue_b
 && value_e[-1] == '\n')

1182 --
vÆue_e
;

1183 i‡(
vÆue_e
 > 
vÆue_b
 && value_e[-1] == '\r')

1184 --
vÆue_e
;

1187 
cookõ
 = 
	`cookõ_√w
 ();

1189 
cookõ
->
©å
 = 
	`°rdupdñim
 (
«me_b
, 
«me_e
);

1190 
cookõ
->
vÆue
 = 
	`°rdupdñim
 (
vÆue_b
, 
vÆue_e
);

1191 
cookõ
->
∑th
 = 
	`°rdupdñim
 (
∑th_b
, 
∑th_e
);

1192 
cookõ
->
£cuª
 = 
	`BOUNDED_EQUAL
 (
£cuª_b
, 
£cuª_e
, "TRUE");

1198 
cookõ
->
domaö_exa˘
 = !
	`BOUNDED_EQUAL
 (
domÊag_b
, 
domÊag_e
, "TRUE");

1202 
p‹t
 = 
	`domaö_p‹t
 (
domaö_b
, 
domaö_e
, (const **)&domain_e);

1203 i‡(
p‹t
)

1204 
cookõ
->
p‹t
 =Öort;

1206 i‡(*
domaö_b
 == '.')

1207 ++
domaö_b
;

1208 
cookõ
->
domaö
 = 
	`°rdupdñim
 (
domaö_b
, 
domaö_e
);

1211 
expúy
 = ()
cookõs_now
 - 1;

1215 *
expúes_e
 = '\0';

1216 
	`ssˇnf
 (
expúes_b
, "%lf", &
expúy
);

1218 i‡(
expúy
 == 0)

1227 i‡(
expúy
 < 
cookõs_now
)

1228 
ab‹t_cookõ
;

1229 
cookõ
->
expúy_time
 = 
expúy
;

1230 
cookõ
->
≥rm™ít
 = 1;

1233 
	`°‹e_cookõ
 (
j¨
, 
cookõ
);

1235 
√xt
:

1238 
ab‹t_cookõ
:

1239 
	`dñëe_cookõ
 (
cookõ
);

1241 
	`f˛o£
 (
Â
);

1242 
	}
}

1247 
	$cookõ_j¨_ßve
 (
cookõ_j¨
 *
j¨
, c⁄° *
fûe
)

1249 
FILE
 *
Â
;

1250 
hash_èbÀ_ôî©‹
 
ôî
;

1252 
	`DEBUGP
 (("Savög cookõ†tÿ%s.\n", 
fûe
));

1254 
cookõs_now
 = 
	`time
 (
NULL
);

1256 
Â
 = 
	`f›í
 (
fûe
, "w");

1257 i‡(!
Â
)

1259 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot open cookies file %s: %s\n"),

1260 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

1264 
	`Âuts
 ("# HTTP cookõ fûe.\n", 
Â
);

1265 
	`Ârötf
 (
Â
, "# Gíî©ed by Wgë o¿%s.\n", 
	`d©ëime_°r
 (
cookõs_now
));

1266 
	`Âuts
 ("# Edôáàyou∏ow¿risk.\n\n", 
Â
);

1268 
	`hash_èbÀ_ôî©e
 (
j¨
->
chaös
, &
ôî
);

1269 
	`hash_èbÀ_ôî_√xt
 (&
ôî
);

1272 c⁄° *
domaö
 = 
ôî
.
key
;

1273 
cookõ
 *cookõ = 
ôî
.
vÆue
;

1274 ; 
cookõ
; cookõ = cookõ->
√xt
)

1276 i‡(!
cookõ
->
≥rm™ít
 && !
›t
.
kìp_£ssi⁄_cookõs
)

1278 i‡(
	`cookõ_expúed_p
 (
cookõ
))

1280 i‡(!
cookõ
->
domaö_exa˘
)

1281 
	`Âutc
 ('.', 
Â
);

1282 
	`Âuts
 (
domaö
, 
Â
);

1283 i‡(
cookõ
->
p‹t
 !
PORT_ANY
)

1284 
	`Ârötf
 (
Â
, ":%d", 
cookõ
->
p‹t
);

1285 
	`Ârötf
 (
Â
, "\t%s\t%s\t%s\t%.0f\t%s\t%s\n",

1286 
cookõ
->
domaö_exa˘
 ? "FALSE" : "TRUE",

1287 
cookõ
->
∑th
, cookõ->
£cuª
 ? "TRUE" : "FALSE",

1288 ()
cookõ
->
expúy_time
,

1289 
cookõ
->
©å
, cookõ->
vÆue
);

1290 i‡(
	`„º‹
 (
Â
))

1291 
out
;

1294 
out
:

1295 i‡(
	`„º‹
 (
Â
))

1296 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Error writingÅo %s: %s\n"),

1297 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

1298 i‡(
	`f˛o£
 (
Â
) < 0)

1299 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Error closing %s: %s\n"),

1300 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

1302 
	`DEBUGP
 (("Done saving cookies.\n"));

1303 
	}
}

1308 
	$cookõ_j¨_dñëe
 (
cookõ_j¨
 *
j¨
)

1311 
hash_èbÀ_ôî©‹
 
ôî
;

1312 
	`hash_èbÀ_ôî©e
 (
j¨
->
chaös
, &
ôî
); 
	`hash_èbÀ_ôî_√xt
 (&iter); )

1314 
cookõ
 *
chaö
 = 
ôî
.
vÆue
;

1315 
	`x‰ì
 (
ôî
.
key
);

1317 
chaö
)

1319 
cookõ
 *
√xt
 = 
chaö
->next;

1320 
	`dñëe_cookõ
 (
chaö
);

1321 
chaö
 = 
√xt
;

1324 
	`hash_èbÀ_de°roy
 (
j¨
->
chaös
);

1325 
	`x‰ì
 (
j¨
);

1326 
	}
}

1332 #ifde‡
TEST_COOKIES


1334 
	$ã°_cookõs
 ()

1338 c⁄° *
d©a
;

1339 c⁄° *
ªsu…s
[10];

1340 } 
ã°s_succ
[] = {

1341 { "¨g=vÆue", {"¨g", "vÆue", 
NULL
} },

1342 { "¨g1=vÆue1;¨g2=vÆue2", {"¨g1", "vÆue1", "¨g2", "vÆue2", 
NULL
} },

1343 { "¨g1=vÆue1;árg2=vÆue2", {"¨g1", "vÆue1", "¨g2", "vÆue2", 
NULL
} },

1344 { "¨g1=vÆue1;árg2=vÆue2;", {"¨g1", "vÆue1", "¨g2", "vÆue2", 
NULL
} },

1345 { "¨g1=vÆue1;árg2=vÆue2; ", {"¨g1", "vÆue1", "¨g2", "vÆue2", 
NULL
} },

1346 { "¨g1=\"vÆue1\";árg2=\"\"", {"¨g1", "vÆue1", "¨g2", "", 
NULL
} },

1347 { "¨g=", {"¨g", "", 
NULL
} },

1348 { "¨g1=;árg2=", {"¨g1", "", "¨g2", "", 
NULL
} },

1349 { "¨g1 = ;árg2", {"¨g1", "", "¨g2", "", 
NULL
} },

1353 *
ã°s_Áû
[] = {

1359 
i
;

1361 
i
 = 0; i < 
	`cou¡of
 (
ã°s_succ
); i++)

1363 
öd
;

1364 c⁄° *
d©a
 = 
ã°s_succ
[
i
].data;

1365 c⁄° **
ex≥˘ed
 = 
ã°s_succ
[
i
].
ªsu…s
;

1366 
cookõ
 *
c
;

1368 
c
 = 
	`∑r£_£t_cookõ
 (
d©a
, 
åue
);

1369 i‡(!
c
)

1371 
	`¥ötf
 ("NULL cookõÑëu∫ed f‹ vÆid d©a: %s\n", 
d©a
);

1377 
∑øm_tokí
 
«me
, 
vÆue
;

1378 c⁄° *
±r
 = 
d©a
;

1379 
j
 = 0;

1380 
	`exåa˘_∑øm
 (&
±r
, &
«me
, &
vÆue
, ';'))

1382 *
n
 = 
	`°rdupdñim
 (
«me
.
b
,Çame.
e
);

1383 *
v
 = 
	`°rdupdñim
 (
vÆue
.
b
, vÆue.
e
);

1384 i‡(!
ex≥˘ed
[
j
])

1386 
	`¥ötf
 ("Toÿm™yÖ¨amëî†f‹ '%s'\n", 
d©a
);

1389 i‡(0 !
	`°rcmp
 (
ex≥˘ed
[
j
], 
n
))

1390 
	`¥ötf
 ("InvalidÇame %d for '%s' (expected '%s', got '%s')\n",

1391 
j
 / 2 + 1, 
d©a
, 
ex≥˘ed
[j], 
n
);

1392 i‡(0 !
	`°rcmp
 (
ex≥˘ed
[
j
 + 1], 
v
))

1393 
	`¥ötf
 ("Invalid value %d for '%s' (expected '%s', got '%s')\n",

1394 
j
 / 2 + 1, 
d©a
, 
ex≥˘ed
[j + 1], 
v
);

1395 
j
 += 2;

1396 
	`‰ì
 (
n
);

1397 
	`‰ì
 (
v
);

1399 i‡(
ex≥˘ed
[
j
])

1400 
	`¥ötf
 ("Toÿ„wÖ¨amëî†f‹ '%s'\n", 
d©a
);

1404 
i
 = 0; i < 
	`cou¡of
 (
ã°s_Áû
); i++)

1406 
cookõ
 *
c
;

1407 *
d©a
 = 
ã°s_Áû
[
i
];

1408 
c
 = 
	`∑r£_£t_cookõ
 (
d©a
, 
åue
);

1409 i‡(
c
)

1410 
	`¥ötf
 ("FaûedÅÿªp‹àîr‹ o¿övÆid d©a: %s\n", 
d©a
);

1412 
	}
}

	@src/cookies.h

31 #i‚de‡
COOKIES_H


32 
	#COOKIES_H


	)

34 
	gcookõ_j¨
;

36 
cookõ_j¨
 *
cookõ_j¨_√w
 ();

37 
cookõ_j¨_dñëe
 (
cookõ_j¨
 *);

39 
cookõ_h™dÀ_£t_cookõ
 (
cookõ_j¨
 *, const *, ,

41 *
cookõ_hódî
 (
cookõ_j¨
 *, const *, ,

42 c⁄° *, 
boﬁ
);

44 
cookõ_j¨_lﬂd
 (
cookõ_j¨
 *, const *);

45 
cookõ_j¨_ßve
 (
cookõ_j¨
 *, const *);

	@src/css-tokens.h

30 #i‚de‡
CSS_TOKENS_H


31 
	#CSS_TOKENS_H


	)

34 
	mCSSEOF
,

35 
	mS
,

36 
	mCDO
,

37 
	mCDC
,

38 
	mINCLUDES
,

39 
	mDASHMATCH
,

40 
	mLBRACE
,

41 
	mPLUS
,

42 
	mGREATER
,

43 
	mCOMMA
,

44 
	mSTRING
,

45 
	mINVALID
,

46 
	mIDENT
,

47 
	mHASH
,

48 
	mIMPORT_SYM
,

49 
	mPAGE_SYM
,

50 
	mMEDIA_SYM
,

51 
	mCHARSET_SYM
,

52 
	mIMPORTANT_SYM
,

53 
	mEMS
,

54 
	mEXS
,

55 
	mLENGTH
,

56 
	mANGLE
,

57 
	mTIME
,

58 
	mFREQ
,

59 
	mDIMENSION
,

60 
	mPERCENTAGE
,

61 
	mNUMBER
,

62 
	mURI
,

63 
	mFUNCTION


	@src/css-url.c

41 
	~<wgë.h
>

43 
	~<°dio.h
>

44 #ifde‡
HAVE_STRING_H


45 
	~<°rög.h
>

47 
	~<°rögs.h
>

49 
	~<°dlib.h
>

50 
	~<˘y≥.h
>

51 
	~<î∫o.h
>

53 
	~"wgë.h
"

54 
	~"utûs.h
"

55 
	~"c⁄vît.h
"

56 
	~"html-uæ.h
"

57 
	~"css-tokís.h
"

60 *
yyãxt
;

61 
yyÀng
;

62 
yy_buf„r_°©e
 *
	tYY_BUFFER_STATE
;

63 
YY_BUFFER_STATE
 
yy_sˇn_byãs
 (c⁄° *
byãs
,
Àn
 );

64 
yyÀx
 ();

67 c⁄° *
	gtokí_«mes
[] = {

111 
	$gë_uri_°rög
 (c⁄° *
©
, *
pos
, *
Àngth
)

113 *
uri
;

119 i‡(0 !
	`°∫ˇ£cmp
 (
©
 + *
pos
, "url(", 4))

120  
NULL
;

122 *
pos
 += 4;

123 *
Àngth
 -= 5;

125 
	`is•a˚
 (
©
[*
pos
]))

127 (*
pos
)++;

128 i‡(--(*
Àngth
) == 0)

129  
NULL
;

133 
	`is•a˚
 (
©
[*
pos
 + *
Àngth
 - 1]))

135 (*
Àngth
)--;

138 i‡(
©
[*
pos
] == '\'' ||át[*pos] == '"')

140 (*
pos
)++;

141 *
Àngth
 -= 2;

144 
uri
 = 
	`xmÆloc
 (*
Àngth
 + 1);

145 i‡(
uri
)

147 
	`°∫˝y
 (
uri
, 
©
 + *
pos
, *
Àngth
);

148 
uri
[*
Àngth
] = '\0';

151  
uri
;

152 
	}
}

155 
	$gë_uæs_css
 (
m≠_c⁄ãxt
 *
˘x
, 
off£t
, 
buf_Àngth
)

157 
tokí
;

159 
buf„r_pos
 = 0;

160 
pos
, 
Àngth
;

161 *
uri
;

170 
	`yy_sˇn_byãs
 (
˘x
->
ãxt
 + 
off£t
, 
buf_Àngth
);

172 (
tokí
 = 
	`yyÀx
()Ë!
CSSEOF
)

178 if(
tokí
 =
IMPORT_SYM
)

181 
buf„r_pos
 +
yyÀng
;

182 } (
tokí
 = 
	`yyÀx
()Ë=
S
);

186 i‡(
tokí
 =
STRING
 ||Åokí =
URI
)

189 
pos
 = 
buf„r_pos
 + 
off£t
;

190 
Àngth
 = 
yyÀng
;

192 i‡(
tokí
 =
URI
)

194 
uri
 = 
	`gë_uri_°rög
 (
˘x
->
ãxt
, &
pos
, &
Àngth
);

199 
pos
++;

200 
Àngth
 -= 2;

201 
uri
 = 
	`xmÆloc
 (
Àngth
 + 1);

202 
	`°∫˝y
 (
uri
, 
yyãxt
 + 1, 
Àngth
);

203 
uri
[
Àngth
] = '\0';

206 i‡(
uri
)

208 
uæpos
 *
up
 = 
	`≠≥nd_uæ
 (
uri
, 
pos
, 
Àngth
, 
˘x
);

209 
	`DEBUGP
 (("Found @imp‹t: [%s]áà%d [%s]\n", 
yyãxt
, 
buf„r_pos
, 
uri
));

211 i‡(
up
)

213 
up
->
lök_ölöe_p
 = 1;

214 
up
->
lök_css_p
 = 1;

215 
up
->
lök_ex≥˘_css
 = 1;

218 
	`x‰ì
(
uri
);

226 if(
tokí
 =
URI
)

228 
pos
 = 
buf„r_pos
 + 
off£t
;

229 
Àngth
 = 
yyÀng
;

230 
uri
 = 
	`gë_uri_°rög
 (
˘x
->
ãxt
, &
pos
, &
Àngth
);

232 i‡(
uri
)

234 
uæpos
 *
up
 = 
	`≠≥nd_uæ
 (
uri
, 
pos
, 
Àngth
, 
˘x
);

235 
	`DEBUGP
 (("Found URI: [%s]áà%d [%s]\n", 
yyãxt
, 
buf„r_pos
, 
uri
));

236 i‡(
up
)

238 
up
->
lök_ölöe_p
 = 1;

239 
up
->
lök_css_p
 = 1;

242 
	`x‰ì
 (
uri
);

245 
buf„r_pos
 +
yyÀng
;

247 
	`DEBUGP
 (("\n"));

248 
	}
}

250 
uæpos
 *

251 
	$gë_uæs_css_fûe
 (c⁄° *
fûe
, c⁄° *
uæ
)

253 
fûe_mem‹y
 *
fm
;

254 
m≠_c⁄ãxt
 
˘x
;

257 
fm
 = 
	`wgë_ªad_fûe
 (
fûe
);

258 i‡(!
fm
)

260 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

261  
NULL
;

263 
	`DEBUGP
 (("Lﬂded %†(sizê%s).\n", 
fûe
, 
	`numbî_to_°©ic_°rög
 (
fm
->
Àngth
)));

265 
˘x
.
ãxt
 = 
fm
->
c⁄ã¡
;

266 
˘x
.
hód
 = 
NULL
;

267 
˘x
.
ba£
 = 
NULL
;

268 
˘x
.
∑ª¡_ba£
 = 
uæ
 ? uæ : 
›t
.
ba£_hªf
;

269 
˘x
.
documít_fûe
 = 
fûe
;

270 
˘x
.
nofﬁlow
 = 0;

272 
	`gë_uæs_css
 (&
˘x
, 0, 
fm
->
Àngth
);

273 
	`wgë_ªad_fûe_‰ì
 (
fm
);

274  
˘x
.
hód
;

275 
	}
}

	@src/css-url.h

30 #i‚de‡
CSS_URL_H


31 
	#CSS_URL_H


	)

33 
gë_uæs_css
 (
m≠_c⁄ãxt
 *, , );

34 
uæpos
 *
gë_uæs_css_fûe
 (const *, const *);

	@src/css.c

4 
	#YY_INT_ALIGNED
 

	)

8 
	#FLEX_SCANNER


	)

9 
	#YY_FLEX_MAJOR_VERSION
 2

	)

10 
	#YY_FLEX_MINOR_VERSION
 5

	)

11 
	#YY_FLEX_SUBMINOR_VERSION
 35

	)

12 #i‡
YY_FLEX_SUBMINOR_VERSION
 > 0

13 
	#FLEX_BETA


	)

19 
	~<°dio.h
>

20 
	~<°rög.h
>

21 
	~<î∫o.h
>

22 
	~<°dlib.h
>

28 #i‚de‡
FLEXINT_H


29 
	#FLEXINT_H


	)

33 #i‡
deföed
 (
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

38 #i‚de‡
__STDC_LIMIT_MACROS


39 
	#__STDC_LIMIT_MACROS
 1

	)

42 
	~<öây≥s.h
>

43 
öt8_t
 
	tÊex_öt8_t
;

44 
uöt8_t
 
	tÊex_uöt8_t
;

45 
öt16_t
 
	tÊex_öt16_t
;

46 
uöt16_t
 
	tÊex_uöt16_t
;

47 
öt32_t
 
	tÊex_öt32_t
;

48 
uöt32_t
 
	tÊex_uöt32_t
;

50 sig√d 
	tÊex_öt8_t
;

51 
	tÊex_öt16_t
;

52 
	tÊex_öt32_t
;

53 
	tÊex_uöt8_t
;

54 
	tÊex_uöt16_t
;

55 
	tÊex_uöt32_t
;

58 #i‚de‡
INT8_MIN


59 
	#INT8_MIN
 (-128)

	)

61 #i‚de‡
INT16_MIN


62 
	#INT16_MIN
 (-32767-1)

	)

64 #i‚de‡
INT32_MIN


65 
	#INT32_MIN
 (-2147483647-1)

	)

67 #i‚de‡
INT8_MAX


68 
	#INT8_MAX
 (127)

	)

70 #i‚de‡
INT16_MAX


71 
	#INT16_MAX
 (32767)

	)

73 #i‚de‡
INT32_MAX


74 
	#INT32_MAX
 (2147483647)

	)

76 #i‚de‡
UINT8_MAX


77 
	#UINT8_MAX
 (255U)

	)

79 #i‚de‡
UINT16_MAX


80 
	#UINT16_MAX
 (65535U)

	)

82 #i‚de‡
UINT32_MAX


83 
	#UINT32_MAX
 (4294967295U)

	)

90 #ifde‡
__˝lu•lus


93 
	#YY_USE_CONST


	)

98 #i‡
deföed
 (
__STDC__
)

100 
	#YY_USE_CONST


	)

105 #ifde‡
YY_USE_CONST


106 
	#yyc⁄°
 c⁄°

	)

108 
	#yyc⁄°


	)

112 
	#YY_NULL
 0

	)

119 
	#YY_SC_TO_UI
(
c
Ë((Ë(Ëc)

	)

125 
	#BEGIN
 (
yy_°¨t
Ë1 + 2 *

	)

131 
	#YY_START
 (((
yy_°¨t
Ë- 1Ë/ 2)

	)

132 
	#YYSTATE
 
YY_START


	)

135 
	#YY_STATE_EOF
(
°©e
Ë(
YY_END_OF_BUFFER
 + sèã + 1)

	)

138 
	#YY_NEW_FILE
 
	`yyª°¨t
(
yyö
 )

	)

140 
	#YY_END_OF_BUFFER_CHAR
 0

	)

143 #i‚de‡
YY_BUF_SIZE


144 #ifde‡
__ü64__


149 
	#YY_BUF_SIZE
 32768

	)

151 
	#YY_BUF_SIZE
 16384

	)

157 
	#YY_STATE_BUF_SIZE
 ((
YY_BUF_SIZE
 + 2Ë* (
yy_°©e_ty≥
))

	)

159 #i‚de‡
YY_TYPEDEF_YY_BUFFER_STATE


160 
	#YY_TYPEDEF_YY_BUFFER_STATE


	)

161 
yy_buf„r_°©e
 *
	tYY_BUFFER_STATE
;

164 
yyÀng
;

166 
FILE
 *
yyö
, *
yyout
;

168 
	#EOB_ACT_CONTINUE_SCAN
 0

	)

169 
	#EOB_ACT_END_OF_FILE
 1

	)

170 
	#EOB_ACT_LAST_MATCH
 2

	)

172 
	#YY_LESS_LINENO
(
n
)

	)

175 
	#yyÀss
(
n
) \

179 
yyÀss_ma¸o_¨g
 = (
n
); \

180 
	`YY_LESS_LINENO
(
yyÀss_ma¸o_¨g
);\

181 *
yy_˝
 = (
yy_hﬁd_ch¨
); \

182 
YY_RESTORE_YY_MORE_OFFSET
 \

183 (
yy_c_buf_p
Ë
yy_˝
 = 
yy_bp
 + 
yyÀss_ma¸o_¨g
 - 
YY_MORE_ADJ
; \

184 
YY_DO_BEFORE_ACTION
; \

186  0 )

	)

188 
	#u≈ut
(
c
Ë
	`yyu≈ut
–c, (
yyãxt_±r
Ë)

	)

190 #i‚de‡
YY_TYPEDEF_YY_SIZE_T


191 
	#YY_TYPEDEF_YY_SIZE_T


	)

192 
size_t
 
	tyy_size_t
;

195 #i‚de‡
YY_STRUCT_YY_BUFFER_STATE


196 
	#YY_STRUCT_YY_BUFFER_STATE


	)

197 
	syy_buf„r_°©e


199 
FILE
 *
	myy_öput_fûe
;

201 *
	myy_ch_buf
;

202 *
	myy_buf_pos
;

207 
yy_size_t
 
	myy_buf_size
;

212 
	myy_n_ch¨s
;

218 
	myy_is_our_buf„r
;

225 
	myy_is_öãø˘ive
;

231 
	myy_©_bﬁ
;

233 
	myy_bs_löío
;

234 
	myy_bs_cﬁumn
;

239 
	myy_fûl_buf„r
;

241 
	myy_buf„r_°©us
;

243 
	#YY_BUFFER_NEW
 0

	)

244 
	#YY_BUFFER_NORMAL
 1

	)

255 
	#YY_BUFFER_EOF_PENDING
 2

	)

261 
size_t
 
	gyy_buf„r_°ack_t›
 = 0;

262 
size_t
 
	gyy_buf„r_°ack_max
 = 0;

263 
YY_BUFFER_STATE
 * 
	gyy_buf„r_°ack
 = 0;

271 
	#YY_CURRENT_BUFFER
 ( (
yy_buf„r_°ack
) \

272 ? (
yy_buf„r_°ack
)[(
yy_buf„r_°ack_t›
)] \

273 : 
NULL
)

	)

278 
	#YY_CURRENT_BUFFER_LVALUE
 (
yy_buf„r_°ack
)[(
yy_buf„r_°ack_t›
)]

	)

281 
	gyy_hﬁd_ch¨
;

282 
	gyy_n_ch¨s
;

283 
	gyyÀng
;

286 *
	gyy_c_buf_p
 = (*) 0;

287 
	gyy_öô
 = 0;

288 
	gyy_°¨t
 = 0;

293 
	gyy_did_buf„r_swôch_⁄_eof
;

295 
yyª°¨t
 (
FILE
 *
öput_fûe
 );

296 
yy_swôch_to_buf„r
 (
YY_BUFFER_STATE
 
√w_buf„r
 );

297 
YY_BUFFER_STATE
 
yy_¸óã_buf„r
 (
FILE
 *
fûe
,
size
 );

298 
yy_dñëe_buf„r
 (
YY_BUFFER_STATE
 
b
 );

299 
yy_Êush_buf„r
 (
YY_BUFFER_STATE
 
b
 );

300 
yypush_buf„r_°©e
 (
YY_BUFFER_STATE
 
√w_buf„r
 );

301 
yyp›_buf„r_°©e
 ();

303 
yyísuª_buf„r_°ack
 ();

304 
yy_lﬂd_buf„r_°©e
 ();

305 
yy_öô_buf„r
 (
YY_BUFFER_STATE
 
b
,
FILE
 *
fûe
 );

307 
	#YY_FLUSH_BUFFER
 
	`yy_Êush_buf„r
(
YY_CURRENT_BUFFER
 )

	)

309 
YY_BUFFER_STATE
 
yy_sˇn_buf„r
 (*
ba£
,
yy_size_t
 
size
 );

310 
YY_BUFFER_STATE
 
yy_sˇn_°rög
 (
yyc⁄°
 *
yy_°r
 );

311 
YY_BUFFER_STATE
 
yy_sˇn_byãs
 (
yyc⁄°
 *
byãs
,
Àn
 );

313 *
yyÆloc
 (
yy_size_t
 );

314 *
yyªÆloc
 (*,
yy_size_t
 );

315 
yy‰ì
 (* );

317 
	#yy_√w_buf„r
 
yy_¸óã_buf„r


	)

319 
	#yy_£t_öãø˘ive
(
is_öãø˘ive
) \

321 i‡–! 
YY_CURRENT_BUFFER
 ){ \

322 
	`yyísuª_buf„r_°ack
 (); \

323 
YY_CURRENT_BUFFER_LVALUE
 = \

324 
	`yy_¸óã_buf„r
(
yyö
,
YY_BUF_SIZE
 ); \

326 
YY_CURRENT_BUFFER_LVALUE
->
yy_is_öãø˘ive
 = 
is_öãø˘ive
; \

327 }

	)

329 
	#yy_£t_bﬁ
(
©_bﬁ
) \

331 i‡–! 
YY_CURRENT_BUFFER
 ){\

332 
	`yyísuª_buf„r_°ack
 (); \

333 
YY_CURRENT_BUFFER_LVALUE
 = \

334 
	`yy_¸óã_buf„r
(
yyö
,
YY_BUF_SIZE
 ); \

336 
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bﬁ
 = 
©_bﬁ
; \

337 }

	)

339 
	#YY_AT_BOL
(Ë(
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bﬁ
)

	)

343 
	#yywøp
(
n
Ë1

	)

344 
	#YY_SKIP_YYWRAP


	)

346 
	tYY_CHAR
;

348 
FILE
 *
	gyyö
 = (FILE *Ë0, *
	gyyout
 = (FILE *) 0;

350 
	tyy_°©e_ty≥
;

352 
yylöío
;

354 
	gyylöío
 = 1;

356 *
yyãxt
;

357 
	#yyãxt_±r
 
yyãxt


	)

359 
yy_°©e_ty≥
 
yy_gë_¥evious_°©e
 ();

360 
yy_°©e_ty≥
 
yy_åy_NUL_å™s
 (yy_°©e_ty≥ 
cuºít_°©e
 );

361 
yy_gë_√xt_buf„r
 ();

362 
yy_Áèl_îr‹
 (
yyc⁄°
 
msg
[] );

367 
	#YY_DO_BEFORE_ACTION
 \

368 (
yyãxt_±r
Ë
yy_bp
; \

369 
yyÀng
 = (
size_t
Ë(
yy_˝
 - 
yy_bp
); \

370 (
yy_hﬁd_ch¨
Ë*
yy_˝
; \

371 *
yy_˝
 = '\0'; \

372 (
yy_c_buf_p
Ë
yy_˝
;

	)

374 
	#YY_NUM_RULES
 42

	)

375 
	#YY_END_OF_BUFFER
 43

	)

378 
	syy_å™s_öfo


380 
Êex_öt32_t
 
	myy_vîify
;

381 
Êex_öt32_t
 
	myy_nxt
;

383 
yyc⁄°
 
Êex_öt16_t
 
	gyy_ac˚±
[1153] =

514 
yyc⁄°
 
Êex_öt32_t
 
	gyy_ec
[256] =

546 
yyc⁄°
 
Êex_öt32_t
 
	gyy_mëa
[82] =

559 
yyc⁄°
 
Êex_öt16_t
 
	gyy_ba£
[1307] =

707 
yyc⁄°
 
Êex_öt16_t
 
	gyy_def
[1307] =

855 
yyc⁄°
 
Êex_öt16_t
 
	gyy_nxt
[17346] =

2767 
yyc⁄°
 
Êex_öt16_t
 
	gyy_chk
[17346] =

4679 
yy_°©e_ty≥
 
	gyy_œ°_ac˚±ög_°©e
;

4680 *
	gyy_œ°_ac˚±ög_˝os
;

4682 
yy_Êex_debug
;

4683 
	gyy_Êex_debug
 = 0;

4688 
	#REJECT
 
ªje˘_u£d_but_nŸ_dëe˘ed


	)

4689 
	#yym‹e
(Ë
yym‹e_u£d_but_nŸ_dëe˘ed


	)

4690 
	#YY_MORE_ADJ
 0

	)

4691 
	#YY_RESTORE_YY_MORE_OFFSET


	)

4692 *
	gyyãxt
;

4725 
	#YY_NO_INPUT


	)

4727 
	~"wgë.h
"

4728 
	~"css-tokís.h
"

4732 
	#INITIAL
 0

	)

4734 #i‚de‡
YY_NO_UNISTD_H


4739 
	~<uni°d.h
>

4742 #i‚de‡
YY_EXTRA_TYPE


4743 
	#YY_EXTRA_TYPE
 *

	)

4746 
yy_öô_globÆs
 ();

4751 
yyÀx_de°roy
 ();

4753 
yygë_debug
 ();

4755 
yy£t_debug
 (
debug_Êag
 );

4757 
YY_EXTRA_TYPE
 
yygë_exåa
 ();

4759 
yy£t_exåa
 (
YY_EXTRA_TYPE
 
u£r_deföed
 );

4761 
FILE
 *
yygë_ö
 ();

4763 
yy£t_ö
 (
FILE
 * 
ö_°r
 );

4765 
FILE
 *
yygë_out
 ();

4767 
yy£t_out
 (
FILE
 * 
out_°r
 );

4769 
yygë_Àng
 ();

4771 *
yygë_ãxt
 ();

4773 
yygë_löío
 ();

4775 
yy£t_löío
 (
löe_numbî
 );

4781 #i‚de‡
YY_SKIP_YYWRAP


4782 #ifde‡
__˝lu•lus


4783 "C" 
yywøp
 ();

4785 
yywøp
 ();

4789 #i‚de‡
yyãxt_±r


4790 
yy_Êex_°∫˝y
 (*,
yyc⁄°
 *,);

4793 #ifde‡
YY_NEED_STRLEN


4794 
yy_Êex_°æí
 (
yyc⁄°
 * );

4797 #i‚de‡
YY_NO_INPUT


4799 #ifde‡
__˝lu•lus


4800 
yyöput
 ();

4802 
öput
 ();

4808 #i‚de‡
YY_READ_BUF_SIZE


4809 #ifde‡
__ü64__


4811 
	#YY_READ_BUF_SIZE
 16384

	)

4813 
	#YY_READ_BUF_SIZE
 8192

	)

4818 #i‚de‡
ECHO


4822 
	#ECHO
 dÿ{ i‡(
	`fwrôe
–
yyãxt
, 
yyÀng
, 1, 
yyout
 )Ë{} } 0)

	)

4828 #i‚de‡
YY_INPUT


4829 
	#YY_INPUT
(
buf
,
ªsu…
,
max_size
) \

4830 i‡–
YY_CURRENT_BUFFER_LVALUE
->
yy_is_öãø˘ive
 ) \

4832 
c
 = '*'; \

4833 
size_t
 
n
; \

4834  
n
 = 0;Ç < 
max_size
 && \

4835 (
c
 = 
	`gëc
–
yyö
 )Ë!
EOF
 && c !'\n'; ++
n
 ) \

4836 
buf
[
n
] = (Ë
c
; \

4837 i‡–
c
 == '\n' ) \

4838 
buf
[
n
++] = (Ë
c
; \

4839 i‡–
c
 =
EOF
 && 
	`„º‹
–
yyö
 ) ) \

4840 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

4841 
ªsu…
 = 
n
; \

4845 
î∫o
=0; \

4846  (
ªsu…
 = 
	`‰ód
(
buf
, 1, 
max_size
, 
yyö
))==0 && 
	`„º‹
(yyin)) \

4848 if–
î∫o
 !
EINTR
) \

4850 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

4853 
î∫o
=0; \

4854 
	`˛óªº
(
yyö
); \

4858 

	)

4865 #i‚de‡
yyãrmö©e


4866 
	#yyãrmö©e
(Ë 
YY_NULL


	)

4870 #i‚de‡
YY_START_STACK_INCR


4871 
	#YY_START_STACK_INCR
 25

	)

4875 #i‚de‡
YY_FATAL_ERROR


4876 
	#YY_FATAL_ERROR
(
msg
Ë
	`yy_Áèl_îr‹
–msg )

	)

4884 #i‚de‡
YY_DECL


4885 
	#YY_DECL_IS_OURS
 1

	)

4887 
yyÀx
 ();

4889 
	#YY_DECL
 
	`yyÀx
 ()

	)

4895 #i‚de‡
YY_USER_ACTION


4896 
	#YY_USER_ACTION


	)

4900 #i‚de‡
YY_BREAK


4901 
	#YY_BREAK
 ;

	)

4904 
	#YY_RULE_SETUP
 \

4905 
YY_USER_ACTION


	)

4909 
	gYY_DECL


4911 
yy_°©e_ty≥
 
	gyy_cuºít_°©e
;

4912 *
	gyy_˝
, *
	gyy_bp
;

4913 
	gyy_a˘
;

4920 i‡–!(
	gyy_öô
) )

4922 (
	gyy_öô
) = 1;

4924 #ifde‡
YY_USER_INIT


4925 
	gYY_USER_INIT
;

4928 i‡–! (
	gyy_°¨t
) )

4929 (
	gyy_°¨t
) = 1;

4931 i‡–! 
	gyyö
 )

4932 
	gyyö
 = 
°dö
;

4934 i‡–! 
	gyyout
 )

4935 
	gyyout
 = 
°dout
;

4937 i‡–! 
	gYY_CURRENT_BUFFER
 ) {

4938 
yyísuª_buf„r_°ack
 ();

4939 
	gYY_CURRENT_BUFFER_LVALUE
 =

4940 
yy_¸óã_buf„r
(
yyö
,
YY_BUF_SIZE
 );

4943 
yy_lﬂd_buf„r_°©e
( );

4948 
	gyy_˝
 = (
yy_c_buf_p
);

4951 *
	gyy_˝
 = (
yy_hﬁd_ch¨
);

4956 
	gyy_bp
 = 
yy_˝
;

4958 
	gyy_cuºít_°©e
 = (
yy_°¨t
);

4959 
	gyy_m©ch
:

4962 
YY_CHAR
 
yy_c
 = 
yy_ec
[
YY_SC_TO_UI
(*
yy_˝
)];

4963 i‡–
	gyy_ac˚±
[
yy_cuºít_°©e
] )

4965 (
	gyy_œ°_ac˚±ög_°©e
Ë
yy_cuºít_°©e
;

4966 (
	gyy_œ°_ac˚±ög_˝os
Ë
yy_˝
;

4968  
	gyy_chk
[
yy_ba£
[
yy_cuºít_°©e
] + 
	gyy_c
] != yy_current_state )

4970 
yy_cuºít_°©e
 = (Ë
yy_def
[yy_current_state];

4971 i‡–
	gyy_cuºít_°©e
 >= 1153 )

4972 
yy_c
 = 
yy_mëa
[() yy_c];

4974 
	gyy_cuºít_°©e
 = 
yy_nxt
[
yy_ba£
[
yy_cuºít_°©e
] + (Ë
yy_c
];

4975 ++
	gyy_˝
;

4977  
	gyy_cuºít_°©e
 != 1152 );

4978 
	gyy_˝
 = (
yy_œ°_ac˚±ög_˝os
);

4979 
	gyy_cuºít_°©e
 = (
yy_œ°_ac˚±ög_°©e
);

4981 
	gyy_föd_a˘i⁄
:

4982 
yy_a˘
 = 
yy_ac˚±
[
yy_cuºít_°©e
];

4984 
	gYY_DO_BEFORE_ACTION
;

4986 
	gdo_a˘i⁄
:

4988  
yy_a˘
 )

4992 *
yy_˝
 = (
yy_hﬁd_ch¨
);

4993 
	gyy_˝
 = (
yy_œ°_ac˚±ög_˝os
);

4994 
	gyy_cuºít_°©e
 = (
yy_œ°_ac˚±ög_°©e
);

4995 
	gyy_föd_a˘i⁄
;

4999 
YY_RULE_SETUP


5001 { 
S
;}

5002 
YY_BREAK


5005 
YY_RULE_SETUP


5007 { 
S
;}

5008 
YY_BREAK


5010 
YY_RULE_SETUP


5012 { 
CDO
;}

5013 
YY_BREAK


5015 
YY_RULE_SETUP


5017 { 
CDC
;}

5018 
YY_BREAK


5020 
YY_RULE_SETUP


5022 { 
INCLUDES
;}

5023 
YY_BREAK


5025 
YY_RULE_SETUP


5027 { 
DASHMATCH
;}

5028 
YY_BREAK


5031 
YY_RULE_SETUP


5033 { 
LBRACE
;}

5034 
YY_BREAK


5037 
YY_RULE_SETUP


5039 { 
PLUS
;}

5040 
YY_BREAK


5043 
YY_RULE_SETUP


5045 { 
GREATER
;}

5046 
YY_BREAK


5049 
YY_RULE_SETUP


5051 { 
COMMA
;}

5052 
YY_BREAK


5055 
YY_RULE_SETUP


5057 { 
STRING
;}

5058 
YY_BREAK


5061 
YY_RULE_SETUP


5063 { 
INVALID
; }

5064 
YY_BREAK


5067 
YY_RULE_SETUP


5069 { 
IDENT
;}

5070 
YY_BREAK


5073 
YY_RULE_SETUP


5075 { 
HASH
;}

5076 
YY_BREAK


5078 
YY_RULE_SETUP


5080 { 
IMPORT_SYM
;}

5081 
YY_BREAK


5083 
YY_RULE_SETUP


5085 { 
PAGE_SYM
;}

5086 
YY_BREAK


5088 
YY_RULE_SETUP


5090 { 
MEDIA_SYM
;}

5091 
YY_BREAK


5093 
YY_RULE_SETUP


5095 { 
CHARSET_SYM
;}

5096 
YY_BREAK


5099 
YY_RULE_SETUP


5101 { 
IMPORTANT_SYM
;}

5102 
YY_BREAK


5105 
YY_RULE_SETUP


5107 { 
EMS
;}

5108 
YY_BREAK


5111 
YY_RULE_SETUP


5113 { 
EXS
;}

5114 
YY_BREAK


5117 
YY_RULE_SETUP


5119 { 
LENGTH
;}

5120 
YY_BREAK


5123 
YY_RULE_SETUP


5125 { 
LENGTH
;}

5126 
YY_BREAK


5129 
YY_RULE_SETUP


5131 { 
LENGTH
;}

5132 
YY_BREAK


5135 
YY_RULE_SETUP


5137 { 
LENGTH
;}

5138 
YY_BREAK


5141 
YY_RULE_SETUP


5143 { 
LENGTH
;}

5144 
YY_BREAK


5147 
YY_RULE_SETUP


5149 { 
LENGTH
;}

5150 
YY_BREAK


5153 
YY_RULE_SETUP


5155 { 
ANGLE
;}

5156 
YY_BREAK


5159 
YY_RULE_SETUP


5161 { 
ANGLE
;}

5162 
YY_BREAK


5165 
YY_RULE_SETUP


5167 { 
ANGLE
;}

5168 
YY_BREAK


5171 
YY_RULE_SETUP


5173 { 
TIME
;}

5174 
YY_BREAK


5177 
YY_RULE_SETUP


5179 { 
TIME
;}

5180 
YY_BREAK


5183 
YY_RULE_SETUP


5185 { 
FREQ
;}

5186 
YY_BREAK


5189 
YY_RULE_SETUP


5191 { 
FREQ
;}

5192 
YY_BREAK


5195 
YY_RULE_SETUP


5197 { 
DIMENSION
;}

5198 
YY_BREAK


5200 
YY_RULE_SETUP


5202 { 
PERCENTAGE
;}

5203 
YY_BREAK


5205 
YY_RULE_SETUP


5207 { 
NUMBER
;}

5208 
YY_BREAK


5211 
YY_RULE_SETUP


5213 { 
URI
;}

5214 
YY_BREAK


5217 
YY_RULE_SETUP


5219 { 
URI
;}

5220 
YY_BREAK


5223 
YY_RULE_SETUP


5225 { 
FUNCTION
;}

5226 
YY_BREAK


5228 
YY_RULE_SETUP


5230 { *
yyãxt
;}

5231 
YY_BREAK


5233 
YY_RULE_SETUP


5235 
ECHO
;

5236 
	gYY_BREAK


5238 
YY_STATE_EOF
(
INITIAL
):

5239 
yyãrmö©e
();

5241 
	gYY_END_OF_BUFFER
:

5244 
yy_amou¡_of_m©ched_ãxt
 = (Ë(
yy_˝
 - (
yyãxt_±r
)) - 1;

5247 *
	gyy_˝
 = (
yy_hﬁd_ch¨
);

5248 
YY_RESTORE_YY_MORE_OFFSET


5250 i‡–
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_buf„r_°©us
 =
YY_BUFFER_NEW
 )

5261 (
yy_n_ch¨s
Ë
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

5262 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_öput_fûe
 = 
yyö
;

5263 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_buf„r_°©us
 = 
YY_BUFFER_NORMAL
;

5273 i‡–(
	gyy_c_buf_p
Ë<&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
)] )

5275 
yy_°©e_ty≥
 
yy_√xt_°©e
;

5277 (
	gyy_c_buf_p
Ë(
yyãxt_±r
Ë+ 
yy_amou¡_of_m©ched_ãxt
;

5279 
	gyy_cuºít_°©e
 = 
yy_gë_¥evious_°©e
( );

5290 
	gyy_√xt_°©e
 = 
yy_åy_NUL_å™s
–
yy_cuºít_°©e
 );

5292 
	gyy_bp
 = (
yyãxt_±r
Ë+ 
YY_MORE_ADJ
;

5294 i‡–
	gyy_√xt_°©e
 )

5297 
	gyy_˝
 = ++(
yy_c_buf_p
);

5298 
	gyy_cuºít_°©e
 = 
yy_√xt_°©e
;

5299 
	gyy_m©ch
;

5304 
	gyy_˝
 = (
yy_œ°_ac˚±ög_˝os
);

5305 
	gyy_cuºít_°©e
 = (
yy_œ°_ac˚±ög_°©e
);

5306 
	gyy_föd_a˘i⁄
;

5310  
yy_gë_√xt_buf„r
( ) )

5312 
	gEOB_ACT_END_OF_FILE
:

5314 (
yy_did_buf„r_swôch_⁄_eof
) = 0;

5316 i‡–
yywøp
( ) )

5327 (
	gyy_c_buf_p
Ë(
yyãxt_±r
Ë+ 
YY_MORE_ADJ
;

5329 
	gyy_a˘
 = 
YY_STATE_EOF
(
YY_START
);

5330 
	gdo_a˘i⁄
;

5335 i‡–! (
	gyy_did_buf„r_swôch_⁄_eof
) )

5336 
	gYY_NEW_FILE
;

5341 
	gEOB_ACT_CONTINUE_SCAN
:

5342 (
yy_c_buf_p
) =

5343 (
yyãxt_±r
Ë+ 
yy_amou¡_of_m©ched_ãxt
;

5345 
	gyy_cuºít_°©e
 = 
yy_gë_¥evious_°©e
( );

5347 
	gyy_˝
 = (
yy_c_buf_p
);

5348 
	gyy_bp
 = (
yyãxt_±r
Ë+ 
YY_MORE_ADJ
;

5349 
	gyy_m©ch
;

5351 
	gEOB_ACT_LAST_MATCH
:

5352 (
yy_c_buf_p
) =

5353 &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
)];

5355 
	gyy_cuºít_°©e
 = 
yy_gë_¥evious_°©e
( );

5357 
	gyy_˝
 = (
yy_c_buf_p
);

5358 
	gyy_bp
 = (
yyãxt_±r
Ë+ 
YY_MORE_ADJ
;

5359 
	gyy_föd_a˘i⁄
;

5365 
YY_FATAL_ERROR
(

5378 
	$yy_gë_√xt_buf„r
 ()

5380 *
de°
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
;

5381 *
sour˚
 = (
yyãxt_±r
);

5382 
numbî_to_move
, 
i
;

5383 
ªt_vÆ
;

5385 i‡–(
yy_c_buf_p
Ë> &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
) + 1] )

5386 
	`YY_FATAL_ERROR
(

5389 i‡–
YY_CURRENT_BUFFER_LVALUE
->
yy_fûl_buf„r
 == 0 )

5391 i‡–(
yy_c_buf_p
Ë- (
yyãxt_±r
Ë- 
YY_MORE_ADJ
 == 1 )

5396  
EOB_ACT_END_OF_FILE
;

5404  
EOB_ACT_LAST_MATCH
;

5411 
numbî_to_move
 = (Ë((
yy_c_buf_p
Ë- (
yyãxt_±r
)) - 1;

5413  
i
 = 0; i < 
numbî_to_move
; ++i )

5414 *(
de°
++Ë*(
sour˚
++);

5416 i‡–
YY_CURRENT_BUFFER_LVALUE
->
yy_buf„r_°©us
 =
YY_BUFFER_EOF_PENDING
 )

5420 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¨s
 = (yy_n_chars) = 0;

5424 
num_to_ªad
 =

5425 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 - 
numbî_to_move
 - 1;

5427  
num_to_ªad
 <= 0 )

5431 
YY_BUFFER_STATE
 
b
 = 
YY_CURRENT_BUFFER
;

5433 
yy_c_buf_p_off£t
 =

5434 (Ë((
yy_c_buf_p
Ë- 
b
->
yy_ch_buf
);

5436 i‡–
b
->
yy_is_our_buf„r
 )

5438 
√w_size
 = 
b
->
yy_buf_size
 * 2;

5440 i‡–
√w_size
 <= 0 )

5441 
b
->
yy_buf_size
 += b->yy_buf_size / 8;

5443 
b
->
yy_buf_size
 *= 2;

5445 
b
->
yy_ch_buf
 = (*)

5447 
	`yyªÆloc
((*Ë
b
->
yy_ch_buf
,b->
yy_buf_size
 + 2 );

5451 
b
->
yy_ch_buf
 = 0;

5453 i‡–! 
b
->
yy_ch_buf
 )

5454 
	`YY_FATAL_ERROR
(

5457 (
yy_c_buf_p
Ë&
b
->
yy_ch_buf
[
yy_c_buf_p_off£t
];

5459 
num_to_ªad
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 -

5460 
numbî_to_move
 - 1;

5464 i‡–
num_to_ªad
 > 
YY_READ_BUF_SIZE
 )

5465 
num_to_ªad
 = 
YY_READ_BUF_SIZE
;

5468 
	`YY_INPUT
–(&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
numbî_to_move
]),

5469 (
yy_n_ch¨s
), (
size_t
Ë
num_to_ªad
 );

5471 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¨s
 = (yy_n_chars);

5474 i‡–(
yy_n_ch¨s
) == 0 )

5476 i‡–
numbî_to_move
 =
YY_MORE_ADJ
 )

5478 
ªt_vÆ
 = 
EOB_ACT_END_OF_FILE
;

5479 
	`yyª°¨t
(
yyö
 );

5484 
ªt_vÆ
 = 
EOB_ACT_LAST_MATCH
;

5485 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf„r_°©us
 =

5486 
YY_BUFFER_EOF_PENDING
;

5491 
ªt_vÆ
 = 
EOB_ACT_CONTINUE_SCAN
;

5493 i‡((
yy_size_t
Ë((
yy_n_ch¨s
Ë+ 
numbî_to_move
Ë> 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
) {

5495 
yy_size_t
 
√w_size
 = (
yy_n_ch¨s
Ë+ 
numbî_to_move
 + ((yy_n_chars) >> 1);

5496 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 = (*Ë
	`yyªÆloc
((*ËYY_CURRENT_BUFFER_LVALUE->yy_ch_buf,
√w_size
 );

5497 i‡–! 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 )

5498 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_get_next_buffer()" );

5501 (
yy_n_ch¨s
Ë+
numbî_to_move
;

5502 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
)] = 
YY_END_OF_BUFFER_CHAR
;

5503 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
Ë+ 1] = 
YY_END_OF_BUFFER_CHAR
;

5505 (
yyãxt_±r
Ë&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[0];

5507  
ªt_vÆ
;

5508 
	}
}

5512 
yy_°©e_ty≥
 
	$yy_gë_¥evious_°©e
 ()

5514 
yy_°©e_ty≥
 
yy_cuºít_°©e
;

5515 *
yy_˝
;

5517 
yy_cuºít_°©e
 = (
yy_°¨t
);

5519  
yy_˝
 = (
yyãxt_±r
Ë+ 
YY_MORE_ADJ
; yy_˝ < (
yy_c_buf_p
); ++yy_cp )

5521 
YY_CHAR
 
yy_c
 = (*
yy_˝
 ? 
yy_ec
[
	`YY_SC_TO_UI
(*yy_cp)] : 1);

5522 i‡–
yy_ac˚±
[
yy_cuºít_°©e
] )

5524 (
yy_œ°_ac˚±ög_°©e
Ë
yy_cuºít_°©e
;

5525 (
yy_œ°_ac˚±ög_˝os
Ë
yy_˝
;

5527  
yy_chk
[
yy_ba£
[
yy_cuºít_°©e
] + 
yy_c
] != yy_current_state )

5529 
yy_cuºít_°©e
 = (Ë
yy_def
[yy_current_state];

5530 i‡–
yy_cuºít_°©e
 >= 1153 )

5531 
yy_c
 = 
yy_mëa
[() yy_c];

5533 
yy_cuºít_°©e
 = 
yy_nxt
[
yy_ba£
[yy_cuºít_°©e] + (Ë
yy_c
];

5536  
yy_cuºít_°©e
;

5537 
	}
}

5544 
yy_°©e_ty≥
 
	$yy_åy_NUL_å™s
 (
yy_°©e_ty≥
 
yy_cuºít_°©e
 )

5546 
yy_is_jam
;

5547 *
yy_˝
 = (
yy_c_buf_p
);

5549 
YY_CHAR
 
yy_c
 = 1;

5550 i‡–
yy_ac˚±
[
yy_cuºít_°©e
] )

5552 (
yy_œ°_ac˚±ög_°©e
Ë
yy_cuºít_°©e
;

5553 (
yy_œ°_ac˚±ög_˝os
Ë
yy_˝
;

5555  
yy_chk
[
yy_ba£
[
yy_cuºít_°©e
] + 
yy_c
] != yy_current_state )

5557 
yy_cuºít_°©e
 = (Ë
yy_def
[yy_current_state];

5558 i‡–
yy_cuºít_°©e
 >= 1153 )

5559 
yy_c
 = 
yy_mëa
[() yy_c];

5561 
yy_cuºít_°©e
 = 
yy_nxt
[
yy_ba£
[yy_cuºít_°©e] + (Ë
yy_c
];

5562 
yy_is_jam
 = (
yy_cuºít_°©e
 == 1152);

5564  
yy_is_jam
 ? 0 : 
yy_cuºít_°©e
;

5565 
	}
}

5567 #i‚de‡
YY_NO_INPUT


5568 #ifde‡
__˝lu•lus


5569 
	$yyöput
 ()

5571 
	$öput
 ()

5575 
c
;

5577 *(
yy_c_buf_p
Ë(
yy_hﬁd_ch¨
);

5579 i‡–*(
yy_c_buf_p
Ë=
YY_END_OF_BUFFER_CHAR
 )

5585 i‡–(
yy_c_buf_p
Ë< &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[(
yy_n_ch¨s
)] )

5587 *(
yy_c_buf_p
) = '\0';

5591 
off£t
 = (
yy_c_buf_p
Ë- (
yyãxt_±r
);

5592 ++(
yy_c_buf_p
);

5594  
	`yy_gë_√xt_buf„r
( ) )

5596 
EOB_ACT_LAST_MATCH
:

5608 
	`yyª°¨t
(
yyö
 );

5612 
EOB_ACT_END_OF_FILE
:

5614 i‡–
	`yywøp
( ) )

5615  
EOF
;

5617 i‡–! (
yy_did_buf„r_swôch_⁄_eof
) )

5618 
YY_NEW_FILE
;

5619 #ifde‡
__˝lu•lus


5620  
	`yyöput
();

5622  
	`öput
();

5626 
EOB_ACT_CONTINUE_SCAN
:

5627 (
yy_c_buf_p
Ë(
yyãxt_±r
Ë+ 
off£t
;

5633 
c
 = *(*Ë(
yy_c_buf_p
);

5634 *(
yy_c_buf_p
) = '\0';

5635 (
yy_hﬁd_ch¨
Ë*++(
yy_c_buf_p
);

5637  
c
;

5638 
	}
}

5646 
	$yyª°¨t
 (
FILE
 * 
öput_fûe
 )

5649 i‡–! 
YY_CURRENT_BUFFER
 ){

5650 
	`yyísuª_buf„r_°ack
 ();

5651 
YY_CURRENT_BUFFER_LVALUE
 =

5652 
	`yy_¸óã_buf„r
(
yyö
,
YY_BUF_SIZE
 );

5655 
	`yy_öô_buf„r
(
YY_CURRENT_BUFFER
,
öput_fûe
 );

5656 
	`yy_lﬂd_buf„r_°©e
( );

5657 
	}
}

5663 
	$yy_swôch_to_buf„r
 (
YY_BUFFER_STATE
 
√w_buf„r
 )

5671 
	`yyísuª_buf„r_°ack
 ();

5672 i‡–
YY_CURRENT_BUFFER
 =
√w_buf„r
 )

5675 i‡–
YY_CURRENT_BUFFER
 )

5678 *(
yy_c_buf_p
Ë(
yy_hﬁd_ch¨
);

5679 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = (
yy_c_buf_p
);

5680 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¨s
 = (yy_n_chars);

5683 
YY_CURRENT_BUFFER_LVALUE
 = 
√w_buf„r
;

5684 
	`yy_lﬂd_buf„r_°©e
( );

5691 (
yy_did_buf„r_swôch_⁄_eof
) = 1;

5692 
	}
}

5694 
	$yy_lﬂd_buf„r_°©e
 ()

5696 (
yy_n_ch¨s
Ë
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

5697 (
yyãxt_±r
Ë(
yy_c_buf_p
Ë
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
;

5698 
yyö
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_öput_fûe
;

5699 (
yy_hﬁd_ch¨
Ë*(
yy_c_buf_p
);

5700 
	}
}

5708 
YY_BUFFER_STATE
 
	$yy_¸óã_buf„r
 (
FILE
 * 
fûe
, 
size
 )

5710 
YY_BUFFER_STATE
 
b
;

5712 
b
 = (
YY_BUFFER_STATE
Ë
	`yyÆloc
(–
yy_buf„r_°©e
 ) );

5713 i‡–! 
b
 )

5714 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

5716 
b
->
yy_buf_size
 = 
size
;

5721 
b
->
yy_ch_buf
 = (*Ë
	`yyÆloc
(b->
yy_buf_size
 + 2 );

5722 i‡–! 
b
->
yy_ch_buf
 )

5723 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

5725 
b
->
yy_is_our_buf„r
 = 1;

5727 
	`yy_öô_buf„r
(
b
,
fûe
 );

5729  
b
;

5730 
	}
}

5736 
	$yy_dñëe_buf„r
 (
YY_BUFFER_STATE
 
b
 )

5739 i‡–! 
b
 )

5742 i‡–
b
 =
YY_CURRENT_BUFFER
 )

5743 
YY_CURRENT_BUFFER_LVALUE
 = (
YY_BUFFER_STATE
) 0;

5745 i‡–
b
->
yy_is_our_buf„r
 )

5746 
	`yy‰ì
((*Ë
b
->
yy_ch_buf
 );

5748 
	`yy‰ì
((*Ë
b
 );

5749 
	}
}

5755 
	$yy_öô_buf„r
 (
YY_BUFFER_STATE
 
b
, 
FILE
 * 
fûe
 )

5758 
€ºno
 = 
î∫o
;

5760 
	`yy_Êush_buf„r
(
b
 );

5762 
b
->
yy_öput_fûe
 = 
fûe
;

5763 
b
->
yy_fûl_buf„r
 = 1;

5769 i‡(
b
 !
YY_CURRENT_BUFFER
){

5770 
b
->
yy_bs_löío
 = 1;

5771 
b
->
yy_bs_cﬁumn
 = 0;

5774 
b
->
yy_is_öãø˘ive
 = 0;

5776 
î∫o
 = 
€ºno
;

5777 
	}
}

5783 
	$yy_Êush_buf„r
 (
YY_BUFFER_STATE
 
b
 )

5785 i‡–! 
b
 )

5788 
b
->
yy_n_ch¨s
 = 0;

5794 
b
->
yy_ch_buf
[0] = 
YY_END_OF_BUFFER_CHAR
;

5795 
b
->
yy_ch_buf
[1] = 
YY_END_OF_BUFFER_CHAR
;

5797 
b
->
yy_buf_pos
 = &b->
yy_ch_buf
[0];

5799 
b
->
yy_©_bﬁ
 = 1;

5800 
b
->
yy_buf„r_°©us
 = 
YY_BUFFER_NEW
;

5802 i‡–
b
 =
YY_CURRENT_BUFFER
 )

5803 
	`yy_lﬂd_buf„r_°©e
( );

5804 
	}
}

5812 
	$yypush_buf„r_°©e
 (
YY_BUFFER_STATE
 
√w_buf„r
 )

5814 i‡(
√w_buf„r
 =
NULL
)

5817 
	`yyísuª_buf„r_°ack
();

5820 i‡–
YY_CURRENT_BUFFER
 )

5823 *(
yy_c_buf_p
Ë(
yy_hﬁd_ch¨
);

5824 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = (
yy_c_buf_p
);

5825 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¨s
 = (yy_n_chars);

5829 i‡(
YY_CURRENT_BUFFER
)

5830 (
yy_buf„r_°ack_t›
)++;

5831 
YY_CURRENT_BUFFER_LVALUE
 = 
√w_buf„r
;

5834 
	`yy_lﬂd_buf„r_°©e
( );

5835 (
yy_did_buf„r_swôch_⁄_eof
) = 1;

5836 
	}
}

5842 
	$yyp›_buf„r_°©e
 ()

5844 i‡(!
YY_CURRENT_BUFFER
)

5847 
	`yy_dñëe_buf„r
(
YY_CURRENT_BUFFER
 );

5848 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

5849 i‡((
yy_buf„r_°ack_t›
) > 0)

5850 --(
yy_buf„r_°ack_t›
);

5852 i‡(
YY_CURRENT_BUFFER
) {

5853 
	`yy_lﬂd_buf„r_°©e
( );

5854 (
yy_did_buf„r_swôch_⁄_eof
) = 1;

5856 
	}
}

5861 
	$yyísuª_buf„r_°ack
 ()

5863 
num_to_Æloc
;

5865 i‡(!(
yy_buf„r_°ack
)) {

5871 
num_to_Æloc
 = 1;

5872 (
yy_buf„r_°ack
Ë(
yy_buf„r_°©e
**)
yyÆloc


5873 (
num_to_Æloc
 * (
yy_buf„r_°©e
*)

5875 i‡–! (
yy_buf„r_°ack
) )

5876 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

5878 
	`mem£t
((
yy_buf„r_°ack
), 0, 
num_to_Æloc
 * (
yy_buf„r_°©e
*));

5880 (
yy_buf„r_°ack_max
Ë
num_to_Æloc
;

5881 (
yy_buf„r_°ack_t›
) = 0;

5885 i‡((
yy_buf„r_°ack_t›
Ë>((
yy_buf„r_°ack_max
)) - 1){

5888 
grow_size
 = 8 ;

5890 
num_to_Æloc
 = (
yy_buf„r_°ack_max
Ë+ 
grow_size
;

5891 (
yy_buf„r_°ack
Ë(
yy_buf„r_°©e
**)
yyªÆloc


5892 ((
yy_buf„r_°ack
),

5893 
num_to_Æloc
 * (
yy_buf„r_°©e
*)

5895 i‡–! (
yy_buf„r_°ack
) )

5896 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

5899 
	`mem£t
((
yy_buf„r_°ack
Ë+ (
yy_buf„r_°ack_max
), 0, 
grow_size
 * (
yy_buf„r_°©e
*));

5900 (
yy_buf„r_°ack_max
Ë
num_to_Æloc
;

5902 
	}
}

5910 
YY_BUFFER_STATE
 
	$yy_sˇn_buf„r
 (* 
ba£
, 
yy_size_t
 
size
 )

5912 
YY_BUFFER_STATE
 
b
;

5914 i‡–
size
 < 2 ||

5915 
ba£
[
size
-2] !
YY_END_OF_BUFFER_CHAR
 ||

5916 
ba£
[
size
-1] !
YY_END_OF_BUFFER_CHAR
 )

5920 
b
 = (
YY_BUFFER_STATE
Ë
	`yyÆloc
(–
yy_buf„r_°©e
 ) );

5921 i‡–! 
b
 )

5922 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_buffer()" );

5924 
b
->
yy_buf_size
 = 
size
 - 2;

5925 
b
->
yy_buf_pos
 = b->
yy_ch_buf
 = 
ba£
;

5926 
b
->
yy_is_our_buf„r
 = 0;

5927 
b
->
yy_öput_fûe
 = 0;

5928 
b
->
yy_n_ch¨s
 = b->
yy_buf_size
;

5929 
b
->
yy_is_öãø˘ive
 = 0;

5930 
b
->
yy_©_bﬁ
 = 1;

5931 
b
->
yy_fûl_buf„r
 = 0;

5932 
b
->
yy_buf„r_°©us
 = 
YY_BUFFER_NEW
;

5934 
	`yy_swôch_to_buf„r
(
b
 );

5936  
b
;

5937 
	}
}

5947 
YY_BUFFER_STATE
 
	$yy_sˇn_°rög
 (
yyc⁄°
 * 
yy°r
 )

5950  
	`yy_sˇn_byãs
(
yy°r
,
	`°æí
(yystr) );

5951 
	}
}

5960 
YY_BUFFER_STATE
 
	$yy_sˇn_byãs
 (
yyc⁄°
 * 
yybyãs
, 
_yybyãs_Àn
 )

5962 
YY_BUFFER_STATE
 
b
;

5963 *
buf
;

5964 
yy_size_t
 
n
;

5965 
i
;

5968 
n
 = 
_yybyãs_Àn
 + 2;

5969 
buf
 = (*Ë
	`yyÆloc
(
n
 );

5970 i‡–! 
buf
 )

5971 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_bytes()" );

5973  
i
 = 0; i < 
_yybyãs_Àn
; ++i )

5974 
buf
[
i
] = 
yybyãs
[i];

5976 
buf
[
_yybyãs_Àn
] = buf[_yybyãs_Àn+1] = 
YY_END_OF_BUFFER_CHAR
;

5978 
b
 = 
	`yy_sˇn_buf„r
(
buf
,
n
 );

5979 i‡–! 
b
 )

5980 
	`YY_FATAL_ERROR
( "bad buffer in yy_scan_bytes()" );

5985 
b
->
yy_is_our_buf„r
 = 1;

5987  
b
;

5988 
	}
}

5990 #i‚de‡
YY_EXIT_FAILURE


5991 
	#YY_EXIT_FAILURE
 2

	)

5994 
	$yy_Áèl_îr‹
 (
yyc⁄°
 * 
msg
 )

5996 (Ë
	`Ârötf
–
°dîr
, "%s\n", 
msg
 );

5997 
	`exô
–
YY_EXIT_FAILURE
 );

5998 
	}
}

6002 #unde‡
yyÀss


6003 
	#yyÀss
(
n
) \

6007 
yyÀss_ma¸o_¨g
 = (
n
); \

6008 
	`YY_LESS_LINENO
(
yyÀss_ma¸o_¨g
);\

6009 
yyãxt
[
yyÀng
] = (
yy_hﬁd_ch¨
); \

6010 (
yy_c_buf_p
Ë
yyãxt
 + 
yyÀss_ma¸o_¨g
; \

6011 (
yy_hﬁd_ch¨
Ë*(
yy_c_buf_p
); \

6012 *(
yy_c_buf_p
) = '\0'; \

6013 
yyÀng
 = 
yyÀss_ma¸o_¨g
; \

6015  0 )

	)

6022 
	$yygë_löío
 ()

6025  
yylöío
;

6026 
	}
}

6031 
FILE
 *
	$yygë_ö
 ()

6033  
yyö
;

6034 
	}
}

6039 
FILE
 *
	$yygë_out
 ()

6041  
yyout
;

6042 
	}
}

6047 
	$yygë_Àng
 ()

6049  
yyÀng
;

6050 
	}
}

6056 *
	$yygë_ãxt
 ()

6058  
yyãxt
;

6059 
	}
}

6065 
	$yy£t_löío
 (
löe_numbî
 )

6068 
yylöío
 = 
löe_numbî
;

6069 
	}
}

6077 
	$yy£t_ö
 (
FILE
 * 
ö_°r
 )

6079 
yyö
 = 
ö_°r
 ;

6080 
	}
}

6082 
	$yy£t_out
 (
FILE
 * 
out_°r
 )

6084 
yyout
 = 
out_°r
 ;

6085 
	}
}

6087 
	$yygë_debug
 ()

6089  
yy_Êex_debug
;

6090 
	}
}

6092 
	$yy£t_debug
 (
bdebug
 )

6094 
yy_Êex_debug
 = 
bdebug
 ;

6095 
	}
}

6097 
	$yy_öô_globÆs
 ()

6103 (
yy_buf„r_°ack
) = 0;

6104 (
yy_buf„r_°ack_t›
) = 0;

6105 (
yy_buf„r_°ack_max
) = 0;

6106 (
yy_c_buf_p
) = (*) 0;

6107 (
yy_öô
) = 0;

6108 (
yy_°¨t
) = 0;

6111 #ifde‡
YY_STDINIT


6112 
yyö
 = 
°dö
;

6113 
yyout
 = 
°dout
;

6115 
yyö
 = (
FILE
 *) 0;

6116 
yyout
 = (
FILE
 *) 0;

6123 
	}
}

6126 
	$yyÀx_de°roy
 ()

6130 
YY_CURRENT_BUFFER
){

6131 
	`yy_dñëe_buf„r
(
YY_CURRENT_BUFFER
 );

6132 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

6133 
	`yyp›_buf„r_°©e
();

6137 
	`yy‰ì
((
yy_buf„r_°ack
) );

6138 (
yy_buf„r_°ack
Ë
NULL
;

6142 
	`yy_öô_globÆs
( );

6145 
	}
}

6151 #i‚de‡
yyãxt_±r


6152 
	$yy_Êex_°∫˝y
 (* 
s1
, 
yyc⁄°
 * 
s2
, 
n
 )

6154 
i
;

6155  
i
 = 0; i < 
n
; ++i )

6156 
s1
[
i
] = 
s2
[i];

6157 
	}
}

6160 #ifde‡
YY_NEED_STRLEN


6161 
	$yy_Êex_°æí
 (
yyc⁄°
 * 
s
 )

6163 
n
;

6164  
n
 = 0; 
s
[n]; ++n )

6167  
n
;

6168 
	}
}

6171 *
	$yyÆloc
 (
yy_size_t
 
size
 )

6173  (*Ë
	`mÆloc
–
size
 );

6174 
	}
}

6176 *
	$yyªÆloc
 (* 
±r
, 
yy_size_t
 
size
 )

6185  (*Ë
	`ªÆloc
–(*Ë
±r
, 
size
 );

6186 
	}
}

6188 
	$yy‰ì
 (* 
±r
 )

6190 
	`‰ì
–(*Ë
±r
 );

6191 
	}
}

6193 
	#YYTABLES_NAME
 "yyèbÀs"

	)

	@src/css.l

1 %
›ti⁄
 -
ö£nsôive


2 %
›ti⁄
 
noyywøp


3 %
›ti⁄
 
√vî
-
öãø˘ive


4 %
›ti⁄
 
nou≈ut


37 
	#YY_NO_INPUT


	)

39 
	~"wgë.h
"

40 
	~"css-tokís.h
"

44 
h
 [0-9a-
f
]

45 
n⁄ascii
 [\200-\377]

46 
unicode
 \\{
h
}{1,6}(\
r
\
n
|[ \
t
\r\n\
f
])?

47 
esˇ≥
 {
unicode
}|\\[^\
r
\
n
\
f0
-9a-
f
]

48 
nm°¨t
 [
_a
-
z
]|{
n⁄ascii
}|{
esˇ≥
}

49 
nmch¨
 [
_a
-
z0
-9-]|{
n⁄ascii
}|{
esˇ≥
}

50 
°rög1
 \"([^\n\r\f\\"]|\\{
∆
}|{
esˇ≥
})*\"

51 
°rög2
 \'([^\n\r\f\\']|\\{
∆
}|{
esˇ≥
})*\'

52 
övÆid1
 \"([^\n\r\f\\"]|\\{
∆
}|{
esˇ≥
})*

53 
övÆid2
 \'([^\n\r\f\\']|\\{
∆
}|{
esˇ≥
})*

55 
commít
 \/\*[^*]*\*+([^

89 "<!--" { 
CDO
;}

90 "-->" { 
CDC
;}

91 "~=" { 
INCLUDES
;}

92 "|=" { 
DASHMATCH
;}

94 {
w
}"{" { 
LBRACE
;}

95 {
w
}"+" { 
PLUS
;}

96 {
w
}">" { 
GREATER
;}

97 {
w
}"," { 
COMMA
;}

99 {
°rög
} { 
STRING
;}

100 {
övÆid
} { 
INVALID
; }

102 {
idít
} { 
IDENT
;}

104 "#"{
«me
} { 
HASH
;}

106 "@imp‹t" { 
IMPORT_SYM
;}

107 "@∑ge" { 
PAGE_SYM
;}

108 "@medü" { 
MEDIA_SYM
;}

109 "@ch¨£à" { 
CHARSET_SYM
;}

111 "!"{
w
}"imp‹è¡" { 
IMPORTANT_SYM
;}

113 {
num
}{
E
}{
M
} { 
EMS
;}

114 {
num
}{
E
}{
X
} { 
EXS
;}

115 {
num
}{
P
}{
X
} { 
LENGTH
;}

116 {
num
}{
C
}{
M
} { 
LENGTH
;}

117 {
num
}{
M
}{M} { 
LENGTH
;}

118 {
num
}{
I
}{
N
} { 
LENGTH
;}

119 {
num
}{
P
}{
T
} { 
LENGTH
;}

120 {
num
}{
P
}{
C
} { 
LENGTH
;}

121 {
num
}{
D
}{
E
}{
G
} { 
ANGLE
;}

122 {
num
}{
R
}{
A
}{
D
} { 
ANGLE
;}

123 {
num
}{
G
}{
R
}{
A
}{
D
} { 
ANGLE
;}

124 {
num
}{
M
}{
S
} { 
TIME
;}

125 {
num
}{
S
} { 
TIME
;}

126 {
num
}{
H
}{
Z
} { 
FREQ
;}

127 {
num
}{
K
}{
H
}{
Z
} { 
FREQ
;}

128 {
num
}{
idít
} { 
DIMENSION
;}

130 {
num
}% { 
PERCENTAGE
;}

131 {
num
} { 
NUMBER
;}

133 "uæ("{
w
}{
°rög
}{w}")" { 
URI
;}

134 "uæ("{
w
}{
uæ
}{w}")" { 
URI
;}

135 {
idít
}"(" { 
FUNCTION
;}

137 . { *
yyãxt
;}

139 %% /* 
	$yyÀx
 */

	@src/exits.c

22 
	~"wgë.h
"

23 
	~"exôs.h
"

30 
	mWGET_EXIT_SUCCESS
 = 0,

32 
	mWGET_EXIT_MINIMUM
 = 3,

33 
	mWGET_EXIT_IO_FAIL
 = 
WGET_EXIT_MINIMUM
,

34 
	mWGET_EXIT_NETWORK_FAIL
 = 4,

35 
	mWGET_EXIT_SSL_AUTH_FAIL
 = 5,

36 
	mWGET_EXIT_SERVER_AUTH_FAIL
 = 6,

37 
	mWGET_EXIT_PROTOCOL_ERROR
 = 7,

38 
	mWGET_EXIT_SERVER_ERROR
 = 8,

40 
	mWGET_EXIT_UNKNOWN


43 
	gföÆ_exô_°©us
 = 
WGET_EXIT_SUCCESS
;

56 
	$gë_°©us_f‹_îr
 (
uîr_t
 
îr
)

58 
îr
)

60 
RETROK
:

61  
WGET_EXIT_SUCCESS
;

62 
FOPENERR
: 
FOPEN_EXCL_ERR
: 
FWRITEERR
: 
WRITEFAILED
:

63 
UNLINKERR
:

64  
WGET_EXIT_IO_FAIL
;

65 
NOCONERROR
: 
HOSTERR
: 
CONSOCKERR
: 
CONERROR
:

66 
CONSSLERR
: 
CONIMPOSSIBLE
: 
FTPRERR
: 
FTPINVPASV
:

67 
READERR
: 
TRYLIMEXC
:

68  
WGET_EXIT_NETWORK_FAIL
;

69 
VERIFCERTERR
:

70  
WGET_EXIT_SSL_AUTH_FAIL
;

71 
FTPLOGINC
: 
FTPLOGREFUSED
: 
AUTHFAILED
:

72  
WGET_EXIT_SERVER_AUTH_FAIL
;

73 
HEOF
: 
HERR
:

74  
WGET_EXIT_PROTOCOL_ERROR
;

75 
WRONGCODE
: 
FTPPORTERR
: 
FTPSYSERR
:

76 
FTPNSFOD
: 
FTPUNKNOWNTYPE
: 
FTPSRVERR
:

77 
FTPRETRINT
: 
FTPRESTFAIL
: 
FTPNOPASV
:

78 
CONTNOTSUPPORTED
: 
RANGEERR
: 
RETRBADPATTERN
:

79 
PROXERR
:

80  
WGET_EXIT_SERVER_ERROR
;

81 
URLERROR
: 
QUOTEXC
: 
SSLINITFAILED
:

83  
WGET_EXIT_UNKNOWN
;

85 
	}
}

93 
	$öf‹m_exô_°©us
 (
uîr_t
 
îr
)

95 
√w_°©us
 = 
	`gë_°©us_f‹_îr
 (
îr
);

97 i‡(
√w_°©us
 !
WGET_EXIT_SUCCESS


98 && (
föÆ_exô_°©us
 =
WGET_EXIT_SUCCESS


99 || 
√w_°©us
 < 
föÆ_exô_°©us
))

101 
föÆ_exô_°©us
 = 
√w_°©us
;

103 
	}
}

106 
	$gë_exô_°©us
 ()

109 (
föÆ_exô_°©us
 =
WGET_EXIT_UNKNOWN
)

111 : 
föÆ_exô_°©us
;

112 
	}
}

	@src/exits.h

19 #i‚de‡
WGET_EXITS_H


20 
	#WGET_EXITS_H


	)

22 
	~"wgë.h
"

25 
öf‹m_exô_°©us
 (
uîr_t
 
îr
);

27 
gë_exô_°©us
 ();

	@src/ftp-basic.c

32 
	~"wgë.h
"

34 
	~<as£π.h
>

35 
	~<°dio.h
>

36 
	~<°dlib.h
>

37 
	~<î∫o.h
>

39 
	~<°rög.h
>

40 
	~<uni°d.h
>

41 
	~"utûs.h
"

42 
	~"c⁄√˘.h
"

43 
	~"ho°.h
"

44 
	~"·p.h
"

45 
	~"ªå.h
"

47 
	g·p_œ°_ª•löe
[128];

59 
uîr_t


60 
	$·p_ª•⁄£
 (
fd
, **
ªt_löe
)

64 *
p
;

65 *
löe
 = 
	`fd_ªad_löe
 (
fd
);

66 i‡(!
löe
)

67  
FTPRERR
;

71 
p
 = 
	`°rchr
 (
löe
, '\0');

72 i‡(
p
 > 
löe
 &&Ö[-1] == '\n')

73 *--
p
 = '\0';

74 i‡(
p
 > 
löe
 &&Ö[-1] == '\r')

75 *--
p
 = '\0';

77 i‡(
›t
.
£rvî_ª•⁄£
)

78 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s\n",

79 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
löe
));

81 
	`DEBUGP
 (("%s\n", 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
löe
)));

84 i‡(
	`c_isdigô
 (
löe
[0]) && c_isdigit (line[1]) && c_isdigit (line[2])

85 && 
löe
[3] == ' ')

87 
	`°∫˝y
 (
·p_œ°_ª•löe
, 
löe
,  (ftp_last_respline));

88 
·p_œ°_ª•löe
[ (ftp_last_respline) - 1] = '\0';

89 *
ªt_löe
 = 
löe
;

90  
FTPOK
;

92 
	`x‰ì
 (
löe
);

94 
	}
}

100 
	$·p_ªque°
 (c⁄° *
comm™d
, c⁄° *
vÆue
)

102 *
ªs
;

103 i‡(
vÆue
)

110 i‡(
	`°Ωbrk
 (
vÆue
, "\r\n"))

113 *
deÁnged
, *
p
;

114 
	`STRDUP_ALLOCA
 (
deÁnged
, 
vÆue
);

115 
p
 = 
deÁnged
; *p;Ö++)

116 i‡(*
p
 == '\r' || *p == '\n')

117 *
p
 = ' ';

118 
	`DEBUGP
 (("\nDetectedÇewlines in %s \"%s\"; changingÅo %s \"%s\"\n",

119 
comm™d
, 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
vÆue
),

120 
comm™d
, 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
deÁnged
)));

122 
vÆue
 = 
deÁnged
;

124 
ªs
 = 
	`c⁄ˇt_°rögs
 (
comm™d
, " ", 
vÆue
, "\r\n", (*) 0);

127 
ªs
 = 
	`c⁄ˇt_°rögs
 (
comm™d
, "\r\n", (*) 0);

128 i‡(
›t
.
£rvî_ª•⁄£
)

131 i‡(
	`°∫cmp
 (
ªs
, "PASS", 4) != 0)

132 
	`log¥ötf
 (
LOG_ALWAYS
, "--> %s\n", 
ªs
);

134 
	`logputs
 (
LOG_ALWAYS
, "--> PASS Turtle Power!\n\n");

137 
	`DEBUGP
 (("\n--> %s\n", 
ªs
));

138  
ªs
;

139 
	}
}

143 
uîr_t


144 
	$·p_logö
 (
csock
, c⁄° *
acc
, c⁄° *
∑ss
)

146 
uîr_t
 
îr
;

147 *
ªque°
, *
ª•löe
;

148 
nwrôãn
;

151 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

152 i‡(
îr
 !
FTPOK
)

153  
îr
;

154 i‡(*
ª•löe
 != '2')

156 
	`x‰ì
 (
ª•löe
);

157  
FTPSRVERR
;

159 
	`x‰ì
 (
ª•löe
);

161 
ªque°
 = 
	`·p_ªque°
 ("USER", 
acc
);

162 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

163 i‡(
nwrôãn
 < 0)

165 
	`x‰ì
 (
ªque°
);

166  
WRITEFAILED
;

168 
	`x‰ì
 (
ªque°
);

170 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

171 i‡(
îr
 !
FTPOK
)

172  
îr
;

174 i‡(*
ª•löe
 == '2')

176 
	`x‰ì
 (
ª•löe
);

177  
FTPOK
;

180 i‡(*
ª•löe
 != '3')

182 
	`x‰ì
 (
ª•löe
);

183  
FTPLOGREFUSED
;

185 #ifde‡
ENABLE_OPIE


187 c⁄° *
skey_hód
[] = {

191 
size_t
 
i
;

192 c⁄° *
£ed
 = 
NULL
;

194 
i
 = 0; i < 
	`cou¡of
 (
skey_hód
); i++)

196 
l
 = 
	`°æí
 (
skey_hód
[
i
]);

197 i‡(0 =
	`°∫ˇ£cmp
 (
skey_hód
[
i
], 
ª•löe
, 
l
))

199 
£ed
 = 
ª•löe
 + 
l
;

203 i‡(
£ed
)

205 
skey_£quí˚
 = 0;

208 ; 
	`c_isdigô
 (*
£ed
); seed++)

209 
skey_£quí˚
 = 10 * skey_£quí˚ + *
£ed
 - '0';

210 i‡(*
£ed
 == ' ')

211 ++
£ed
;

214 
	`x‰ì
 (
ª•löe
);

215  
FTPLOGREFUSED
;

219 
∑ss
 = 
	`skey_ª•⁄£
 (
skey_£quí˚
, 
£ed
,Öass);

223 
	`x‰ì
 (
ª•löe
);

225 
ªque°
 = 
	`·p_ªque°
 ("PASS", 
∑ss
);

226 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

227 i‡(
nwrôãn
 < 0)

229 
	`x‰ì
 (
ªque°
);

230  
WRITEFAILED
;

232 
	`x‰ì
 (
ªque°
);

234 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

235 i‡(
îr
 !
FTPOK
)

236  
îr
;

237 i‡(*
ª•löe
 != '2')

239 
	`x‰ì
 (
ª•löe
);

240  
FTPLOGINC
;

242 
	`x‰ì
 (
ª•löe
);

244  
FTPOK
;

245 
	}
}

248 
	$ù_addªss_to_p‹t_ª¥
 (c⁄° 
ù_addªss
 *
addr
, 
p‹t
, *
buf
,

249 
size_t
 
buÊí
)

251 *
±r
;

253 
	`as£π
 (
addr
->
Ámûy
 =
AF_INET
);

255 
	`as£π
 (
buÊí
 >= 6 * 4);

257 
±r
 = 
	`IP_INADDR_DATA
 (
addr
);

258 
	`¢¥ötf
 (
buf
, 
buÊí
, "%d,%d,%d,%d,%d,%d", 
±r
[0],Ötr[1],

259 
±r
[2],Öå[3], (
p‹t
 & 0xff00) >> 8,Öort & 0xff);

260 
buf
[
buÊí
 - 1] = '\0';

261 
	}
}

266 
uîr_t


267 
	$·p_p‹t
 (
csock
, *
loˇl_sock
)

269 
uîr_t
 
îr
;

270 *
ªque°
, *
ª•löe
;

271 
ù_addªss
 
addr
;

272 
nwrôãn
;

273 
p‹t
;

275 
byãs
[6 * 4 + 1];

278 i‡(!
	`sockë_ù_addªss
 (
csock
, &
addr
, 
ENDPOINT_LOCAL
))

279  
FTPSYSERR
;

281 
	`as£π
 (
addr
.
Ámûy
 =
AF_INET
);

284 
p‹t
 = 0;

287 *
loˇl_sock
 = 
	`böd_loˇl
 (&
addr
, &
p‹t
);

288 i‡(*
loˇl_sock
 < 0)

289  
FTPSYSERR
;

292 
	`ù_addªss_to_p‹t_ª¥
 (&
addr
, 
p‹t
, 
byãs
,  (bytes));

295 
ªque°
 = 
	`·p_ªque°
 ("PORT", 
byãs
);

296 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

297 i‡(
nwrôãn
 < 0)

299 
	`x‰ì
 (
ªque°
);

300 
	`fd_˛o£
 (*
loˇl_sock
);

301  
WRITEFAILED
;

303 
	`x‰ì
 (
ªque°
);

306 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

307 i‡(
îr
 !
FTPOK
)

309 
	`fd_˛o£
 (*
loˇl_sock
);

310  
îr
;

312 i‡(*
ª•löe
 != '2')

314 
	`x‰ì
 (
ª•löe
);

315 
	`fd_˛o£
 (*
loˇl_sock
);

316  
FTPPORTERR
;

318 
	`x‰ì
 (
ª•löe
);

319  
FTPOK
;

320 
	}
}

322 #ifde‡
ENABLE_IPV6


324 
	$ù_addªss_to_Õπ_ª¥
 (c⁄° 
ù_addªss
 *
addr
, 
p‹t
, *
buf
,

325 
size_t
 
buÊí
)

327 *
±r
 = 
	`IP_INADDR_DATA
 (
addr
);

330 
	`as£π
 (
buÊí
 >= 21 * 4);

333 
addr
->
Ámûy
)

335 
AF_INET
:

336 
	`¢¥ötf
 (
buf
, 
buÊí
, "%d,%d,%d,%d,%d,%d,%d,%d,%d", 4, 4,

337 
±r
[0],Ötr[1],Ötr[2],Ötr[3], 2,

338 (
p‹t
 & 0xff00) >> 8,Öort & 0xff);

340 
AF_INET6
:

341 
	`¢¥ötf
 (
buf
, 
buÊí
,

344 
±r
[0],Ötr[1],Ötr[2],Ötr[3],Ötr[4],Ötr[5],Ötr[6],Ötr[7],

345 
±r
[8],Ötr[9],Ötr[10],Ötr[11],Ötr[12],Ötr[13],Ötr[14],Ötr[15],

346 2, (
p‹t
 & 0xff00) >> 8,Öort & 0xff);

349 
	`ab‹t
 ();

351 
	}
}

356 
uîr_t


357 
	$·p_Õπ
 (
csock
, *
loˇl_sock
)

359 
uîr_t
 
îr
;

360 *
ªque°
, *
ª•löe
;

361 
ù_addªss
 
addr
;

362 
nwrôãn
;

363 
p‹t
;

365 
byãs
[21 * 4 + 1];

368 i‡(!
	`sockë_ù_addªss
 (
csock
, &
addr
, 
ENDPOINT_LOCAL
))

369  
FTPSYSERR
;

371 
	`as£π
 (
addr
.
Ámûy
 =
AF_INET
 ||áddr.Ámûy =
AF_INET6
);

374 
p‹t
 = 0;

377 *
loˇl_sock
 = 
	`böd_loˇl
 (&
addr
, &
p‹t
);

378 i‡(*
loˇl_sock
 < 0)

379  
FTPSYSERR
;

382 
	`ù_addªss_to_Õπ_ª¥
 (&
addr
, 
p‹t
, 
byãs
,  (bytes));

385 
ªque°
 = 
	`·p_ªque°
 ("LPRT", 
byãs
);

386 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

387 i‡(
nwrôãn
 < 0)

389 
	`x‰ì
 (
ªque°
);

390 
	`fd_˛o£
 (*
loˇl_sock
);

391  
WRITEFAILED
;

393 
	`x‰ì
 (
ªque°
);

395 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

396 i‡(
îr
 !
FTPOK
)

398 
	`fd_˛o£
 (*
loˇl_sock
);

399  
îr
;

401 i‡(*
ª•löe
 != '2')

403 
	`x‰ì
 (
ª•löe
);

404 
	`fd_˛o£
 (*
loˇl_sock
);

405  
FTPPORTERR
;

407 
	`x‰ì
 (
ª•löe
);

408  
FTPOK
;

409 
	}
}

412 
	$ù_addªss_to_ïπ_ª¥
 (c⁄° 
ù_addªss
 *
addr
, 
p‹t
, *
buf
,

413 
size_t
 
buÊí
)

415 
a‚um
;

420 
	`as£π
 (
buÊí
 >4 + 
INET6_ADDRSTRLEN
 + 1 + 5);

423 
a‚um
 = (
addr
->
Ámûy
 =
AF_INET
 ? 1 : 2);

424 
	`¢¥ötf
 (
buf
, 
buÊí
, "|%d|%s|%d|", 
a‚um
, 
	`¥öt_addªss
 (
addr
), 
p‹t
);

425 
buf
[
buÊí
 - 1] = '\0';

426 
	}
}

431 
uîr_t


432 
	$·p_ïπ
 (
csock
, *
loˇl_sock
)

434 
uîr_t
 
îr
;

435 *
ªque°
, *
ª•löe
;

436 
ù_addªss
 
addr
;

437 
nwrôãn
;

438 
p‹t
;

442 
byãs
[4 + 
INET6_ADDRSTRLEN
 + 1 + 5 + 1];

445 i‡(!
	`sockë_ù_addªss
 (
csock
, &
addr
, 
ENDPOINT_LOCAL
))

446  
FTPSYSERR
;

449 
p‹t
 = 0;

452 *
loˇl_sock
 = 
	`böd_loˇl
 (&
addr
, &
p‹t
);

453 i‡(*
loˇl_sock
 < 0)

454  
FTPSYSERR
;

457 
	`ù_addªss_to_ïπ_ª¥
 (&
addr
, 
p‹t
, 
byãs
,  (bytes));

460 
ªque°
 = 
	`·p_ªque°
 ("EPRT", 
byãs
);

461 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

462 i‡(
nwrôãn
 < 0)

464 
	`x‰ì
 (
ªque°
);

465 
	`fd_˛o£
 (*
loˇl_sock
);

466  
WRITEFAILED
;

468 
	`x‰ì
 (
ªque°
);

470 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

471 i‡(
îr
 !
FTPOK
)

473 
	`fd_˛o£
 (*
loˇl_sock
);

474  
îr
;

476 i‡(*
ª•löe
 != '2')

478 
	`x‰ì
 (
ª•löe
);

479 
	`fd_˛o£
 (*
loˇl_sock
);

480  
FTPPORTERR
;

482 
	`x‰ì
 (
ª•löe
);

483  
FTPOK
;

484 
	}
}

490 
uîr_t


491 
	$·p_∑sv
 (
csock
, 
ù_addªss
 *
addr
, *
p‹t
)

493 *
ªque°
, *
ª•löe
, *
s
;

494 
nwrôãn
, 
i
;

495 
uîr_t
 
îr
;

496 
tmp
[6];

498 
	`as£π
 (
addr
 !
NULL
);

499 
	`as£π
 (
p‹t
 !
NULL
);

501 
	`xzîo
 (*
addr
);

504 
ªque°
 = 
	`·p_ªque°
 ("PASV", 
NULL
);

506 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

507 i‡(
nwrôãn
 < 0)

509 
	`x‰ì
 (
ªque°
);

510  
WRITEFAILED
;

512 
	`x‰ì
 (
ªque°
);

514 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

515 i‡(
îr
 !
FTPOK
)

516  
îr
;

517 i‡(*
ª•löe
 != '2')

519 
	`x‰ì
 (
ª•löe
);

520  
FTPNOPASV
;

523 
s
 = 
ª•löe
;

524 
s
 +4; *†&& !
	`c_isdigô
 (*s); s++)

526 i‡(!*
s
)

527  
FTPINVPASV
;

528 
i
 = 0; i < 6; i++)

530 
tmp
[
i
] = 0;

531 ; 
	`c_isdigô
 (*
s
); s++)

532 
tmp
[
i
] = (*
s
 - '0') + 10 *Åmp[i];

533 i‡(*
s
 == ',')

534 
s
++;

535 i‡(
i
 < 5)

538 
	`x‰ì
 (
ª•löe
);

539  
FTPINVPASV
;

542 
	`x‰ì
 (
ª•löe
);

544 
addr
->
Ámûy
 = 
AF_INET
;

545 
	`mem˝y
 (
	`IP_INADDR_DATA
 (
addr
), 
tmp
, 4);

546 *
p‹t
 = ((
tmp
[4] << 8) & 0xff00) +Åmp[5];

548  
FTPOK
;

549 
	}
}

551 #ifde‡
ENABLE_IPV6


555 
uîr_t


556 
	$·p_Õsv
 (
csock
, 
ù_addªss
 *
addr
, *
p‹t
)

558 *
ªque°
, *
ª•löe
, *
s
;

559 
nwrôãn
, 
i
, 
af
, 
addæí
, 
p‹éí
;

560 
uîr_t
 
îr
;

561 
tmp
[16];

562 
tmµπ
[2];

564 
	`as£π
 (
addr
 !
NULL
);

565 
	`as£π
 (
p‹t
 !
NULL
);

567 
	`xzîo
 (*
addr
);

570 
ªque°
 = 
	`·p_ªque°
 ("LPSV", 
NULL
);

573 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

574 i‡(
nwrôãn
 < 0)

576 
	`x‰ì
 (
ªque°
);

577  
WRITEFAILED
;

579 
	`x‰ì
 (
ªque°
);

582 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

583 i‡(
îr
 !
FTPOK
)

584  
îr
;

585 i‡(*
ª•löe
 != '2')

587 
	`x‰ì
 (
ª•löe
);

588  
FTPNOPASV
;

592 
s
 = 
ª•löe
;

593 
s
 +4; *†&& !
	`c_isdigô
 (*s); s++)

595 i‡(!*
s
)

596  
FTPINVPASV
;

599 
af
 = 0;

600 ; 
	`c_isdigô
 (*
s
); s++)

601 
af
 = (*
s
 - '0') + 10 *áf;

603 i‡(
af
 != 4 &&áf != 6)

605 
	`x‰ì
 (
ª•löe
);

606  
FTPINVPASV
;

609 i‡(!*
s
 || *s++ != ',')

611 
	`x‰ì
 (
ª•löe
);

612  
FTPINVPASV
;

616 
addæí
 = 0;

617 ; 
	`c_isdigô
 (*
s
); s++)

618 
addæí
 = (*
s
 - '0') + 10 *áddrlen;

620 i‡(!*
s
 || *s++ != ',')

622 
	`x‰ì
 (
ª•löe
);

623  
FTPINVPASV
;

626 i‡(
addæí
 > 16)

628 
	`x‰ì
 (
ª•löe
);

629  
FTPINVPASV
;

632 i‡((
af
 =4 && 
addæí
 != 4)

633 || (
af
 =6 && 
addæí
 != 16))

635 
	`x‰ì
 (
ª•löe
);

636  
FTPINVPASV
;

640 
i
 = 0; i < 
addæí
; i++)

642 
tmp
[
i
] = 0;

643 ; 
	`c_isdigô
 (*
s
); s++)

644 
tmp
[
i
] = (*
s
 - '0') + 10 *Åmp[i];

645 i‡(*
s
 == ',')

646 
s
++;

649 
	`x‰ì
 (
ª•löe
);

650  
FTPINVPASV
;

655 
p‹éí
 = 0;

656 ; 
	`c_isdigô
 (*
s
); s++)

657 
p‹éí
 = (*
s
 - '0') + 10 *Öortlen;

659 i‡(!*
s
 || *s++ != ',')

661 
	`x‰ì
 (
ª•löe
);

662  
FTPINVPASV
;

665 i‡(
p‹éí
 > 2)

667 
	`x‰ì
 (
ª•löe
);

668  
FTPINVPASV
;

672 
tmµπ
[0] = 0;

673 ; 
	`c_isdigô
 (*
s
); s++)

674 
tmµπ
[0] = (*
s
 - '0') + 10 *Åmpprt[0];

676 i‡(!*
s
 || *s++ != ',')

678 
	`x‰ì
 (
ª•löe
);

679  
FTPINVPASV
;

682 
tmµπ
[1] = 0;

683 ; 
	`c_isdigô
 (*
s
); s++)

684 
tmµπ
[1] = (*
s
 - '0') + 10 *Åmpprt[1];

686 
	`as£π
 (
s
 !
NULL
);

688 i‡(
af
 == 4)

690 
addr
->
Ámûy
 = 
AF_INET
;

691 
	`mem˝y
 (
	`IP_INADDR_DATA
 (
addr
), 
tmp
, 4);

692 *
p‹t
 = ((
tmµπ
[0] << 8) & 0xff00) +Åmpprt[1];

693 
	`DEBUGP
 (("Õsvádd∏is: %s\n", 
	`¥öt_addªss
(
addr
)));

694 
	`DEBUGP
 (("tmµπ[0] is: %d\n", 
tmµπ
[0]));

695 
	`DEBUGP
 (("tmµπ[1] is: %d\n", 
tmµπ
[1]));

696 
	`DEBUGP
 (("*p‹àis: %d\n", *
p‹t
));

700 
	`as£π
 (
af
 == 6);

701 
addr
->
Ámûy
 = 
AF_INET6
;

702 
	`mem˝y
 (
	`IP_INADDR_DATA
 (
addr
), 
tmp
, 16);

703 *
p‹t
 = ((
tmµπ
[0] << 8) & 0xff00) +Åmpprt[1];

704 
	`DEBUGP
 (("Õsvádd∏is: %s\n", 
	`¥öt_addªss
(
addr
)));

705 
	`DEBUGP
 (("tmµπ[0] is: %d\n", 
tmµπ
[0]));

706 
	`DEBUGP
 (("tmµπ[1] is: %d\n", 
tmµπ
[1]));

707 
	`DEBUGP
 (("*p‹àis: %d\n", *
p‹t
));

710 
	`x‰ì
 (
ª•löe
);

711  
FTPOK
;

712 
	}
}

717 
uîr_t


718 
	$·p_ïsv
 (
csock
, 
ù_addªss
 *
ù
, *
p‹t
)

720 *
ªque°
, *
ª•löe
, *
°¨t
, 
dñim
, *
s
;

721 
nwrôãn
, 
i
;

722 
uîr_t
 
îr
;

723 
ç‹t
;

725 
	`as£π
 (
ù
 !
NULL
);

726 
	`as£π
 (
p‹t
 !
NULL
);

733 
ªque°
 = 
	`·p_ªque°
 ("EPSV", (
ù
->
Ámûy
 =
AF_INET
 ? "1" : "2"));

736 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

737 i‡(
nwrôãn
 < 0)

739 
	`x‰ì
 (
ªque°
);

740  
WRITEFAILED
;

742 
	`x‰ì
 (
ªque°
);

745 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

746 i‡(
îr
 !
FTPOK
)

747  
îr
;

748 i‡(*
ª•löe
 != '2')

750 
	`x‰ì
 (
ª•löe
);

751  
FTPNOPASV
;

754 
	`as£π
 (
ª•löe
 !
NULL
);

756 
	`DEBUGP
(("ª•löêi†%s\n", 
ª•löe
));

759 
°¨t
 = 
	`°rchr
 (
ª•löe
, '(');

760 i‡(
°¨t
 =
NULL
)

762 
	`x‰ì
 (
ª•löe
);

763  
FTPINVPASV
;

767 
s
 = 
°¨t
 + 1;

768 
dñim
 = *
s
++;

769 i‡(
dñim
 < 33 || delim > 126)

771 
	`x‰ì
 (
ª•löe
);

772  
FTPINVPASV
;

775 
i
 = 0; i < 2; i++)

777 i‡(*
s
++ !
dñim
)

779 
	`x‰ì
 (
ª•löe
);

780  
FTPINVPASV
;

785 
ç‹t
 = 0;

786 
i
 = 1; 
	`c_isdigô
 (*
s
); s++)

788 i‡(
i
 > 5)

790 
	`x‰ì
 (
ª•löe
);

791  
FTPINVPASV
;

793 
ç‹t
 = (*
s
 - '0') + 10 *Åport;

797 i‡(*
s
++ !
dñim
)

799 
	`x‰ì
 (
ª•löe
);

800  
FTPINVPASV
;

803 i‡(*
s
 != ')')

805 
	`x‰ì
 (
ª•löe
);

806  
FTPINVPASV
;

809 *
p‹t
 = 
ç‹t
;

811 
	`x‰ì
 (
ª•löe
);

812  
FTPOK
;

813 
	}
}

817 
uîr_t


818 
	$·p_ty≥
 (
csock
, 
ty≥
)

820 *
ªque°
, *
ª•löe
;

821 
nwrôãn
;

822 
uîr_t
 
îr
;

823 
°y≥
[2];

826 
°y≥
[0] = 
ty≥
;

827 
°y≥
[1] = 0;

829 
ªque°
 = 
	`·p_ªque°
 ("TYPE", 
°y≥
);

830 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

831 i‡(
nwrôãn
 < 0)

833 
	`x‰ì
 (
ªque°
);

834  
WRITEFAILED
;

836 
	`x‰ì
 (
ªque°
);

838 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

839 i‡(
îr
 !
FTPOK
)

840  
îr
;

841 i‡(*
ª•löe
 != '2')

843 
	`x‰ì
 (
ª•löe
);

844  
FTPUNKNOWNTYPE
;

846 
	`x‰ì
 (
ª•löe
);

848  
FTPOK
;

849 
	}
}

853 
uîr_t


854 
	$·p_cwd
 (
csock
, c⁄° *
dú
)

856 *
ªque°
, *
ª•löe
;

857 
nwrôãn
;

858 
uîr_t
 
îr
;

861 
ªque°
 = 
	`·p_ªque°
 ("CWD", 
dú
);

862 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

863 i‡(
nwrôãn
 < 0)

865 
	`x‰ì
 (
ªque°
);

866  
WRITEFAILED
;

868 
	`x‰ì
 (
ªque°
);

870 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

871 i‡(
îr
 !
FTPOK
)

872  
îr
;

873 i‡(*
ª•löe
 == '5')

875 
	`x‰ì
 (
ª•löe
);

876  
FTPNSFOD
;

878 i‡(*
ª•löe
 != '2')

880 
	`x‰ì
 (
ª•löe
);

881  
FTPRERR
;

883 
	`x‰ì
 (
ª•löe
);

885  
FTPOK
;

886 
	}
}

889 
uîr_t


890 
	$·p_ª°
 (
csock
, 
wgöt
 
off£t
)

892 *
ªque°
, *
ª•löe
;

893 
nwrôãn
;

894 
uîr_t
 
îr
;

896 
ªque°
 = 
	`·p_ªque°
 ("REST", 
	`numbî_to_°©ic_°rög
 (
off£t
));

897 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

898 i‡(
nwrôãn
 < 0)

900 
	`x‰ì
 (
ªque°
);

901  
WRITEFAILED
;

903 
	`x‰ì
 (
ªque°
);

905 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

906 i‡(
îr
 !
FTPOK
)

907  
îr
;

908 i‡(*
ª•löe
 != '3')

910 
	`x‰ì
 (
ª•löe
);

911  
FTPRESTFAIL
;

913 
	`x‰ì
 (
ª•löe
);

915  
FTPOK
;

916 
	}
}

919 
uîr_t


920 
	$·p_ªå
 (
csock
, c⁄° *
fûe
)

922 *
ªque°
, *
ª•löe
;

923 
nwrôãn
;

924 
uîr_t
 
îr
;

927 
ªque°
 = 
	`·p_ªque°
 ("RETR", 
fûe
);

928 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

929 i‡(
nwrôãn
 < 0)

931 
	`x‰ì
 (
ªque°
);

932  
WRITEFAILED
;

934 
	`x‰ì
 (
ªque°
);

936 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

937 i‡(
îr
 !
FTPOK
)

938  
îr
;

939 i‡(*
ª•löe
 == '5')

941 
	`x‰ì
 (
ª•löe
);

942  
FTPNSFOD
;

944 i‡(*
ª•löe
 != '1')

946 
	`x‰ì
 (
ª•löe
);

947  
FTPRERR
;

949 
	`x‰ì
 (
ª•löe
);

951  
FTPOK
;

952 
	}
}

956 
uîr_t


957 
	$·p_li°
 (
csock
, c⁄° *
fûe
, 
°y≥
 
rs
)

959 *
ªque°
, *
ª•löe
;

960 
nwrôãn
;

961 
uîr_t
 
îr
;

962 
boﬁ
 
ok
 = 
Ál£
;

963 
size_t
 
i
 = 0;

965 c⁄° *
li°_comm™ds
[] = { "LIST -a",

972 i‡(
rs
 =
ST_VMS
)

973 
i
 = 
	`cou¡of
 (
li°_comm™ds
)- 1;

977 
ªque°
 = 
	`·p_ªque°
 (
li°_comm™ds
[
i
], 
fûe
);

978 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

979 i‡(
nwrôãn
 < 0)

981 
	`x‰ì
 (
ªque°
);

982  
WRITEFAILED
;

984 
	`x‰ì
 (
ªque°
);

986 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

987 i‡(
îr
 =
FTPOK
)

989 i‡(*
ª•löe
 == '5')

991 
îr
 = 
FTPNSFOD
;

993 i‡(*
ª•löe
 == '1')

995 
îr
 = 
FTPOK
;

996 
ok
 = 
åue
;

1000 
îr
 = 
FTPRERR
;

1002 
	`x‰ì
 (
ª•löe
);

1004 ++
i
;

1005 } 
i
 < 
	`cou¡of
 (
li°_comm™ds
Ë&& !
ok
);

1007  
îr
;

1008 
	}
}

1011 
uîr_t


1012 
	$·p_sy°
 (
csock
, 
°y≥
 *
£rvî_ty≥
)

1014 *
ªque°
, *
ª•löe
;

1015 
nwrôãn
;

1016 
uîr_t
 
îr
;

1019 
ªque°
 = 
	`·p_ªque°
 ("SYST", 
NULL
);

1020 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

1021 i‡(
nwrôãn
 < 0)

1023 
	`x‰ì
 (
ªque°
);

1024  
WRITEFAILED
;

1026 
	`x‰ì
 (
ªque°
);

1029 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

1030 i‡(
îr
 !
FTPOK
)

1031  
îr
;

1032 i‡(*
ª•löe
 == '5')

1034 
	`x‰ì
 (
ª•löe
);

1035  
FTPSRVERR
;

1039 
	`°πok
 (
ª•löe
, " ");

1043 
ªque°
 = 
	`°πok
 (
NULL
, " ");

1045 i‡(
ªque°
 =
NULL
)

1046 *
£rvî_ty≥
 = 
ST_OTHER
;

1047 i‡(!
	`°rˇ£cmp
 (
ªque°
, "VMS"))

1048 *
£rvî_ty≥
 = 
ST_VMS
;

1049 i‡(!
	`°rˇ£cmp
 (
ªque°
, "UNIX"))

1050 *
£rvî_ty≥
 = 
ST_UNIX
;

1051 i‡(!
	`°rˇ£cmp
 (
ªque°
, "WINDOWS_NT")

1052 || !
	`°rˇ£cmp
 (
ªque°
, "WINDOWS2000"))

1053 *
£rvî_ty≥
 = 
ST_WINNT
;

1054 i‡(!
	`°rˇ£cmp
 (
ªque°
, "MACOS"))

1055 *
£rvî_ty≥
 = 
ST_MACOS
;

1056 i‡(!
	`°rˇ£cmp
 (
ªque°
, "OS/400"))

1057 *
£rvî_ty≥
 = 
ST_OS400
;

1059 *
£rvî_ty≥
 = 
ST_OTHER
;

1061 
	`x‰ì
 (
ª•löe
);

1063  
FTPOK
;

1064 
	}
}

1067 
uîr_t


1068 
	$·p_pwd
 (
csock
, **
pwd
)

1070 *
ªque°
, *
ª•löe
;

1071 
nwrôãn
;

1072 
uîr_t
 
îr
;

1075 
ªque°
 = 
	`·p_ªque°
 ("PWD", 
NULL
);

1076 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

1077 i‡(
nwrôãn
 < 0)

1079 
	`x‰ì
 (
ªque°
);

1080  
WRITEFAILED
;

1082 
	`x‰ì
 (
ªque°
);

1084 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

1085 i‡(
îr
 !
FTPOK
)

1086  
îr
;

1087 i‡(*
ª•löe
 == '5')

1089 
îr
:

1090 
	`x‰ì
 (
ª•löe
);

1091  
FTPSRVERR
;

1096 
	`°πok
 (
ª•löe
, "\"");

1097 
ªque°
 = 
	`°πok
 (
NULL
, "\"");

1098 i‡(!
ªque°
)

1101 
îr
;

1104 
	`x‰ì_nuŒ
 (*
pwd
);

1106 *
pwd
 = 
	`x°rdup
 (
ªque°
);

1108 
	`x‰ì
 (
ª•löe
);

1110  
FTPOK
;

1111 
	}
}

1115 
uîr_t


1116 
	$·p_size
 (
csock
, c⁄° *
fûe
, 
wgöt
 *
size
)

1118 *
ªque°
, *
ª•löe
;

1119 
nwrôãn
;

1120 
uîr_t
 
îr
;

1123 
ªque°
 = 
	`·p_ªque°
 ("SIZE", 
fûe
);

1124 
nwrôãn
 = 
	`fd_wrôe
 (
csock
, 
ªque°
, 
	`°æí
 (request), -1);

1125 i‡(
nwrôãn
 < 0)

1127 
	`x‰ì
 (
ªque°
);

1128 *
size
 = 0;

1129  
WRITEFAILED
;

1131 
	`x‰ì
 (
ªque°
);

1133 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

1134 i‡(
îr
 !
FTPOK
)

1136 *
size
 = 0;

1137  
îr
;

1139 i‡(*
ª•löe
 == '5')

1145 
	`x‰ì
 (
ª•löe
);

1146 *
size
 = 0;

1147  
FTPOK
;

1150 
î∫o
 = 0;

1151 *
size
 = 
	`°r_to_wgöt
 (
ª•löe
 + 4, 
NULL
, 10);

1152 i‡(
î∫o
)

1160 
	`x‰ì
 (
ª•löe
);

1161 *
size
 = 0;

1162  
FTPOK
;

1165 
	`x‰ì
 (
ª•löe
);

1167  
FTPOK
;

1168 
	}
}

1173 
	$·p_¥o˚ss_ty≥
 (c⁄° *
∑øms
)

1175 i‡(
∑øms


1176 && 0 =
	`°∫ˇ£cmp
 (
∑øms
, "type=", 5)

1177 && 
∑øms
[5] != '\0')

1178  
	`c_touµî
 (
∑øms
[5]);

1181 
	}
}

	@src/ftp-ls.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<uni°d.h
>

38 
	~<î∫o.h
>

39 
	~<time.h
>

40 
	~"utûs.h
"

41 
	~"·p.h
"

42 
	~"uæ.h
"

43 
	~"c⁄vît.h
"

44 
	~"ªå.h
"

50 
	$sym≥rms
 (c⁄° *
s
)

52 
≥rms
 = 0, 
i
;

54 i‡(
	`°æí
 (
s
) < 9)

56 
i
 = 0; i < 3; i++, 
s
 += 3)

58 
≥rms
 <<= 3;

59 
≥rms
 +(((
s
[0] == 'r') << 2) + ((s[1] == 'w') << 1) +

60 (
s
[2] == 'x' || s[2] == 's'));

62  
≥rms
;

63 
	}
}

71 
	$˛ón_löe
(*
löe
)

73 
Àn
 = 
	`°æí
 (
löe
);

74 i‡(!
Àn
)  0;

75 i‡(
löe
[
Àn
 - 1] == '\n')

76 
löe
[--
Àn
] = '\0';

77 i‡(!
Àn
)  0;

78 i‡(
löe
[
Àn
 - 1] == '\r')

79 
löe
[--
Àn
] = '\0';

80  ; *
löe
 ;Üine++ ) if (*line == '\t') *line = ' ';

81  
Àn
;

82 
	}
}

92 
fûeöfo
 *

93 
	$·p_∑r£_unix_ls
 (c⁄° *
fûe
, 
ign‹e_≥rms
)

95 
FILE
 *
Â
;

96 c⁄° *
m⁄ths
[] = {

100 
√xt
, 
Àn
, 
i
, 
îr‹
, 
ign‹e
;

101 
yór
, 
m⁄th
, 
day
;

102 
hour
, 
mö
, 
£c
, 
±y≥
;

103 
tm
 
time°ru˘
, *
äow
;

104 
time_t
 
timíow
;

106 *
löe
, *
tok
, *
±ok
;

107 
fûeöfo
 *
dú
, *
l
, 
cur
;

109 
Â
 = 
	`f›í
 (
fûe
, "rb");

110 i‡(!
Â
)

112 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

113  
NULL
;

115 
dú
 = 
l
 = 
NULL
;

118 (
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
)

120 
Àn
 = 
	`˛ón_löe
 (
löe
);

122 i‡(!
	`°∫ˇ£cmp
 (
löe
, "total", 5))

124 
	`x‰ì
 (
löe
);

128 
tok
 = 
	`°πok
 (
löe
, " ");

129 i‡(!
tok
)

131 
	`x‰ì
 (
löe
);

135 
cur
.
«me
 = 
NULL
;

136 
cur
.
lökto
 = 
NULL
;

139 *
tok
)

142 
cur
.
ty≥
 = 
FT_PLAINFILE
;

143 
	`DEBUGP
 (("PLAINFILE; "));

146 
cur
.
ty≥
 = 
FT_DIRECTORY
;

147 
	`DEBUGP
 (("DIRECTORY; "));

150 
cur
.
ty≥
 = 
FT_SYMLINK
;

151 
	`DEBUGP
 (("SYMLINK; "));

154 
cur
.
ty≥
 = 
FT_UNKNOWN
;

155 
	`DEBUGP
 (("UNKNOWN; "));

159 i‡(
ign‹e_≥rms
)

161 
cur
.
ty≥
)

163 
FT_PLAINFILE
:

164 
cur
.
≥rms
 = 0644;

166 
FT_DIRECTORY
:

167 
cur
.
≥rms
 = 0755;

171 
cur
.
≥rms
 = 0644;

173 
	`DEBUGP
 (("im∂icôÖîm†%0o; ", 
cur
.
≥rms
));

177 
cur
.
≥rms
 = 
	`sym≥rms
 (
tok
 + 1);

178 
	`DEBUGP
 (("≥rm†%0o; ", 
cur
.
≥rms
));

181 
îr‹
 = 
ign‹e
 = 0;

183 
yór
 = 
hour
 = 
mö
 = 
£c
 = 0;

184 
m⁄th
 = 
day
 = 0;

185 
±y≥
 = 
TT_DAY
;

186 
√xt
 = -1;

198 
tok
 = 
löe
;

199 
±ok
 = 
tok
,

200 (
tok
 = 
	`°πok
 (
NULL
, " ")) != NULL)

202 --
√xt
;

203 i‡(
√xt
 < 0)

205 
i
 = 0; i < 12; i++)

206 i‡(!
	`°rcmp
 (
tok
, 
m⁄ths
[
i
]))

210 i‡(
i
 != 12)

212 
wgöt
 
size
;

215 i‡(
±ok
 =
löe
)

218 
îr‹
 = 1;

221 
î∫o
 = 0;

222 
size
 = 
	`°r_to_wgöt
 (
±ok
, 
NULL
, 10);

223 i‡(
size
 =
WGINT_MAX
 && 
î∫o
 =
ERANGE
)

226 
cur
.
size
 = 0;

228 
cur
.
size
 = size;

229 
	`DEBUGP
 (("size: %s; ", 
	`numbî_to_°©ic_°rög
(
cur
.
size
)));

231 
m⁄th
 = 
i
;

232 
√xt
 = 5;

233 
	`DEBUGP
 (("m⁄th: %s; ", 
m⁄ths
[
m⁄th
]));

236 i‡(
√xt
 == 4)

238 i‡(
tok
[1])

239 
day
 = 10 * (*
tok
 - '0') +Åok[1] - '0';

241 
day
 = *
tok
 - '0';

242 
	`DEBUGP
 (("day: %d; ", 
day
));

244 i‡(
√xt
 == 3)

252 
yór
 = 0;

253 
mö
 = 
hour
 = 
£c
 = 0;

255 i‡(
	`c_isdigô
 (*
tok
))

258 ; 
	`c_isdigô
 (*
tok
);Åok++)

259 
yór
 = (*
tok
 - '0') + 10 * year;

260 i‡(*
tok
 == ':')

263 
hour
 = 
yór
;

264 
yór
 = 0;

265 
±y≥
 = 
TT_HOUR_MIN
;

266 ++
tok
;

268 ; 
	`c_isdigô
 (*
tok
);Åok++)

269 
mö
 = (*
tok
 - '0') + 10 * min;

270 i‡(*
tok
 == ':')

273 ++
tok
;

274 ; 
	`c_isdigô
 (*
tok
);Åok++)

275 
£c
 = (*
tok
 - '0') + 10 * sec;

279 i‡(
yór
)

280 
	`DEBUGP
 (("yór: %d (nÿtm); ", 
yór
));

282 
	`DEBUGP
 (("time: %02d:%02d:%02d (nÿyr); ", 
hour
, 
mö
, 
£c
));

284 i‡(
√xt
 == 2)

286 
‚Àn
;

287 *
p
;

291 
‚Àn
 = 
	`°æí
 (
tok
);

292 i‡(
‚Àn
 < 
Àn
 - (
tok
 - 
löe
))

296 
tok
[
‚Àn
] = ' ';

299 i‡(
cur
.
ty≥
 =
FT_SYMLINK
)

301 
p
 = 
	`°r°r
 (
tok
, " -> ");

302 i‡(!
p
)

304 
îr‹
 = 1;

307 
cur
.
lökto
 = 
	`x°rdup
 (
p
 + 4);

308 
	`DEBUGP
 (("lökÅo: %s\n", 
cur
.
lökto
));

310 *
p
 = '\0';

316 i‡(!
	`°rcmp
 (
tok
, ".") || !strcmp (tok, ".."))

318 
	`DEBUGP
 (("\nIgnoring `.'ánd `..'; "));

319 
ign‹e
 = 1;

330 
‚Àn
 = 
	`°æí
 (
tok
);

331 
cur
.
«me
 = 
	`xmÆloc
 (
‚Àn
 + 1);

332 
	`mem˝y
 (
cur
.
«me
, 
tok
, 
‚Àn
 + 1);

333 i‡(
‚Àn
)

335 i‡(
cur
.
ty≥
 =
FT_DIRECTORY
 && cur.
«me
[
‚Àn
 - 1] == '/')

337 
cur
.
«me
[
‚Àn
 - 1] = '\0';

338 
	`DEBUGP
 (("trailing `/' on dir.\n"));

340 i‡(
cur
.
ty≥
 =
FT_SYMLINK
 && cur.
«me
[
‚Àn
 - 1] == '@')

342 
cur
.
«me
[
‚Àn
 - 1] = '\0';

343 
	`DEBUGP
 (("trailing `@' onÜink.\n"));

345 i‡(
cur
.
ty≥
 =
FT_PLAINFILE


346 && (
cur
.
≥rms
 & 0111)

347 && 
cur
.
«me
[
‚Àn
 - 1] == '*')

349 
cur
.
«me
[
‚Àn
 - 1] = '\0';

350 
	`DEBUGP
 (("trailing `*' onÉxec.\n"));

354 
îr‹
 = 1;

358 
	`ab‹t
 ();

361 i‡(!
cur
.
«me
 || (cur.
ty≥
 =
FT_SYMLINK
 && !cur.
lökto
))

362 
îr‹
 = 1;

364 
	`DEBUGP
 (("%s\n", 
cur
.
«me
 ? cur.name : ""));

366 i‡(
îr‹
 || 
ign‹e
)

368 
	`DEBUGP
 (("Skipping.\n"));

369 
	`x‰ì_nuŒ
 (
cur
.
«me
);

370 
	`x‰ì_nuŒ
 (
cur
.
lökto
);

371 
	`x‰ì
 (
löe
);

375 i‡(!
dú
)

377 
l
 = 
dú
 = 
	`x√w
 (
fûeöfo
);

378 
	`mem˝y
 (
l
, &
cur
,  (cur));

379 
l
->
¥ev
 =Ü->
√xt
 = 
NULL
;

383 
cur
.
¥ev
 = 
l
;

384 
l
->
√xt
 = 
	`x√w
 (
fûeöfo
);

385 
l
 =Ü->
√xt
;

386 
	`mem˝y
 (
l
, &
cur
,  (cur));

387 
l
->
√xt
 = 
NULL
;

390 
timíow
 = 
	`time
 (
NULL
);

391 
äow
 = 
	`loˇ…ime
 (&
timíow
);

393 
time°ru˘
.
tm_£c
 = 
£c
;

394 
time°ru˘
.
tm_mö
 = 
mö
;

395 
time°ru˘
.
tm_hour
 = 
hour
;

396 
time°ru˘
.
tm_mday
 = 
day
;

397 
time°ru˘
.
tm_m⁄
 = 
m⁄th
;

398 i‡(
yór
 == 0)

405 i‡(
m⁄th
 > 
äow
->
tm_m⁄
)

406 
time°ru˘
.
tm_yór
 = 
äow
->tm_year - 1;

408 
time°ru˘
.
tm_yór
 = 
äow
->tm_year;

411 
time°ru˘
.
tm_yór
 = 
yór
;

412 i‡(
time°ru˘
.
tm_yór
 >= 1900)

413 
time°ru˘
.
tm_yór
 -= 1900;

414 
time°ru˘
.
tm_wday
 = 0;

415 
time°ru˘
.
tm_yday
 = 0;

416 
time°ru˘
.
tm_isd°
 = -1;

417 
l
->
t°amp
 = 
	`mktime
 (&
time°ru˘
);

418 
l
->
±y≥
 =Ötype;

420 
	`x‰ì
 (
löe
);

423 
	`f˛o£
 (
Â
);

424  
dú
;

425 
	}
}

427 
fûeöfo
 *

428 
	$·p_∑r£_wö¡_ls
 (c⁄° *
fûe
)

430 
FILE
 *
Â
;

431 
Àn
;

432 
yór
, 
m⁄th
, 
day
;

433 
hour
, 
mö
;

434 
tm
 
time°ru˘
;

436 *
löe
, *
tok
;

437 
fûeöfo
 *
dú
, *
l
, 
cur
;

439 
Â
 = 
	`f›í
 (
fûe
, "rb");

440 i‡(!
Â
)

442 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

443  
NULL
;

445 
dú
 = 
l
 = 
NULL
;

448 (
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
)

450 
Àn
 = 
	`˛ón_löe
 (
löe
);

458 i‡(
Àn
 < 40Ë
c⁄töue_lo›
;

459 
tok
 = 
löe
 + 39;

460 
cur
.
«me
 = 
	`x°rdup
(
tok
);

461 
	`DEBUGP
 (("Name: '%s'\n", 
cur
.
«me
));

465 
tok
 = 
	`°πok
(
löe
, "-");

466 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

467 
m⁄th
 = 
	`©oi
(
tok
) - 1;

468 i‡(
m⁄th
 < 0) month = 0;

469 
tok
 = 
	`°πok
(
NULL
, "-");

470 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

471 
day
 = 
	`©oi
(
tok
);

472 
tok
 = 
	`°πok
(
NULL
, " ");

473 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

474 
yór
 = 
	`©oi
(
tok
);

476 i‡(
yór
 <= 70) year += 100;

480 
tok
 = 
	`°πok
(
NULL
, ":");

481 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

482 
hour
 = 
	`©oi
(
tok
);

483 
tok
 = 
	`°πok
(
NULL
, "M");

484 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

485 
mö
 = 
	`©oi
(
tok
);

488 
tok
+=2;

489 i‡(
hour
 == 12) hour = 0;

490 i‡(*
tok
 ='P'Ë
hour
 += 12;

492 
	`DEBUGP
 (("YYYY/MM/DD HH:MM - %d/%02d/%02d %02d:%02d\n",

493 
yór
+1900, 
m⁄th
, 
day
, 
hour
, 
mö
));

496 
time°ru˘
.
tm_£c
 = 0;

497 
time°ru˘
.
tm_mö
 = 
mö
;

498 
time°ru˘
.
tm_hour
 = 
hour
;

499 
time°ru˘
.
tm_mday
 = 
day
;

500 
time°ru˘
.
tm_m⁄
 = 
m⁄th
;

501 
time°ru˘
.
tm_yór
 = 
yór
;

502 
time°ru˘
.
tm_wday
 = 0;

503 
time°ru˘
.
tm_yday
 = 0;

504 
time°ru˘
.
tm_isd°
 = -1;

505 
cur
.
t°amp
 = 
	`mktime
 (&
time°ru˘
);

506 
cur
.
±y≥
 = 
TT_HOUR_MIN
;

508 
	`DEBUGP
 (("Time°amp: %ld\n", 
cur
.
t°amp
));

514 
tok
 = 
	`°πok
(
NULL
, " ");

515 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

516 (
tok
 !
NULL
Ë&& (*tok ='\0')Ëtok = 
	`°πok
(NULL, " ");

517 i‡(
tok
 =
NULL
Ë
c⁄töue_lo›
;

518 i‡(*
tok
 == '<')

520 
cur
.
ty≥
 = 
FT_DIRECTORY
;

521 
cur
.
size
 = 0;

522 
cur
.
≥rms
 = 0755;

523 
	`DEBUGP
 (("Directory\n"));

527 
wgöt
 
size
;

528 
cur
.
ty≥
 = 
FT_PLAINFILE
;

529 
î∫o
 = 0;

530 
size
 = 
	`°r_to_wgöt
 (
tok
, 
NULL
, 10);

531 i‡(
size
 =
WGINT_MAX
 && 
î∫o
 =
ERANGE
)

532 
cur
.
size
 = 0;

534 
cur
.
size
 = size;

535 
cur
.
≥rms
 = 0644;

536 
	`DEBUGP
 (("Fûe, sizê%†byãs\n", 
	`numbî_to_°©ic_°rög
 (
cur
.
size
)));

539 
cur
.
lökto
 = 
NULL
;

542 i‡(!
dú
)

544 
l
 = 
dú
 = 
	`x√w
 (
fûeöfo
);

545 
	`mem˝y
 (
l
, &
cur
,  (cur));

546 
l
->
¥ev
 =Ü->
√xt
 = 
NULL
;

550 
cur
.
¥ev
 = 
l
;

551 
l
->
√xt
 = 
	`x√w
 (
fûeöfo
);

552 
l
 =Ü->
√xt
;

553 
	`mem˝y
 (
l
, &
cur
,  (cur));

554 
l
->
√xt
 = 
NULL
;

557 
c⁄töue_lo›
:

558 
	`x‰ì
 (
löe
);

561 
	`f˛o£
(
Â
);

562  
dú
;

563 
	}
}

585 
	#VMS_DEFAULT_PROT_FILE
 0644

	)

586 
	#VMS_DEFAULT_PROT_DIR
 0755

	)

597 
	$ót_ˇªts
–*
°r
)

600 *
°rd
;

601 
hdgt
;

602 
uchr
;

603 
¥›
;

606 (*
°r
 != '\0') && (*str != '^'))

607 
°r
++;

610 i‡(*
°r
 != '\0')

613 
°rd
 = 
°r
;

614 *
°r
 != '\0')

616 
uchr
 = *
°r
;

617 i‡(
uchr
 == '^')

620 
uchr
 = *(++
°r
);

621 
¥›
 = 
ch¨_¥›
[ 
uchr
];

622 i‡(
¥›
& 64)

625 i‡(
uchr
 <= '9')

627 
hdgt
 = 
uchr
- '0';

631 
hdgt
 = ((
uchr
- 'A')& 7)+ 10;

633 
hdgt
 <<= 4;

634 
uchr
 = *(++
°r
);

635 i‡(
uchr
 <= '9')

637 
uchr
 = 
hdgt
+ uchr- '0';

641 
uchr
 = 
hdgt
+ ((uchr- 'A')& 15)+ 10;

644 i‡(
uchr
 == '_')

647 
uchr
 = ' ';

649 i‡(
uchr
 == '/')

656 
uchr
 = '?';

663 *
°rd
 = 
uchr
;

666 
°rd
++;

667 
°r
++;

670 *
°rd
 = '\0';

672 
	}
}

675 
fûeöfo
 *

676 
	$·p_∑r£_vms_ls
 (c⁄° *
fûe
)

678 
FILE
 *
Â
;

679 
dt
, 
i
, 
j
, 
Àn
;

680 
≥rms
;

681 
time_t
 
timíow
;

682 
tm
 *
time°ru˘
;

683 
d©e_°r
[ 32];

685 *
löe
, *
tok
;

686 
fûeöfo
 *
dú
, *
l
, 
cur
;

688 
Â
 = 
	`f›í
 (
fûe
, "r");

689 i‡(!
Â
)

691 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

692  
NULL
;

694 
dú
 = 
l
 = 
NULL
;

698 
j
 = 0;

701 
löe
 = 
	`ªad_whﬁe_löe
 (
Â
);

702 i‡(
löe
 =
NULL
)

708 
i
 = 
	`˛ón_löe
 (
löe
);

709 i‡(
i
 <= 0)

711 
	`x‰ì
 (
löe
);

716 i‡((
j
 =0Ë&& (
löe
[ 
i
- 1] == ']'))

721 
j
 = 1;

723 i‡(!
	`°∫cmp
 (
löe
, "Total of ", 9))

728 
	`x‰ì
 (
löe
);

729 
löe
 = 
NULL
;

737 
	`x‰ì
 (
löe
);

743 
löe
 !
NULL
)

745 *
p
;

753 
tok
 = 
	`°πok
(
löe
, " ");

754 i‡(
tok
 =
NULL
Ëtok = 
löe
;

755 
	`DEBUGP
 (("fûê«me: '%s'\n", 
tok
));

768 #i‡(!
	`deföed
–
__VMS
Ë&& !deföed–
PRESERVE_VMS_VERSIONS
))

769 
p
 = 
tok
 + 
	`°æí
 (tok); (--∞>ÅokË&& 
	`c_isdigô
( *p); );

770 i‡((*
p
 == ';') && (*(p- 1) != '^'))

772 *
p
 = '\0';

780 
	`ót_ˇªts
 (
tok
);

781 
	`DEBUGP
 (("fûê«me-^: '%s'\n", 
tok
));

790 
Àn
 = 
	`°æí
 (
tok
);

791 i‡(!
	`°∫ˇ£cmp
((
tok
 + (
Àn
 - 4)), ".DIR", 4))

793 *(
tok
+ (
Àn
 - 4)) = '\0';

794 
cur
.
ty≥
 = 
FT_DIRECTORY
;

795 
cur
.
≥rms
 = 
VMS_DEFAULT_PROT_DIR
;

796 
	`DEBUGP
 (("Directory (nv)\n"));

798 i‡(!
	`°∫ˇ£cmp
 ((
tok
 + (
Àn
 - 6)), ".DIR;1", 6))

800 *(
tok
+ (
Àn
 - 6)) = '\0';

801 
cur
.
ty≥
 = 
FT_DIRECTORY
;

802 
cur
.
≥rms
 = 
VMS_DEFAULT_PROT_DIR
;

803 
	`DEBUGP
 (("Directory (v)\n"));

807 
cur
.
ty≥
 = 
FT_PLAINFILE
;

808 
cur
.
≥rms
 = 
VMS_DEFAULT_PROT_FILE
;

809 
	`DEBUGP
 (("File\n"));

811 
cur
.
«me
 = 
	`x°rdup
 (
tok
);

812 
	`DEBUGP
 (("Name: '%s'\n", 
cur
.
«me
));

815 *
d©e_°r
 = '\0';

818 
cur
.
lökto
 = 
NULL
;

824 
cur
.
size
 = 0;

830 
tok
 = 
	`°πok
 (
NULL
, " ");

831 i‡(
tok
 =
NULL
)

833 
	`DEBUGP
 (("GettingádditionalÜine.\n"));

834 
	`x‰ì
 (
löe
);

835 
löe
 = 
	`ªad_whﬁe_löe
 (
Â
);

836 i‡(!
löe
)

838 
	`DEBUGP
 (("EOF. LeavingÜistingÖarser.\n"));

845 i‡(
i
 <= 0)

848 
	`DEBUGP
 (("BlankÜine. LeavingÜistingÖarser.\n"));

849 
	`x‰ì
 (
löe
);

852 i‡(
löe
[ 0] != ' ')

854 
	`DEBUGP
 (("Non-blank in column 1. Must beáÇew fileÇame?\n"));

859 
tok
 = 
	`°πok
 (
löe
, " ");

860 i‡(
tok
 =
NULL
)

863 
	`DEBUGP
 (("NullÅoken. LeavingÜistingÖarser.\n"));

864 
	`x‰ì
 (
löe
);

883 
tok
 !
NULL
)

885 
	`DEBUGP
 (("Tokí: >%s<: ", 
tok
));

887 i‡((
	`°æí
 (
tok
Ë< 12Ë&& (
	`°rchr
–tok, '-'Ë!
NULL
))

890 
	`DEBUGP
 (("Date.\n"));

891 
	`°r˝y
–
d©e_°r
, 
tok
);

892 
	`°rˇt
–
d©e_°r
, " ");

894 i‡((
	`°æí
 (
tok
Ë< 12Ë&& (
	`°rchr
–tok, ':'Ë!
NULL
))

897 
	`DEBUGP
 (("Time. "));

898 
	`°∫ˇt
–
d©e_°r
,

899 
tok
,

900 (–
d©e_°r
)- 
	`°æí
 (date_str) - 1));

901 
	`DEBUGP
 (("D©êtime: >%s<\n", 
d©e_°r
));

903 i‡(
	`°rchr
 ( 
tok
, '['Ë!
NULL
)

906 
	`DEBUGP
 (("Owner.\n"));

908 i‡(
	`°rchr
 (
tok
, '('Ë!
NULL
)

911 
≥rms
 = 0;

912 
j
 = 0;

913 
i
 = 0; i < 
	`°æí
–
tok
); i++)

915 
tok
[ 
i
])

922 i‡(
j
 == 0)

924 
≥rms
 = 0;

925 
j
 = 1;

929 
≥rms
 <<= 3;

933 
≥rms
 |= 4;

936 
≥rms
 |= 2;

939 
≥rms
 |= 1;

942 
≥rms
 |= 2;

946 
cur
.
≥rms
 =Öerms;

947 
	`DEBUGP
 (("PrŸ.Öîm†%0o.\n", 
cur
.
≥rms
));

954 
	`DEBUGP
 (("Ignored (size?).\n"));

957 
tok
 = 
	`°πok
 (
NULL
, " ");

967 
timíow
 = 
	`time
–
NULL
);

968 
time°ru˘
 = 
	`loˇ…ime
–&
timíow
 );

969 
	`°Ωtime
–
d©e_°r
, "%d-%b-%Y %H:%M:%S", 
time°ru˘
);

972 
timíow
 = 
	`mktime
 (
time°ru˘
);

974 i‡((
tok
 = 
	`gëív
 ( "WGET_TIMEZONE_DIFFERENTIAL")Ë!
NULL
)

976 
dt
 = 
	`©oi
 (
tok
);

977 
	`DEBUGP
 (("Timêdif„ª¡ü»%d.\n", 
dt
));

980 
dt
 = 0;

982 i‡(
dt
 >= 0)

983 
timíow
 +
dt
;

985 
timíow
 -(-
dt
);

987 
cur
.
t°amp
 = 
timíow
;

988 
	`DEBUGP
 (("Time°amp: %ld\n", 
cur
.
t°amp
));

989 
cur
.
±y≥
 = 
TT_HOUR_MIN
;

992 i‡(!
dú
)

994 
l
 = 
dú
 = (
fûeöfo
 *)
	`xmÆloc
 ( (fileinfo));

995 
	`mem˝y
 (
l
, &
cur
,  (cur));

996 
l
->
¥ev
 =Ü->
√xt
 = 
NULL
;

1000 
cur
.
¥ev
 = 
l
;

1001 
l
->
√xt
 = (
fûeöfo
 *)
	`xmÆloc
 ( (fileinfo));

1002 
l
 =Ü->
√xt
;

1003 
	`mem˝y
 (
l
, &
cur
,  (cur));

1004 
l
->
√xt
 = 
NULL
;

1008 
	`x‰ì
 (
löe
);

1009 
löe
 = 
	`ªad_whﬁe_löe
 (
Â
);

1010 i‡(
löe
 !
NULL
)

1012 
i
 = 
	`˛ón_löe
 (
löe
);

1013 i‡(
i
 <= 0)

1016 
	`x‰ì
 (
löe
);

1022 
	`f˛o£
 (
Â
);

1023  
dú
;

1024 
	}
}

1033 
fûeöfo
 *

1034 
	$·p_∑r£_ls
 (c⁄° *
fûe
, c⁄° 
°y≥
 
sy°em_ty≥
)

1036 
sy°em_ty≥
)

1038 
ST_UNIX
:

1039  
	`·p_∑r£_unix_ls
 (
fûe
, 0);

1040 
ST_WINNT
:

1043 
FILE
 *
Â
;

1044 
c
;

1045 
Â
 = 
	`f›í
 (
fûe
, "rb");

1046 i‡(!
Â
)

1048 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

1049  
NULL
;

1051 
c
 = 
	`fgëc
(
Â
);

1052 
	`f˛o£
(
Â
);

1055 i‡(
c
 >= '0' && c <='9')

1056  
	`·p_∑r£_wö¡_ls
 (
fûe
);

1058  
	`·p_∑r£_unix_ls
 (
fûe
, 1);

1060 
ST_VMS
:

1061  
	`·p_∑r£_vms_ls
 (
fûe
);

1062 
ST_MACOS
:

1063  
	`·p_∑r£_unix_ls
 (
fûe
, 1);

1065 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("\
ÜistingÅype,Årying UnixÜistingÖarser.\n"));

1067  
	`·p_∑r£_unix_ls
 (
fûe
, 0);

1069 
	}
}

1076 
uîr_t


1077 
	$·p_ödex
 (c⁄° *
fûe
, 
uæ
 *
u
, 
fûeöfo
 *
f
)

1079 
FILE
 *
Â
;

1080 *
upwd
;

1081 *
ht˛dú
;

1082 *
ht˛fûe
;

1083 *
uæ˛fûe
;

1085 i‡(!
ouçut_°ªam
)

1087 
Â
 = 
	`f›í
 (
fûe
, "wb");

1088 i‡(!
Â
)

1090 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

1091  
FOPENERR
;

1095 
Â
 = 
ouçut_°ªam
;

1096 i‡(
u
->
u£r
)

1098 *
tmpu
, *
tmµ
;

1100 
tmpu
 = 
	`uæ_esˇ≥
 (
u
->
u£r
);

1101 
tmµ
 = 
u
->
∑sswd
 ? 
	`uæ_esˇ≥
 (u->∑sswdË: 
NULL
;

1102 i‡(
tmµ
)

1103 
upwd
 = 
	`c⁄ˇt_°rögs
 (
tmpu
, ":", 
tmµ
, "@", (*) 0);

1105 
upwd
 = 
	`c⁄ˇt_°rögs
 (
tmpu
, "@", (*) 0);

1106 
	`x‰ì
 (
tmpu
);

1107 
	`x‰ì_nuŒ
 (
tmµ
);

1110 
upwd
 = 
	`x°rdup
 ("");

1112 
ht˛dú
 = 
	`html_quŸe_°rög
 (
u
->
dú
);

1114 
	`Ârötf
 (
Â
, "<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n");

1115 
	`Ârötf
 (
Â
, "<html>\n<head>\n<title>");

1116 
	`Ârötf
 (
Â
, 
	`_
("Index o‡/%†⁄ %s:%d"), 
ht˛dú
, 
u
->
ho°
, u->
p‹t
);

1117 
	`Ârötf
 (
Â
, "</title>\n</head>\n<body>\n<h1>");

1118 
	`Ârötf
 (
Â
, 
	`_
("Index o‡/%†⁄ %s:%d"), 
ht˛dú
, 
u
->
ho°
, u->
p‹t
);

1119 
	`Ârötf
 (
Â
, "</h1>\n<hr>\n<pre>\n");

1121 
f
)

1123 
	`Ârötf
 (
Â
, " ");

1124 i‡(
f
->
t°amp
 != -1)

1128 c⁄° *
m⁄ths
[] = {

1132 
time_t
 
t°amp
 = 
f
->tstamp;

1133 
tm
 *
±m
 = 
	`loˇ…ime
 (&
t°amp
);

1135 
	`Ârötf
 (
Â
, "%d %†%02d ", 
±m
->
tm_yór
 + 1900, 
m⁄ths
[±m->
tm_m⁄
],

1136 
±m
->
tm_mday
);

1137 i‡(
f
->
±y≥
 =
TT_HOUR_MIN
)

1138 
	`Ârötf
 (
Â
, "%02d:%02d ", 
±m
->
tm_hour
,Ötm->
tm_mö
);

1140 
	`Ârötf
 (
Â
, " ");

1143 
	`Ârötf
 (
Â
, 
	`_
("time unknown "));

1144 
f
->
ty≥
)

1146 
FT_PLAINFILE
:

1147 
	`Ârötf
 (
Â
, 
	`_
("File "));

1149 
FT_DIRECTORY
:

1150 
	`Ârötf
 (
Â
, 
	`_
("Directory "));

1152 
FT_SYMLINK
:

1153 
	`Ârötf
 (
Â
, 
	`_
("Link "));

1156 
	`Ârötf
 (
Â
, 
	`_
("Not sure "));

1159 
ht˛fûe
 = 
	`html_quŸe_°rög
 (
f
->
«me
);

1160 
uæ˛fûe
 = 
	`uæ_esˇ≥_unß„_™d_ª£rved
 (
f
->
«me
);

1161 
	`Ârötf
 (
Â
, "<®hªf=\"·p://%s%s:%d", 
upwd
, 
u
->
ho°
, u->
p‹t
);

1162 i‡(*
u
->
dú
 != '/')

1163 
	`putc
 ('/', 
Â
);

1168 
	`Ârötf
 (
Â
, "%s", 
ht˛dú
);

1169 i‡(*
u
->
dú
)

1170 
	`putc
 ('/', 
Â
);

1171 
	`Ârötf
 (
Â
, "%s", 
uæ˛fûe
);

1172 i‡(
f
->
ty≥
 =
FT_DIRECTORY
)

1173 
	`putc
 ('/', 
Â
);

1174 
	`Ârötf
 (
Â
, "\">%s", 
ht˛fûe
);

1175 i‡(
f
->
ty≥
 =
FT_DIRECTORY
)

1176 
	`putc
 ('/', 
Â
);

1177 
	`Ârötf
 (
Â
, "</a> ");

1178 i‡(
f
->
ty≥
 =
FT_PLAINFILE
)

1179 
	`Ârötf
 (
Â
, 
	`_
(" (%†byãs)"), 
	`numbî_to_°©ic_°rög
 (
f
->
size
));

1180 i‡(
f
->
ty≥
 =
FT_SYMLINK
)

1181 
	`Ârötf
 (
Â
, "-> %s", 
f
->
lökto
 ? f->linkto : "(nil)");

1182 
	`putc
 ('\n', 
Â
);

1183 
	`x‰ì
 (
ht˛fûe
);

1184 
	`x‰ì
 (
uæ˛fûe
);

1185 
f
 = f->
√xt
;

1187 
	`Ârötf
 (
Â
, "</pre>\n</body>\n</html>\n");

1188 
	`x‰ì
 (
ht˛dú
);

1189 
	`x‰ì
 (
upwd
);

1190 i‡(!
ouçut_°ªam
)

1191 
	`f˛o£
 (
Â
);

1193 
	`fÊush
 (
Â
);

1194  
FTPOK
;

1195 
	}
}

	@src/ftp-opie.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"md5.h
"

38 
	~"·p.h
"

42 
	gWp
[2048][4] = {

2097 
uöt32_t


2098 
	$exåa˘
 (c⁄° *
s
, 
°¨t
, 
Àngth
)

2100 
˛
 = 
s
[
°¨t
 / 8];

2101 
cc
 = 
s
[
°¨t
 / 8 + 1];

2102 
¸
 = 
s
[
°¨t
 / 8 + 2];

2103 
uöt32_t
 
x
;

2104 
x
 = (
uöt32_t
)(
˛
 << 8 | 
cc
Ë<< 8 | 
¸
;

2105 
x
 >>24 - (
Àngth
 + (
°¨t
 % 8));

2106 
x
 &(0xfff‡>> (16 - 
Àngth
));

2107  
x
;

2108 
	}
}

2113 
	#STRLEN_1_4
(
s
Ë(!(s)[1] ? 1 : !(s)[2] ? 2 : !(s)[3] ? 3 : 4)

	)

2119 
	$bt€
 (*
°‹e
, c⁄° *
c
)

2121 
˝
[10];

2123 
p
, 
i
;

2124 *
°‹e_beg
 = 
°‹e
;

2126 *
°‹e
 = '\0';

2129 
	`xzîo
 (
˝
);

2130 
	`mem˝y
 (
˝
, 
c
, 8);

2133 
p
 = 0, 
i
 = 0; i < 64; i += 2)

2134 
p
 +
	`exåa˘
 (
˝
, 
i
, 2);

2135 
˝
[8] = ()
p
 << 6;

2142 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 0, 11)][0], 4);

2143 
°‹e
 +
	`STRLEN_1_4
 (store);

2144 *
°‹e
++ = ' ';

2145 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 11, 11)][0], 4);

2146 
°‹e
 +
	`STRLEN_1_4
 (store);

2147 *
°‹e
++ = ' ';

2148 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 22, 11)][0], 4);

2149 
°‹e
 +
	`STRLEN_1_4
 (store);

2150 *
°‹e
++ = ' ';

2151 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 33, 11)][0], 4);

2152 
°‹e
 +
	`STRLEN_1_4
 (store);

2153 *
°‹e
++ = ' ';

2154 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 44, 11)][0], 4);

2155 
°‹e
 +
	`STRLEN_1_4
 (store);

2156 *
°‹e
++ = ' ';

2157 
	`mem˝y
 (
°‹e
, &
Wp
[
	`exåa˘
 (
˝
, 55, 11)][0], 4);

2158 
°‹e
[4] = '\0';

2160 
	`DEBUGP
 (("wrŸê%†tÿSTORE\n", 
	`quŸe
 (
°‹e_beg
)));

2161  
°‹e_beg
;

2162 
	}
}

2191 
	$skey_ª•⁄£
 (
£quí˚
, c⁄° *
£ed
, c⁄° *
∑ss
)

2193 
key
[8];

2197 
íglish
[30];

2199 
md5_˘x
 
˘x
;

2200 
uöt32_t
 
checksum
[4];

2202 
	`md5_öô_˘x
 (&
˘x
);

2203 
	`md5_¥o˚ss_byãs
 ((c⁄° *Ë
£ed
, 
	`°æí
 (£ed), &
˘x
);

2204 
	`md5_¥o˚ss_byãs
 ((c⁄° *Ë
∑ss
, 
	`°æí
 (∑ss), &
˘x
);

2205 
	`md5_föish_˘x
 (&
˘x
, (*Ë
checksum
);

2206 
checksum
[0] ^= checksum[2];

2207 
checksum
[1] ^= checksum[3];

2208 
	`mem˝y
 (
key
, 
checksum
, 8);

2210 
£quí˚
-- > 0)

2212 
	`md5_öô_˘x
 (&
˘x
);

2213 
	`md5_¥o˚ss_byãs
 ((*Ë
key
, 8, &
˘x
);

2214 
	`md5_föish_˘x
 (&
˘x
, (*Ë
checksum
);

2215 
checksum
[0] ^= checksum[2];

2216 
checksum
[1] ^= checksum[3];

2217 
	`mem˝y
 (
key
, 
checksum
, 8);

2219  
	`bt€
 (
íglish
, 
key
);

2220 
	}
}

	@src/ftp.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<°rögs.h
>

38 
	~<uni°d.h
>

39 
	~<as£π.h
>

40 
	~<î∫o.h
>

41 
	~<time.h
>

43 
	~"utûs.h
"

44 
	~"uæ.h
"

45 
	~"ªå.h
"

46 
	~"·p.h
"

47 
	~"c⁄√˘.h
"

48 
	~"ho°.h
"

49 
	~"√åc.h
"

50 
	~"c⁄vît.h
"

51 
	~"ªcur.h
"

53 #ifde‡
__VMS


54 
	~"vms.h
"

59 #ifde‡
MSDOS


60 
	#LIST_FILENAME
 "_li°ög"

	)

62 
	#LIST_FILENAME
 ".li°ög"

	)

67 
	m°
;

68 
	mcmd
;

69 
	mcsock
;

70 
	md…ime
;

71 
°y≥
 
	mrs
;

72 *
	mid
;

73 *
	mèrgë
;

74 
uæ
 *
	m¥oxy
;

75 } 
	tcc⁄
;

77 
numuæs
;

82 
wgöt


83 
	$·p_ex≥˘ed_byãs
 (c⁄° *
s
)

85 
wgöt
 
ªs
;

89 *
s
 && *s != '(')

90 ++
s
;

91 i‡(!*
s
)

93 ++
s
;

94 
ªs
 = 
	`°r_to_wgöt
 (
s
, (**) &s, 10);

95 i‡(!*
s
)

97 *
s
 && 
	`c_is•a˚
 (*s))

98 ++
s
;

99 i‡(!*
s
)

101 i‡(
	`c_tﬁowî
 (*
s
) != 'b')

103 i‡(
	`°∫ˇ£cmp
 (
s
, "byte", 4))

108  
ªs
;

109 
	}
}

111 #ifde‡
ENABLE_IPV6


116 
uîr_t


117 
	$·p_do_∑sv
 (
csock
, 
ù_addªss
 *
addr
, *
p‹t
)

119 
uîr_t
 
îr
;

124 i‡(!
	`sockë_ù_addªss
 (
csock
, 
addr
, 
ENDPOINT_PEER
))

125 
	`ab‹t
 ();

130 
addr
->
Ámûy
)

132 
AF_INET
:

133 i‡(!
›t
.
£rvî_ª•⁄£
)

134 
	`logputs
 (
LOG_VERBOSE
, "==> PASV ... ");

135 
îr
 = 
	`·p_∑sv
 (
csock
, 
addr
, 
p‹t
);

137 
AF_INET6
:

138 i‡(!
›t
.
£rvî_ª•⁄£
)

139 
	`logputs
 (
LOG_VERBOSE
, "==> EPSV ... ");

140 
îr
 = 
	`·p_ïsv
 (
csock
, 
addr
, 
p‹t
);

143 i‡(
îr
 =
FTPNOPASV
)

145 i‡(!
›t
.
£rvî_ª•⁄£
)

146 
	`logputs
 (
LOG_VERBOSE
, "==> LPSV ... ");

147 
îr
 = 
	`·p_Õsv
 (
csock
, 
addr
, 
p‹t
);

151 
	`ab‹t
 ();

154  
îr
;

155 
	}
}

161 
uîr_t


162 
	$·p_do_p‹t
 (
csock
, *
loˇl_sock
)

164 
uîr_t
 
îr
;

165 
ù_addªss
 
cù
;

167 i‡(!
	`sockë_ù_addªss
 (
csock
, &
cù
, 
ENDPOINT_PEER
))

168 
	`ab‹t
 ();

173 
cù
.
Ámûy
)

175 
AF_INET
:

176 i‡(!
›t
.
£rvî_ª•⁄£
)

177 
	`logputs
 (
LOG_VERBOSE
, "==> PORT ... ");

178 
îr
 = 
	`·p_p‹t
 (
csock
, 
loˇl_sock
);

180 
AF_INET6
:

181 i‡(!
›t
.
£rvî_ª•⁄£
)

182 
	`logputs
 (
LOG_VERBOSE
, "==> EPRT ... ");

183 
îr
 = 
	`·p_ïπ
 (
csock
, 
loˇl_sock
);

186 i‡(
îr
 =
FTPPORTERR
)

188 i‡(!
›t
.
£rvî_ª•⁄£
)

189 
	`logputs
 (
LOG_VERBOSE
, "==> LPRT ... ");

190 
îr
 = 
	`·p_Õπ
 (
csock
, 
loˇl_sock
);

194 
	`ab‹t
 ();

196  
îr
;

197 
	}
}

200 
uîr_t


201 
	$·p_do_∑sv
 (
csock
, 
ù_addªss
 *
addr
, *
p‹t
)

203 i‡(!
›t
.
£rvî_ª•⁄£
)

204 
	`logputs
 (
LOG_VERBOSE
, "==> PASV ... ");

205  
	`·p_∑sv
 (
csock
, 
addr
, 
p‹t
);

206 
	}
}

208 
uîr_t


209 
	$·p_do_p‹t
 (
csock
, *
loˇl_sock
)

211 i‡(!
›t
.
£rvî_ª•⁄£
)

212 
	`logputs
 (
LOG_VERBOSE
, "==> PORT ... ");

213  
	`·p_p‹t
 (
csock
, 
loˇl_sock
);

214 
	}
}

218 
	$¥öt_Àngth
 (
wgöt
 
size
, wgöà
°¨t
, 
boﬁ
 
auth‹ô©ive
)

220 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Lígth: %s"), 
	`numbî_to_°©ic_°rög
 (
size
));

221 i‡(
size
 >= 1024)

222 
	`log¥ötf
 (
LOG_VERBOSE
, " (%s)", 
	`hum™_ªadabÀ
 (
size
));

223 i‡(
°¨t
 > 0)

225 i‡(
size
 - 
°¨t
 >= 1024)

226 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
(", %s (%s)Ñemaining"),

227 
	`numbî_to_°©ic_°rög
 (
size
 - 
°¨t
),

228 
	`hum™_ªadabÀ
 (
size
 - 
°¨t
));

230 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
(", %sÑemaining"),

231 
	`numbî_to_°©ic_°rög
 (
size
 - 
°¨t
));

233 
	`logputs
 (
LOG_VERBOSE
, !
auth‹ô©ive
 ? 
	`_
(" (unauthoritative)\n") : "\n");

234 
	}
}

236 
uîr_t
 
·p_gë_li°ög
 (
uæ
 *, 
cc⁄
 *, 
fûeöfo
 **);

241 
uîr_t


242 
	$gë·p
 (
uæ
 *
u
, 
wgöt
 
∑s£d_ex≥˘ed_byãs
, wgöà*
qtyªad
,

243 
wgöt
 
ª°vÆ
, 
cc⁄
 *
c⁄
, 
cou¡
)

245 
csock
, 
dtsock
, 
loˇl_sock
, 
ªs
;

246 
uîr_t
 
îr
 = 
RETROK
;

247 
FILE
 *
Â
;

248 *
u£r
, *
∑sswd
, *
ª•löe
;

249 *
tms
;

250 c⁄° *
tmøã
;

251 
cmd
 = 
c⁄
->cmd;

252 
boﬁ
 
∑sv_mode_›í
 = 
Ál£
;

253 
wgöt
 
ex≥˘ed_byãs
 = 0;

254 
boﬁ
 
gŸ_ex≥˘ed_byãs
 = 
Ál£
;

255 
boﬁ
 
ª°_Áûed
 = 
Ál£
;

256 
Êags
;

257 
wgöt
 
rd_size
;

258 
ty≥_ch¨
;

260 
	`as£π
 (
c⁄
 !
NULL
);

261 
	`as£π
 (
c⁄
->
èrgë
 !
NULL
);

266 
	`as£π
 (!((
cmd
 & 
DO_LIST
Ë&& (cmd & 
DO_RETR
)));

268 
	`as£π
 ((
cmd
 & (
DO_LIST
 | 
DO_CWD
 | 
DO_RETR
 | 
DO_LOGIN
)) != 0);

270 *
qtyªad
 = 
ª°vÆ
;

272 
u£r
 = 
u
->user;

273 
∑sswd
 = 
u
->passwd;

274 
	`£¨ch_√åc
 (
u
->
ho°
, (c⁄° **)&
u£r
, (c⁄° **)&
∑sswd
, 1);

275 
u£r
 = u£∏? u£∏: (
›t
.
·p_u£r
 ? opt.ftp_user : opt.user);

276 i‡(!
u£r
) user = "anonymous";

277 
∑sswd
 =Öasswd ?Öasswd : (
›t
.
·p_∑sswd
 ? opt.ftp_passwd : opt.passwd);

278 i‡(!
∑sswd
)Öasswd = "-wget@";

280 
dtsock
 = -1;

281 
loˇl_sock
 = -1;

282 
c⁄
->
d…ime
 = 0;

284 i‡(!(
cmd
 & 
DO_LOGIN
))

285 
csock
 = 
c⁄
->csock;

288 *
ho°
 = 
c⁄
->
¥oxy
 ? c⁄->¥oxy->ho° : 
u
->host;

289 
p‹t
 = 
c⁄
->
¥oxy
 ? c⁄->¥oxy->p‹à: 
u
->port;

290 *
log«me
 = 
u£r
;

292 i‡(
c⁄
->
¥oxy
)

295 
log«me
 = 
	`c⁄ˇt_°rögs
 (
u£r
, "@", 
u
->
ho°
, (*) 0);

302 
csock
 = 
	`c⁄√˘_to_ho°
 (
ho°
, 
p‹t
);

303 i‡(
csock
 =
E_HOST
)

305 i‡(
c⁄
->
¥oxy
)

306 
	`x‰ì
 (
log«me
);

308  
HOSTERR
;

310 i‡(
csock
 < 0)

312 i‡(
c⁄
->
¥oxy
)

313 
	`x‰ì
 (
log«me
);

315  (
	`ªåyabÀ_sockë_c⁄√˘_îr‹
 (
î∫o
)

316 ? 
CONERROR
 : 
CONIMPOSSIBLE
);

319 i‡(
cmd
 & 
LEAVE_PENDING
)

320 
c⁄
->
csock
 = csock;

322 
c⁄
->
csock
 = -1;

325 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Logging inás %s ... "),

326 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
u£r
));

327 i‡(
›t
.
£rvî_ª•⁄£
)

328 
	`logputs
 (
LOG_ALWAYS
, "\n");

329 
îr
 = 
	`·p_logö
 (
csock
, 
log«me
, 
∑sswd
);

331 i‡(
c⁄
->
¥oxy
)

332 
	`x‰ì
 (
log«me
);

335 
îr
)

337 
FTPRERR
:

338 
	`logputs
 (
LOG_VERBOSE
, "\n");

339 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

341 
	`fd_˛o£
 (
csock
);

342 
c⁄
->
csock
 = -1;

343  
îr
;

344 
FTPSRVERR
:

345 
	`logputs
 (
LOG_VERBOSE
, "\n");

346 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Error in server greeting.\n"));

347 
	`fd_˛o£
 (
csock
);

348 
c⁄
->
csock
 = -1;

349  
îr
;

350 
WRITEFAILED
:

351 
	`logputs
 (
LOG_VERBOSE
, "\n");

352 
	`logputs
 (
LOG_NOTQUIET
,

353 
	`_
("Write failed, closing control connection.\n"));

354 
	`fd_˛o£
 (
csock
);

355 
c⁄
->
csock
 = -1;

356  
îr
;

357 
FTPLOGREFUSED
:

358 
	`logputs
 (
LOG_VERBOSE
, "\n");

359 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("The serverÑefusesÜogin.\n"));

360 
	`fd_˛o£
 (
csock
);

361 
c⁄
->
csock
 = -1;

362  
FTPLOGREFUSED
;

363 
FTPLOGINC
:

364 
	`logputs
 (
LOG_VERBOSE
, "\n");

365 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Login incorrect.\n"));

366 
	`fd_˛o£
 (
csock
);

367 
c⁄
->
csock
 = -1;

368  
FTPLOGINC
;

369 
FTPOK
:

370 i‡(!
›t
.
£rvî_ª•⁄£
)

371 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("Logged in!\n"));

374 
	`ab‹t
 ();

377 i‡(!
›t
.
£rvî_ª•⁄£
)

378 
	`log¥ötf
 (
LOG_VERBOSE
, "==> SYST ... ");

379 
îr
 = 
	`·p_sy°
 (
csock
, &
c⁄
->
rs
);

381 
îr
)

383 
FTPRERR
:

384 
	`logputs
 (
LOG_VERBOSE
, "\n");

385 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

387 
	`fd_˛o£
 (
csock
);

388 
c⁄
->
csock
 = -1;

389  
îr
;

390 
FTPSRVERR
:

391 
	`logputs
 (
LOG_VERBOSE
, "\n");

392 
	`logputs
 (
LOG_NOTQUIET
,

393 
	`_
("ServerÉrror, can't determine systemÅype.\n"));

395 
FTPOK
:

399 
	`ab‹t
 ();

401 i‡(!
›t
.
£rvî_ª•⁄£
 && 
îr
 !
FTPSRVERR
)

402 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done. "));

406 i‡(!
›t
.
£rvî_ª•⁄£
)

407 
	`log¥ötf
 (
LOG_VERBOSE
, "==> PWD ... ");

408 
îr
 = 
	`·p_pwd
 (
csock
, &
c⁄
->
id
);

410 
îr
)

412 
FTPRERR
:

413 
	`logputs
 (
LOG_VERBOSE
, "\n");

414 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

416 
	`fd_˛o£
 (
csock
);

417 
c⁄
->
csock
 = -1;

418  
îr
;

419 
FTPSRVERR
 :

421 
	`x‰ì_nuŒ
 (
c⁄
->
id
);

422 
c⁄
->
id
 = 
	`x°rdup
 ("/");

424 
FTPOK
:

428 
	`ab‹t
 ();

443 i‡(
c⁄
->
rs
 =
ST_VMS
)

445 *
∑th
 = 
	`°rchr
 (
c⁄
->
id
, '[');

446 *
∑thíd
 = 
∑th
 ? 
	`°rchr
 (∑th + 1, ']'Ë: 
NULL
;

447 i‡(!
∑th
 || !
∑thíd
)

448 
	`DEBUGP
 (("Initial VMS directoryÇot inÅhe form [...]!\n"));

451 *
idú
 = 
c⁄
->
id
;

452 
	`DEBUGP
 (("PreprocessingÅhe initial VMS directory\n"));

453 
	`DEBUGP
 ((" old = '%s'\n", 
c⁄
->
id
));

457 *
idú
++ = '/';

458 ++
∑th
;Ö©h < 
∑thíd
;Ö©h++, 
idú
++)

459 *
idú
 = *
∑th
 == '.' ? '/' : *path;

460 *
idú
 = '\0';

461 
	`DEBUGP
 (("Çew = '%s'\n\n", 
c⁄
->
id
));

466 i‡(!
›t
.
£rvî_ª•⁄£
)

467 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done.\n"));

470 
ty≥_ch¨
 = 
	`·p_¥o˚ss_ty≥
 (
u
->
∑øms
);

471 i‡(!
›t
.
£rvî_ª•⁄£
)

472 
	`log¥ötf
 (
LOG_VERBOSE
, "==> TYPE %¯... ", 
ty≥_ch¨
);

473 
îr
 = 
	`·p_ty≥
 (
csock
, 
ty≥_ch¨
);

475 
îr
)

477 
FTPRERR
:

478 
	`logputs
 (
LOG_VERBOSE
, "\n");

479 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

481 
	`fd_˛o£
 (
csock
);

482 
c⁄
->
csock
 = -1;

483  
îr
;

484 
WRITEFAILED
:

485 
	`logputs
 (
LOG_VERBOSE
, "\n");

486 
	`logputs
 (
LOG_NOTQUIET
,

487 
	`_
("Write failed, closing control connection.\n"));

488 
	`fd_˛o£
 (
csock
);

489 
c⁄
->
csock
 = -1;

490  
îr
;

491 
FTPUNKNOWNTYPE
:

492 
	`logputs
 (
LOG_VERBOSE
, "\n");

493 
	`log¥ötf
 (
LOG_NOTQUIET
,

494 
	`_
("UnknownÅype `%c', closing control connection.\n"),

495 
ty≥_ch¨
);

496 
	`fd_˛o£
 (
csock
);

497 
c⁄
->
csock
 = -1;

498  
îr
;

499 
FTPOK
:

503 
	`ab‹t
 ();

505 i‡(!
›t
.
£rvî_ª•⁄£
)

506 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done. "));

509 i‡(
cmd
 & 
DO_CWD
)

511 i‡(!*
u
->
dú
)

512 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("==> CWDÇotÇeeded.\n"));

515 *
èrg
 = 
NULL
;

516 
cwd_cou¡
;

517 
cwd_íd
;

518 
cwd_°¨t
;

520 *
èrgë
 = 
u
->
dú
;

522 
	`DEBUGP
 (("changing working directory\n"));

552 i‡(
èrgë
[0] != '/'

553 && !(
c⁄
->
rs
 !
ST_UNIX


554 && 
	`c_ißÕha
 (
èrgë
[0])

555 && 
èrgë
[1] == ':')

556 && (
c⁄
->
rs
 !
ST_OS400
)

557 && (
c⁄
->
rs
 !
ST_VMS
))

559 
idÀn
 = 
	`°æí
 (
c⁄
->
id
);

560 *
¡¨gë
, *
p
;

563 
idÀn
 > 0 && 
c⁄
->
id
[idlen - 1] == '/')

564 --
idÀn
;

565 
p
 = 
¡¨gë
 = (*)
	`Æloˇ
 (
idÀn
 + 1 + 
	`°æí
 (
u
->
dú
) + 1);

566 
	`mem˝y
 (
p
, 
c⁄
->
id
, 
idÀn
);

567 
p
 +
idÀn
;

568 *
p
++ = '/';

569 
	`°r˝y
 (
p
, 
èrgë
);

571 
	`DEBUGP
 (("Prepended initial PWDÅoÑelativeÖath:\n"));

572 
	`DEBUGP
 (("Öwd: '%s'\n old: '%s'\nÇew: '%s'\n",

573 
c⁄
->
id
, 
èrgë
, 
¡¨gë
));

574 
èrgë
 = 
¡¨gë
;

593 i‡(
c⁄
->
rs
 =
ST_VMS
)

595 *
tmµ
;

596 *
¡¨gë
 = (*)
	`Æloˇ
 (
	`°æí
 (
èrgë
) + 2);

601 
	`°r˝y
 (
¡¨gë
, 
èrgë
);

602 
	`as£π
 (*
¡¨gë
 == '/');

603 *
¡¨gë
 = '[';

604 
tmµ
 = 
¡¨gë
 + 1; *tmpp;Åmpp++)

605 i‡(*
tmµ
 == '/')

606 *
tmµ
 = '.';

607 *
tmµ
++ = ']';

608 *
tmµ
 = '\0';

609 
	`DEBUGP
 (("Changed fileÇameÅo VMS syntax:\n"));

610 
	`DEBUGP
 ((" Unix: '%s'\¿ VMS: '%s'\n", 
èrgë
, 
¡¨gë
));

611 
èrgë
 = 
¡¨gë
;

630 i‡((
c⁄
->
rs
 =
ST_VMS
Ë&& (
èrgë
[0] != '/'))

632 
cwd_°¨t
 = 0;

633 
	`DEBUGP
 (("UsingÅwo-step CWD forÑelativeÖath.\n"));

638 
cwd_°¨t
 = 1;

657 i‡((
c⁄
->
rs
 =
ST_VMS
Ë&& (
	`°rchr
–
èrgë
, '/'Ë!
NULL
))

659 
cwd_íd
 = 3;

660 
	`DEBUGP
 (("UsingÉxtra \"CWD []\" step for VMS server.\n"));

664 
cwd_íd
 = 2;

670 
cwd_cou¡
 = 
cwd_°¨t
; cwd_cou¡ < 
cwd_íd
; cwd_count++)

672 
cwd_cou¡
)

678 
èrg
 = 
c⁄
->
id
;

685 
èrg
 = 
èrgë
;

692 
èrg
 = "[]";

697 
	`as£π
 (1);

700 i‡(!
›t
.
£rvî_ª•⁄£
)

701 
	`log¥ötf
 (
LOG_VERBOSE
, "==> CWD (%dË%†... ", 
cwd_cou¡
,

702 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
èrgë
));

703 
îr
 = 
	`·p_cwd
 (
csock
, 
èrg
);

705 
îr
)

707 
FTPRERR
:

708 
	`logputs
 (
LOG_VERBOSE
, "\n");

709 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

711 
	`fd_˛o£
 (
csock
);

712 
c⁄
->
csock
 = -1;

713  
îr
;

714 
WRITEFAILED
:

715 
	`logputs
 (
LOG_VERBOSE
, "\n");

716 
	`logputs
 (
LOG_NOTQUIET
,

717 
	`_
("Write failed, closing control connection.\n"));

718 
	`fd_˛o£
 (
csock
);

719 
c⁄
->
csock
 = -1;

720  
îr
;

721 
FTPNSFOD
:

722 
	`logputs
 (
LOG_VERBOSE
, "\n");

723 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No such directory %s.\n\n"),

724 
	`quŸe
 (
u
->
dú
));

725 
	`fd_˛o£
 (
csock
);

726 
c⁄
->
csock
 = -1;

727  
îr
;

728 
FTPOK
:

731 
	`ab‹t
 ();

733 i‡(!
›t
.
£rvî_ª•⁄£
)

734 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done.\n"));

744 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("==> CWDÇotÑequired.\n"));

746 i‡((
cmd
 & 
DO_RETR
Ë&& 
∑s£d_ex≥˘ed_byãs
 == 0)

748 i‡(
›t
.
vîbo£
)

750 i‡(!
›t
.
£rvî_ª•⁄£
)

751 
	`log¥ötf
 (
LOG_VERBOSE
, "==> SIZE %s ... ",

752 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
u
->
fûe
));

755 
îr
 = 
	`·p_size
 (
csock
, 
u
->
fûe
, &
ex≥˘ed_byãs
);

757 
îr
)

759 
FTPRERR
:

760 
FTPSRVERR
:

761 
	`logputs
 (
LOG_VERBOSE
, "\n");

762 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

764 
	`fd_˛o£
 (
csock
);

765 
c⁄
->
csock
 = -1;

766  
îr
;

767 
FTPOK
:

768 
gŸ_ex≥˘ed_byãs
 = 
åue
;

772 
	`ab‹t
 ();

774 i‡(!
›t
.
£rvî_ª•⁄£
)

775 
	`log¥ötf
 (
LOG_VERBOSE
, 
ex≥˘ed_byãs
 ? "%s\n" : 
	`_
("done.\n"),

776 
	`numbî_to_°©ic_°rög
 (
ex≥˘ed_byãs
));

779 i‡(
cmd
 & 
DO_RETR
 && 
ª°vÆ
 > 0 &&Ñe°vÆ =
ex≥˘ed_byãs
)

783 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("File hasálready beenÑetrieved.\n"));

784 
	`fd_˛o£
 (
csock
);

785 
c⁄
->
csock
 = -1;

786  
RETRFINISHED
;

790 i‡(
cmd
 & (
DO_LIST
 | 
DO_RETR
))

792 i‡(
›t
.
·p_∑sv
)

794 
ù_addªss
 
∑ssive_addr
;

795 
∑ssive_p‹t
;

796 
îr
 = 
	`·p_do_∑sv
 (
csock
, &
∑ssive_addr
, &
∑ssive_p‹t
);

798 
îr
)

800 
FTPRERR
:

801 
	`logputs
 (
LOG_VERBOSE
, "\n");

802 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

804 
	`fd_˛o£
 (
csock
);

805 
c⁄
->
csock
 = -1;

806  
îr
;

807 
WRITEFAILED
:

808 
	`logputs
 (
LOG_VERBOSE
, "\n");

809 
	`logputs
 (
LOG_NOTQUIET
,

810 
	`_
("Write failed, closing control connection.\n"));

811 
	`fd_˛o£
 (
csock
);

812 
c⁄
->
csock
 = -1;

813  
îr
;

814 
FTPNOPASV
:

815 
	`logputs
 (
LOG_VERBOSE
, "\n");

816 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Cannot initiate PASVÅransfer.\n"));

818 
FTPINVPASV
:

819 
	`logputs
 (
LOG_VERBOSE
, "\n");

820 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("CannotÖarse PASVÑesponse.\n"));

822 
FTPOK
:

825 
	`ab‹t
 ();

827 i‡(
îr
==
FTPOK
)

829 
	`DEBUGP
 (("tryingÅo connectÅo %sÖort %d\n",

830 
	`¥öt_addªss
 (&
∑ssive_addr
), 
∑ssive_p‹t
));

831 
dtsock
 = 
	`c⁄√˘_to_ù
 (&
∑ssive_addr
, 
∑ssive_p‹t
, 
NULL
);

832 i‡(
dtsock
 < 0)

834 
ßve_î∫o
 = 
î∫o
;

835 
	`fd_˛o£
 (
csock
);

836 
c⁄
->
csock
 = -1;

837 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("couldn't connectÅo %sÖort %d: %s\n"),

838 
	`¥öt_addªss
 (&
∑ssive_addr
), 
∑ssive_p‹t
,

839 
	`°ªº‹
 (
ßve_î∫o
));

840  (
	`ªåyabÀ_sockë_c⁄√˘_îr‹
 (
ßve_î∫o
)

841 ? 
CONERROR
 : 
CONIMPOSSIBLE
);

844 
∑sv_mode_›í
 = 
åue
;

845 i‡(!
›t
.
£rvî_ª•⁄£
)

846 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done. "));

850 i‡(!
∑sv_mode_›í
)

852 
îr
 = 
	`·p_do_p‹t
 (
csock
, &
loˇl_sock
);

855 
îr
)

857 
FTPRERR
:

858 
	`logputs
 (
LOG_VERBOSE
, "\n");

859 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

861 
	`fd_˛o£
 (
csock
);

862 
c⁄
->
csock
 = -1;

863 
	`fd_˛o£
 (
dtsock
);

864 
	`fd_˛o£
 (
loˇl_sock
);

865  
îr
;

866 
WRITEFAILED
:

867 
	`logputs
 (
LOG_VERBOSE
, "\n");

868 
	`logputs
 (
LOG_NOTQUIET
,

869 
	`_
("Write failed, closing control connection.\n"));

870 
	`fd_˛o£
 (
csock
);

871 
c⁄
->
csock
 = -1;

872 
	`fd_˛o£
 (
dtsock
);

873 
	`fd_˛o£
 (
loˇl_sock
);

874  
îr
;

875 
CONSOCKERR
:

876 
	`logputs
 (
LOG_VERBOSE
, "\n");

877 
	`log¥ötf
 (
LOG_NOTQUIET
, "sockë: %s\n", 
	`°ªº‹
 (
î∫o
));

878 
	`fd_˛o£
 (
csock
);

879 
c⁄
->
csock
 = -1;

880 
	`fd_˛o£
 (
dtsock
);

881 
	`fd_˛o£
 (
loˇl_sock
);

882  
îr
;

883 
FTPSYSERR
:

884 
	`logputs
 (
LOG_VERBOSE
, "\n");

885 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("BindÉrror (%s).\n"),

886 
	`°ªº‹
 (
î∫o
));

887 
	`fd_˛o£
 (
dtsock
);

888  
îr
;

889 
FTPPORTERR
:

890 
	`logputs
 (
LOG_VERBOSE
, "\n");

891 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Invalid PORT.\n"));

892 
	`fd_˛o£
 (
csock
);

893 
c⁄
->
csock
 = -1;

894 
	`fd_˛o£
 (
dtsock
);

895 
	`fd_˛o£
 (
loˇl_sock
);

896  
îr
;

897 
FTPOK
:

900 
	`ab‹t
 ();

902 i‡(!
›t
.
£rvî_ª•⁄£
)

903 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done. "));

908 i‡(
ª°vÆ
 && (
cmd
 & 
DO_RETR
))

910 i‡(!
›t
.
£rvî_ª•⁄£
)

911 
	`log¥ötf
 (
LOG_VERBOSE
, "==> REST %s ... ",

912 
	`numbî_to_°©ic_°rög
 (
ª°vÆ
));

913 
îr
 = 
	`·p_ª°
 (
csock
, 
ª°vÆ
);

916 
îr
)

918 
FTPRERR
:

919 
	`logputs
 (
LOG_VERBOSE
, "\n");

920 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

922 
	`fd_˛o£
 (
csock
);

923 
c⁄
->
csock
 = -1;

924 
	`fd_˛o£
 (
dtsock
);

925 
	`fd_˛o£
 (
loˇl_sock
);

926  
îr
;

927 
WRITEFAILED
:

928 
	`logputs
 (
LOG_VERBOSE
, "\n");

929 
	`logputs
 (
LOG_NOTQUIET
,

930 
	`_
("Write failed, closing control connection.\n"));

931 
	`fd_˛o£
 (
csock
);

932 
c⁄
->
csock
 = -1;

933 
	`fd_˛o£
 (
dtsock
);

934 
	`fd_˛o£
 (
loˇl_sock
);

935  
îr
;

936 
FTPRESTFAIL
:

937 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("\nREST failed, starting from scratch.\n"));

938 
ª°_Áûed
 = 
åue
;

940 
FTPOK
:

943 
	`ab‹t
 ();

945 i‡(
îr
 !
FTPRESTFAIL
 && !
›t
.
£rvî_ª•⁄£
)

946 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done. "));

949 i‡(
cmd
 & 
DO_RETR
)

953 i‡(
›t
.
•idî
)

955 
boﬁ
 
exi°s
 = 
Ál£
;

956 
uîr_t
 
ªs
;

957 
fûeöfo
 *
f
;

958 
ªs
 = 
	`·p_gë_li°ög
 (
u
, 
c⁄
, &
f
);

963 
c⁄
->
cmd
 |
DO_RETR
;

964 i‡(
ªs
 =
RETROK
)

966 
f
)

968 i‡(!
	`°rcmp
 (
f
->
«me
, 
u
->
fûe
))

970 
exi°s
 = 
åue
;

973 
f
 = f->
√xt
;

975 i‡(
exi°s
)

977 
	`logputs
 (
LOG_VERBOSE
, "\n");

978 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("File %sÉxists.\n"),

979 
	`quŸe
 (
u
->
fûe
));

983 
	`logputs
 (
LOG_VERBOSE
, "\n");

984 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No such file %s.\n"),

985 
	`quŸe
 (
u
->
fûe
));

988 
	`fd_˛o£
 (
csock
);

989 
c⁄
->
csock
 = -1;

990 
	`fd_˛o£
 (
dtsock
);

991 
	`fd_˛o£
 (
loˇl_sock
);

992  
RETRFINISHED
;

995 i‡(
›t
.
vîbo£
)

997 i‡(!
›t
.
£rvî_ª•⁄£
)

999 i‡(
ª°vÆ
)

1000 
	`logputs
 (
LOG_VERBOSE
, "\n");

1001 
	`log¥ötf
 (
LOG_VERBOSE
, "==> RETR %s ... ",

1002 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
u
->
fûe
));

1006 
îr
 = 
	`·p_ªå
 (
csock
, 
u
->
fûe
);

1008 
îr
)

1010 
FTPRERR
:

1011 
	`logputs
 (
LOG_VERBOSE
, "\n");

1012 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

1014 
	`fd_˛o£
 (
csock
);

1015 
c⁄
->
csock
 = -1;

1016 
	`fd_˛o£
 (
dtsock
);

1017 
	`fd_˛o£
 (
loˇl_sock
);

1018  
îr
;

1019 
WRITEFAILED
:

1020 
	`logputs
 (
LOG_VERBOSE
, "\n");

1021 
	`logputs
 (
LOG_NOTQUIET
,

1022 
	`_
("Write failed, closing control connection.\n"));

1023 
	`fd_˛o£
 (
csock
);

1024 
c⁄
->
csock
 = -1;

1025 
	`fd_˛o£
 (
dtsock
);

1026 
	`fd_˛o£
 (
loˇl_sock
);

1027  
îr
;

1028 
FTPNSFOD
:

1029 
	`logputs
 (
LOG_VERBOSE
, "\n");

1030 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No such file %s.\n\n"),

1031 
	`quŸe
 (
u
->
fûe
));

1032 
	`fd_˛o£
 (
dtsock
);

1033 
	`fd_˛o£
 (
loˇl_sock
);

1034  
îr
;

1035 
FTPOK
:

1038 
	`ab‹t
 ();

1041 i‡(!
›t
.
£rvî_ª•⁄£
)

1042 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done.\n"));

1044 i‡(! 
gŸ_ex≥˘ed_byãs
)

1045 
ex≥˘ed_byãs
 = 
	`·p_ex≥˘ed_byãs
 (
·p_œ°_ª•löe
);

1048 i‡(
cmd
 & 
DO_LIST
)

1050 i‡(!
›t
.
£rvî_ª•⁄£
)

1051 
	`logputs
 (
LOG_VERBOSE
, "==> LIST ... ");

1055 
îr
 = 
	`·p_li°
 (
csock
, 
NULL
, 
c⁄
->
rs
);

1057 
îr
)

1059 
FTPRERR
:

1060 
	`logputs
 (
LOG_VERBOSE
, "\n");

1061 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
 in serverÑesponse, closing control connection.\n"));

1063 
	`fd_˛o£
 (
csock
);

1064 
c⁄
->
csock
 = -1;

1065 
	`fd_˛o£
 (
dtsock
);

1066 
	`fd_˛o£
 (
loˇl_sock
);

1067  
îr
;

1068 
WRITEFAILED
:

1069 
	`logputs
 (
LOG_VERBOSE
, "\n");

1070 
	`logputs
 (
LOG_NOTQUIET
,

1071 
	`_
("Write failed, closing control connection.\n"));

1072 
	`fd_˛o£
 (
csock
);

1073 
c⁄
->
csock
 = -1;

1074 
	`fd_˛o£
 (
dtsock
);

1075 
	`fd_˛o£
 (
loˇl_sock
);

1076  
îr
;

1077 
FTPNSFOD
:

1078 
	`logputs
 (
LOG_VERBOSE
, "\n");

1079 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No such file or directory %s.\n\n"),

1080 
	`quŸe
 ("."));

1081 
	`fd_˛o£
 (
dtsock
);

1082 
	`fd_˛o£
 (
loˇl_sock
);

1083  
îr
;

1084 
FTPOK
:

1087 
	`ab‹t
 ();

1089 i‡(!
›t
.
£rvî_ª•⁄£
)

1090 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("done.\n"));

1092 i‡(! 
gŸ_ex≥˘ed_byãs
)

1093 
ex≥˘ed_byãs
 = 
	`·p_ex≥˘ed_byãs
 (
·p_œ°_ª•löe
);

1096 i‡(!(
cmd
 & (
DO_LIST
 | 
DO_RETR
)Ë|| (
›t
.
•idî
 && !(cmd & DO_LIST)))

1097  
RETRFINISHED
;

1101 i‡(
∑s£d_ex≥˘ed_byãs
 && 
ª°vÆ
 && 
ex≥˘ed_byãs


1102 && (
ex≥˘ed_byãs
 =
∑s£d_ex≥˘ed_byãs
 - 
ª°vÆ
))

1104 
	`DEBUGP
 (("Lying FTP server found,ádjusting.\n"));

1105 
ex≥˘ed_byãs
 = 
∑s£d_ex≥˘ed_byãs
;

1109 i‡(!
∑sv_mode_›í
)

1114 
dtsock
 = 
	`ac˚±_c⁄√˘i⁄
 (
loˇl_sock
);

1115 i‡(
dtsock
 < 0)

1117 
	`log¥ötf
 (
LOG_NOTQUIET
, "ac˚±: %s\n", 
	`°ªº‹
 (
î∫o
));

1118  
CONERROR
;

1131 i‡(!
ouçut_°ªam
 || 
c⁄
->
cmd
 & 
DO_LIST
)

1134 #ifde‡
__VMS


1135 *
èrg
;

1137 
èrg
 = 
	`ods_c⁄f‹m
 (
c⁄
->
èrgë
);

1138 i‡(
èrg
 !
c⁄
->
èrgë
)

1140 
	`x‰ì
 (
c⁄
->
èrgë
);

1141 
c⁄
->
èrgë
 = 
èrg
;

1145 
	`mkÆldús
 (
c⁄
->
èrgë
);

1146 i‡(
›t
.
backups
)

1147 
	`rŸ©e_backups
 (
c⁄
->
èrgë
);

1155 
	#BIN_TYPE_TRANSFER
 (
ty≥_ch¨
 !'A')

	)

1156 #ifde‡
__VMS


1157 
	#FOPEN_OPT_ARGS
 "f›=sqo", "acc", 
acc_cb
, &
›í_id


	)

1158 
	#FOPEN_OPT_ARGS_BIN
 "˘x=bö,°m", "rfm=fix", "mrs=512" 
FOPEN_OPT_ARGS


	)

1159 
	#BIN_TYPE_FILE
 (
BIN_TYPE_TRANSFER
 && (
›t
.
·p_°mlf
 =0))

	)

1161 
	#BIN_TYPE_FILE
 1

	)

1164 i‡(
ª°vÆ
 && !(
c⁄
->
cmd
 & 
DO_LIST
))

1166 #ifde‡
__VMS


1167 
›í_id
;

1169 i‡(
BIN_TYPE_FILE
)

1171 
›í_id
 = 3;

1172 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "ab", 
FOPEN_OPT_ARGS_BIN
);

1176 
›í_id
 = 4;

1177 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "a", 
FOPEN_OPT_ARGS
);

1180 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "ab");

1183 i‡(
›t
.
no˛obbî
 || o±.
Æways_ª°
 || o±.
time°ampög
 || o±.
dú°ru˘


1184 || 
›t
.
ouçut_documít
 || 
cou¡
 > 0)

1186 i‡(
›t
.
u∆ök
 && 
	`fûe_exi°s_p
 (
c⁄
->
èrgë
))

1188 
ªs
 = 
	`u∆ök
 (
c⁄
->
èrgë
);

1189 i‡(
ªs
 < 0)

1191 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
c⁄
->
èrgë
,

1192 
	`°ªº‹
 (
î∫o
));

1193 
	`fd_˛o£
 (
csock
);

1194 
c⁄
->
csock
 = -1;

1195 
	`fd_˛o£
 (
dtsock
);

1196 
	`fd_˛o£
 (
loˇl_sock
);

1197  
UNLINKERR
;

1201 #ifde‡
__VMS


1202 
›í_id
;

1204 i‡(
BIN_TYPE_FILE
)

1206 
›í_id
 = 5;

1207 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "wb", 
FOPEN_OPT_ARGS_BIN
);

1211 
›í_id
 = 6;

1212 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "w", 
FOPEN_OPT_ARGS
);

1215 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "wb");

1220 
Â
 = 
	`f›í_ex˛
 (
c⁄
->
èrgë
, 
åue
);

1221 i‡(!
Â
 && 
î∫o
 =
EEXIST
)

1227 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s has sprung intoÉxistence.\n"),

1228 
c⁄
->
èrgë
);

1229 
	`fd_˛o£
 (
csock
);

1230 
c⁄
->
csock
 = -1;

1231 
	`fd_˛o£
 (
dtsock
);

1232 
	`fd_˛o£
 (
loˇl_sock
);

1233  
FOPEN_EXCL_ERR
;

1236 i‡(!
Â
)

1238 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
c⁄
->
èrgë
, 
	`°ªº‹
 (
î∫o
));

1239 
	`fd_˛o£
 (
csock
);

1240 
c⁄
->
csock
 = -1;

1241 
	`fd_˛o£
 (
dtsock
);

1242 
	`fd_˛o£
 (
loˇl_sock
);

1243  
FOPENERR
;

1247 
Â
 = 
ouçut_°ªam
;

1249 i‡(
∑s£d_ex≥˘ed_byãs
)

1251 
	`¥öt_Àngth
 (
∑s£d_ex≥˘ed_byãs
, 
ª°vÆ
, 
åue
);

1252 
ex≥˘ed_byãs
 = 
∑s£d_ex≥˘ed_byãs
;

1255 i‡(
ex≥˘ed_byãs
)

1256 
	`¥öt_Àngth
 (
ex≥˘ed_byãs
, 
ª°vÆ
, 
Ál£
);

1259 
Êags
 = 0;

1260 i‡(
ª°vÆ
 && 
ª°_Áûed
)

1261 
Êags
 |
rb_skù_°¨ços
;

1262 
rd_size
 = 0;

1263 
ªs
 = 
	`fd_ªad_body
 (
dtsock
, 
Â
,

1264 
ex≥˘ed_byãs
 ?Éx≥˘ed_byã†- 
ª°vÆ
 : 0,

1265 
ª°vÆ
, &
rd_size
, 
qtyªad
, &
c⁄
->
d…ime
, 
Êags
);

1267 
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

1268 
tmøã
 = 
	`ªå_øã
 (
rd_size
, 
c⁄
->
d…ime
);

1269 
tŸÆ_dow∆ﬂd_time
 +
c⁄
->
d…ime
;

1271 
	`fd_˛o£
 (
loˇl_sock
);

1273 i‡(!
ouçut_°ªam
 || 
c⁄
->
cmd
 & 
DO_LIST
)

1274 
	`f˛o£
 (
Â
);

1277 i‡(
ªs
 == -2)

1279 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: %s, closing control connection.\n"),

1280 
c⁄
->
èrgë
, 
	`°ªº‹
 (
î∫o
));

1281 
	`fd_˛o£
 (
csock
);

1282 
c⁄
->
csock
 = -1;

1283 
	`fd_˛o£
 (
dtsock
);

1284  
FWRITEERR
;

1286 i‡(
ªs
 == -1)

1288 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s (%s) - Data connection: %s; "),

1289 
tms
, 
tmøã
, 
	`fd_îr°r
 (
dtsock
));

1290 i‡(
›t
.
£rvî_ª•⁄£
)

1291 
	`logputs
 (
LOG_ALWAYS
, "\n");

1293 
	`fd_˛o£
 (
dtsock
);

1296 
îr
 = 
	`·p_ª•⁄£
 (
csock
, &
ª•löe
);

1297 i‡(
îr
 !
FTPOK
)

1301 i‡(
ªs
 != -1)

1302 
	`log¥ötf
 (
LOG_NOTQUIET
, "%†(%sË- ", 
tms
, 
tmøã
);

1303 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Control connection closed.\n"));

1308 
	`fd_˛o£
 (
csock
);

1309 
c⁄
->
csock
 = -1;

1310  
FTPRETRINT
;

1316 i‡(*
ª•löe
 != '2')

1318 
	`x‰ì
 (
ª•löe
);

1319 i‡(
ªs
 != -1)

1320 
	`log¥ötf
 (
LOG_NOTQUIET
, "%†(%sË- ", 
tms
, 
tmøã
);

1321 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("DataÅransferáborted.\n"));

1322  
FTPRETRINT
;

1324 
	`x‰ì
 (
ª•löe
);

1326 i‡(
ªs
 == -1)

1330  
FTPRETRINT
;

1333 i‡(!(
cmd
 & 
LEAVE_PENDING
))

1337 
	`fd_˛o£
 (
csock
);

1338 
c⁄
->
csock
 = -1;

1342 i‡(
›t
.
£rvî_ª•⁄£
 && (
c⁄
->
cmd
 & 
DO_LIST
))

1349 #ifde‡
__VMS


1350 *
èrg
;

1352 
èrg
 = 
	`ods_c⁄f‹m
–
c⁄
->
èrgë
);

1353 i‡(
èrg
 !
c⁄
->
èrgë
)

1355 
	`x‰ì
–
c⁄
->
èrgë
);

1356 
c⁄
->
èrgë
 = 
èrg
;

1360 
	`mkÆldús
 (
c⁄
->
èrgë
);

1361 
Â
 = 
	`f›í
 (
c⁄
->
èrgë
, "r");

1362 i‡(!
Â
)

1363 
	`log¥ötf
 (
LOG_ALWAYS
, "%s: %s\n", 
c⁄
->
èrgë
, 
	`°ªº‹
 (
î∫o
));

1366 *
löe
;

1369 (
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
)

1371 *
p
 = 
	`°rchr
 (
löe
, '\0');

1372 
p
 > 
löe
 && (p[-1] == '\n' ||Ö[-1] == '\r'))

1373 *--
p
 = '\0';

1374 
	`log¥ötf
 (
LOG_ALWAYS
, "%s\n",

1375 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
löe
));

1376 
	`x‰ì
 (
löe
);

1378 
	`f˛o£
 (
Â
);

1382  
RETRFINISHED
;

1383 
	}
}

1390 
uîr_t


1391 
	$·p_lo›_öã∫Æ
 (
uæ
 *
u
, 
fûeöfo
 *
f
, 
cc⁄
 *
c⁄
, **
loˇl_fûe
)

1393 
cou¡
, 
‹ig_Õ
;

1394 
wgöt
 
ª°vÆ
, 
Àn
 = 0, 
qtyªad
 = 0;

1395 *
tms
, *
locf
;

1396 c⁄° *
tmøã
 = 
NULL
;

1397 
uîr_t
 
îr
;

1398 
°ru˘_°©
 
°
;

1401 i‡((
f
 =
NULL
Ë&& (
c⁄
->
èrgë
))

1404 
locf
 = 
c⁄
->
èrgë
;

1409 
c⁄
->
èrgë
 = 
	`uæ_fûe_«me
 (
u
, 
NULL
);

1410 i‡(!
›t
.
ouçut_documít
)

1411 
locf
 = 
c⁄
->
èrgë
;

1413 
locf
 = 
›t
.
ouçut_documít
;

1418 i‡(
›t
.
no˛obbî
 && !›t.
ouçut_documít
 && 
	`fûe_exi°s_p
 (
c⁄
->
èrgë
))

1420 
	`log¥ötf
 (
LOG_VERBOSE
,

1421 
	`_
("Fûê%†ÆªadyÅhîe;ÇŸÑërõvög.\n"), 
	`quŸe
 (
c⁄
->
èrgë
));

1423  
RETROK
;

1427 
	`ªmove_lök
 (
c⁄
->
èrgë
);

1429 
cou¡
 = 0;

1431 i‡(
c⁄
->
°
 & 
ON_YOUR_OWN
)

1432 
c⁄
->
°
 = 
ON_YOUR_OWN
;

1434 
‹ig_Õ
 = 
c⁄
->
cmd
 & 
LEAVE_PENDING
 ? 1 : 0;

1440 ++
cou¡
;

1441 
	`¶ìp_bëwìn_ªåõvÆs
 (
cou¡
);

1442 i‡(
c⁄
->
°
 & 
ON_YOUR_OWN
)

1444 
c⁄
->
cmd
 = 0;

1445 
c⁄
->
cmd
 |(
DO_RETR
 | 
LEAVE_PENDING
);

1446 i‡(
c⁄
->
csock
 != -1)

1447 
c⁄
->
cmd
 &~ (
DO_LOGIN
 | 
DO_CWD
);

1449 
c⁄
->
cmd
 |(
DO_LOGIN
 | 
DO_CWD
);

1453 i‡(
c⁄
->
csock
 != -1)

1454 
c⁄
->
cmd
 &~
DO_LOGIN
;

1456 
c⁄
->
cmd
 |
DO_LOGIN
;

1457 i‡(
c⁄
->
°
 & 
DONE_CWD
)

1458 
c⁄
->
cmd
 &~
DO_CWD
;

1460 
c⁄
->
cmd
 |
DO_CWD
;

1464 i‡(
c⁄
->
cmd
 & 
DO_LIST
)

1465 
ª°vÆ
 = 0;

1466 i‡(
›t
.
Æways_ª°


1467 && 
	`°©
 (
locf
, &
°
) == 0

1468 && 
	`S_ISREG
 (
°
.
°_mode
))

1472 
ª°vÆ
 = 
°
.
°_size
;

1473 i‡(
cou¡
 > 1)

1474 
ª°vÆ
 = 
qtyªad
;

1476 
ª°vÆ
 = 0;

1479 
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

1481 i‡(
›t
.
vîbo£
)

1483 *
huæ
 = 
	`uæ_°rög
 (
u
, 
URL_AUTH_HIDE_PASSWD
);

1484 
tmp
[256];

1485 
	`°r˝y
 (
tmp
, " ");

1486 i‡(
cou¡
 > 1)

1487 
	`•rötf
 (
tmp
, 
	`_
("—ry:%2d)"), 
cou¡
);

1488 
	`log¥ötf
 (
LOG_VERBOSE
, "--%s-- %s\n %s => %s\n",

1489 
tms
, 
huæ
, 
tmp
, 
	`quŸe
 (
locf
));

1490 #ifde‡
WINDOWS


1491 
	`ws_ch™gëôÀ
 (
huæ
);

1493 
	`x‰ì
 (
huæ
);

1496 i‡(
f
 && f->
ty≥
 !
FT_SYMLINK
)

1497 
Àn
 = 
f
->
size
;

1499 
Àn
 = 0;

1500 
îr
 = 
	`gë·p
 (
u
, 
Àn
, &
qtyªad
, 
ª°vÆ
, 
c⁄
, 
cou¡
);

1502 i‡(
c⁄
->
csock
 == -1)

1503 
c⁄
->
°
 &~
DONE_CWD
;

1505 
c⁄
->
°
 |
DONE_CWD
;

1507 
îr
)

1509 
HOSTERR
: 
CONIMPOSSIBLE
: 
FWRITEERR
: 
FOPENERR
:

1510 
FTPNSFOD
: 
FTPLOGINC
: 
FTPNOPASV
: 
CONTNOTSUPPORTED
:

1511 
UNLINKERR
:

1513  
îr
;

1514 
CONSOCKERR
: 
CONERROR
: 
FTPSRVERR
: 
FTPRERR
:

1515 
WRITEFAILED
: 
FTPUNKNOWNTYPE
: 
FTPSYSERR
:

1516 
FTPPORTERR
: 
FTPLOGREFUSED
: 
FTPINVPASV
:

1517 
FOPEN_EXCL_ERR
:

1518 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

1520 i‡(
îr
 =
FOPEN_EXCL_ERR
)

1523 
	`x‰ì_nuŒ
 (
c⁄
->
èrgë
);

1524 
c⁄
->
èrgë
 = 
	`uæ_fûe_«me
 (
u
, 
NULL
);

1525 
locf
 = 
c⁄
->
èrgë
;

1528 
FTPRETRINT
:

1531 i‡(!
f
 || 
qtyªad
 !f->
size
)

1533 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

1537 
RETRFINISHED
:

1542 
	`ab‹t
 ();

1544 
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

1545 i‡(!
›t
.
•idî
)

1546 
tmøã
 = 
	`ªå_øã
 (
qtyªad
 - 
ª°vÆ
, 
c⁄
->
d…ime
);

1550 
	`dow∆ﬂded_fûe
 (
FILE_DOWNLOADED_NORMALLY
, 
locf
);

1552 i‡(
c⁄
->
°
 & 
ON_YOUR_OWN
)

1554 
	`fd_˛o£
 (
c⁄
->
csock
);

1555 
c⁄
->
csock
 = -1;

1557 i‡(!
›t
.
•idî
)

1559 
boﬁ
 
wrôe_to_°dout
 = (
›t
.
ouçut_documít
 && 
	`HYPHENP
 (opt.output_document));

1561 
	`log¥ötf
 (
LOG_VERBOSE
,

1562 
wrôe_to_°dout


1563 ? 
	`_
("%s (%s) - writtenÅo stdout %s[%s]\n\n")

1564 : 
	`_
("%s (%s) - %s saved [%s]\n\n"),

1565 
tms
, 
tmøã
,

1566 
wrôe_to_°dout
 ? "" : 
	`quŸe
 (
locf
),

1567 
	`numbî_to_°©ic_°rög
 (
qtyªad
));

1569 i‡(!
›t
.
vîbo£
 && !›t.
quõt
)

1574 *
huæ
 = 
	`uæ_°rög
 (
u
, 
URL_AUTH_HIDE_PASSWD
);

1575 
	`log¥ötf
 (
LOG_NONVERBOSE
, "%s URL: %s [%s] -> \"%s\" [%d]\n",

1576 
tms
, 
huæ
, 
	`numbî_to_°©ic_°rög
 (
qtyªad
), 
locf
, 
cou¡
);

1577 
	`x‰ì
 (
huæ
);

1580 i‡((
c⁄
->
cmd
 & 
DO_LIST
))

1583 i‡(!
›t
.
ªmove_li°ög
)

1587 
tŸÆ_dow∆ﬂded_byãs
 +
qtyªad
;

1588 
numuæs
++;

1595 i‡(!
›t
.
•idî
)

1602 
tŸÆ_dow∆ﬂded_byãs
 +
qtyªad
;

1603 
numuæs
++;

1605 i‡(
›t
.
dñëe_a·î
 && !
	`öput_fûe_uæ
 (›t.
öput_fûíame
))

1607 
	`DEBUGP
 (("\
 file dueÅo --delete-after in ftp_loop_internal():\n"));

1609 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Removög %s.\n"), 
locf
);

1610 i‡(
	`u∆ök
 (
locf
))

1611 
	`log¥ötf
 (
LOG_NOTQUIET
, "u∆ök: %s\n", 
	`°ªº‹
 (
î∫o
));

1616 i‡(
‹ig_Õ
)

1617 
c⁄
->
cmd
 |
LEAVE_PENDING
;

1619 
c⁄
->
cmd
 &~
LEAVE_PENDING
;

1621 i‡(
loˇl_fûe
)

1622 *
loˇl_fûe
 = 
	`x°rdup
 (
locf
);

1624  
RETROK
;

1625 } !
›t
.
¡ry
 || (
cou¡
 < opt.ntry));

1627 i‡(
c⁄
->
csock
 !-1 && (c⁄->
°
 & 
ON_YOUR_OWN
))

1629 
	`fd_˛o£
 (
c⁄
->
csock
);

1630 
c⁄
->
csock
 = -1;

1632  
TRYLIMEXC
;

1633 
	}
}

1637 
uîr_t


1638 
	$·p_gë_li°ög
 (
uæ
 *
u
, 
cc⁄
 *
c⁄
, 
fûeöfo
 **
f
)

1640 
uîr_t
 
îr
;

1641 *
uf
;

1642 *
lf
;

1643 *
ﬁd_èrgë
 = 
c⁄
->
èrgë
;

1645 
c⁄
->
°
 &~
ON_YOUR_OWN
;

1646 
c⁄
->
cmd
 |(
DO_LIST
 | 
LEAVE_PENDING
);

1647 
c⁄
->
cmd
 &~
DO_RETR
;

1652 
uf
 = 
	`uæ_fûe_«me
 (
u
, 
NULL
);

1653 
lf
 = 
	`fûe_mîge
 (
uf
, 
LIST_FILENAME
);

1654 
	`x‰ì
 (
uf
);

1655 
	`DEBUGP
 ((
	`_
("Usög %†a†li°ögÅm∞fûe.\n"), 
	`quŸe
 (
lf
)));

1657 
c⁄
->
èrgë
 = 
	`x°rdup
 (
lf
);

1658 
	`x‰ì
 (
lf
);

1659 
îr
 = 
	`·p_lo›_öã∫Æ
 (
u
, 
NULL
, 
c⁄
, NULL);

1660 
lf
 = 
	`x°rdup
 (
c⁄
->
èrgë
);

1661 
	`x‰ì
 (
c⁄
->
èrgë
);

1662 
c⁄
->
èrgë
 = 
ﬁd_èrgë
;

1664 i‡(
îr
 =
RETROK
)

1666 *
f
 = 
	`·p_∑r£_ls
 (
lf
, 
c⁄
->
rs
);

1667 i‡(
›t
.
ªmove_li°ög
)

1669 i‡(
	`u∆ök
 (
lf
))

1670 
	`log¥ötf
 (
LOG_NOTQUIET
, "u∆ök: %s\n", 
	`°ªº‹
 (
î∫o
));

1672 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Removed %s.\n"), 
	`quŸe
 (
lf
));

1676 *
f
 = 
NULL
;

1677 
	`x‰ì
 (
lf
);

1678 
c⁄
->
cmd
 &~
DO_LIST
;

1679  
îr
;

1680 
	}
}

1682 
uîr_t
 
·p_ªåõve_dús
 (
uæ
 *, 
fûeöfo
 *, 
cc⁄
 *);

1683 
uîr_t
 
·p_ªåõve_glob
 (
uæ
 *, 
cc⁄
 *, );

1684 
fûeöfo
 *
dññemít
 (fileinfo *, fileinfo **);

1685 
‰ìfûeöfo
 (
fûeöfo
 *
f
);

1694 
uîr_t


1695 
	$·p_ªåõve_li°
 (
uæ
 *
u
, 
fûeöfo
 *
f
, 
cc⁄
 *
c⁄
)

1697 
dïth
 = 0;

1698 
uîr_t
 
îr
;

1699 
fûeöfo
 *
‹ig
;

1700 
wgöt
 
loˇl_size
;

1701 
time_t
 
tml
;

1702 
boﬁ
 
d…his
;

1703 c⁄° *
a˘uÆ_èrgë
 = 
NULL
;

1706 ++
dïth
;

1707 i‡(
›t
.
ª˛evñ
 !
INFINITE_RECURSION
 && 
dïth
 > opt.reclevel)

1709 
	`DEBUGP
 ((
	`_
("Recursion depth %dÉxceeded max. depth %d.\n"),

1710 
dïth
, 
›t
.
ª˛evñ
));

1711 --
dïth
;

1712  
RECLEVELEXC
;

1715 
	`as£π
 (
f
 !
NULL
);

1716 
‹ig
 = 
f
;

1718 
c⁄
->
°
 &~
ON_YOUR_OWN
;

1719 i‡(!(
c⁄
->
°
 & 
DONE_CWD
))

1720 
c⁄
->
cmd
 |
DO_CWD
;

1722 
c⁄
->
cmd
 &~
DO_CWD
;

1723 
c⁄
->
cmd
 |(
DO_RETR
 | 
LEAVE_PENDING
);

1725 i‡(
c⁄
->
csock
 < 0)

1726 
c⁄
->
cmd
 |
DO_LOGIN
;

1728 
c⁄
->
cmd
 &~
DO_LOGIN
;

1730 
îr
 = 
RETROK
;

1732 
f
)

1734 *
ﬁd_èrgë
, *
ofûe
;

1736 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

1738 --
dïth
;

1739  
QUOTEXC
;

1741 
ﬁd_èrgë
 = 
c⁄
->
èrgë
;

1743 
ofûe
 = 
	`x°rdup
 (
u
->
fûe
);

1744 
	`uæ_£t_fûe
 (
u
, 
f
->
«me
);

1746 
c⁄
->
èrgë
 = 
	`uæ_fûe_«me
 (
u
, 
NULL
);

1747 
îr
 = 
RETROK
;

1749 
d…his
 = 
åue
;

1750 i‡(
›t
.
time°ampög
 && 
f
->
ty≥
 =
FT_PLAINFILE
)

1752 
°ru˘_°©
 
°
;

1758 i‡(!
	`°©
 (
c⁄
->
èrgë
, &
°
))

1760 
boﬁ
 
eq_size
;

1761 
boﬁ
 
c‹_vÆ
;

1763 
loˇl_size
 = 
°
.
°_size
;

1764 
tml
 = 
°
.
°_mtime
;

1765 #ifde‡
WINDOWS


1768 
tml
++;

1773 
c‹_vÆ
 = (
c⁄
->
rs
 =
ST_UNIX
 || c⁄->r†=
ST_WINNT
);

1774 
eq_size
 = 
c‹_vÆ
 ? (
loˇl_size
 =
f
->
size
Ë: 
åue
;

1775 i‡(
f
->
t°amp
 <
tml
 && 
eq_size
)

1779 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 fûênÿ√wîÅh™Üoˇ»fûê%†--ÇŸÑërõvög.\n"), 
	`quŸe
 (
c⁄
->
èrgë
));

1781 
d…his
 = 
Ál£
;

1783 i‡(
eq_size
)

1786 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 file isÇewerÅhanÜocal file %s --Ñetrieving.\n\n"),

1788 
	`quŸe
 (
c⁄
->
èrgë
));

1793 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 sizes doÇot match (local %s) --Ñetrieving.\n\n"),

1795 
	`numbî_to_°©ic_°rög
 (
loˇl_size
));

1799 
f
->
ty≥
)

1801 
FT_SYMLINK
:

1806 i‡(!
›t
.
ªå_symlöks
)

1808 #ifde‡
HAVE_SYMLINK


1809 i‡(!
f
->
lökto
)

1810 
	`logputs
 (
LOG_NOTQUIET
,

1811 
	`_
("InvalidÇame ofÅhe symlink, skipping.\n"));

1814 
°ru˘_°©
 
°
;

1817 
rc
 = 
	`l°©
 (
c⁄
->
èrgë
, &
°
);

1818 i‡(
rc
 == 0)

1820 
size_t
 
Àn
 = 
	`°æí
 (
f
->
lökto
) + 1;

1821 i‡(
	`S_ISLNK
 (
°
.
°_mode
))

1823 *
lök_èrgë
 = (*)
	`Æloˇ
 (
Àn
);

1824 
size_t
 
n
 = 
	`ªadlök
 (
c⁄
->
èrgë
, 
lök_èrgë
, 
Àn
);

1825 i‡((
n
 =
Àn
 - 1)

1826 && (
	`memcmp
 (
lök_èrgë
, 
f
->
lökto
, 
n
) == 0))

1828 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 have correct symlink %s -> %s\n\n"),

1830 
	`quŸe
 (
c⁄
->
èrgë
),

1831 
	`quŸe
 (
f
->
lökto
));

1832 
d…his
 = 
Ál£
;

1837 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Creating symlink %s -> %s\n"),

1838 
	`quŸe
 (
c⁄
->
èrgë
), quŸê(
f
->
lökto
));

1840 
	`u∆ök
 (
c⁄
->
èrgë
);

1841 i‡(
	`symlök
 (
f
->
lökto
, 
c⁄
->
èrgë
) == -1)

1842 
	`log¥ötf
 (
LOG_NOTQUIET
, "symlök: %s\n", 
	`°ªº‹
 (
î∫o
));

1843 
	`logputs
 (
LOG_VERBOSE
, "\n");

1846 
	`log¥ötf
 (
LOG_NOTQUIET
,

1847 
	`_
("SymlinksÇot supported, skipping symlink %s.\n"),

1848 
	`quŸe
 (
c⁄
->
èrgë
));

1853 i‡(
d…his
)

1854 
îr
 = 
	`·p_lo›_öã∫Æ
 (
u
, 
f
, 
c⁄
, 
NULL
);

1857 
FT_DIRECTORY
:

1858 i‡(!
›t
.
ªcursive
)

1859 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Skipping directory %s.\n"),

1860 
	`quŸe
 (
f
->
«me
));

1862 
FT_PLAINFILE
:

1864 i‡(
d…his
)

1865 
îr
 = 
	`·p_lo›_öã∫Æ
 (
u
, 
f
, 
c⁄
, 
NULL
);

1867 
FT_UNKNOWN
:

1868 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: unknown/unsupported fileÅype.\n"),

1869 
	`quŸe
 (
f
->
«me
));

1881 
	`£t_loˇl_fûe
 (&
a˘uÆ_èrgë
, 
c⁄
->
èrgë
);

1884 i‡(
d…his
 && (
a˘uÆ_èrgë
 !
NULL
Ë&& (
f
->
ty≥
 =
FT_PLAINFILE
))

1886 i‡(
f
->
≥rms
)

1887 
	`chmod
 (
a˘uÆ_èrgë
, 
f
->
≥rms
);

1889 
	`DEBUGP
 (("UƒecognizedÖîmissi⁄†f‹ %s.\n", 
a˘uÆ_èrgë
));

1895 i‡(
a˘uÆ_èrgë
 !
NULL
)

1897 i‡(
›t
.
u££rvîtime°amps


1898 && !(
f
->
ty≥
 =
FT_SYMLINK
 && !
›t
.
ªå_symlöks
)

1899 && 
f
->
t°amp
 != -1

1900 && 
d…his


1901 && 
	`fûe_exi°s_p
 (
c⁄
->
èrgë
))

1903 
	`touch
 (
a˘uÆ_èrgë
, 
f
->
t°amp
);

1905 i‡(
f
->
t°amp
 == -1)

1906 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: corruptÅime-stamp.\n"),

1907 
a˘uÆ_èrgë
);

1910 
	`x‰ì
 (
c⁄
->
èrgë
);

1911 
c⁄
->
èrgë
 = 
ﬁd_èrgë
;

1913 
	`uæ_£t_fûe
 (
u
, 
ofûe
);

1914 
	`x‰ì
 (
ofûe
);

1917 i‡(
îr
 =
QUOTEXC
 ||Éº =
HOSTERR
 ||Éº =
FWRITEERR
)

1919 
c⁄
->
cmd
 &~ (
DO_CWD
 | 
DO_LOGIN
);

1920 
f
 = f->
√xt
;

1924 i‡(
›t
.
ªcursive
 &&

1925 !(
›t
.
ª˛evñ
 !
INFINITE_RECURSION
 && 
dïth
 >= opt.reclevel))

1926 
îr
 = 
	`·p_ªåõve_dús
 (
u
, 
‹ig
, 
c⁄
);

1927 i‡(
›t
.
ªcursive
)

1928 
	`DEBUGP
 ((
	`_
("WillÇotÑetrieve dirs since depth is %d (max %d).\n"),

1929 
dïth
, 
›t
.
ª˛evñ
));

1930 --
dïth
;

1931  
îr
;

1932 
	}
}

1938 
uîr_t


1939 
	$·p_ªåõve_dús
 (
uæ
 *
u
, 
fûeöfo
 *
f
, 
cc⁄
 *
c⁄
)

1941 *
c⁄èöî
 = 
NULL
;

1942 
c⁄èöî_size
 = 0;

1944 ; 
f
; f = f->
√xt
)

1946 
size
;

1947 *
odú
, *
√wdú
;

1949 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

1951 i‡(
f
->
ty≥
 !
FT_DIRECTORY
)

1957 
size
 = 
	`°æí
 (
u
->
dú
Ë+ 1 + såÀ¿(
f
->
«me
) + 1;

1958 i‡(
size
 > 
c⁄èöî_size
)

1959 
c⁄èöî
 = (*)
	`Æloˇ
 (
size
);

1960 
√wdú
 = 
c⁄èöî
;

1962 
odú
 = 
u
->
dú
;

1963 i‡(*
odú
 == '\0'

1964 || (*
odú
 == '/' && *(odir + 1) == '\0'))

1968 
	`•rötf
 (
√wdú
, "%s%s", 
odú
, 
f
->
«me
);

1971 
	`•rötf
 (
√wdú
, "%s/%s", 
odú
, 
f
->
«me
);

1973 
	`DEBUGP
 (("ComposingÇew CWDÑelativeÅoÅhe initial directory.\n"));

1974 
	`DEBUGP
 ((" odir = '%s'\n f->name = '%s'\nÇewdir = '%s'\n\n",

1975 
odú
, 
f
->
«me
, 
√wdú
));

1976 i‡(!
	`accdú
 (
√wdú
))

1978 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 descendingÅo %sás it isÉxcluded/not-included.\n"),

1980 
	`quŸe
 (
√wdú
));

1984 
c⁄
->
°
 &~
DONE_CWD
;

1986 
odú
 = 
	`x°rdup
 (
u
->
dú
);

1988 
	`uæ_£t_dú
 (
u
, 
√wdú
);

1989 
	`·p_ªåõve_glob
 (
u
, 
c⁄
, 
GLOB_GETALL
);

1990 
	`uæ_£t_dú
 (
u
, 
odú
);

1991 
	`x‰ì
 (
odú
);

1996 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

1997  
QUOTEXC
;

1999  
RETROK
;

2000 
	}
}

2003 
boﬁ


2004 
	$has_ö£cuª_«me_p
 (c⁄° *
s
)

2006 i‡(*
s
 == '/')

2007  
åue
;

2009 i‡(
	`°r°r
 (
s
, "../") != 0)

2010  
åue
;

2012  
Ál£
;

2013 
	}
}

2024 
uîr_t


2025 
	$·p_ªåõve_glob
 (
uæ
 *
u
, 
cc⁄
 *
c⁄
, 
a˘i⁄
)

2027 
fûeöfo
 *
f
, *
°¨t
;

2028 
uîr_t
 
ªs
;

2030 
c⁄
->
cmd
 |
LEAVE_PENDING
;

2032 
ªs
 = 
	`·p_gë_li°ög
 (
u
, 
c⁄
, &
°¨t
);

2033 i‡(
ªs
 !
RETROK
)

2034  
ªs
;

2037 i‡(
›t
.
ac˚±s
 || o±.
ªje˘s
)

2039 
f
 = 
°¨t
;

2040 
f
)

2042 i‡(
f
->
ty≥
 !
FT_DIRECTORY
 && !
	`ac˚±abÀ
 (f->
«me
))

2044 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Rejecting %s.\n"),

2045 
	`quŸe
 (
f
->
«me
));

2046 
f
 = 
	`dññemít
 (f, &
°¨t
);

2049 
f
 = f->
√xt
;

2053 
f
 = 
°¨t
;

2054 
f
)

2056 i‡(
	`has_ö£cuª_«me_p
 (
f
->
«me
))

2058 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Rejecting %s.\n"),

2059 
	`quŸe
 (
f
->
«me
));

2060 
f
 = 
	`dññemít
 (f, &
°¨t
);

2063 
f
 = f->
√xt
;

2067 i‡(*
u
->
fûe
)

2069 i‡(
a˘i⁄
 =
GLOB_GLOBALL
)

2071 (*
m©chî
) (const *, const *, )

2072 
›t
.
ign‹e_ˇ£
 ? 
‚m©ch_noˇ£
 : 
‚m©ch
;

2073 
m©chªs
 = 0;

2075 
f
 = 
°¨t
;

2076 
f
)

2078 
m©chªs
 = 
	`m©chî
 (
u
->
fûe
, 
f
->
«me
, 0);

2079 i‡(
m©chªs
 == -1)

2081 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Error matching %ságainst %s: %s\n"),

2082 
u
->
fûe
, 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
f
->
«me
),

2083 
	`°ªº‹
 (
î∫o
));

2086 i‡(
m©chªs
 =
FNM_NOMATCH
)

2087 
f
 = 
	`dññemít
 (f, &
°¨t
);

2089 
f
 = f->
√xt
;

2091 i‡(
m©chªs
 == -1)

2093 
	`‰ìfûeöfo
 (
°¨t
);

2094  
RETRBADPATTERN
;

2097 i‡(
a˘i⁄
 =
GLOB_GETONE
)

2099 #ifde‡
__VMS


2109 (*
cmp
) (const *, const *)

2110 
›t
.
ign‹e_ˇ£
 ? 
°rˇ£cmp
 : ((*)())
°rcmp
;

2112 (*
cmp
) (const *, const *)

2113 
›t
.
ign‹e_ˇ£
 ? 
°rˇ£cmp
 : 
°rcmp
;

2115 
f
 = 
°¨t
;

2116 
f
)

2118 i‡(0 !
	`cmp
(
u
->
fûe
, 
f
->
«me
))

2119 
f
 = 
	`dññemít
 (f, &
°¨t
);

2121 
f
 = f->
√xt
;

2125 i‡(
°¨t
)

2128 
	`·p_ªåõve_li°
 (
u
, 
°¨t
, 
c⁄
);

2132 i‡(
a˘i⁄
 =
GLOB_GLOBALL
)

2137 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("No matches onÖattern %s.\n"),

2138 
	`quŸe
 (
u
->
fûe
));

2140 i‡(
a˘i⁄
 =
GLOB_GETONE
)

2143 
c⁄
->
°
 |
ON_YOUR_OWN
;

2144 
ªs
 = 
	`·p_lo›_öã∫Æ
 (
u
, 
NULL
, 
c⁄
, NULL);

2145  
ªs
;

2153 
	`‰ìfûeöfo
 (
°¨t
);

2154 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

2155  
QUOTEXC
;

2158  
RETROK
;

2159 
	}
}

2164 
uîr_t


2165 
	$·p_lo›
 (
uæ
 *
u
, **
loˇl_fûe
, *
dt
, uæ *
¥oxy
,

2166 
boﬁ
 
ªcursive
, boﬁ 
glob
)

2168 
cc⁄
 
c⁄
;

2169 
uîr_t
 
ªs
;

2171 *
dt
 = 0;

2173 
	`xzîo
 (
c⁄
);

2175 
c⁄
.
csock
 = -1;

2176 
c⁄
.
°
 = 
ON_YOUR_OWN
;

2177 
c⁄
.
rs
 = 
ST_UNIX
;

2178 
c⁄
.
id
 = 
NULL
;

2179 
c⁄
.
¥oxy
 =Öroxy;

2184 i‡(!*
u
->
fûe
 && !
ªcursive
)

2186 
fûeöfo
 *
f
;

2187 
ªs
 = 
	`·p_gë_li°ög
 (
u
, &
c⁄
, &
f
);

2189 i‡(
ªs
 =
RETROK
)

2191 i‡(
›t
.
htmlify
 && !›t.
•idî
)

2193 *
fûíame
 = (
›t
.
ouçut_documít


2194 ? 
	`x°rdup
 (
›t
.
ouçut_documít
)

2195 : (
c⁄
.
èrgë
 ? 
	`x°rdup
 (con.target)

2196 : 
	`uæ_fûe_«me
 (
u
, 
NULL
)));

2197 
ªs
 = 
	`·p_ödex
 (
fûíame
, 
u
, 
f
);

2198 i‡(
ªs
 =
FTPOK
 && 
›t
.
vîbo£
)

2200 i‡(!
›t
.
ouçut_documít
)

2202 
°ru˘_°©
 
°
;

2203 
wgöt
 
sz
;

2204 i‡(
	`°©
 (
fûíame
, &
°
) == 0)

2205 
sz
 = 
°
.
°_size
;

2207 
sz
 = -1;

2208 
	`log¥ötf
 (
LOG_NOTQUIET
,

2209 
	`_
("Wrote HTML-ized indexÅo %s [%s].\n"),

2210 
	`quŸe
 (
fûíame
), 
	`numbî_to_°©ic_°rög
 (
sz
));

2213 
	`log¥ötf
 (
LOG_NOTQUIET
,

2214 
	`_
("Wrote HTML-ized indexÅo %s.\n"),

2215 
	`quŸe
 (
fûíame
));

2217 
	`x‰ì
 (
fûíame
);

2219 
	`‰ìfûeöfo
 (
f
);

2224 
boﬁ
 
i•©ã∫
 = 
Ál£
;

2225 i‡(
glob
)

2231 *
fûe_∑π
 = 
	`°ºchr
 (
u
->
∑th
, '/');

2232 i‡(!
fûe_∑π
)

2233 
fûe_∑π
 = 
u
->
∑th
;

2234 
i•©ã∫
 = 
	`has_wûdˇrds_p
 (
fûe_∑π
);

2236 i‡(
i•©ã∫
 || 
ªcursive
 || 
›t
.
time°ampög
)

2241 
ªs
 = 
	`·p_ªåõve_glob
 (
u
, &
c⁄
,

2242 
i•©ã∫
 ? 
GLOB_GLOBALL
 : 
GLOB_GETONE
);

2245 
ªs
 = 
	`·p_lo›_öã∫Æ
 (
u
, 
NULL
, &
c⁄
, 
loˇl_fûe
);

2247 i‡(
ªs
 =
FTPOK
)

2248 
ªs
 = 
RETROK
;

2249 i‡(
ªs
 =
RETROK
)

2250 *
dt
 |
RETROKF
;

2252 i‡(
c⁄
.
csock
 != -1)

2253 
	`fd_˛o£
 (
c⁄
.
csock
);

2254 
	`x‰ì_nuŒ
 (
c⁄
.
id
);

2255 
c⁄
.
id
 = 
NULL
;

2256 
	`x‰ì_nuŒ
 (
c⁄
.
èrgë
);

2257 
c⁄
.
èrgë
 = 
NULL
;

2258  
ªs
;

2259 
	}
}

2264 
fûeöfo
 *

2265 
	$dññemít
 (
fûeöfo
 *
f
, fûeöfÿ**
°¨t
)

2267 
fûeöfo
 *
¥ev
 = 
f
->prev;

2268 
fûeöfo
 *
√xt
 = 
f
->next;

2270 
	`x‰ì
 (
f
->
«me
);

2271 
	`x‰ì_nuŒ
 (
f
->
lökto
);

2272 
	`x‰ì
 (
f
);

2274 i‡(
√xt
)

2275 
√xt
->
¥ev
 =Örev;

2276 i‡(
¥ev
)

2277 
¥ev
->
√xt
 =Çext;

2279 *
°¨t
 = 
√xt
;

2280  
√xt
;

2281 
	}
}

2285 
	$‰ìfûeöfo
 (
fûeöfo
 *
f
)

2287 
f
)

2289 
fûeöfo
 *
√xt
 = 
f
->next;

2290 
	`x‰ì
 (
f
->
«me
);

2291 i‡(
f
->
lökto
)

2292 
	`x‰ì
 (
f
->
lökto
);

2293 
	`x‰ì
 (
f
);

2294 
f
 = 
√xt
;

2296 
	}
}

	@src/ftp.h

32 #i‚de‡
FTP_H


33 
	#FTP_H


	)

35 
	~"ho°.h
"

38 
	e°y≥


40 
	mST_UNIX
,

41 
	mST_VMS
,

42 
	mST_WINNT
,

43 
	mST_MACOS
,

44 
	mST_OS400
,

45 
	mST_OTHER


48 
·p_œ°_ª•löe
[];

50 
uîr_t
 
·p_ª•⁄£
 (, **);

51 
uîr_t
 
·p_logö
 (, const *, const *);

52 
uîr_t
 
·p_p‹t
 (, *);

53 
uîr_t
 
·p_∑sv
 (, 
ù_addªss
 *, *);

54 #ifde‡
ENABLE_IPV6


55 
uîr_t
 
·p_Õπ
 (, *);

56 
uîr_t
 
·p_Õsv
 (, 
ù_addªss
 *, *);

57 
uîr_t
 
·p_ïπ
 (, *);

58 
uîr_t
 
·p_ïsv
 (, 
ù_addªss
 *, *);

60 
uîr_t
 
·p_ty≥
 (, );

61 
uîr_t
 
·p_cwd
 (, const *);

62 
uîr_t
 
·p_ªå
 (, const *);

63 
uîr_t
 
·p_ª°
 (, 
wgöt
);

64 
uîr_t
 
·p_li°
 (, c⁄° *, 
°y≥
);

65 
uîr_t
 
·p_sy°
 (, 
°y≥
 *);

66 
uîr_t
 
·p_pwd
 (, **);

67 
uîr_t
 
·p_size
 (, c⁄° *, 
wgöt
 *);

69 #ifde‡
ENABLE_OPIE


70 c⁄° *
skey_ª•⁄£
 (, const *, const *);

73 
	guæ
;

76 
	e·y≥


78 
	mFT_PLAINFILE
,

79 
	mFT_DIRECTORY
,

80 
	mFT_SYMLINK
,

81 
	mFT_UNKNOWN


88 
	mGLOB_GLOBALL
, 
	mGLOB_GETALL
, 
	mGLOB_GETONE


92 
	e∑r£ty≥


94 
	mTT_HOUR_MIN
, 
	mTT_DAY


99 
	sfûeöfo


101 
·y≥
 
	mty≥
;

102 *
	m«me
;

103 
wgöt
 
	msize
;

104 
	mt°amp
;

105 
∑r£ty≥
 
	m±y≥
;

106 
	m≥rms
;

107 *
	mlökto
;

108 
fûeöfo
 *
	m¥ev
;

109 
fûeöfo
 *
	m√xt
;

113 
	ewgë_·p_comm™d


115 
	mDO_LOGIN
 = 0x0001,

116 
	mDO_CWD
 = 0x0002,

117 
	mDO_RETR
 = 0x0004,

118 
	mDO_LIST
 = 0x0008,

119 
	mLEAVE_PENDING
 = 0x0010

122 
	ewgë_·p_f°©us


124 
	mNOTHING
 = 0x0000,

125 
	mON_YOUR_OWN
 = 0x0001,

127 
	mDONE_CWD
 = 0x0002

131 
fûeöfo
 *
·p_∑r£_ls
 (c⁄° *, c⁄° 
°y≥
);

132 
uîr_t
 
·p_lo›
 (
uæ
 *, **, *, uæ *, 
boﬁ
, bool);

134 
uîr_t
 
·p_ödex
 (c⁄° *, 
uæ
 *, 
fûeöfo
 *);

136 
·p_¥o˚ss_ty≥
 (const *);

	@src/gettext.h

20 #i‚de‡
_LIBGETTEXT_H


21 
	#_LIBGETTEXT_H
 1

	)

24 #i‡
ENABLE_NLS


27 
	~<liböé.h
>

32 #ifde‡
DEFAULT_TEXT_DOMAIN


33 #unde‡
gëãxt


34 
	#gëãxt
(
Msgid
) \

35 
	`dgëãxt
 (
DEFAULT_TEXT_DOMAIN
, 
Msgid
)

	)

36 #unde‡
ngëãxt


37 
	#ngëãxt
(
Msgid1
, 
Msgid2
, 
N
) \

38 
	`dngëãxt
 (
DEFAULT_TEXT_DOMAIN
, 
Msgid1
, 
Msgid2
, 
N
)

	)

49 #i‡
deföed
(
__sun
)

50 
	~<loˇÀ.h
>

56 #i‡
deföed
(
__˝lu•lus
Ë&& deföed(
__GNUG__
Ë&& (
__GNUC__
 >= 3)

57 
	~<c°dlib
>

58 #i‡(
__GLIBC__
 >2Ë|| 
_GLIBCXX_HAVE_LIBINTL_H


59 
	~<liböé.h
>

68 
	#gëãxt
(
Msgid
Ë((c⁄° *Ë(Msgid))

	)

69 
	#dgëãxt
(
Domaö«me
, 
Msgid
Ë((Ë(Domaö«me), 
	`gëãxt
 (Msgid))

	)

70 
	#dcgëãxt
(
Domaö«me
, 
Msgid
, 
C©eg‹y
) \

71 ((Ë(
C©eg‹y
), 
	`dgëãxt
 (
Domaö«me
, 
Msgid
))

	)

72 
	#ngëãxt
(
Msgid1
, 
Msgid2
, 
N
) \

73 ((
N
) == 1 \

74 ? ((Ë(
Msgid2
), (c⁄° *Ë(
Msgid1
)) \

75 : ((Ë(
Msgid1
), (c⁄° *Ë(
Msgid2
)))

	)

76 
	#dngëãxt
(
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
) \

77 ((Ë(
Domaö«me
), 
	`ngëãxt
 (
Msgid1
, 
Msgid2
, 
N
))

	)

78 
	#d˙gëãxt
(
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
, 
C©eg‹y
) \

79 ((Ë(
C©eg‹y
), 
	`dngëãxt
(
Domaö«me
, 
Msgid1
, 
Msgid2
, 
N
))

	)

80 
	#ãxtdomaö
(
Domaö«me
Ë((c⁄° *Ë(Domaö«me))

	)

81 
	#bödãxtdomaö
(
Domaö«me
, 
Dú«me
) \

82 ((Ë(
Domaö«me
), (c⁄° *Ë(
Dú«me
))

	)

83 
	#böd_ãxtdomaö_code£t
(
Domaö«me
, 
Code£t
) \

84 ((Ë(
Domaö«me
), (c⁄° *Ë(
Code£t
))

	)

95 
	#gëãxt_no›
(
Såög
Ë
	)
String

98 
	#GETTEXT_CONTEXT_GLUE
 "\004"

	)

104 #ifde‡
DEFAULT_TEXT_DOMAIN


105 
	#pgëãxt
(
Msg˘xt
, 
Msgid
) \

106 
	`pgëãxt_aux
 (
DEFAULT_TEXT_DOMAIN
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

108 
	#pgëãxt
(
Msg˘xt
, 
Msgid
) \

109 
	`pgëãxt_aux
 (
NULL
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

111 
	#dpgëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
) \

112 
	`pgëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
LC_MESSAGES
)

	)

113 
	#d˝gëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
C©eg‹y
) \

114 
	`pgëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
C©eg‹y
)

	)

115 #ifde‡
DEFAULT_TEXT_DOMAIN


116 
	#≈gëãxt
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

117 
	`≈gëãxt_aux
 (
DEFAULT_TEXT_DOMAIN
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

119 
	#≈gëãxt
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

120 
	`≈gëãxt_aux
 (
NULL
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

122 
	#d≈gëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

123 
	`≈gëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

124 
	#d˙pgëãxt
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
C©eg‹y
) \

125 
	`≈gëãxt_aux
 (
Domaö«me
, 
Msg˘xt
 
GETTEXT_CONTEXT_GLUE
 
Msgid
, Msgid, 
MsgidPluøl
, 
N
, 
C©eg‹y
)

	)

127 #ifde‡
__GNUC__


128 
	g__ölöe


130 #ifde‡
__˝lu•lus


131 
	gölöe


135 
	$pgëãxt_aux
 (c⁄° *
domaö
,

136 c⁄° *
msg_˘xt_id
, c⁄° *
msgid
,

137 
ˇãg‹y
)

139 c⁄° *
å™¶©i⁄
 = 
	`dcgëãxt
 (
domaö
, 
msg_˘xt_id
, 
ˇãg‹y
);

140 i‡(
å™¶©i⁄
 =
msg_˘xt_id
)

141  
msgid
;

143  
å™¶©i⁄
;

144 
	}
}

146 #ifde‡
__GNUC__


147 
	g__ölöe


149 #ifde‡
__˝lu•lus


150 
	gölöe


154 
	$≈gëãxt_aux
 (c⁄° *
domaö
,

155 c⁄° *
msg_˘xt_id
, c⁄° *
msgid
,

156 c⁄° *
msgid_∂uøl
, 
n
,

157 
ˇãg‹y
)

159 c⁄° *
å™¶©i⁄
 =

160 
	`d˙gëãxt
 (
domaö
, 
msg_˘xt_id
, 
msgid_∂uøl
, 
n
, 
ˇãg‹y
);

161 i‡(
å™¶©i⁄
 =
msg_˘xt_id
 ||Åøn¶©i⁄ =
msgid_∂uøl
)

162  (
n
 =1 ? 
msgid
 : 
msgid_∂uøl
);

164  
å™¶©i⁄
;

165 
	}
}

171 
	~<°rög.h
>

173 
	#_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS
 \

174 (((
__GNUC__
 >3 || 
__GNUG__
 >2Ë&& !
__STRICT_ANSI__
) \

175  )

	)

177 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


178 
	~<°dlib.h
>

181 
	#pgëãxt_ex¥
(
Msg˘xt
, 
Msgid
) \

182 
	`d˝gëãxt_ex¥
 (
NULL
, 
Msg˘xt
, 
Msgid
, 
LC_MESSAGES
)

	)

183 
	#dpgëãxt_ex¥
(
Domaö«me
, 
Msg˘xt
, 
Msgid
) \

184 
	`d˝gëãxt_ex¥
 (
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
LC_MESSAGES
)

	)

186 #ifde‡
__GNUC__


187 
	g__ölöe


189 #ifde‡
__˝lu•lus


190 
	gölöe


194 
	$d˝gëãxt_ex¥
 (c⁄° *
domaö
,

195 c⁄° *
msg˘xt
, c⁄° *
msgid
,

196 
ˇãg‹y
)

198 
size_t
 
msg˘xt_Àn
 = 
	`°æí
 (
msg˘xt
) + 1;

199 
size_t
 
msgid_Àn
 = 
	`°æí
 (
msgid
) + 1;

200 c⁄° *
å™¶©i⁄
;

201 #i‡
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


202 
msg_˘xt_id
[
msg˘xt_Àn
 + 
msgid_Àn
];

204 
buf
[1024];

205 *
msg_˘xt_id
 =

206 (
msg˘xt_Àn
 + 
msgid_Àn
 < (
buf
)

207 ? 
buf


208 : (*Ë
	`mÆloc
 (
msg˘xt_Àn
 + 
msgid_Àn
));

209 i‡(
msg_˘xt_id
 !
NULL
)

212 
	`mem˝y
 (
msg_˘xt_id
, 
msg˘xt
, 
msg˘xt_Àn
 - 1);

213 
msg_˘xt_id
[
msg˘xt_Àn
 - 1] = '\004';

214 
	`mem˝y
 (
msg_˘xt_id
 + 
msg˘xt_Àn
, 
msgid
, 
msgid_Àn
);

215 
å™¶©i⁄
 = 
	`dcgëãxt
 (
domaö
, 
msg_˘xt_id
, 
ˇãg‹y
);

216 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


217 i‡(
msg_˘xt_id
 !
buf
)

218 
	`‰ì
 (
msg_˘xt_id
);

220 i‡(
å™¶©i⁄
 !
msg_˘xt_id
)

221  
å™¶©i⁄
;

223  
msgid
;

224 
	}
}

226 
	#≈gëãxt_ex¥
(
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

227 
	`d˙pgëãxt_ex¥
 (
NULL
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

228 
	#d≈gëãxt_ex¥
(
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
) \

229 
	`d˙pgëãxt_ex¥
 (
Domaö«me
, 
Msg˘xt
, 
Msgid
, 
MsgidPluøl
, 
N
, 
LC_MESSAGES
)

	)

231 #ifde‡
__GNUC__


232 
	g__ölöe


234 #ifde‡
__˝lu•lus


235 
	gölöe


239 
	$d˙pgëãxt_ex¥
 (c⁄° *
domaö
,

240 c⁄° *
msg˘xt
, c⁄° *
msgid
,

241 c⁄° *
msgid_∂uøl
, 
n
,

242 
ˇãg‹y
)

244 
size_t
 
msg˘xt_Àn
 = 
	`°æí
 (
msg˘xt
) + 1;

245 
size_t
 
msgid_Àn
 = 
	`°æí
 (
msgid
) + 1;

246 c⁄° *
å™¶©i⁄
;

247 #i‡
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


248 
msg_˘xt_id
[
msg˘xt_Àn
 + 
msgid_Àn
];

250 
buf
[1024];

251 *
msg_˘xt_id
 =

252 (
msg˘xt_Àn
 + 
msgid_Àn
 < (
buf
)

253 ? 
buf


254 : (*Ë
	`mÆloc
 (
msg˘xt_Àn
 + 
msgid_Àn
));

255 i‡(
msg_˘xt_id
 !
NULL
)

258 
	`mem˝y
 (
msg_˘xt_id
, 
msg˘xt
, 
msg˘xt_Àn
 - 1);

259 
msg_˘xt_id
[
msg˘xt_Àn
 - 1] = '\004';

260 
	`mem˝y
 (
msg_˘xt_id
 + 
msg˘xt_Àn
, 
msgid
, 
msgid_Àn
);

261 
å™¶©i⁄
 = 
	`d˙gëãxt
 (
domaö
, 
msg_˘xt_id
, 
msgid_∂uøl
, 
n
, 
ˇãg‹y
);

262 #i‡!
_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS


263 i‡(
msg_˘xt_id
 !
buf
)

264 
	`‰ì
 (
msg_˘xt_id
);

266 i‡(!(
å™¶©i⁄
 =
msg_˘xt_id
 ||Åøn¶©i⁄ =
msgid_∂uøl
))

267  
å™¶©i⁄
;

269  (
n
 =1 ? 
msgid
 : 
msgid_∂uøl
);

270 
	}
}

	@src/gnutls.c

31 
	~"wgë.h
"

33 
	~<as£π.h
>

34 
	~<î∫o.h
>

35 
	~<uni°d.h
>

36 
	~<°rög.h
>

37 
	~<°dio.h
>

38 
	~<dúít.h
>

39 
	~<°dlib.h
>

41 
	~<gnués/gnués.h
>

42 
	~<gnués/x509.h
>

43 
	~<sys/io˘l.h
>

45 
	~"utûs.h
"

46 
	~"c⁄√˘.h
"

47 
	~"uæ.h
"

48 
	~"s¶.h
"

50 #ifde‡
WIN32


51 
	~"w32sock.h
"

59 
gnués_˚πifiˇã_¸edítüls
 
	g¸edítüls
;

61 
boﬁ


62 
	$s¶_öô
 ()

64 c⁄° *
ˇ_dúe˘‹y
;

65 
DIR
 *
dú
;

67 
	`gnués_globÆ_öô
 ();

68 
	`gnués_˚πifiˇã_Æloˇã_¸edítüls
 (&
¸edítüls
);

69 
	`gnués_˚πifiˇã_£t_vîify_Êags
(
¸edítüls
,

70 
GNUTLS_VERIFY_ALLOW_X509_V1_CA_CRT
);

72 
ˇ_dúe˘‹y
 = 
›t
.ca_directory ? opt.ca_directory : "/etc/ssl/certs";

74 
dú
 = 
	`›ídú
 (
ˇ_dúe˘‹y
);

75 i‡(
dú
 =
NULL
)

77 i‡(
›t
.
ˇ_dúe˘‹y
)

78 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("ERROR: Cannot open directory %s.\n"),

79 
›t
.
ˇ_dúe˘‹y
);

83 
dúít
 *
dít
;

84 (
dít
 = 
	`ªaddú
 (
dú
)Ë!
NULL
)

86 
°©
 
°
;

87 *
ˇ_fûe
;

88 
	`a•rötf
 (&
ˇ_fûe
, "%s/%s", 
ˇ_dúe˘‹y
, 
dít
->
d_«me
);

90 
	`°©
 (
ˇ_fûe
, &
°
);

92 i‡(
	`S_ISREG
 (
°
.
°_mode
))

93 
	`gnués_˚πifiˇã_£t_x509_åu°_fûe
 (
¸edítüls
, 
ˇ_fûe
,

94 
GNUTLS_X509_FMT_PEM
);

96 
	`‰ì
 (
ˇ_fûe
);

99 
	`˛o£dú
 (
dú
);

102 i‡(
›t
.
ˇ_˚π
)

103 
	`gnués_˚πifiˇã_£t_x509_åu°_fûe
 (
¸edítüls
, 
›t
.
ˇ_˚π
,

104 
GNUTLS_X509_FMT_PEM
);

105  
åue
;

106 
	}
}

108 
	swgnués_å™•‹t_c⁄ãxt


110 
gnués_£ssi⁄
 
	m£ssi⁄
;

111 
	mœ°_îr‹
;

117 
	m≥ekbuf
[512];

118 
	m≥ekÀn
;

121 #i‚de‡
MIN


122 
	#MIN
(
i
, 
j
Ë((iË<(jË? (iË: (j))

	)

126 
	$wgnués_ªad
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

128 
ªt
 = 0;

129 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

131 i‡(
˘x
->
≥ekÀn
)

134 
c›ysize
 = 
	`MIN
 (
bufsize
, 
˘x
->
≥ekÀn
);

135 
	`mem˝y
 (
buf
, 
˘x
->
≥ekbuf
, 
c›ysize
);

136 
˘x
->
≥ekÀn
 -
c›ysize
;

137 i‡(
˘x
->
≥ekÀn
 != 0)

138 
	`memmove
 (
˘x
->
≥ekbuf
, ctx->≥ekbu‡+ 
c›ysize
, ctx->
≥ekÀn
);

140  
c›ysize
;

144 
ªt
 = 
	`gnués_ªc‹d_ªcv
 (
˘x
->
£ssi⁄
, 
buf
, 
bufsize
);

145 
ªt
 =
GNUTLS_E_INTERRUPTED
 ||Ñë =
GNUTLS_E_AGAIN
);

147 i‡(
ªt
 < 0)

148 
˘x
->
œ°_îr‹
 = 
ªt
;

150  
ªt
;

151 
	}
}

154 
	$wgnués_wrôe
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

156 
ªt
;

157 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

159 
ªt
 = 
	`gnués_ªc‹d_£nd
 (
˘x
->
£ssi⁄
, 
buf
, 
bufsize
);

160 
ªt
 =
GNUTLS_E_INTERRUPTED
 ||Ñë =
GNUTLS_E_AGAIN
);

161 i‡(
ªt
 < 0)

162 
˘x
->
œ°_îr‹
 = 
ªt
;

163  
ªt
;

164 
	}
}

167 
	$wgnués_pﬁl
 (
fd
, 
timeout
, 
waô_f‹
, *
¨g
)

169 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

170  
˘x
->
≥ekÀn
 || 
	`gnués_ªc‹d_check_≥ndög
 (˘x->
£ssi⁄
)

171 || 
	`£À˘_fd
 (
fd
, 
timeout
, 
waô_f‹
);

172 
	}
}

175 
	$wgnués_≥ek
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

177 
ªad
 = 0;

178 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

179 
off£t
 = 
	`MIN
 (
bufsize
, 
˘x
->
≥ekÀn
);

180 i‡(
bufsize
 >  
˘x
->
≥ekbuf
)

181 
bufsize
 =  
˘x
->
≥ekbuf
;

183 i‡(
˘x
->
≥ekÀn
)

184 
	`mem˝y
 (
buf
, 
˘x
->
≥ekbuf
, 
off£t
);

186 i‡(
bufsize
 > 
off£t
)

188 i‡(
	`gnués_ªc‹d_check_≥ndög
 (
˘x
->
£ssi⁄
) <= 0

189 && 
	`£À˘_fd
 (
fd
, 0.0, 
WAIT_FOR_READ
) <= 0)

190 
ªad
 = 0;

192 
ªad
 = 
	`gnués_ªc‹d_ªcv
 (
˘x
->
£ssi⁄
, 
buf
 + 
off£t
,

193 
bufsize
 - 
off£t
);

195 i‡(
ªad
 < 0)

197 i‡(
off£t
)

198 
ªad
 = 0;

200  
ªad
;

203 i‡(
ªad
 > 0)

205 
	`mem˝y
 (
˘x
->
≥ekbuf
 + 
off£t
, 
buf
 + offset,

206 
ªad
);

207 
˘x
->
≥ekÀn
 +
ªad
;

211  
off£t
 + 
ªad
;

212 
	}
}

215 
	$wgnués_îr°r
 (
fd
, *
¨g
)

217 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

218  
	`gnués_°ªº‹
 (
˘x
->
œ°_îr‹
);

219 
	}
}

222 
	$wgnués_˛o£
 (
fd
, *
¨g
)

224 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

226 
	`gnués_deöô
 (
˘x
->
£ssi⁄
);

227 
	`x‰ì
 (
˘x
);

228 
	`˛o£
 (
fd
);

229 
	}
}

234 
å™•‹t_im∂emíèti⁄
 
	gwgnués_å™•‹t
 =

236 
wgnués_ªad
, 
wgnués_wrôe
, 
wgnués_pﬁl
,

237 
wgnués_≥ek
, 
wgnués_îr°r
, 
wgnués_˛o£


240 
boﬁ


241 
	$s¶_c⁄√˘_wgë
 (
fd
)

243 c⁄° 
˚π_ty≥_¥i‹ôy
[] = {

244 
GNUTLS_CRT_X509
, 
GNUTLS_CRT_OPENPGP
, 0

246 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
;

247 
gnués_£ssi⁄
 
£ssi⁄
;

248 
îr
;

249 
	`gnués_öô
 (&
£ssi⁄
, 
GNUTLS_CLIENT
);

250 
	`gnués_£t_deÁu…_¥i‹ôy
 (
£ssi⁄
);

251 
	`gnués_˚πifiˇã_ty≥_£t_¥i‹ôy
 (
£ssi⁄
, 
˚π_ty≥_¥i‹ôy
);

252 
	`gnués_¸edítüls_£t
 (
£ssi⁄
, 
GNUTLS_CRD_CERTIFICATE
, 
¸edítüls
);

253 #i‚de‡
FD_TO_SOCKET


254 
	#FD_TO_SOCKET
(
X
Ë(X)

	)

256 
	`gnués_å™•‹t_£t_±r
 (
£ssi⁄
, (
gnués_å™•‹t_±r
Ë
	`FD_TO_SOCKET
 (
fd
));

258 
îr
 = 0;

259 
›t
.
£cuª_¥Ÿocﬁ
)

261 
£cuª_¥Ÿocﬁ_auto
:

263 
£cuª_¥Ÿocﬁ_s¶v2
:

264 
£cuª_¥Ÿocﬁ_s¶v3
:

265 
îr
 = 
	`gnués_¥i‹ôy_£t_dúe˘
 (
£ssi⁄
, "NORMAL:-VERS-TLS-ALL", 
NULL
);

267 
£cuª_¥Ÿocﬁ_ésv1
:

268 
îr
 = 
	`gnués_¥i‹ôy_£t_dúe˘
 (
£ssi⁄
, "NORMAL:-VERS-SSL3.0", 
NULL
);

271 
	`ab‹t
 ();

273 i‡(
îr
 < 0)

275 
	`log¥ötf
 (
LOG_NOTQUIET
, "GnuTLS: %s\n", 
	`gnués_°ªº‹
 (
îr
));

276 
	`gnués_deöô
 (
£ssi⁄
);

277  
Ál£
;

280 
îr
 = 
	`gnués_h™dshake
 (
£ssi⁄
);

281 i‡(
îr
 < 0)

283 
	`log¥ötf
 (
LOG_NOTQUIET
, "GnuTLS: %s\n", 
	`gnués_°ªº‹
 (
îr
));

284 
	`gnués_deöô
 (
£ssi⁄
);

285  
Ál£
;

288 
˘x
 = 
	`x√w0
 (
wgnués_å™•‹t_c⁄ãxt
);

289 
˘x
->
£ssi⁄
 = session;

290 
	`fd_ªgi°î_å™•‹t
 (
fd
, &
wgnués_å™•‹t
, 
˘x
);

291  
åue
;

292 
	}
}

294 
boﬁ


295 
	$s¶_check_˚πifiˇã
 (
fd
, c⁄° *
ho°
)

297 
wgnués_å™•‹t_c⁄ãxt
 *
˘x
 = 
	`fd_å™•‹t_c⁄ãxt
 (
fd
);

299 
°©us
;

300 
îr
;

304 c⁄° *
£vîôy
 = 
›t
.
check_˚π
 ? 
	`_
("ERROR") : _("WARNING");

305 
boﬁ
 
suc˚ss
 = 
åue
;

307 
îr
 = 
	`gnués_˚πifiˇã_vîify_≥îs2
 (
˘x
->
£ssi⁄
, &
°©us
);

308 i‡(
îr
 < 0)

310 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: No certificateÖresented by %s.\n"),

311 
£vîôy
, 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ho°
));

312 
suc˚ss
 = 
Ál£
;

313 
out
;

316 i‡(
°©us
 & 
GNUTLS_CERT_INVALID
)

318 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: The certificate of %s isÇotÅrusted.\n"),

319 
£vîôy
, 
	`quŸe
 (
ho°
));

320 
suc˚ss
 = 
Ál£
;

322 i‡(
°©us
 & 
GNUTLS_CERT_SIGNER_NOT_FOUND
)

324 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: The certificate of %s hasn't gotá known issuer.\n"),

325 
£vîôy
, 
	`quŸe
 (
ho°
));

326 
suc˚ss
 = 
Ál£
;

328 i‡(
°©us
 & 
GNUTLS_CERT_REVOKED
)

330 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: The certificate of %s has beenÑevoked.\n"),

331 
£vîôy
, 
	`quŸe
 (
ho°
));

332 
suc˚ss
 = 
Ál£
;

335 i‡(
	`gnués_˚πifiˇã_ty≥_gë
 (
˘x
->
£ssi⁄
Ë=
GNUTLS_CRT_X509
)

337 
time_t
 
now
 = 
	`time
 (
NULL
);

338 
gnués_x509_¸t
 
˚π
;

339 c⁄° 
gnués_d©um
 *
˚π_li°
;

340 
˚π_li°_size
;

342 i‡((
îr
 = 
	`gnués_x509_¸t_öô
 (&
˚π
)) < 0)

344 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Error initializing X509 certificate: %s\n"),

345 
	`gnués_°ªº‹
 (
îr
));

346 
suc˚ss
 = 
Ál£
;

347 
out
;

350 
˚π_li°
 = 
	`gnués_˚πifiˇã_gë_≥îs
 (
˘x
->
£ssi⁄
, &
˚π_li°_size
);

351 i‡(!
˚π_li°
)

353 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No certificate found\n"));

354 
suc˚ss
 = 
Ál£
;

355 
out
;

357 
îr
 = 
	`gnués_x509_¸t_imp‹t
 (
˚π
, 
˚π_li°
, 
GNUTLS_X509_FMT_DER
);

358 i‡(
îr
 < 0)

360 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("ErrorÖarsing certificate: %s\n"),

361 
	`gnués_°ªº‹
 (
îr
));

362 
suc˚ss
 = 
Ál£
;

363 
out
;

365 i‡(
now
 < 
	`gnués_x509_¸t_gë_a˘iv©i⁄_time
 (
˚π
))

367 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("The certificate hasÇot yet beenáctivated\n"));

368 
suc˚ss
 = 
Ál£
;

370 i‡(
now
 >
	`gnués_x509_¸t_gë_expú©i⁄_time
 (
˚π
))

372 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("The certificate hasÉxpired\n"));

373 
suc˚ss
 = 
Ál£
;

375 i‡(!
	`gnués_x509_¸t_check_ho°«me
 (
˚π
, 
ho°
))

377 
	`log¥ötf
 (
LOG_NOTQUIET
,

378 
	`_
("The certificate's owner doesÇot match hostname %s\n"),

379 
	`quŸe
 (
ho°
));

380 
suc˚ss
 = 
Ál£
;

382 
	`gnués_x509_¸t_deöô
 (
˚π
);

385 
out
:

386  
›t
.
check_˚π
 ? 
suc˚ss
 : 
åue
;

387 
	}
}

	@src/hash.c

34 #i‚de‡
STANDALONE


35 
	~"wgë.h
"

38 
	~<°dio.h
>

39 
	~<°dlib.h
>

40 
	~<as£π.h
>

41 
	~<°rög.h
>

42 
	~<limôs.h
>

44 #i‚de‡
STANDALONE


46 
	~"utûs.h
"

49 
	#x√w
(
x
Ë
	`xmÆloc
 ( (x))

	)

50 
	#x√w_¨øy
(
ty≥
, 
x
Ë
	`xmÆloc
 ( (ty≥Ë* (x))

	)

51 
	#xmÆloc
 
mÆloc


	)

52 
	#x‰ì
 
‰ì


	)

53 #i‚de‡
cou¡of


54 
	#cou¡of
(
x
Ë( (xË/  ((x)[0]))

	)

56 
	~<˘y≥.h
>

57 
	#c_tﬁowî
(
x
Ë
	`tﬁowî
 ((Ë(x))

	)

58 #ifde‡
HAVE_STDINT_H


59 
	~<°döt.h
>

61 
	tuöçå_t
;

65 
	~"hash.h
"

141 
	#HASH_MAX_FULLNESS
 0.75

	)

146 
	#HASH_RESIZE_FACTOR
 2

	)

148 
	s˚Œ
 {

149 *
	mkey
;

150 *
	mvÆue
;

153 (*
	thashfun_t
) (const *);

154 (*
	tã°fun_t
) (const *, const *);

156 
	shash_èbÀ
 {

157 
hashfun_t
 
hash_fun˘i⁄
;

158 
ã°fun_t
 
ã°_fun˘i⁄
;

160 
˚Œ
 *
˚Œs
;

161 
size
;

163 
cou¡
;

164 
ªsize_thªshﬁd
;

166 
¥ime_off£t
;

181 
	#INVALID_PTR
 ((*Ë~(
uöçå_t
Ë0)

	)

182 #i‚de‡
UCHAR_MAX


183 
	#UCHAR_MAX
 0xff

	)

185 
	#INVALID_PTR_CHAR
 
UCHAR_MAX


	)

188 
	#CELL_OCCUPIED
(
c
Ë((c)->
key
 !
INVALID_PTR
)

	)

191 
	#CLEAR_CELL
(
c
Ë((c)->
key
 = 
INVALID_PTR
)

	)

195 
	#NEXT_CELL
(
c
, 
˚Œs
, 
size
Ë(¯!˚Œ†+ (sizê- 1Ë? c + 1 : cñls)

	)

199 
	#FOREACH_OCCUPIED_ADJACENT
(
c
, 
˚Œs
, 
size
) \

200 ; 
	`CELL_OCCUPIED
 (
c
); c = 
	`NEXT_CELL
 (c, 
˚Œs
, 
size
))

	)

204 
	#HASH_POSITION
(
key
, 
hashfun
, 
size
Ë((hashfunË(keyË% size)

	)

216 
	$¥ime_size
 (
size
, *
¥ime_off£t
)

218 c⁄° 
¥imes
[] = {

229 
size_t
 
i
;

231 
i
 = *
¥ime_off£t
; i < 
	`cou¡of
 (
¥imes
); i++)

232 i‡(
¥imes
[
i
] >
size
)

239 *
¥ime_off£t
 = 
i
 + 1;

240  
¥imes
[
i
];

243 
	`ab‹t
 ();

244 
	}
}

246 
cmp_poöãr
 (const *, const *);

272 
hash_èbÀ
 *

273 
hash_èbÀ_√w
 (
ôems
,

274 (*
hash_fun˘i⁄
) (const *),

275 (*
ã°_fun˘i⁄
) (const *, const *))

277 
size
;

278 
hash_èbÀ
 *
ht
 = 
	`x√w
 (hash_table);

280 
ht
->
hash_fun˘i⁄
 = hash_fun˘i⁄ ? hash_fun˘i⁄ : 
hash_poöãr
;

281 
ht
->
ã°_fun˘i⁄
 =Åe°_fun˘i⁄ ?Åe°_fun˘i⁄ : 
cmp_poöãr
;

285 
ht
->
¥ime_off£t
 = 0;

289 
size
 = 1 + 
ôems
 / 
HASH_MAX_FULLNESS
;

290 
size
 = 
	`¥ime_size
 (size, &
ht
->
¥ime_off£t
);

291 
ht
->
size
 = size;

292 
ht
->
ªsize_thªshﬁd
 = 
size
 * 
HASH_MAX_FULLNESS
;

295 
ht
->
˚Œs
 = 
	`x√w_¨øy
 (
˚Œ
, ht->
size
);

299 
	`mem£t
 (
ht
->
˚Œs
, 
INVALID_PTR_CHAR
, 
size
 *  (
˚Œ
));

301 
ht
->
cou¡
 = 0;

303  
ht
;

304 
	}
}

309 
	$hash_èbÀ_de°roy
 (
hash_èbÀ
 *
ht
)

311 
	`x‰ì
 (
ht
->
˚Œs
);

312 
	`x‰ì
 (
ht
);

313 
	}
}

319 
ölöe
 
˚Œ
 *

320 
	$föd_˚Œ
 (c⁄° 
hash_èbÀ
 *
ht
, c⁄° *
key
)

322 
˚Œ
 *
˚Œs
 = 
ht
->cells;

323 
size
 = 
ht
->size;

324 
˚Œ
 *
c
 = 
˚Œs
 + 
	`HASH_POSITION
 (
key
, 
ht
->
hash_fun˘i⁄
, 
size
);

325 
ã°fun_t
 
equÆs
 = 
ht
->
ã°_fun˘i⁄
;

327 
	`FOREACH_OCCUPIED_ADJACENT
 (
c
, 
˚Œs
, 
size
)

328 i‡(
	`equÆs
 (
key
, 
c
->key))

330  
c
;

331 
	}
}

341 
	$hash_èbÀ_gë
 (c⁄° 
hash_èbÀ
 *
ht
, c⁄° *
key
)

343 
˚Œ
 *
c
 = 
	`föd_˚Œ
 (
ht
, 
key
);

344 i‡(
	`CELL_OCCUPIED
 (
c
))

345  
c
->
vÆue
;

347  
NULL
;

348 
	}
}

354 
	$hash_èbÀ_gë_∑ú
 (c⁄° 
hash_èbÀ
 *
ht
, c⁄° *
lookup_key
,

355 *
‹ig_key
, *
vÆue
)

357 
˚Œ
 *
c
 = 
	`föd_˚Œ
 (
ht
, 
lookup_key
);

358 i‡(
	`CELL_OCCUPIED
 (
c
))

360 i‡(
‹ig_key
)

361 *(**)
‹ig_key
 = 
c
->
key
;

362 i‡(
vÆue
)

363 *(**)
vÆue
 = 
c
->value;

368 
	}
}

373 
	$hash_èbÀ_c⁄èös
 (c⁄° 
hash_èbÀ
 *
ht
, c⁄° *
key
)

375 
˚Œ
 *
c
 = 
	`föd_˚Œ
 (
ht
, 
key
);

376  
	`CELL_OCCUPIED
 (
c
);

377 
	}
}

383 
	$grow_hash_èbÀ
 (
hash_èbÀ
 *
ht
)

385 
hashfun_t
 
hashî
 = 
ht
->
hash_fun˘i⁄
;

386 
˚Œ
 *
ﬁd_˚Œs
 = 
ht
->
˚Œs
;

387 
˚Œ
 *
ﬁd_íd
 = 
ht
->
˚Œs
 + ht->
size
;

388 
˚Œ
 *
c
, *
˚Œs
;

389 
√wsize
;

391 
√wsize
 = 
	`¥ime_size
 (
ht
->
size
 * 
HASH_RESIZE_FACTOR
, &ht->
¥ime_off£t
);

393 
	`¥ötf
 ("growing from %dÅo %d; fullness %.2f%%Åo %.2f%%\n",

394 
ht
->
size
, 
√wsize
,

395 100.0 * 
ht
->
cou¡
 / ht->
size
,

396 100.0 * 
ht
->
cou¡
 / 
√wsize
);

399 
ht
->
size
 = 
√wsize
;

400 
ht
->
ªsize_thªshﬁd
 = 
√wsize
 * 
HASH_MAX_FULLNESS
;

402 
˚Œs
 = 
	`x√w_¨øy
 (
˚Œ
, 
√wsize
);

403 
	`mem£t
 (
˚Œs
, 
INVALID_PTR_CHAR
, 
√wsize
 *  (
˚Œ
));

404 
ht
->
˚Œs
 = cells;

406 
c
 = 
ﬁd_˚Œs
; c < 
ﬁd_íd
; c++)

407 i‡(
	`CELL_OCCUPIED
 (
c
))

409 
˚Œ
 *
√w_c
;

413 
√w_c
 = 
˚Œs
 + 
	`HASH_POSITION
 (
c
->
key
, 
hashî
, 
√wsize
);

414 
	`FOREACH_OCCUPIED_ADJACENT
 (
√w_c
, 
˚Œs
, 
√wsize
)

416 *
√w_c
 = *
c
;

419 
	`x‰ì
 (
ﬁd_˚Œs
);

420 
	}
}

426 
	$hash_èbÀ_put
 (
hash_èbÀ
 *
ht
, c⁄° *
key
, *
vÆue
)

428 
˚Œ
 *
c
 = 
	`föd_˚Œ
 (
ht
, 
key
);

429 i‡(
	`CELL_OCCUPIED
 (
c
))

432 
c
->
key
 = (*)key;

433 
c
->
vÆue
 = value;

439 i‡(
ht
->
cou¡
 >ht->
ªsize_thªshﬁd
)

441 
	`grow_hash_èbÀ
 (
ht
);

442 
c
 = 
	`föd_˚Œ
 (
ht
, 
key
);

446 ++
ht
->
cou¡
;

447 
c
->
key
 = (*)key;

448 
c
->
vÆue
 = value;

449 
	}
}

455 
	$hash_èbÀ_ªmove
 (
hash_èbÀ
 *
ht
, c⁄° *
key
)

457 
˚Œ
 *
c
 = 
	`föd_˚Œ
 (
ht
, 
key
);

458 i‡(!
	`CELL_OCCUPIED
 (
c
))

462 
size
 = 
ht
->size;

463 
˚Œ
 *
˚Œs
 = 
ht
->cells;

464 
hashfun_t
 
hashî
 = 
ht
->
hash_fun˘i⁄
;

466 
	`CLEAR_CELL
 (
c
);

467 --
ht
->
cou¡
;

474 
c
 = 
	`NEXT_CELL
 (c, 
˚Œs
, 
size
);

475 
	`FOREACH_OCCUPIED_ADJACENT
 (
c
, 
˚Œs
, 
size
)

477 c⁄° *
key2
 = 
c
->
key
;

478 
˚Œ
 *
c_√w
;

481 
c_√w
 = 
˚Œs
 + 
	`HASH_POSITION
 (
key2
, 
hashî
, 
size
);

482 
	`FOREACH_OCCUPIED_ADJACENT
 (
c_√w
, 
˚Œs
, 
size
)

483 i‡(
key2
 =
c_√w
->
key
)

486 
√xt_ªhash
;

488 *
c_√w
 = *
c
;

489 
	`CLEAR_CELL
 (
c
);

491 
√xt_ªhash
:

496 
	}
}

503 
	$hash_èbÀ_˛ór
 (
hash_èbÀ
 *
ht
)

505 
	`mem£t
 (
ht
->
˚Œs
, 
INVALID_PTR_CHAR
, ht->
size
 *  (
˚Œ
));

506 
ht
->
cou¡
 = 0;

507 
	}
}

521 
hash_èbÀ_f‹_óch
 (
hash_èbÀ
 *
ht
,

522 (*
‚
Ë(*, *, *), *
¨g
)

524 
˚Œ
 *
c
 = 
ht
->
˚Œs
;

525 
˚Œ
 *
íd
 = 
ht
->
˚Œs
 + ht->
size
;

527 ; 
c
 < 
íd
; c++)

528 i‡(
	`CELL_OCCUPIED
 (
c
))

530 *
key
;

531 
ª≥©
:

532 
key
 = 
c
->key;

533 i‡(
	`‚
 (
key
, 
c
->
vÆue
, 
¨g
))

536 i‡(
c
->
key
 !key && 
	`CELL_OCCUPIED
 (c))

537 
ª≥©
;

539 
	}
}

552 
	$hash_èbÀ_ôî©e
 (
hash_èbÀ
 *
ht
, 
hash_èbÀ_ôî©‹
 *
ôî
)

554 
ôî
->
pos
 = 
ht
->
˚Œs
;

555 
ôî
->
íd
 = 
ht
->
˚Œs
 + ht->
size
;

556 
	}
}

568 
	$hash_èbÀ_ôî_√xt
 (
hash_èbÀ_ôî©‹
 *
ôî
)

570 
˚Œ
 *
c
 = 
ôî
->
pos
;

571 
˚Œ
 *
íd
 = 
ôî
->end;

572 ; 
c
 < 
íd
; c++)

573 i‡(
	`CELL_OCCUPIED
 (
c
))

575 
ôî
->
key
 = 
c
->key;

576 
ôî
->
vÆue
 = 
c
->value;

577 
ôî
->
pos
 = 
c
 + 1;

581 
	}
}

588 
	$hash_èbÀ_cou¡
 (c⁄° 
hash_èbÀ
 *
ht
)

590  
ht
->
cou¡
;

591 
	}
}

642 
	$hash_°rög
 (c⁄° *
key
)

644 c⁄° *
p
 = 
key
;

645 
h
 = *
p
;

647 i‡(
h
)

648 
p
 += 1; *p != '\0';Ö++)

649 
h
 = (h << 5Ë- h + *
p
;

651  
h
;

652 
	}
}

657 
	$cmp_°rög
 (c⁄° *
s1
, c⁄° *
s2
)

659  !
	`°rcmp
 ((c⁄° *)
s1
, (c⁄° *)
s2
);

660 
	}
}

665 
hash_èbÀ
 *

666 
	$make_°rög_hash_èbÀ
 (
ôems
)

668  
	`hash_èbÀ_√w
 (
ôems
, 
hash_°rög
, 
cmp_°rög
);

669 
	}
}

680 
	$hash_°rög_noˇ£
 (c⁄° *
key
)

682 c⁄° *
p
 = 
key
;

683 
h
 = 
	`c_tﬁowî
 (*
p
);

685 i‡(
h
)

686 
p
 += 1; *p != '\0';Ö++)

687 
h
 = (h << 5Ë- h + 
	`c_tﬁowî
 (*
p
);

689  
h
;

690 
	}
}

695 
	$°rög_cmp_noˇ£
 (c⁄° *
s1
, c⁄° *
s2
)

697  !
	`°rˇ£cmp
 ((c⁄° *)
s1
, (c⁄° *)
s2
);

698 
	}
}

703 
hash_èbÀ
 *

704 
	$make_noˇ£_°rög_hash_èbÀ
 (
ôems
)

706  
	`hash_èbÀ_√w
 (
ôems
, 
hash_°rög_noˇ£
, 
°rög_cmp_noˇ£
);

707 
	}
}

718 
	$hash_poöãr
 (c⁄° *
±r
)

720 
uöçå_t
 
key
 = (uöçå_tË
±r
;

721 
key
 += (key << 12);

722 
key
 ^= (key >> 22);

723 
key
 += (key << 4);

724 
key
 ^= (key >> 9);

725 
key
 += (key << 10);

726 
key
 ^= (key >> 2);

727 
key
 += (key << 7);

728 
key
 ^= (key >> 12);

729 #i‡
SIZEOF_VOID_P
 > 4

730 
key
 += (key << 44);

731 
key
 ^= (key >> 54);

732 
key
 += (key << 36);

733 
key
 ^= (key >> 41);

734 
key
 += (key << 42);

735 
key
 ^= (key >> 34);

736 
key
 += (key << 39);

737 
key
 ^= (key >> 44);

739  (Ë
key
;

740 
	}
}

743 
	$cmp_poöãr
 (c⁄° *
±r1
, c⁄° *
±r2
)

745  
±r1
 =
±r2
;

746 
	}
}

748 #ifde‡
TEST


750 
	~<°dio.h
>

751 
	~<°rög.h
>

754 
	$¥öt_hash
 (
hash_èbÀ
 *
sht
)

756 
hash_èbÀ_ôî©‹
 
ôî
;

757 
cou¡
 = 0;

759 
	`hash_èbÀ_ôî©e
 (
sht
, &
ôî
); 
	`hash_èbÀ_ôî_√xt
 (&iter);

760 ++
cou¡
)

761 
	`¥ötf
 ("%s: %s\n", 
ôî
.
key
, iãr.
vÆue
);

762 
	`as£π
 (
cou¡
 =
sht
->count);

763 
	}
}

766 
	$maö
 ()

768 
hash_èbÀ
 *
ht
 = 
	`make_°rög_hash_èbÀ
 (0);

769 
löe
[80];

770 (
	`fgës
 (
löe
,  (löe), 
°dö
)))

772 
Àn
 = 
	`°æí
 (
löe
);

773 i‡(
Àn
 <= 1)

775 
löe
[--
Àn
] = '\0';

776 i‡(!
	`hash_èbÀ_c⁄èös
 (
ht
, 
löe
))

777 
	`hash_èbÀ_put
 (
ht
, 
	`°rdup
 (
löe
), "here Iám!");

779 i‡(
Àn
 % 5 == 0)

781 *
löe_c›y
;

782 i‡(
	`hash_èbÀ_gë_∑ú
 (
ht
, 
löe
, &
löe_c›y
, 
NULL
))

784 
	`hash_èbÀ_ªmove
 (
ht
, 
löe
);

785 
	`x‰ì
 (
löe_c›y
);

791 
	`¥öt_hash
 (
ht
);

794 
	`¥ötf
 ("%d %d\n", 
ht
->
cou¡
, ht->
size
);

797 
	}
}

	@src/hash.h

31 #i‚de‡
HASH_H


32 
	#HASH_H


	)

34 
	ghash_èbÀ
;

36 
hash_èbÀ
 *
hash_èbÀ_√w
 (, (*) (const *),

38 
	`hash_èbÀ_de°roy
 (
hash_èbÀ
 *);

40 *
	`hash_èbÀ_gë
 (c⁄° 
hash_èbÀ
 *, const *);

41 
	`hash_èbÀ_gë_∑ú
 (c⁄° 
hash_èbÀ
 *, const *,

43 
	`hash_èbÀ_c⁄èös
 (c⁄° 
hash_èbÀ
 *, const *);

45 
	`hash_èbÀ_put
 (
hash_èbÀ
 *, const *, *);

46 
	`hash_èbÀ_ªmove
 (
hash_èbÀ
 *, const *);

47 
	`hash_èbÀ_˛ór
 (
hash_èbÀ
 *);

49 
	`hash_èbÀ_f‹_óch
 (
hash_èbÀ
 *,

53 *
key
, *
vÆue
;

54 *
pos
, *
íd
;

55 } 
	thash_èbÀ_ôî©‹
;

56 
	`hash_èbÀ_ôî©e
 (
hash_èbÀ
 *, 
hash_èbÀ_ôî©‹
 *);

57 
	`hash_èbÀ_ôî_√xt
 (
hash_èbÀ_ôî©‹
 *);

59 
	`hash_èbÀ_cou¡
 (c⁄° 
hash_èbÀ
 *);

61 
hash_èbÀ
 *
	`make_°rög_hash_èbÀ
 ();

62 
hash_èbÀ
 *
	`make_noˇ£_°rög_hash_èbÀ
 ();

64 
	`hash_poöãr
 (const *);

	@src/host.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<as£π.h
>

39 #i‚de‡
WINDOWS


40 
	~<sys/ty≥s.h
>

41 
	~<sys/sockë.h
>

42 
	~<√töë/ö.h
>

43 #i‚de‡
__BEOS__


44 
	~<¨∑/öë.h
>

46 #ifde‡
__VMS


47 
	~"vms_ù.h
"

49 
	~<√tdb.h
>

51 
	#SET_H_ERRNO
(
îr
Ë(()(
h_î∫o
 = (îr)))

	)

53 
	~<wösock2.h
>

54 
	~<ws2t˝ù.h
>

55 
	#SET_H_ERRNO
(
îr
Ë
	`WSASëLa°Eº‹
 (îr)

	)

58 
	~<î∫o.h
>

60 
	~"utûs.h
"

61 
	~"ho°.h
"

62 
	~"uæ.h
"

63 
	~"hash.h
"

65 #i‚de‡
NO_ADDRESS


66 
	#NO_ADDRESS
 
NO_DATA


	)

69 #i‡!
HAVE_DECL_H_ERRNO
 && !
deföed
(
WINDOWS
)

70 
h_î∫o
;

77 
	saddªss_li°
 {

78 
	mcou¡
;

79 
ù_addªss
 *
	maddªs£s
;

81 
	mÁu…y
;

82 
boﬁ
 
	mc⁄√˘ed
;

86 
	mªfcou¡
;

93 
	$addªss_li°_gë_bounds
 (c⁄° 
addªss_li°
 *
Æ
, *
°¨t
, *
íd
)

95 *
°¨t
 = 
Æ
->
Áu…y
;

96 *
íd
 = 
Æ
->
cou¡
;

97 
	}
}

101 c⁄° 
ù_addªss
 *

102 
	$addªss_li°_addªss_©
 (c⁄° 
addªss_li°
 *
Æ
, 
pos
)

104 
	`as£π
 (
pos
 >
Æ
->
Áu…y
 &&Öo†<ál->
cou¡
);

105  
Æ
->
addªs£s
 + 
pos
;

106 
	}
}

110 
boﬁ


111 
	$addªss_li°_c⁄èös
 (c⁄° 
addªss_li°
 *
Æ
, c⁄° 
ù_addªss
 *
ù
)

113 
i
;

114 
ù
->
Ámûy
)

116 
AF_INET
:

117 
i
 = 0; i < 
Æ
->
cou¡
; i++)

119 
ù_addªss
 *
cur
 = 
Æ
->
addªs£s
 + 
i
;

120 i‡(
cur
->
Ámûy
 =
AF_INET


121 && (
cur
->
d©a
.
d4
.
s_addr
 =
ù
->data.d4.s_addr))

122  
åue
;

124  
Ál£
;

125 #ifde‡
ENABLE_IPV6


126 
AF_INET6
:

127 
i
 = 0; i < 
Æ
->
cou¡
; i++)

129 
ù_addªss
 *
cur
 = 
Æ
->
addªs£s
 + 
i
;

130 i‡(
cur
->
Ámûy
 =
AF_INET6


131 #ifde‡
HAVE_SOCKADDR_IN6_SCOPE_ID


132 && 
cur
->
ùv6_sc›e
 =
ù
->ipv6_scope

134 && 
	`IN6_ARE_ADDR_EQUAL
 (&
cur
->
d©a
.
d6
, &
ù
->data.d6))

135  
åue
;

137  
Ál£
;

140 
	`ab‹t
 ();

142 
	}
}

148 
	$addªss_li°_£t_Áu…y
 (
addªss_li°
 *
Æ
, 
ödex
)

153 
	`as£π
 (
ödex
 =
Æ
->
Áu…y
);

155 ++
Æ
->
Áu…y
;

156 i‡(
Æ
->
Áu…y
 >Æ->
cou¡
)

161 
Æ
->
Áu…y
 = 0;

162 
	}
}

168 
	$addªss_li°_£t_c⁄√˘ed
 (
addªss_li°
 *
Æ
)

170 
Æ
->
c⁄√˘ed
 = 
åue
;

171 
	}
}

175 
boﬁ


176 
	$addªss_li°_c⁄√˘ed_p
 (c⁄° 
addªss_li°
 *
Æ
)

178  
Æ
->
c⁄√˘ed
;

179 
	}
}

181 #ifde‡
ENABLE_IPV6


186 
addªss_li°
 *

187 
	$addªss_li°_‰om_addröfo
 (c⁄° 
addröfo
 *
ai
)

189 
addªss_li°
 *
Æ
;

190 c⁄° 
addröfo
 *
±r
;

191 
˙t
;

192 
ù_addªss
 *
ù
;

194 
˙t
 = 0;

195 
±r
 = 
ai
;Öå !
NULL
 ;Öå =Öå->
ai_√xt
)

196 i‡(
±r
->
ai_Ámûy
 =
AF_INET
 ||Öå->ai_Ámûy =
AF_INET6
)

197 ++
˙t
;

198 i‡(
˙t
 == 0)

199  
NULL
;

201 
Æ
 = 
	`x√w0
 (
addªss_li°
);

202 
Æ
->
addªs£s
 = 
	`x√w_¨øy
 (
ù_addªss
, 
˙t
);

203 
Æ
->
cou¡
 = 
˙t
;

204 
Æ
->
ªfcou¡
 = 1;

206 
ù
 = 
Æ
->
addªs£s
;

207 
±r
 = 
ai
;Öå !
NULL
;Öå =Öå->
ai_√xt
)

208 i‡(
±r
->
ai_Ámûy
 =
AF_INET6
)

210 c⁄° 
sockaddr_ö6
 *
sö6
 =

211 (c⁄° 
sockaddr_ö6
 *)
±r
->
ai_addr
;

212 
ù
->
Ámûy
 = 
AF_INET6
;

213 
ù
->
d©a
.
d6
 = 
sö6
->
sö6_addr
;

214 #ifde‡
HAVE_SOCKADDR_IN6_SCOPE_ID


215 
ù
->
ùv6_sc›e
 = 
sö6
->
sö6_sc›e_id
;

217 ++
ù
;

219 i‡(
±r
->
ai_Ámûy
 =
AF_INET
)

221 c⁄° 
sockaddr_ö
 *
sö
 =

222 (c⁄° 
sockaddr_ö
 *)
±r
->
ai_addr
;

223 
ù
->
Ámûy
 = 
AF_INET
;

224 
ù
->
d©a
.
d4
 = 
sö
->
sö_addr
;

225 ++
ù
;

227 
	`as£π
 (
ù
 - 
Æ
->
addªs£s
 =
˙t
);

228  
Æ
;

229 
	}
}

231 
	#IS_IPV4
(
addr
Ë(((c⁄° 
ù_addªss
 *Ëaddr)->
Ámûy
 =
AF_INET
)

	)

242 
	$cmp_¥e„r_ùv4
 (c⁄° *
addr1
, c⁄° *
addr2
)

244  !
	`IS_IPV4
 (
addr1
Ë- !IS_IPV4 (
addr2
);

245 
	}
}

247 
	#IS_IPV6
(
addr
Ë(((c⁄° 
ù_addªss
 *Ëaddr)->
Ámûy
 =
AF_INET6
)

	)

252 
	$cmp_¥e„r_ùv6
 (c⁄° *
addr1
, c⁄° *
addr2
)

254  !
	`IS_IPV6
 (
addr1
Ë- !IS_IPV6 (
addr2
);

255 
	}
}

262 
addªss_li°
 *

263 
	$addªss_li°_‰om_ùv4_addªs£s
 (**
vec
)

265 
cou¡
, 
i
;

266 
addªss_li°
 *
Æ
 = 
	`x√w0
 (address_list);

268 
cou¡
 = 0;

269 
vec
[
cou¡
])

270 ++
cou¡
;

271 
	`as£π
 (
cou¡
 > 0);

273 
Æ
->
addªs£s
 = 
	`x√w_¨øy
 (
ù_addªss
, 
cou¡
);

274 
Æ
->
cou¡
 = count;

275 
Æ
->
ªfcou¡
 = 1;

277 
i
 = 0; i < 
cou¡
; i++)

279 
ù_addªss
 *
ù
 = &
Æ
->
addªs£s
[
i
];

280 
ù
->
Ámûy
 = 
AF_INET
;

281 
	`mem˝y
 (
	`IP_INADDR_DATA
 (
ù
), 
vec
[
i
], 4);

284  
Æ
;

285 
	}
}

290 
	$addªss_li°_dñëe
 (
addªss_li°
 *
Æ
)

292 
	`x‰ì
 (
Æ
->
addªs£s
);

293 
	`x‰ì
 (
Æ
);

294 
	}
}

301 
	$addªss_li°_ªÀa£
 (
addªss_li°
 *
Æ
)

303 --
Æ
->
ªfcou¡
;

304 
	`DEBUGP
 (("Rñósög 0x%0*lx (√wÑefcou¡ %d).\n", 
	`PTR_FORMAT
 (
Æ
),

305 
Æ
->
ªfcou¡
));

306 i‡(
Æ
->
ªfcou¡
 <= 0)

308 
	`DEBUGP
 (("Dñëög unu£d 0x%0*lx.\n", 
	`PTR_FORMAT
 (
Æ
)));

309 
	`addªss_li°_dñëe
 (
Æ
);

311 
	}
}

315 #i‚de‡
ENABLE_IPV6


317 
	sghbnwt_c⁄ãxt
 {

318 c⁄° *
	mho°_«me
;

319 
ho°ít
 *
	mh±r
;

323 
	$gëho°by«me_wôh_timeout_ˇŒback
 (*
¨g
)

325 
ghbnwt_c⁄ãxt
 *
˘x
 = (ghbnwt_c⁄ãxà*)
¨g
;

326 
˘x
->
h±r
 = 
	`gëho°by«me
 (˘x->
ho°_«me
);

327 
	}
}

334 
ho°ít
 *

335 
	$gëho°by«me_wôh_timeout
 (c⁄° *
ho°_«me
, 
timeout
)

337 
ghbnwt_c⁄ãxt
 
˘x
;

338 
˘x
.
ho°_«me
 = host_name;

339 i‡(
	`run_wôh_timeout
 (
timeout
, 
gëho°by«me_wôh_timeout_ˇŒback
, &
˘x
))

341 
	`SET_H_ERRNO
 (
HOST_NOT_FOUND
);

342 
î∫o
 = 
ETIMEDOUT
;

343  
NULL
;

345 i‡(!
˘x
.
h±r
)

346 
î∫o
 = 0;

347  
˘x
.
h±r
;

348 
	}
}

352 
	$ho°_îr°r
 (
îr‹
)

357 i‡(
îr‹
 =
HOST_NOT_FOUND


358 || 
îr‹
 =
NO_RECOVERY


359 || 
îr‹
 =
NO_DATA


360 || 
îr‹
 =
NO_ADDRESS
)

361  
	`_
("Unknown host");

362 i‡(
îr‹
 =
TRY_AGAIN
)

365  
	`_
("Temporary failure inÇameÑesolution");

367  
	`_
("UnknownÉrror");

368 
	}
}

372 
	sgaiwt_c⁄ãxt
 {

373 c⁄° *
	mnode
;

374 c⁄° *
	m£rvi˚
;

375 c⁄° 
addröfo
 *
	mhöts
;

376 
addröfo
 **
	mªs
;

377 
	mexô_code
;

381 
	$gëaddröfo_wôh_timeout_ˇŒback
 (*
¨g
)

383 
gaiwt_c⁄ãxt
 *
˘x
 = (gaiwt_c⁄ãxà*)
¨g
;

384 
˘x
->
exô_code
 = 
	`gëaddröfo
 (˘x->
node
, ctx->
£rvi˚
, ctx->
höts
, ctx->
ªs
);

385 
	}
}

392 
	$gëaddröfo_wôh_timeout
 (c⁄° *
node
, c⁄° *
£rvi˚
,

393 c⁄° 
addröfo
 *
höts
, addröfÿ**
ªs
,

394 
timeout
)

396 
gaiwt_c⁄ãxt
 
˘x
;

397 
˘x
.
node
 =Çode;

398 
˘x
.
£rvi˚
 = service;

399 
˘x
.
höts
 = hints;

400 
˘x
.
ªs
 =Ñes;

402 i‡(
	`run_wôh_timeout
 (
timeout
, 
gëaddröfo_wôh_timeout_ˇŒback
, &
˘x
))

404 
î∫o
 = 
ETIMEDOUT
;

405  
EAI_SYSTEM
;

407  
˘x
.
exô_code
;

408 
	}
}

417 
	$¥öt_addªss
 (c⁄° 
ù_addªss
 *
addr
)

419 #ifde‡
ENABLE_IPV6


420 
buf
[64];

421 i‡(!
	`öë_¡›
 (
addr
->
Ámûy
, 
	`IP_INADDR_DATA
 (addr), 
buf
,  buf))

422 
	`¢¥ötf
 (
buf
,  buf, "<îr‹: %s>", 
	`°ªº‹
 (
î∫o
));

423  
buf
;

425  
	`öë_¡ﬂ
 (
addr
->
d©a
.
d4
);

427 
	}
}

432 
boﬁ


433 
	$is_vÆid_ùv4_addªss
 (c⁄° *
°r
, c⁄° *
íd
)

435 
boﬁ
 
ßw_digô
 = 
Ál£
;

436 
o˘ës
 = 0;

437 
vÆ
 = 0;

439 
°r
 < 
íd
)

441 
ch
 = *
°r
++;

443 i‡(
ch
 >= '0' && ch <= '9')

445 
vÆ
 = vÆ * 10 + (
ch
 - '0');

447 i‡(
vÆ
 > 255)

448  
Ál£
;

449 i‡(!
ßw_digô
)

451 i‡(++
o˘ës
 > 4)

452  
Ál£
;

453 
ßw_digô
 = 
åue
;

456 i‡(
ch
 ='.' && 
ßw_digô
)

458 i‡(
o˘ës
 == 4)

459  
Ál£
;

460 
vÆ
 = 0;

461 
ßw_digô
 = 
Ál£
;

464  
Ál£
;

466 i‡(
o˘ës
 < 4)

467  
Ál£
;

469  
åue
;

470 
	}
}

472 
boﬁ


473 
	$is_vÆid_ùv6_addªss
 (c⁄° *
°r
, c⁄° *
íd
)

477 
ns_öaddrsz
 = 4,

478 
ns_ö6addrsz
 = 16,

479 
ns_öt16sz
 = 2

482 c⁄° *
cuπok
;

483 
ç
;

484 c⁄° *
cﬁ⁄p
;

485 
boﬁ
 
ßw_xdigô
;

486 
vÆ
;

488 
ç
 = 0;

489 
cﬁ⁄p
 = 
NULL
;

491 i‡(
°r
 =
íd
)

492  
Ál£
;

495 i‡(*
°r
 == ':')

497 ++
°r
;

498 i‡(
°r
 =
íd
 || *str != ':')

499  
Ál£
;

502 
cuπok
 = 
°r
;

503 
ßw_xdigô
 = 
Ál£
;

504 
vÆ
 = 0;

506 
°r
 < 
íd
)

508 
ch
 = *
°r
++;

511 i‡(
	`c_isxdigô
 (
ch
))

513 
vÆ
 <<= 4;

514 
vÆ
 |
	`XDIGIT_TO_NUM
 (
ch
);

515 i‡(
vÆ
 > 0xffff)

516  
Ál£
;

517 
ßw_xdigô
 = 
åue
;

522 i‡(
ch
 == ':')

524 
cuπok
 = 
°r
;

525 i‡(!
ßw_xdigô
)

527 i‡(
cﬁ⁄p
 !
NULL
)

528  
Ál£
;

529 
cﬁ⁄p
 = 
°r
 + 
ç
;

532 i‡(
°r
 =
íd
)

533  
Ál£
;

534 i‡(
ç
 > 
ns_ö6addrsz
 - 
ns_öt16sz
)

535  
Ál£
;

536 
ç
 +
ns_öt16sz
;

537 
ßw_xdigô
 = 
Ál£
;

538 
vÆ
 = 0;

543 i‡(
ch
 ='.' && (
ç
 <
ns_ö6addrsz
 - 
ns_öaddrsz
)

544 && 
	`is_vÆid_ùv4_addªss
 (
cuπok
, 
íd
) == 1)

546 
ç
 +
ns_öaddrsz
;

547 
ßw_xdigô
 = 
Ál£
;

551  
Ál£
;

554 i‡(
ßw_xdigô
)

556 i‡(
ç
 > 
ns_ö6addrsz
 - 
ns_öt16sz
)

557  
Ál£
;

558 
ç
 +
ns_öt16sz
;

561 i‡(
cﬁ⁄p
 !
NULL
)

563 i‡(
ç
 =
ns_ö6addrsz
)

564  
Ál£
;

565 
ç
 = 
ns_ö6addrsz
;

568 i‡(
ç
 !
ns_ö6addrsz
)

569  
Ál£
;

571  
åue
;

572 
	}
}

580 
hash_èbÀ
 *
	gho°_«me_addªs£s_m≠
;

586 
addªss_li°
 *

587 
	$ˇche_quîy
 (c⁄° *
ho°
)

589 
addªss_li°
 *
Æ
;

590 i‡(!
ho°_«me_addªs£s_m≠
)

591  
NULL
;

592 
Æ
 = 
	`hash_èbÀ_gë
 (
ho°_«me_addªs£s_m≠
, 
ho°
);

593 i‡(
Æ
)

595 
	`DEBUGP
 (("Found %†ö ho°_«me_addªs£s_m≠ (%p)\n", 
ho°
, 
Æ
));

596 ++
Æ
->
ªfcou¡
;

597  
Æ
;

599  
NULL
;

600 
	}
}

606 
	$ˇche_°‹e
 (c⁄° *
ho°
, 
addªss_li°
 *
Æ
)

608 i‡(!
ho°_«me_addªs£s_m≠
)

609 
ho°_«me_addªs£s_m≠
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (0);

611 ++
Æ
->
ªfcou¡
;

612 
	`hash_èbÀ_put
 (
ho°_«me_addªs£s_m≠
, 
	`x°rdup_lowî
 (
ho°
), 
Æ
);

614 
IF_DEBUG


616 
i
;

617 
	`debug_log¥ötf
 ("Cachög %†=>", 
ho°
);

618 
i
 = 0; i < 
Æ
->
cou¡
; i++)

619 
	`debug_log¥ötf
 (" %s", 
	`¥öt_addªss
 (
Æ
->
addªs£s
 + 
i
));

620 
	`debug_log¥ötf
 ("\n");

622 
	}
}

628 
	$ˇche_ªmove
 (c⁄° *
ho°
)

630 
addªss_li°
 *
Æ
;

631 i‡(!
ho°_«me_addªs£s_m≠
)

633 
Æ
 = 
	`hash_èbÀ_gë
 (
ho°_«me_addªs£s_m≠
, 
ho°
);

634 i‡(
Æ
)

636 
	`addªss_li°_ªÀa£
 (
Æ
);

637 
	`hash_èbÀ_ªmove
 (
ho°_«me_addªs£s_m≠
, 
ho°
);

639 
	}
}

663 
addªss_li°
 *

664 
	$lookup_ho°
 (c⁄° *
ho°
, 
Êags
)

666 
addªss_li°
 *
Æ
;

667 
boﬁ
 
sûít
 = !!(
Êags
 & 
LH_SILENT
);

668 
boﬁ
 
u£_ˇche
;

669 
boﬁ
 
numîic_addªss
 = 
Ál£
;

670 
timeout
 = 
›t
.
dns_timeout
;

672 #i‚de‡
ENABLE_IPV6


678 
uöt32_t
 
addr_ùv4
 = (uöt32_t)
	`öë_addr
 (
ho°
);

679 i‡(
addr_ùv4
 !(
uöt32_t
) -1)

683 *
vec
[2];

684 
vec
[0] = (*)&
addr_ùv4
;

685 
vec
[1] = 
NULL
;

686  
	`addªss_li°_‰om_ùv4_addªs£s
 (
vec
);

696 c⁄° *
íd
 = 
ho°
 + 
	`°æí
 (host);

697 i‡(
	`is_vÆid_ùv4_addªss
 (
ho°
, 
íd
Ë|| 
	`is_vÆid_ùv6_addªss
 (host,Énd))

698 
numîic_addªss
 = 
åue
;

704 
u£_ˇche
 = 
›t
.
dns_ˇche
;

705 #ifde‡
ENABLE_IPV6


706 i‡((
Êags
 & 
LH_BIND
Ë|| 
numîic_addªss
)

707 
u£_ˇche
 = 
Ál£
;

713 i‡(
u£_ˇche
)

715 i‡(!(
Êags
 & 
LH_REFRESH
))

717 
Æ
 = 
	`ˇche_quîy
 (
ho°
);

718 i‡(
Æ
)

719  
Æ
;

722 
	`ˇche_ªmove
 (
ho°
);

727 i‡(!
sûít
 && !
numîic_addªss
)

729 *
°r
 = 
NULL
, *
«me
;

731 i‡(
›t
.
íabÀ_úi
 && (
«me
 = 
	`idn_decode
 ((*Ë
ho°
)Ë!
NULL
)

733 
Àn
 = 
	`°æí
 (
ho°
Ë+ såÀ¿(
«me
) + 4;

734 
°r
 = 
	`xmÆloc
 (
Àn
);

735 
	`¢¥ötf
 (
°r
, 
Àn
, "%†(%s)", 
«me
, 
ho°
);

736 
°r
[
Àn
-1] = '\0';

737 
	`x‰ì
 (
«me
);

740 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Resolving %s... "),

741 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
°r
 ? så : 
ho°
));

743 i‡(
°r
)

744 
	`x‰ì
 (
°r
);

747 #ifde‡
ENABLE_IPV6


749 
îr
;

750 
addröfo
 
höts
, *
ªs
;

752 
	`xzîo
 (
höts
);

753 
höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

754 i‡(
›t
.
ùv4_⁄ly
)

755 
höts
.
ai_Ámûy
 = 
AF_INET
;

756 i‡(
›t
.
ùv6_⁄ly
)

757 
höts
.
ai_Ámûy
 = 
AF_INET6
;

762 
höts
.
ai_Ámûy
 = 
AF_UNSPEC
;

764 i‡(
Êags
 & 
LH_BIND
)

765 
höts
.
ai_Êags
 |
AI_PASSIVE
;

767 #ifde‡
AI_NUMERICHOST


768 i‡(
numîic_addªss
)

772 
höts
.
ai_Êags
 |
AI_NUMERICHOST
;

773 
timeout
 = 0;

779 
îr
 = 
	`gëaddröfo_wôh_timeout
 (
ho°
, 
NULL
, &
höts
, &
ªs
, 
timeout
);

780 i‡(
îr
 !0 || 
ªs
 =
NULL
)

782 i‡(!
sûít
)

783 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("failed: %s.\n"),

784 
îr
 !
EAI_SYSTEM
 ? 
	`gai_°ªº‹
 (îrË: 
	`°ªº‹
 (
î∫o
));

785  
NULL
;

787 
Æ
 = 
	`addªss_li°_‰om_addröfo
 (
ªs
);

788 
	`‰ìaddröfo
 (
ªs
);

789 i‡(!
Æ
)

791 
	`log¥ötf
 (
LOG_VERBOSE
,

792 
	`_
("failed: No IPv4/IPv6áddresses for host.\n"));

793  
NULL
;

799 i‡(
Æ
->
cou¡
 > 1 && 
›t
.
¥e„r_Ámûy
 !
¥e„r_n⁄e
)

800 
	`°abÀ_s‹t
 (
Æ
->
addªs£s
,ál->
cou¡
,  (
ù_addªss
),

801 
›t
.
¥e„r_Ámûy
 =
¥e„r_ùv4


802 ? 
cmp_¥e„r_ùv4
 : 
cmp_¥e„r_ùv6
);

806 
ho°ít
 *
h±r
 = 
	`gëho°by«me_wôh_timeout
 (
ho°
, 
timeout
);

807 i‡(!
h±r
)

809 i‡(!
sûít
)

811 i‡(
î∫o
 !
ETIMEDOUT
)

812 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("failed: %s.\n"),

813 
	`ho°_îr°r
 (
h_î∫o
));

815 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("failed:Åimed out.\n"));

817  
NULL
;

820 
Æ
 = 
	`addªss_li°_‰om_ùv4_addªs£s
 (
h±r
->
h_addr_li°
);

826 i‡(!
sûít
 && !
numîic_addªss
)

828 
i
;

829 
¥ötmax
 = 
Æ
->
cou¡
;

831 i‡(!
›t
.
show_Æl_dns_íåõs
 && 
¥ötmax
 > 3)

832 
¥ötmax
 = 3;

834 
i
 = 0; i < 
¥ötmax
; i++)

836 
	`logputs
 (
LOG_VERBOSE
, 
	`¥öt_addªss
 (
Æ
->
addªs£s
 + 
i
));

837 i‡(
i
 < 
¥ötmax
 - 1)

838 
	`logputs
 (
LOG_VERBOSE
, ", ");

840 i‡(
¥ötmax
 !
Æ
->
cou¡
)

841 
	`logputs
 (
LOG_VERBOSE
, ", ...");

842 
	`logputs
 (
LOG_VERBOSE
, "\n");

846 i‡(
u£_ˇche
)

847 
	`ˇche_°‹e
 (
ho°
, 
Æ
);

849  
Æ
;

850 
	}
}

854 
boﬁ


855 
	$ac˚±_domaö
 (
uæ
 *
u
)

857 
	`as£π
 (
u
->
ho°
 !
NULL
);

858 i‡(
›t
.
domaös
)

860 i‡(!
	`sufm©ch
 ((c⁄° **)
›t
.
domaös
, 
u
->
ho°
))

861  
Ál£
;

863 i‡(
›t
.
ex˛ude_domaös
)

865 i‡(
	`sufm©ch
 ((c⁄° **)
›t
.
ex˛ude_domaös
, 
u
->
ho°
))

866  
Ál£
;

868  
åue
;

869 
	}
}

876 
boﬁ


877 
	$sufm©ch
 (c⁄° **
li°
, c⁄° *
wh©
)

879 
i
, 
j
, 
k
, 
lw
;

881 
lw
 = 
	`°æí
 (
wh©
);

882 
i
 = 0; 
li°
[i]; i++)

884 i‡(
li°
[
i
][0] == '\0')

887 
j
 = 
	`°æí
 (
li°
[
i
]), 
k
 = 
lw
; j >= 0 && k >= 0; j--, k--)

888 i‡(
	`c_tﬁowî
 (
li°
[
i
][
j
]Ë!c_tﬁowî (
wh©
[
k
]))

891 i‡(
j
 == -1)

892  
åue
;

894  
Ál£
;

895 
	}
}

898 
	$ho°_˛ónup
 ()

900 i‡(
ho°_«me_addªs£s_m≠
)

902 
hash_èbÀ_ôî©‹
 
ôî
;

903 
	`hash_èbÀ_ôî©e
 (
ho°_«me_addªs£s_m≠
, &
ôî
);

904 
	`hash_èbÀ_ôî_√xt
 (&
ôî
);

907 *
ho°
 = 
ôî
.
key
;

908 
addªss_li°
 *
Æ
 = 
ôî
.
vÆue
;

909 
	`x‰ì
 (
ho°
);

910 
	`as£π
 (
Æ
->
ªfcou¡
 == 1);

911 
	`addªss_li°_dñëe
 (
Æ
);

913 
	`hash_èbÀ_de°roy
 (
ho°_«me_addªs£s_m≠
);

914 
ho°_«me_addªs£s_m≠
 = 
NULL
;

916 
	}
}

	@src/host.h

32 #i‚de‡
HOST_H


33 
	#HOST_H


	)

35 #ifde‡
WINDOWS


36 
	~<wösock2.h
>

38 #ifde‡
__VMS


39 
	~"vms_ù.h
"

41 
	~<√tdb.h
>

43 
	~<sys/sockë.h
>

44 
	~<√töë/ö.h
>

45 #i‚de‡
__BEOS__


46 
	~<¨∑/öë.h
>

50 
	guæ
;

51 
	gaddªss_li°
;

57 
	mÁmûy
;

61 
ö_addr
 
	md4
;

62 #ifde‡
ENABLE_IPV6


63 
ö6_addr
 
	md6
;

65 } 
	md©a
;

70 #i‡
deföed
 
ENABLE_IPV6
 && deföed 
HAVE_SOCKADDR_IN6_SCOPE_ID


71 
	mùv6_sc›e
;

73 } 
	tù_addªss
;

79 
	#IP_INADDR_DATA
(
x
Ë((*Ë&(x)->
d©a
)

	)

82 
	mLH_SILENT
 = 1,

83 
	mLH_BIND
 = 2,

84 
	mLH_REFRESH
 = 4

86 
addªss_li°
 *
lookup_ho°
 (const *, );

88 
addªss_li°_gë_bounds
 (c⁄° 
addªss_li°
 *, *, *);

89 c⁄° 
ù_addªss
 *
addªss_li°_addªss_©
 (c⁄° 
addªss_li°
 *, );

90 
boﬁ
 
addªss_li°_c⁄èös
 (c⁄° 
addªss_li°
 *, c⁄° 
ù_addªss
 *);

91 
addªss_li°_£t_Áu…y
 (
addªss_li°
 *, );

92 
addªss_li°_£t_c⁄√˘ed
 (
addªss_li°
 *);

93 
boﬁ
 
addªss_li°_c⁄√˘ed_p
 (c⁄° 
addªss_li°
 *);

94 
addªss_li°_ªÀa£
 (
addªss_li°
 *);

96 c⁄° *
¥öt_addªss
 (c⁄° 
ù_addªss
 *);

97 #ifde‡
ENABLE_IPV6


98 
boﬁ
 
is_vÆid_ùv6_addªss
 (const *, const *);

101 
boﬁ
 
ac˚±_domaö
 (
uæ
 *);

102 
boﬁ
 
sufm©ch
 (const **, const *);

104 
ho°_˛ónup
 ();

	@src/html-parse.c

92 
	~"wgë.h
"

94 #ifde‡
STANDALONE


95 
	#I_REALLY_WANT_CTYPE_MACROS


	)

98 
	~<°dio.h
>

99 
	~<°dlib.h
>

100 
	~<°rög.h
>

101 
	~<as£π.h
>

103 
	~"utûs.h
"

104 
	~"html-∑r£.h
"

106 #ifde‡
STANDALONE


107 #unde‡
xmÆloc


108 #unde‡
xªÆloc


109 #unde‡
x‰ì


110 
	#xmÆloc
 
mÆloc


	)

111 
	#xªÆloc
 
ªÆloc


	)

112 
	#x‰ì
 
‰ì


	)

114 #unde‡
c_is•a˚


115 #unde‡
c_isdigô


116 #unde‡
c_isxdigô


117 #unde‡
c_ißÕha


118 #unde‡
c_iß um


119 #unde‡
c_tﬁowî


120 #unde‡
c_touµî


122 
	#c_is•a˚
(
x
Ë
	`is•a˚
 (x)

	)

123 
	#c_isdigô
(
x
Ë
	`isdigô
 (x)

	)

124 
	#c_isxdigô
(
x
Ë
	`isxdigô
 (x)

	)

125 
	#c_ißÕha
(
x
Ë
	`ißÕha
 (x)

	)

126 
	#c_iß um
(
x
Ë
	`iß um
 (x)

	)

127 
	#c_tﬁowî
(
x
Ë
	`tﬁowî
 (x)

	)

128 
	#c_touµî
(
x
Ë
	`touµî
 (x)

	)

130 
	shash_èbÀ
 {

131 
	mdummy
;

134 
	$hash_èbÀ_gë
 (c⁄° 
hash_èbÀ
 *
ht
, *
±r
)

136  
±r
;

137 
	}
}

139 
	~"hash.h
"

153 
	spoﬁ
 {

154 *
	mc⁄ã¡s
;

155 
	msize
;

156 
	mèû
;

157 
boﬁ
 
	mªsized
;

160 *
	m‹ig_c⁄ã¡s
;

164 
	m‹ig_size
;

169 
	#POOL_INIT
(
p
, 
öôül_°‹age
, 
öôül_size
) do { \

170 
poﬁ
 *
P
 = (
p
); \

171 
P
->
c⁄ã¡s
 = (
öôül_°‹age
); \

172 
P
->
size
 = (
öôül_size
); \

173 
P
->
èû
 = 0; \

174 
P
->
ªsized
 = 
Ál£
; \

175 
P
->
‹ig_c⁄ã¡s
 = P->
c⁄ã¡s
; \

176 
P
->
‹ig_size
 = P->
size
; \

177 } 0)

	)

182 
	#POOL_GROW
(
p
, 
ö¸ó£
) \

183 
	`GROW_ARRAY
 ((
p
)->
c⁄ã¡s
, (p)->
size
, (p)->
èû
 + (
ö¸ó£
), \

184 (
p
)->
ªsized
, )

	)

189 
	#POOL_APPEND
(
p
, 
beg
, 
íd
) do { \

190 c⁄° *
PA_beg
 = (
beg
); \

191 
PA_size
 = (
íd
Ë- 
PA_beg
; \

192 
	`POOL_GROW
 (
p
, 
PA_size
); \

193 
	`mem˝y
 ((
p
)->
c⁄ã¡s
 + (p)->
èû
, 
PA_beg
, 
PA_size
); \

194 (
p
)->
èû
 +
PA_size
; \

195 } 0)

	)

200 
	#POOL_APPEND_CHR
(
p
, 
ch
) do { \

201 
PAC_ch¨
 = (
ch
); \

202 
	`POOL_GROW
 (
p
, 1); \

203 (
p
)->
c⁄ã¡s
[’)->
èû
++] = 
PAC_ch¨
; \

204 } 0)

	)

207 
	#POOL_REWIND
(
p
Ë’)->
èû
 = 0

	)

215 
	#POOL_FREE
(
p
) do { \

216 
poﬁ
 *
P
 = 
p
; \

217 i‡(
P
->
ªsized
) \

218 
	`x‰ì
 (
P
->
c⁄ã¡s
); \

219 
P
->
c⁄ã¡s
 = P->
‹ig_c⁄ã¡s
; \

220 
P
->
size
 = P->
‹ig_size
; \

221 
P
->
èû
 = 0; \

222 
P
->
ªsized
 = 
Ál£
; \

223 } 0)

	)

237 
	#GROW_ARRAY
(
ba£v¨
, 
sizev¨
, 
√eded_size
, 
ªsized
, 
ty≥
) do { \

238 
ga_√eded_size
 = (
√eded_size
); \

239 
ga_√wsize
 = (
sizev¨
); \

240 
ga_√wsize
 < 
ga_√eded_size
) \

241 
ga_√wsize
 <<= 1; \

242 i‡(
ga_√wsize
 !(
sizev¨
)) \

244 i‡(
ªsized
) \

245 
ba£v¨
 = 
	`xªÆloc
 (ba£v¨, 
ga_√wsize
 *  (
ty≥
)); \

248 *
ga_√w
 = 
	`xmÆloc
 (
ga_√wsize
 *  (
ty≥
)); \

249 
	`mem˝y
 (
ga_√w
, 
ba£v¨
, (
sizev¨
Ë*  (
ty≥
)); \

250 (
ba£v¨
Ë
ga_√w
; \

251 
ªsized
 = 
åue
; \

253 (
sizev¨
Ë
ga_√wsize
; \

255 } 0)

	)

262 
	#FITS
(
p
, 
n
Ë’ +Ç =
íd
 || (∞+Ç <Énd && !
	`c_iß um
 (p[n])))

	)

266 
	#ENT1
(
p
, 
c0
Ë(
	`FITS
 (p, 1Ë&&Ö[0] =c0)

	)

267 
	#ENT2
(
p
, 
c0
, 
c1
Ë(
	`FITS
 (p, 2Ë&&Ö[0] =c0 &&Ö[1] =c1)

	)

268 
	#ENT3
(
p
, 
c0
, 
c1
, 
c2
Ë(
	`FITS
 (p, 3Ë&&Ö[0]==c0 &&Ö[1]==c1 &&Ö[2]==c2)

	)

273 
	#SKIP_SEMI
(
p
, 
öc
Ë’ +öc,Ö < 
íd
 && *∞=';' ? ++∞:Ö)

	)

275 
	sèg°ack_ôem
 {

276 c⁄° *
	mèg«me_begö
;

277 c⁄° *
	mèg«me_íd
;

278 c⁄° *
	mc⁄ã¡s_begö
;

279 
èg°ack_ôem
 *
	m¥ev
;

280 
èg°ack_ôem
 *
	m√xt
;

283 
èg°ack_ôem
 *

284 
	$èg°ack_push
 (
èg°ack_ôem
 **
hód
, èg°ack_ôem **
èû
)

286 
èg°ack_ôem
 *
ts
 = 
	`xmÆloc
((tagstack_item));

287 i‡(*
hód
 =
NULL
)

289 *
hód
 = *
èû
 = 
ts
;

290 
ts
->
¥ev
 =Ås->
√xt
 = 
NULL
;

294 (*
èû
)->
√xt
 = 
ts
;

295 
ts
->
¥ev
 = *
èû
;

296 *
èû
 = 
ts
;

297 
ts
->
√xt
 = 
NULL
;

300  
ts
;

301 
	}
}

305 
	$èg°ack_p›
 (
èg°ack_ôem
 **
hód
, èg°ack_ôem **
èû
,

306 
èg°ack_ôem
 *
ts
)

308 i‡(*
hód
 =
NULL
)

311 i‡(
ts
 =*
èû
)

313 i‡(
ts
 =*
hód
)

315 
	`x‰ì
 (
ts
);

316 *
hód
 = *
èû
 = 
NULL
;

320 
ts
->
¥ev
->
√xt
 = 
NULL
;

321 *
èû
 = 
ts
->
¥ev
;

322 
	`x‰ì
 (
ts
);

327 i‡(
ts
 =*
hód
)

329 *
hód
 = 
NULL
;

331 *
èû
 = 
ts
->
¥ev
;

333 i‡(
ts
->
¥ev
)

335 
ts
->
¥ev
->
√xt
 = 
NULL
;

337 
ts
)

339 
èg°ack_ôem
 *
p
 = 
ts
->
√xt
;

340 
	`x‰ì
 (
ts
);

341 
ts
 = 
p
;

344 
	}
}

346 
èg°ack_ôem
 *

347 
	$èg°ack_föd
 (
èg°ack_ôem
 *
èû
, c⁄° *
èg«me_begö
,

348 c⁄° *
èg«me_íd
)

350 
Àn
 = 
èg«me_íd
 - 
èg«me_begö
;

351 
èû
)

353 i‡(
Àn
 =(
èû
->
èg«me_íd
 -Åaû->
èg«me_begö
))

355 i‡(0 =
	`°∫ˇ£cmp
 (
èû
->
èg«me_begö
,Åag«me_begö, 
Àn
))

356  
èû
;

358 
èû
 =Åaû->
¥ev
;

360  
NULL
;

361 
	}
}

372 
	$decode_ítôy
 (c⁄° **
±r
, c⁄° *
íd
)

374 c⁄° *
p
 = *
±r
;

375 
vÆue
 = -1;

377 i‡(++
p
 =
íd
)

380 *
p
++)

385 
digôs
 = 0;

386 
vÆue
 = 0;

387 i‡(*
p
 == 'x')

388 ++
p
; 
vÆue
 < 256 &&Ö < 
íd
 && 
	`c_isxdigô
 (*p);Ö++, 
digôs
++)

389 
vÆue
 = (vÆuê<< 4Ë+ 
	`XDIGIT_TO_NUM
 (*
p
);

391 ; 
vÆue
 < 256 && 
p
 < 
íd
 && 
	`c_isdigô
 (*p);Ö++, 
digôs
++)

392 
vÆue
 = (vÆuê* 10Ë+ (*
p
 - '0');

393 i‡(!
digôs
)

397 i‡(!
vÆue
 || (value & ~0x7f))

399 *
±r
 = 
	`SKIP_SEMI
 (
p
, 0);

400  
vÆue
;

404 i‡(
	`ENT1
 (
p
, 't'))

405 
vÆue
 = '>', *
±r
 = 
	`SKIP_SEMI
 (
p
, 1);

408 i‡(
	`ENT1
 (
p
, 't'))

409 
vÆue
 = '<', *
±r
 = 
	`SKIP_SEMI
 (
p
, 1);

412 i‡(
	`ENT2
 (
p
, 'm', 'p'))

413 
vÆue
 = '&', *
±r
 = 
	`SKIP_SEMI
 (
p
, 2);

414 i‡(
	`ENT3
 (
p
, 'p', 'o', 's'))

416 
vÆue
 = '\'', *
±r
 = 
	`SKIP_SEMI
 (
p
, 3);

419 i‡(
	`ENT3
 (
p
, 'u', 'o', 't'))

420 
vÆue
 = '\"', *
±r
 = 
	`SKIP_SEMI
 (
p
, 3);

423  
vÆue
;

424 
	}
}

425 #unde‡
ENT1


426 #unde‡
ENT2


427 #unde‡
ENT3


428 #unde‡
FITS


429 #unde‡
SKIP_SEMI


432 
	mAP_DOWNCASE
 = 1,

433 
	mAP_DECODE_ENTITIES
 = 2,

434 
	mAP_TRIM_BLANKS
 = 4

451 
	$c⁄vît_™d_c›y
 (
poﬁ
 *poﬁ, c⁄° *
beg
, c⁄° *
íd
, 
Êags
)

453 
ﬁd_èû
 = 
poﬁ
->
èû
;

458 i‡(
Êags
 & 
AP_TRIM_BLANKS
)

460 
beg
 < 
íd
 && 
	`c_is•a˚
 (*beg))

461 ++
beg
;

462 
íd
 > 
beg
 && 
	`c_is•a˚
 (end[-1]))

463 --
íd
;

466 i‡(
Êags
 & 
AP_DECODE_ENTITIES
)

475 c⁄° *
‰om
 = 
beg
;

476 *
to
;

477 
boﬁ
 
squash_√wlöes
 = !!(
Êags
 & 
AP_TRIM_BLANKS
);

479 
	`POOL_GROW
 (
poﬁ
, 
íd
 - 
beg
);

480 
to
 = 
poﬁ
->
c⁄ã¡s
 +Öoﬁ->
èû
;

482 
‰om
 < 
íd
)

484 i‡(*
‰om
 == '&')

486 
ítôy
 = 
	`decode_ítôy
 (&
‰om
, 
íd
);

487 i‡(
ítôy
 != -1)

488 *
to
++ = 
ítôy
;

490 *
to
++ = *
‰om
++;

492 i‡((*
‰om
 ='\n' || *‰om ='\r'Ë&& 
squash_√wlöes
)

493 ++
‰om
;

495 *
to
++ = *
‰om
++;

499 
	`as£π
 (
to
 - (
poﬁ
->
c⁄ã¡s
 +Öoﬁ->
èû
Ë<
íd
 - 
beg
);

503 
poﬁ
->
èû
 = 
to
 -Öoﬁ->
c⁄ã¡s
;

504 
	`POOL_APPEND_CHR
 (
poﬁ
, '\0');

509 
	`POOL_APPEND
 (
poﬁ
, 
beg
, 
íd
);

510 
	`POOL_APPEND_CHR
 (
poﬁ
, '\0');

513 i‡(
Êags
 & 
AP_DOWNCASE
)

515 *
p
 = 
poﬁ
->
c⁄ã¡s
 + 
ﬁd_èû
;

516 ; *
p
;Ö++)

517 *
p
 = 
	`c_tﬁowî
 (*p);

519 
	}
}

536 
	#NAME_CHAR_P
(
x
) ((x) > 32 && (x) < 127 \

537 && (
x
) != '=' && (x) != '<' && (x) != '>' \

538 && (
x
Ë!'/')

	)

540 #ifde‡
STANDALONE


541 
	gcommít_backout_cou¡
;

564 
	$adv™˚_de˛¨©i⁄
 (c⁄° *
beg
, c⁄° *
íd
)

566 c⁄° *
p
 = 
beg
;

567 
quŸe_ch¨
 = '\0';

568 
ch
;

571 
AC_S_DONE
,

572 
AC_S_BACKOUT
,

573 
AC_S_BANG
,

574 
AC_S_DEFAULT
,

575 
AC_S_DCLNAME
,

576 
AC_S_DASH1
,

577 
AC_S_DASH2
,

578 
AC_S_COMMENT
,

579 
AC_S_DASH3
,

580 
AC_S_DASH4
,

581 
AC_S_QUOTE1
,

582 
AC_S_IN_QUOTE
,

583 
AC_S_QUOTE2


584 } 
°©e
 = 
AC_S_BANG
;

586 i‡(
beg
 =
íd
)

587  
beg
;

588 
ch
 = *
p
++;

593 
°©e
 !
AC_S_DONE
 && sèã !
AC_S_BACKOUT
)

595 i‡(
p
 =
íd
)

596 
°©e
 = 
AC_S_BACKOUT
;

597 
°©e
)

599 
AC_S_DONE
:

600 
AC_S_BACKOUT
:

602 
AC_S_BANG
:

603 i‡(
ch
 == '!')

605 
ch
 = *
p
++;

606 
°©e
 = 
AC_S_DEFAULT
;

609 
°©e
 = 
AC_S_BACKOUT
;

611 
AC_S_DEFAULT
:

612 
ch
)

615 
°©e
 = 
AC_S_DASH1
;

621 
ch
 = *
p
++;

625 
°©e
 = 
AC_S_DONE
;

629 
°©e
 = 
AC_S_QUOTE1
;

632 i‡(
	`NAME_CHAR_P
 (
ch
))

633 
°©e
 = 
AC_S_DCLNAME
;

635 
°©e
 = 
AC_S_BACKOUT
;

639 
AC_S_DCLNAME
:

640 i‡(
ch
 == '-')

641 
°©e
 = 
AC_S_DASH1
;

642 i‡(
	`NAME_CHAR_P
 (
ch
))

643 
ch
 = *
p
++;

645 
°©e
 = 
AC_S_DEFAULT
;

647 
AC_S_QUOTE1
:

650 
	`as£π
 (
ch
 == '\'' || ch == 0x22);

651 
quŸe_ch¨
 = 
ch
;

654 
ch
 = *
p
++;

655 
°©e
 = 
AC_S_IN_QUOTE
;

657 
AC_S_IN_QUOTE
:

658 i‡(
ch
 =
quŸe_ch¨
)

659 
°©e
 = 
AC_S_QUOTE2
;

661 
ch
 = *
p
++;

663 
AC_S_QUOTE2
:

664 
	`as£π
 (
ch
 =
quŸe_ch¨
);

665 
ch
 = *
p
++;

666 
°©e
 = 
AC_S_DEFAULT
;

668 
AC_S_DASH1
:

669 
	`as£π
 (
ch
 == '-');

670 
ch
 = *
p
++;

671 
°©e
 = 
AC_S_DASH2
;

673 
AC_S_DASH2
:

674 
ch
)

677 
ch
 = *
p
++;

678 
°©e
 = 
AC_S_COMMENT
;

681 
°©e
 = 
AC_S_BACKOUT
;

684 
AC_S_COMMENT
:

685 
ch
)

688 
°©e
 = 
AC_S_DASH3
;

691 
ch
 = *
p
++;

695 
AC_S_DASH3
:

696 
	`as£π
 (
ch
 == '-');

697 
ch
 = *
p
++;

698 
°©e
 = 
AC_S_DASH4
;

700 
AC_S_DASH4
:

701 
ch
)

704 
ch
 = *
p
++;

705 
°©e
 = 
AC_S_DEFAULT
;

708 
°©e
 = 
AC_S_COMMENT
;

715 i‡(
°©e
 =
AC_S_BACKOUT
)

717 #ifde‡
STANDALONE


718 ++
commít_backout_cou¡
;

720  
beg
 + 1;

722  
p
;

723 
	}
}

730 
	$föd_commít_íd
 (c⁄° *
beg
, c⁄° *
íd
)

736 c⁄° *
p
 = 
beg
 - 1;

738 (
p
 +3Ë< 
íd
)

739 
p
[0])

742 i‡(
p
[-1] == '-' &&Ö[-2] == '-')

743  
p
 + 1;

746 
©_dash
:

747 i‡(
p
[-1] == '-')

749 
©_dash_dash
:

750 i‡(++
p
 =
íd
Ë 
NULL
;

751 
p
[0])

753 '>':  
p
 + 1;

754 '-': 
©_dash_dash
;

759 i‡((
p
 +2Ë>
íd
Ë 
NULL
;

760 
p
[0])

763 i‡(
p
[-1] == '-')

764  
p
 + 1;

767 
©_dash
;

771  
NULL
;

772 
	}
}

777 
boﬁ


778 
	$«me_Ælowed
 (c⁄° 
hash_èbÀ
 *
ht
, c⁄° *
b
, c⁄° *
e
)

780 *
c›y
;

781 i‡(!
ht
)

782  
åue
;

783 
	`BOUNDED_TO_ALLOCA
 (
b
, 
e
, 
c›y
);

784  
	`hash_èbÀ_gë
 (
ht
, 
c›y
Ë!
NULL
;

785 
	}
}

790 
	#ADVANCE
(
p
) do { \

791 ++
p
; \

792 i‡(
p
 >
íd
) \

793 
föish
; \

794 } 0)

	)

798 
	#SKIP_WS
(
p
) do { \

799 
	`c_is•a˚
 (*
p
)) { \

800 
	`ADVANCE
 (
p
); \

802 } 0)

	)

806 
	#SKIP_NON_WS
(
p
) do { \

807 !
	`c_is•a˚
 (*
p
)) { \

808 
	`ADVANCE
 (
p
); \

810 } 0)

	)

812 #ifde‡
STANDALONE


813 
	gèg_backout_cou¡
;

831 
m≠_html_ègs
 (c⁄° *
ãxt
, 
size
,

832 (*
m≠fun
Ë(
ègöfo
 *, *), *
m≠¨g
,

833 
Êags
,

834 c⁄° 
hash_èbÀ
 *
Ælowed_ègs
,

835 c⁄° 
hash_èbÀ
 *
Ælowed_©åibuãs
)

839 
poﬁ_öôül_°‹age
[256];

840 
poﬁ
Öool;

842 c⁄° *
p
 = 
ãxt
;

843 c⁄° *
íd
 = 
ãxt
 + 
size
;

845 
©å_∑ú
 
©å_∑ú_öôül_°‹age
[8];

846 
©å_∑ú_size
 = 
	`cou¡of
 (
©å_∑ú_öôül_°‹age
);

847 
boﬁ
 
©å_∑ú_ªsized
 = 
Ál£
;

848 
©å_∑ú
 *
∑ús
 = 
©å_∑ú_öôül_°‹age
;

850 
èg°ack_ôem
 *
hód
 = 
NULL
;

851 
èg°ack_ôem
 *
èû
 = 
NULL
;

853 i‡(!
size
)

856 
	`POOL_INIT
 (&
poﬁ
, 
poﬁ_öôül_°‹age
, 
	`cou¡of
 (pool_initial_storage));

859 
«ârs
, 
íd_èg
;

860 c⁄° *
èg_«me_begö
, *
èg_«me_íd
;

861 c⁄° *
èg_°¨t_posôi⁄
;

862 
boﬁ
 
unöãª°ög_èg
;

864 
look_f‹_èg
:

865 
	`POOL_REWIND
 (&
poﬁ
);

867 
«ârs
 = 0;

868 
íd_èg
 = 0;

872 
p
 = 
	`memchr
 (p, '<', 
íd
 -Ö);

873 i‡(!
p
)

874 
föish
;

876 
èg_°¨t_posôi⁄
 = 
p
;

877 
	`ADVANCE
 (
p
);

881 i‡(*
p
 == '!')

883 i‡(!(
Êags
 & 
MHT_STRICT_COMMENTS
)

884 && 
p
 < 
íd
 + 3 &&Ö[1] == '-' &&Ö[2] == '-')

891 c⁄° *
commít_íd
 = 
	`föd_commít_íd
 (
p
 + 3, 
íd
);

892 i‡(
commít_íd
)

893 
p
 = 
commít_íd
;

901 
p
 = 
	`adv™˚_de˛¨©i⁄
 (p, 
íd
);

903 i‡(
p
 =
íd
)

904 
föish
;

905 
look_f‹_èg
;

907 i‡(*
p
 == '/')

909 
íd_èg
 = 1;

910 
	`ADVANCE
 (
p
);

912 
èg_«me_begö
 = 
p
;

913 
	`NAME_CHAR_P
 (*
p
))

914 
	`ADVANCE
 (
p
);

915 i‡(
p
 =
èg_«me_begö
)

916 
look_f‹_èg
;

917 
èg_«me_íd
 = 
p
;

918 
	`SKIP_WS
 (
p
);

920 i‡(!
íd_èg
)

922 
èg°ack_ôem
 *
ts
 = 
	`èg°ack_push
 (&
hód
, &
èû
);

923 i‡(
ts
)

925 
ts
->
èg«me_begö
 = 
èg_«me_begö
;

926 
ts
->
èg«me_íd
 = 
èg_«me_íd
;

927 
ts
->
c⁄ã¡s_begö
 = 
NULL
;

931 i‡(
íd_èg
 && *
p
 != '>' && *p != '<')

932 
backout_èg
;

934 i‡(!
	`«me_Ælowed
 (
Ælowed_ègs
, 
èg_«me_begö
, 
èg_«me_íd
))

937 
unöãª°ög_èg
 = 
åue
;

940 
unöãª°ög_èg
 = 
Ál£
;

941 
	`c⁄vît_™d_c›y
 (&
poﬁ
, 
èg_«me_begö
, 
èg_«me_íd
, 
AP_DOWNCASE
);

947 c⁄° *
©å_«me_begö
, *
©å_«me_íd
;

948 c⁄° *
©å_vÆue_begö
, *
©å_vÆue_íd
;

949 c⁄° *
©å_øw_vÆue_begö
, *
©å_øw_vÆue_íd
;

950 
›î©i⁄
 = 
AP_DOWNCASE
;

952 
	`SKIP_WS
 (
p
);

954 i‡(*
p
 == '/')

961 
	`ADVANCE
 (
p
);

962 
	`SKIP_WS
 (
p
);

963 i‡(*
p
 != '<' && *p != '>')

964 
backout_èg
;

968 i‡(*
p
 == '<' || *p == '>')

972 
©å_«me_begö
 = 
p
;

974 
	`NAME_CHAR_P
 (*
p
))

975 
	`ADVANCE
 (
p
);

976 
©å_«me_íd
 = 
p
;

978 i‡(
©å_«me_begö
 =
©å_«me_íd
)

979 
backout_èg
;

982 
	`SKIP_WS
 (
p
);

984 i‡(
	`NAME_CHAR_P
 (*
p
) || *p == '/' || *p == '<' || *p == '>')

991 
©å_øw_vÆue_begö
 = 
©å_vÆue_begö
 = 
©å_«me_begö
;

992 
©å_øw_vÆue_íd
 = 
©å_vÆue_íd
 = 
©å_«me_íd
;

994 i‡(*
p
 == '=')

996 
	`ADVANCE
 (
p
);

997 
	`SKIP_WS
 (
p
);

998 i‡(*
p
 == '\"' || *p == '\'')

1000 
boﬁ
 
√wlöe_£í
 = 
Ál£
;

1001 
quŸe_ch¨
 = *
p
;

1002 
©å_øw_vÆue_begö
 = 
p
;

1003 
	`ADVANCE
 (
p
);

1004 
©å_vÆue_begö
 = 
p
;

1006 *
p
 !
quŸe_ch¨
)

1008 i‡(!
√wlöe_£í
 && *
p
 == '\n')

1017 
p
 = 
©å_vÆue_begö
;

1018 
√wlöe_£í
 = 
åue
;

1021 i‡(
√wlöe_£í
 && (*
p
 == '<' || *p == '>'))

1023 
	`ADVANCE
 (
p
);

1025 
©å_vÆue_íd
 = 
p
;

1027 i‡(*
p
 =
quŸe_ch¨
)

1028 
	`ADVANCE
 (
p
);

1030 
look_f‹_èg
;

1031 
©å_øw_vÆue_íd
 = 
p
;

1033 
›î©i⁄
 = 
AP_DECODE_ENTITIES
;

1034 i‡(
Êags
 & 
MHT_TRIM_VALUES
)

1035 
›î©i⁄
 |
AP_TRIM_BLANKS
;

1039 
©å_vÆue_begö
 = 
p
;

1046 !
	`c_is•a˚
 (*
p
) && *p != '<' && *p != '>')

1047 
	`ADVANCE
 (
p
);

1048 
©å_vÆue_íd
 = 
p
;

1050 i‡(
©å_vÆue_begö
 =
©å_vÆue_íd
)

1053 
backout_èg
;

1054 
©å_øw_vÆue_begö
 = 
©å_vÆue_begö
;

1055 
©å_øw_vÆue_íd
 = 
©å_vÆue_íd
;

1056 
›î©i⁄
 = 
AP_DECODE_ENTITIES
;

1064 
backout_èg
;

1070 i‡(
unöãª°ög_èg
)

1076 i‡(!
	`«me_Ælowed
 (
Ælowed_©åibuãs
, 
©å_«me_begö
, 
©å_«me_íd
))

1079 
	`GROW_ARRAY
 (
∑ús
, 
©å_∑ú_size
, 
«ârs
 + 1, 
©å_∑ú_ªsized
,

1080 
©å_∑ú
);

1082 
∑ús
[
«ârs
].
«me_poﬁ_ödex
 = 
poﬁ
.
èû
;

1083 
	`c⁄vît_™d_c›y
 (&
poﬁ
, 
©å_«me_begö
, 
©å_«me_íd
, 
AP_DOWNCASE
);

1085 
∑ús
[
«ârs
].
vÆue_poﬁ_ödex
 = 
poﬁ
.
èû
;

1086 
	`c⁄vît_™d_c›y
 (&
poﬁ
, 
©å_vÆue_begö
, 
©å_vÆue_íd
, 
›î©i⁄
);

1087 
∑ús
[
«ârs
].
vÆue_øw_begönög
 = 
©å_øw_vÆue_begö
;

1088 
∑ús
[
«ârs
].
vÆue_øw_size
 = (
©å_øw_vÆue_íd


1089 - 
©å_øw_vÆue_begö
);

1090 ++
«ârs
;

1093 i‡(!
íd_èg
 && 
èû
 && (èû->
èg«me_begö
 =
èg_«me_begö
))

1095 
èû
->
c⁄ã¡s_begö
 = 
p
+1;

1098 i‡(
unöãª°ög_èg
)

1100 
	`ADVANCE
 (
p
);

1101 
look_f‹_èg
;

1107 
i
;

1108 
ègöfo
Åaginfo;

1109 
èg°ack_ôem
 *
ts
 = 
NULL
;

1111 
ègöfo
.
«me
 = 
poﬁ
.
c⁄ã¡s
;

1112 
ègöfo
.
íd_èg_p
 = 
íd_èg
;

1113 
ègöfo
.
«ârs
 =Çattrs;

1118 
i
 = 0; i < 
«ârs
; i++)

1120 
∑ús
[
i
].
«me
 = 
poﬁ
.
c⁄ã¡s
 +Öaús[i].
«me_poﬁ_ödex
;

1121 
∑ús
[
i
].
vÆue
 = 
poﬁ
.
c⁄ã¡s
 +Öaús[i].
vÆue_poﬁ_ödex
;

1123 
ègöfo
.
©ås
 = 
∑ús
;

1124 
ègöfo
.
°¨t_posôi⁄
 = 
èg_°¨t_posôi⁄
;

1125 
ègöfo
.
íd_posôi⁄
 = 
p
 + 1;

1126 
ègöfo
.
c⁄ã¡s_begö
 = 
NULL
;

1127 
ègöfo
.
c⁄ã¡s_íd
 = 
NULL
;

1129 i‡(
íd_èg
)

1131 
ts
 = 
	`èg°ack_föd
 (
èû
, 
èg_«me_begö
, 
èg_«me_íd
);

1132 i‡(
ts
)

1134 i‡(
ts
->
c⁄ã¡s_begö
)

1136 
ègöfo
.
c⁄ã¡s_begö
 = 
ts
->contents_begin;

1137 
ègöfo
.
c⁄ã¡s_íd
 = 
èg_°¨t_posôi⁄
;

1139 
	`èg°ack_p›
 (&
hód
, &
èû
, 
ts
);

1143 
	`m≠fun
 (&
ègöfo
, 
m≠¨g
);

1144 i‡(*
p
 != '<')

1145 
	`ADVANCE
 (
p
);

1147 
look_f‹_èg
;

1149 
backout_èg
:

1150 #ifde‡
STANDALONE


1151 ++
èg_backout_cou¡
;

1155 
p
 = 
èg_°¨t_posôi⁄
 + 1;

1156 
look_f‹_èg
;

1159 
föish
:

1160 
	`POOL_FREE
 (&
poﬁ
);

1161 i‡(
©å_∑ú_ªsized
)

1162 
	`x‰ì
 (
∑ús
);

1164 
	`èg°ack_p›
 (&
hód
, &
èû
, head);

1165 
	}
}

1167 #unde‡
ADVANCE


1168 #unde‡
SKIP_WS


1169 #unde‡
SKIP_NON_WS


1171 #ifde‡
STANDALONE


1173 
	$ã°_m≠≥r
 (
ègöfo
 *ègöfo, *
¨g
)

1175 
i
;

1177 
	`¥ötf
 ("%s%s", 
ègöfo
->
íd_èg_p
 ? "/" : "",Åagöfo->
«me
);

1178 
i
 = 0; i < 
ègöfo
->
«ârs
; i++)

1179 
	`¥ötf
 (" %s=%s", 
ègöfo
->
©ås
[
i
].
«me
,Åagöfo->©ås[i].
vÆue
);

1180 
	`putch¨
 ('\n');

1181 ++*(*)
¨g
;

1182 
	}
}

1184 
	$maö
 ()

1186 
size
 = 256;

1187 *
x
 = 
	`xmÆloc
 (
size
);

1188 
Àngth
 = 0;

1189 
ªad_cou¡
;

1190 
èg_cou¡î
 = 0;

1192 (
ªad_cou¡
 = 
	`‰ód
 (
x
 + 
Àngth
, 1, 
size
 -Üígth, 
°dö
)))

1194 
Àngth
 +
ªad_cou¡
;

1195 
size
 <<= 1;

1196 
x
 = 
	`xªÆloc
 (x, 
size
);

1199 
	`m≠_html_ègs
 (
x
, 
Àngth
, 
ã°_m≠≥r
, &
èg_cou¡î
, 0, 
NULL
, NULL);

1200 
	`¥ötf
 ("TAGS: %d\n", 
èg_cou¡î
);

1201 
	`¥ötf
 ("Tag backouts: %d\n", 
èg_backout_cou¡
);

1202 
	`¥ötf
 ("Commíàbackouts: %d\n", 
commít_backout_cou¡
);

1204 
	}
}

	@src/html-parse.h

31 #i‚de‡
HTML_PARSE_H


32 
	#HTML_PARSE_H


	)

34 
	s©å_∑ú
 {

35 *
	m«me
;

36 *
	mvÆue
;

40 c⁄° *
	mvÆue_øw_begönög
;

41 
	mvÆue_øw_size
;

44 
	m«me_poﬁ_ödex
, 
	mvÆue_poﬁ_ödex
;

47 
	sègöfo
 {

48 *
	m«me
;

49 
	míd_èg_p
;

50 
	m«ârs
;

51 
©å_∑ú
 *
	m©ås
;

53 c⁄° *
	m°¨t_posôi⁄
;

54 c⁄° *
	míd_posôi⁄
;

56 c⁄° *
	mc⁄ã¡s_begö
;

57 c⁄° *
	mc⁄ã¡s_íd
;

60 
	ghash_èbÀ
;

63 
	#MHT_STRICT_COMMENTS
 1

	)

64 
	#MHT_TRIM_VALUES
 2

	)

67 
m≠_html_ègs
 (const *, ,

68 (*Ë(
ègöfo
 *, *), *, ,

69 c⁄° 
hash_èbÀ
 *, const hash_table *);

	@src/html-url.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<°rög.h
>

35 
	~<°dlib.h
>

36 
	~<î∫o.h
>

37 
	~<as£π.h
>

39 
	~"exôs.h
"

40 
	~"html-∑r£.h
"

41 
	~"uæ.h
"

42 
	~"utûs.h
"

43 
	~"hash.h
"

44 
	~"c⁄vît.h
"

45 
	~"ªcur.h
"

46 
	~"html-uæ.h
"

47 
	~"css-uæ.h
"

49 (*
	tèg_h™dÀr_t
Ë(, 
	tègöfo
 *, 
	tm≠_c⁄ãxt
 *);

51 
	#DECLARE_TAG_HANDLER
(
fun
) \

52 
	`fun
 (, 
ègöfo
 *, 
m≠_c⁄ãxt
 *)

	)

54 
	`DECLARE_TAG_HANDLER
 (
èg_föd_uæs
);

55 
	`DECLARE_TAG_HANDLER
 (
èg_h™dÀ_ba£
);

56 
	`DECLARE_TAG_HANDLER
 (
èg_h™dÀ_f‹m
);

57 
	`DECLARE_TAG_HANDLER
 (
èg_h™dÀ_lök
);

58 
	`DECLARE_TAG_HANDLER
 (
èg_h™dÀ_mëa
);

61 
TAG_A
,

62 
TAG_APPLET
,

63 
TAG_AREA
,

64 
TAG_BASE
,

65 
TAG_BGSOUND
,

66 
TAG_BODY
,

67 
TAG_EMBED
,

68 
TAG_FIG
,

69 
TAG_FORM
,

70 
TAG_FRAME
,

71 
TAG_IFRAME
,

72 
TAG_IMG
,

73 
TAG_INPUT
,

74 
TAG_LAYER
,

75 
TAG_LINK
,

76 
TAG_META
,

77 
TAG_OBJECT
,

78 
TAG_OVERLAY
,

79 
TAG_SCRIPT
,

80 
TAG_TABLE
,

81 
TAG_TD
,

82 
TAG_TH


87 
	sknown_èg
 {

88 
ègid
;

89 c⁄° *
«me
;

90 
èg_h™dÀr_t
 
h™dÀr
;

91 } 
known_ègs
[] = {

92 { 
TAG_A
, "a", 
èg_föd_uæs
 },

93 { 
TAG_APPLET
, "≠∂ë", 
èg_föd_uæs
 },

94 { 
TAG_AREA
, "¨ó", 
èg_föd_uæs
 },

95 { 
TAG_BASE
, "ba£", 
èg_h™dÀ_ba£
 },

96 { 
TAG_BGSOUND
, "bgsound", 
èg_föd_uæs
 },

97 { 
TAG_BODY
, "body", 
èg_föd_uæs
 },

98 { 
TAG_EMBED
, "embed", 
èg_föd_uæs
 },

99 { 
TAG_FIG
, "fig", 
èg_föd_uæs
 },

100 { 
TAG_FORM
, "f‹m", 
èg_h™dÀ_f‹m
 },

101 { 
TAG_FRAME
, "‰ame", 
èg_föd_uæs
 },

102 { 
TAG_IFRAME
, "i‰ame", 
èg_föd_uæs
 },

103 { 
TAG_IMG
, "img", 
èg_föd_uæs
 },

104 { 
TAG_INPUT
, "öput", 
èg_föd_uæs
 },

105 { 
TAG_LAYER
, "œyî", 
èg_föd_uæs
 },

106 { 
TAG_LINK
, "lök", 
èg_h™dÀ_lök
 },

107 { 
TAG_META
, "mëa", 
èg_h™dÀ_mëa
 },

108 { 
TAG_OBJECT
, "obje˘", 
èg_föd_uæs
 },

109 { 
TAG_OVERLAY
, "ovîœy", 
èg_föd_uæs
 },

110 { 
TAG_SCRIPT
, "s¸ùt", 
èg_föd_uæs
 },

111 { 
TAG_TABLE
, "èbÀ", 
èg_föd_uæs
 },

112 { 
TAG_TD
, "td", 
èg_föd_uæs
 },

113 { 
TAG_TH
, "th", 
èg_föd_uæs
 }

114 
	}
};

124 
	#ATTR_INLINE
 1

	)

131 
	#ATTR_HTML
 2

	)

136 
	mègid
;

137 c⁄° *
	m©å_«me
;

138 
	mÊags
;

139 } 
	gèg_uæ_©åibuãs
[] = {

140 { 
TAG_A
, "hªf", 
ATTR_HTML
 },

141 { 
TAG_APPLET
, "code", 
ATTR_INLINE
 },

142 { 
TAG_AREA
, "hªf", 
ATTR_HTML
 },

143 { 
TAG_BGSOUND
, "§c", 
ATTR_INLINE
 },

144 { 
TAG_BODY
, "background", 
ATTR_INLINE
 },

145 { 
TAG_EMBED
, "hªf", 
ATTR_HTML
 },

146 { 
TAG_EMBED
, "§c", 
ATTR_INLINE
 | 
ATTR_HTML
 },

147 { 
TAG_FIG
, "§c", 
ATTR_INLINE
 },

148 { 
TAG_FRAME
, "§c", 
ATTR_INLINE
 | 
ATTR_HTML
 },

149 { 
TAG_IFRAME
, "§c", 
ATTR_INLINE
 | 
ATTR_HTML
 },

150 { 
TAG_IMG
, "hªf", 
ATTR_INLINE
 },

151 { 
TAG_IMG
, "low§c", 
ATTR_INLINE
 },

152 { 
TAG_IMG
, "§c", 
ATTR_INLINE
 },

153 { 
TAG_INPUT
, "§c", 
ATTR_INLINE
 },

154 { 
TAG_LAYER
, "§c", 
ATTR_INLINE
 | 
ATTR_HTML
 },

155 { 
TAG_OBJECT
, "d©a", 
ATTR_INLINE
 },

156 { 
TAG_OVERLAY
, "§c", 
ATTR_INLINE
 | 
ATTR_HTML
 },

157 { 
TAG_SCRIPT
, "§c", 
ATTR_INLINE
 },

158 { 
TAG_TABLE
, "background", 
ATTR_INLINE
 },

159 { 
TAG_TD
, "background", 
ATTR_INLINE
 },

160 { 
TAG_TH
, "background", 
ATTR_INLINE
 }

166 c⁄° *
	gaddôi⁄Æ_©åibuãs
[] = {

176 
hash_èbÀ
 *
	göãª°ög_ègs
;

177 
hash_èbÀ
 *
	göãª°ög_©åibuãs
;

181 *
	gmëa_ch¨£t
;

184 
	$öô_öãª°ög
 ()

195 
size_t
 
i
;

196 
öãª°ög_ègs
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (
	`cou¡of
 (
known_ègs
));

200 
i
 = 0; i < 
	`cou¡of
 (
known_ègs
); i++)

201 
	`hash_èbÀ_put
 (
öãª°ög_ègs
, 
known_ègs
[
i
].
«me
, known_tags + i);

204 i‡(
›t
.
ign‹e_ègs
)

206 **
ign‹ed
;

207 
ign‹ed
 = 
›t
.
ign‹e_ègs
; *ignored; ignored++)

208 
	`hash_èbÀ_ªmove
 (
öãª°ög_ègs
, *
ign‹ed
);

212 i‡(
›t
.
fﬁlow_ègs
)

216 
hash_èbÀ
 *
öãr£˘
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (0);

217 **
fﬁlowed
;

218 
fﬁlowed
 = 
›t
.
fﬁlow_ègs
; *followed; followed++)

220 
known_èg
 *
t
 = 
	`hash_èbÀ_gë
 (
öãª°ög_ègs
, *
fﬁlowed
);

221 i‡(!
t
)

223 
	`hash_èbÀ_put
 (
öãr£˘
, *
fﬁlowed
, 
t
);

225 
	`hash_èbÀ_de°roy
 (
öãª°ög_ègs
);

226 
öãª°ög_ègs
 = 
öãr£˘
;

230 
öãª°ög_©åibuãs
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (10);

231 
i
 = 0; i < 
	`cou¡of
 (
addôi⁄Æ_©åibuãs
); i++)

232 
	`hash_èbÀ_put
 (
öãª°ög_©åibuãs
, 
addôi⁄Æ_©åibuãs
[
i
], "1");

233 
i
 = 0; i < 
	`cou¡of
 (
èg_uæ_©åibuãs
); i++)

234 
	`hash_èbÀ_put
 (
öãª°ög_©åibuãs
,

235 
èg_uæ_©åibuãs
[
i
].
©å_«me
, "1");

236 
	}
}

243 
	$föd_©å
 (
ègöfo
 *
èg
, c⁄° *
«me
, *
©åöd
)

245 
i
;

246 
i
 = 0; i < 
èg
->
«ârs
; i++)

247 i‡(!
	`°rˇ£cmp
 (
èg
->
©ås
[
i
].
«me
,Çame))

249 i‡(
©åöd
)

250 *
©åöd
 = 
i
;

251  
èg
->
©ås
[
i
].
vÆue
;

253  
NULL
;

254 
	}
}

257 
	#ATTR_POS
(
èg
, 
©åöd
, 
˘x
) \

258 (
èg
->
©ås
[
©åöd
].
vÆue_øw_begönög
 - 
˘x
->
ãxt
)

	)

259 
	#ATTR_SIZE
(
èg
, 
©åöd
) \

260 (
èg
->
©ås
[
©åöd
].
vÆue_øw_size
)

	)

267 
uæpos
 *

268 
	$≠≥nd_uæ
 (c⁄° *
lök_uri
, 
posôi⁄
, 
size
,

269 
m≠_c⁄ãxt
 *
˘x
)

271 
lök_has_scheme
 = 
	`uæ_has_scheme
 (
lök_uri
);

272 
uæpos
 *
√wñ
;

273 c⁄° *
ba£
 = 
˘x
->ba£ ? ctx->ba£ : ctx->
∑ª¡_ba£
;

274 
uæ
 *url;

276 i‡(!
ba£
)

278 
	`DEBUGP
 (("%s:Ço base, merge will use \"%s\".\n",

279 
˘x
->
documít_fûe
, 
lök_uri
));

281 i‡(!
lök_has_scheme
)

287 
	`log¥ötf
 (
LOG_NOTQUIET
,

288 
	`_
("%s: CannotÑesolve incompleteÜink %s.\n"),

289 
˘x
->
documít_fûe
, 
lök_uri
);

290  
NULL
;

293 
uæ
 = 
	`uæ_∑r£
 (
lök_uri
, 
NULL
, NULL, 
Ál£
);

294 i‡(!
uæ
)

296 
	`DEBUGP
 (("%s:Üink \"%s\" doesn'tÖarse.\n",

297 
˘x
->
documít_fûe
, 
lök_uri
));

298  
NULL
;

307 *
com∂ëe_uri
 = 
	`uri_mîge
 (
ba£
, 
lök_uri
);

309 
	`DEBUGP
 (("%s: merge(%s, %s) -> %s\n",

310 
	`quŸórg_n_°yÀ
 (0, 
esˇ≥_quŸög_°yÀ
, 
˘x
->
documít_fûe
),

311 
	`quŸe_n
 (1, 
ba£
),

312 
	`quŸe_n
 (2, 
lök_uri
),

313 
	`quŸórg_n_°yÀ
 (3, 
esˇ≥_quŸög_°yÀ
, 
com∂ëe_uri
)));

315 
uæ
 = 
	`uæ_∑r£
 (
com∂ëe_uri
, 
NULL
, NULL, 
Ál£
);

316 i‡(!
uæ
)

318 
	`DEBUGP
 (("%s: mergedÜink \"%s\" doesn'tÖarse.\n",

319 
˘x
->
documít_fûe
, 
com∂ëe_uri
));

320 
	`x‰ì
 (
com∂ëe_uri
);

321  
NULL
;

323 
	`x‰ì
 (
com∂ëe_uri
);

326 
	`DEBUGP
 (("≠≥ndög %†tÿuæpos.\n", 
	`quŸe
 (
uæ
->url)));

328 
√wñ
 = 
	`x√w0
 (
uæpos
);

329 
√wñ
->
uæ
 = url;

330 
√wñ
->
pos
 = 
posôi⁄
;

331 
√wñ
->
size
 = size;

335 i‡(!
lök_has_scheme
 && *
lök_uri
 != '/')

336 
√wñ
->
lök_ªœtive_p
 = 1;

337 i‡(
lök_has_scheme
)

338 
√wñ
->
lök_com∂ëe_p
 = 1;

341 i‡(
˘x
->
hód
 =
NULL
)

342 
˘x
->
hód
 = 
√wñ
;

345 
uæpos
 *
ô
, *
¥ev
 = 
NULL
;

347 
ô
 = 
˘x
->
hód
;

348 
ô
 && 
posôi⁄
 > it->
pos
)

350 
¥ev
 = 
ô
;

351 
ô
 = it->
√xt
;

354 
√wñ
->
√xt
 = 
ô
;

356 i‡(
¥ev
)

357 
¥ev
->
√xt
 = 
√wñ
;

359 
˘x
->
hód
 = 
√wñ
;

362  
√wñ
;

363 
	}
}

366 
	$check_°yÀ_©å
 (
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

368 
©åöd
;

369 
øw_°¨t
;

370 
øw_Àn
;

371 *
°yÀ
 = 
	`föd_©å
 (
èg
, "°yÀ", &
©åöd
);

372 i‡(!
°yÀ
)

377 
øw_°¨t
 = 
	`ATTR_POS
 (
èg
, 
©åöd
, 
˘x
);

378 
øw_Àn
 = 
	`ATTR_SIZE
 (
èg
, 
©åöd
);

379 if–*(*)(
˘x
->
ãxt
 + 
øw_°¨t
) == '\''

380 || *(*)(
˘x
->
ãxt
 + 
øw_°¨t
) == '"')

382 
øw_°¨t
 += 1;

383 
øw_Àn
 -= 2;

386 if(
øw_Àn
 <= 0)

389 
	`gë_uæs_css
 (
˘x
, 
øw_°¨t
, 
øw_Àn
);

390 
	}
}

399 
	$èg_föd_uæs
 (
ègid
, 
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

401 
size_t
 
i
;

402 
©åöd
;

403 
fú°
 = -1;

405 
i
 = 0; i < 
	`cou¡of
 (
èg_uæ_©åibuãs
); i++)

406 i‡(
èg_uæ_©åibuãs
[
i
].
ègid
 ==Åagid)

410 
fú°
 = 
i
;

413 
	`as£π
 (
fú°
 != -1);

424 
©åöd
 = 0;áâröd < 
èg
->
«ârs
;áttrind++)

428 *
lök
 = 
èg
->
©ås
[
©åöd
].
vÆue
;

429 c⁄° 
size_t
 
size
 = 
	`cou¡of
 (
èg_uæ_©åibuãs
);

435 
i
 = 
fú°
; i < 
size
 && 
èg_uæ_©åibuãs
[i].
ègid
 ==Åagid; i++)

437 i‡(0 =
	`°rˇ£cmp
 (
èg
->
©ås
[
©åöd
].
«me
,

438 
èg_uæ_©åibuãs
[
i
].
©å_«me
))

440 
uæpos
 *
up
 = 
	`≠≥nd_uæ
 (
lök
, 
	`ATTR_POS
(
èg
,
©åöd
,
˘x
),

441 
	`ATTR_SIZE
(
èg
,
©åöd
), 
˘x
);

442 i‡(
up
)

444 
Êags
 = 
èg_uæ_©åibuãs
[
i
].flags;

445 i‡(
Êags
 & 
ATTR_INLINE
)

446 
up
->
lök_ölöe_p
 = 1;

447 i‡(
Êags
 & 
ATTR_HTML
)

448 
up
->
lök_ex≥˘_html
 = 1;

453 
	}
}

458 
	$èg_h™dÀ_ba£
 (
ègid
, 
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

460 
uæpos
 *
ba£_uæpos
;

461 
©åöd
;

462 *
√wba£
 = 
	`föd_©å
 (
èg
, "hªf", &
©åöd
);

463 i‡(!
√wba£
)

466 
ba£_uæpos
 = 
	`≠≥nd_uæ
 (
√wba£
, 
	`ATTR_POS
(
èg
,
©åöd
,
˘x
),

467 
	`ATTR_SIZE
(
èg
,
©åöd
), 
˘x
);

468 i‡(!
ba£_uæpos
)

470 
ba£_uæpos
->
ign‹e_whí_dow∆ﬂdög
 = 1;

471 
ba£_uæpos
->
lök_ba£_p
 = 1;

473 i‡(
˘x
->
ba£
)

474 
	`x‰ì
 (
˘x
->
ba£
);

475 i‡(
˘x
->
∑ª¡_ba£
)

476 
˘x
->
ba£
 = 
	`uri_mîge
 (˘x->
∑ª¡_ba£
, 
√wba£
);

478 
˘x
->
ba£
 = 
	`x°rdup
 (
√wba£
);

479 
	}
}

484 
	$èg_h™dÀ_f‹m
 (
ègid
, 
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

486 
©åöd
;

487 *
a˘i⁄
 = 
	`föd_©å
 (
èg
, "a˘i⁄", &
©åöd
);

489 i‡(
a˘i⁄
)

491 
uæpos
 *
up
 = 
	`≠≥nd_uæ
 (
a˘i⁄
, 
	`ATTR_POS
(
èg
,
©åöd
,
˘x
),

492 
	`ATTR_SIZE
(
èg
,
©åöd
), 
˘x
);

493 i‡(
up
)

494 
up
->
ign‹e_whí_dow∆ﬂdög
 = 1;

496 
	}
}

502 
	$èg_h™dÀ_lök
 (
ègid
, 
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

504 
©åöd
;

505 *
hªf
 = 
	`föd_©å
 (
èg
, "hªf", &
©åöd
);

513 i‡(
hªf
)

515 
uæpos
 *
up
 = 
	`≠≥nd_uæ
 (
hªf
, 
	`ATTR_POS
(
èg
,
©åöd
,
˘x
),

516 
	`ATTR_SIZE
(
èg
,
©åöd
), 
˘x
);

517 i‡(
up
)

519 *
ªl
 = 
	`föd_©å
 (
èg
, "ªl", 
NULL
);

520 i‡(
ªl
)

522 i‡(0 =
	`°rˇ£cmp
 (
ªl
, "stylesheet"))

524 
up
->
lök_ölöe_p
 = 1;

525 
up
->
lök_ex≥˘_css
 = 1;

527 i‡(0 =
	`°rˇ£cmp
 (
ªl
, "shortcut icon"))

529 
up
->
lök_ölöe_p
 = 1;

538 *
ty≥
 = 
	`föd_©å
 (
èg
, "ty≥", 
NULL
);

539 i‡(!
ty≥
 || 
	`°rˇ£cmp
 (type, "text/html") == 0)

540 
up
->
lök_ex≥˘_html
 = 1;

545 
	}
}

551 
	$èg_h™dÀ_mëa
 (
ègid
, 
ègöfo
 *
èg
, 
m≠_c⁄ãxt
 *
˘x
)

553 *
«me
 = 
	`föd_©å
 (
èg
, "«me", 
NULL
);

554 *
hâp_equiv
 = 
	`föd_©å
 (
èg
, "hâp-equiv", 
NULL
);

556 i‡(
hâp_equiv
 && 0 =
	`°rˇ£cmp
 (http_equiv, "refresh"))

567 
uæpos
 *
íåy
;

568 
©åöd
;

569 
timeout
 = 0;

570 *
p
;

572 *
ª‰esh
 = 
	`föd_©å
 (
èg
, "c⁄ã¡", &
©åöd
);

573 i‡(!
ª‰esh
)

576 
p
 = 
ª‰esh
; 
	`c_isdigô
 (*p);Ö++)

577 
timeout
 = 10 *Åimeouà+ *
p
 - '0';

578 i‡(*
p
++ != ';')

581 
	`c_is•a˚
 (*
p
))

582 ++
p
;

583 i‡(!–
	`c_touµî
 (*
p
) == 'U'

584 && 
	`c_touµî
 (*(
p
 + 1)) == 'R'

585 && 
	`c_touµî
 (*(
p
 + 2)) == 'L'

586 && *(
p
 + 3) == '='))

588 
p
 += 4;

589 
	`c_is•a˚
 (*
p
))

590 ++
p
;

592 
íåy
 = 
	`≠≥nd_uæ
 (
p
, 
	`ATTR_POS
(
èg
,
©åöd
,
˘x
),

593 
	`ATTR_SIZE
(
èg
,
©åöd
), 
˘x
);

594 i‡(
íåy
)

596 
íåy
->
lök_ª‰esh_p
 = 1;

597 
íåy
->
ª‰esh_timeout
 = 
timeout
;

598 
íåy
->
lök_ex≥˘_html
 = 1;

601 i‡(
hâp_equiv
 && 0 =
	`°rˇ£cmp
 (http_equiv, "content-type"))

606 *
mch¨£t
;

607 *
c⁄ã¡
 = 
	`föd_©å
 (
èg
, "c⁄ã¡", 
NULL
);

608 i‡(!
c⁄ã¡
)

611 
mch¨£t
 = 
	`∑r£_ch¨£t
 (
c⁄ã¡
);

612 i‡(!
mch¨£t
)

615 
	`x‰ì_nuŒ
 (
mëa_ch¨£t
);

616 
mëa_ch¨£t
 = 
mch¨£t
;

618 i‡(
«me
 && 0 =
	`°rˇ£cmp
 (name, "robots"))

622 *
c⁄ã¡
 = 
	`föd_©å
 (
èg
, "c⁄ã¡", 
NULL
);

623 i‡(!
c⁄ã¡
)

625 i‡(!
	`°rˇ£cmp
 (
c⁄ã¡
, "none"))

626 
˘x
->
nofﬁlow
 = 
åue
;

629 *
c⁄ã¡
)

631 *
íd
;

633 
c⁄ã¡
 +
	`°r•n
 (content, " \f\n\r\t\v");

636 
íd
 = 
c⁄ã¡
 + 
	`°rc•n
 (content, ", \f\n\r\t\v");

637 i‡(!
	`°∫ˇ£cmp
 (
c⁄ã¡
, "nofﬁlow", 
íd
 - content))

638 
˘x
->
nofﬁlow
 = 
åue
;

640 i‡(*
íd
 == ',')

641 ++
íd
;

644 
íd
 = 
	`°rchr
 (end, ',');

645 i‡(
íd
)

646 ++
íd
;

648 
íd
 = 
c⁄ã¡
 + 
	`°æí
 (content);

650 
c⁄ã¡
 = 
íd
;

654 
	}
}

660 
	$cﬁÀ˘_ègs_m≠≥r
 (
ègöfo
 *
èg
, *
¨g
)

662 
m≠_c⁄ãxt
 *
˘x
 = (m≠_c⁄ãxà*)
¨g
;

671 
known_èg
 *
t
 = 
	`hash_èbÀ_gë
 (
öãª°ög_ègs
, 
èg
->
«me
);

673 i‡(
t
 !
NULL
)

674 
t
->
	`h™dÀr
 (t->
ègid
, 
èg
, 
˘x
);

676 
	`check_°yÀ_©å
 (
èg
, 
˘x
);

678 i‡(
èg
->
íd_èg_p
 && (0 =
	`°rˇ£cmp
 (èg->
«me
, "style")) &&

679 
èg
->
c⁄ã¡s_begö
 &&Åag->
c⁄ã¡s_íd
)

682 
	`gë_uæs_css
 (
˘x
, 
èg
->
c⁄ã¡s_begö
 - ctx->
ãxt
,

683 
èg
->
c⁄ã¡s_íd
 -Åag->
c⁄ã¡s_begö
);

685 
	}
}

691 
uæpos
 *

692 
	$gë_uæs_html
 (c⁄° *
fûe
, c⁄° *
uæ
, 
boﬁ
 *
mëa_dißŒow_fﬁlow
,

693 
úi
 *iri)

695 
fûe_mem‹y
 *
fm
;

696 
m≠_c⁄ãxt
 
˘x
;

697 
Êags
;

700 
fm
 = 
	`wgë_ªad_fûe
 (
fûe
);

701 i‡(!
fm
)

703 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

704  
NULL
;

706 
	`DEBUGP
 (("Lﬂded %†(sizê%s).\n", 
fûe
, 
	`numbî_to_°©ic_°rög
 (
fm
->
Àngth
)));

708 
˘x
.
ãxt
 = 
fm
->
c⁄ã¡
;

709 
˘x
.
hód
 = 
NULL
;

710 
˘x
.
ba£
 = 
NULL
;

711 
˘x
.
∑ª¡_ba£
 = 
uæ
 ? uæ : 
›t
.
ba£_hªf
;

712 
˘x
.
documít_fûe
 = 
fûe
;

713 
˘x
.
nofﬁlow
 = 
Ál£
;

715 i‡(!
öãª°ög_ègs
)

716 
	`öô_öãª°ög
 ();

725 
Êags
 = 
MHT_TRIM_VALUES
;

726 i‡(
›t
.
°ri˘_commíts
)

727 
Êags
 |
MHT_STRICT_COMMENTS
;

730 
	`m≠_html_ègs
 (
fm
->
c⁄ã¡
, fm->
Àngth
, 
cﬁÀ˘_ègs_m≠≥r
, &
˘x
, 
Êags
,

731 
NULL
, 
öãª°ög_©åibuãs
);

734 i‡(
úi
 && 
mëa_ch¨£t
)

735 
	`£t_c⁄ã¡_ícodög
 (
úi
, 
mëa_ch¨£t
);

737 
	`DEBUGP
 (("no-fﬁlow i¿%s: %d\n", 
fûe
, 
˘x
.
nofﬁlow
));

738 i‡(
mëa_dißŒow_fﬁlow
)

739 *
mëa_dißŒow_fﬁlow
 = 
˘x
.
nofﬁlow
;

741 
	`x‰ì_nuŒ
 (
˘x
.
ba£
);

742 
	`wgë_ªad_fûe_‰ì
 (
fm
);

743  
˘x
.
hód
;

744 
	}
}

749 
uæpos
 *

750 
	$gë_uæs_fûe
 (c⁄° *
fûe
)

752 
fûe_mem‹y
 *
fm
;

753 
uæpos
 *
hód
, *
èû
;

754 c⁄° *
ãxt
, *
ãxt_íd
;

757 
fm
 = 
	`wgë_ªad_fûe
 (
fûe
);

758 i‡(!
fm
)

760 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

761  
NULL
;

763 
	`DEBUGP
 (("Lﬂded %†(sizê%s).\n", 
fûe
, 
	`numbî_to_°©ic_°rög
 (
fm
->
Àngth
)));

765 
hód
 = 
èû
 = 
NULL
;

766 
ãxt
 = 
fm
->
c⁄ã¡
;

767 
ãxt_íd
 = 
fm
->
c⁄ã¡
 + fm->
Àngth
;

768 
ãxt
 < 
ãxt_íd
)

770 
up_îr‹_code
;

771 *
uæ_ãxt
;

772 
uæpos
 *
íåy
;

773 
uæ
 *url;

775 c⁄° *
löe_beg
 = 
ãxt
;

776 c⁄° *
löe_íd
 = 
	`memchr
 (
ãxt
, '\n', 
ãxt_íd
 -Åext);

777 i‡(!
löe_íd
)

778 
löe_íd
 = 
ãxt_íd
;

780 ++
löe_íd
;

781 
ãxt
 = 
löe_íd
;

784 
löe_beg
 < 
löe_íd
 && 
	`c_is•a˚
 (*line_beg))

785 ++
löe_beg
;

786 
löe_íd
 > 
löe_beg
 && 
	`c_is•a˚
 (*(line_end - 1)))

787 --
löe_íd
;

789 i‡(
löe_beg
 =
löe_íd
)

796 
uæ_ãxt
 = 
	`°rdupdñim
 (
löe_beg
, 
löe_íd
);

798 i‡(
›t
.
ba£_hªf
)

801 *
mîged
 = 
	`uri_mîge
 (
›t
.
ba£_hªf
, 
uæ_ãxt
);

802 
	`x‰ì
 (
uæ_ãxt
);

803 
uæ_ãxt
 = 
mîged
;

806 
uæ
 = 
	`uæ_∑r£
 (
uæ_ãxt
, &
up_îr‹_code
, 
NULL
, 
Ál£
);

807 i‡(!
uæ
)

809 *
îr‹
 = 
	`uæ_îr‹
 (
uæ_ãxt
, 
up_îr‹_code
);

810 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: Invalid URL %s: %s\n"),

811 
fûe
, 
uæ_ãxt
, 
îr‹
);

812 
	`x‰ì
 (
uæ_ãxt
);

813 
	`x‰ì
 (
îr‹
);

814 
	`öf‹m_exô_°©us
 (
URLERROR
);

817 
	`x‰ì
 (
uæ_ãxt
);

819 
íåy
 = 
	`x√w0
 (
uæpos
);

820 
íåy
->
uæ
 = url;

822 i‡(!
hód
)

823 
hód
 = 
íåy
;

825 
èû
->
√xt
 = 
íåy
;

826 
èû
 = 
íåy
;

828 
	`wgë_ªad_fûe_‰ì
 (
fm
);

829  
hód
;

830 
	}
}

833 
	$˛ónup_html_uæ
 ()

837 i‡(
öãª°ög_ègs
)

838 
	`hash_èbÀ_de°roy
 (
öãª°ög_ègs
);

839 i‡(
öãª°ög_©åibuãs
)

840 
	`hash_èbÀ_de°roy
 (
öãª°ög_©åibuãs
);

841 
	}
}

	@src/html-url.h

31 #i‚de‡
HTML_URL_H


32 
	#HTML_URL_H


	)

34 
	sm≠_c⁄ãxt
 {

35 *
	mãxt
;

36 *
	mba£
;

38 c⁄° *
	m∑ª¡_ba£
;

39 c⁄° *
	mdocumít_fûe
;

40 
boﬁ
 
	mnofﬁlow
;

43 
uæpos
 *
	mhód
;

46 
uæpos
 *
gë_uæs_fûe
 (const *);

47 
uæpos
 *
gë_uæs_html
 (c⁄° *, c⁄° *, 
boﬁ
 *, 
úi
 *);

48 
uæpos
 *
≠≥nd_uæ
 (c⁄° *, , , 
m≠_c⁄ãxt
 *);

49 
‰ì_uæpos
 (
uæpos
 *);

	@src/http-ntlm.c

32 
	~"wgë.h
"

41 
	~<°dio.h
>

42 
	~<°rög.h
>

43 
	~<°dlib.h
>

45 
	~<›ís¶/des.h
>

46 
	~<›ís¶/md4.h
>

47 
	~<›ís¶/›ís¶v.h
>

49 
	~"utûs.h
"

50 
	~"hâp-¡lm.h
"

52 #i‡
OPENSSL_VERSION_NUMBER
 < 0x00907001L

53 
	#DES_key_scheduÀ
 
des_key_scheduÀ


	)

54 
	#DES_cblock
 
des_cblock


	)

55 
	#DES_£t_odd_∑rôy
 
des_£t_odd_∑rôy


	)

56 
	#DES_£t_key
 
des_£t_key


	)

57 
	#DES_ecb_í¸y±
 
des_ecb_í¸y±


	)

60 
	#DESKEY
(
x
Ë
	)
x

61 
	#DESKEYARG
(
x
Ë
	)
x

64 
	#DESKEYARG
(
x
Ë*
	)
x

65 
	#DESKEY
(
x
Ë&
	)
x

69 
	#USE_NTRESPONSES
 1

	)

74 
	#NTLMFLAG_NEGOTIATE_UNICODE
 (1<<0)

	)

75 
	#NTLMFLAG_NEGOTIATE_OEM
 (1<<1)

	)

76 
	#NTLMFLAG_REQUEST_TARGET
 (1<<2)

	)

78 
	#NTLMFLAG_NEGOTIATE_SIGN
 (1<<4)

	)

79 
	#NTLMFLAG_NEGOTIATE_SEAL
 (1<<5)

	)

80 
	#NTLMFLAG_NEGOTIATE_DATAGRAM_STYLE
 (1<<6)

	)

81 
	#NTLMFLAG_NEGOTIATE_LM_KEY
 (1<<7)

	)

82 
	#NTLMFLAG_NEGOTIATE_NETWARE
 (1<<8)

	)

83 
	#NTLMFLAG_NEGOTIATE_NTLM_KEY
 (1<<9)

	)

86 
	#NTLMFLAG_NEGOTIATE_DOMAIN_SUPPLIED
 (1<<12)

	)

87 
	#NTLMFLAG_NEGOTIATE_WORKSTATION_SUPPLIED
 (1<<13)

	)

88 
	#NTLMFLAG_NEGOTIATE_LOCAL_CALL
 (1<<14)

	)

89 
	#NTLMFLAG_NEGOTIATE_ALWAYS_SIGN
 (1<<15)

	)

90 
	#NTLMFLAG_TARGET_TYPE_DOMAIN
 (1<<16)

	)

91 
	#NTLMFLAG_TARGET_TYPE_SERVER
 (1<<17)

	)

92 
	#NTLMFLAG_TARGET_TYPE_SHARE
 (1<<18)

	)

93 
	#NTLMFLAG_NEGOTIATE_NTLM2_KEY
 (1<<19)

	)

94 
	#NTLMFLAG_REQUEST_INIT_RESPONSE
 (1<<20)

	)

95 
	#NTLMFLAG_REQUEST_ACCEPT_RESPONSE
 (1<<21)

	)

96 
	#NTLMFLAG_REQUEST_NONNT_SESSION_KEY
 (1<<22)

	)

97 
	#NTLMFLAG_NEGOTIATE_TARGET_INFO
 (1<<23)

	)

103 
	#NTLMFLAG_NEGOTIATE_128
 (1<<29)

	)

104 
	#NTLMFLAG_NEGOTIATE_KEY_EXCHANGE
 (1<<30)

	)

105 
	#NTLMFLAG_NEGOTIATE_56
 (1<<31)

	)

118 
boﬁ


119 
	$¡lm_öput
 (
¡lmd©a
 *
¡lm
, c⁄° *
hódî
)

121 i‡(0 !
	`°∫cmp
 (
hódî
, "NTLM", 4))

122  
Ál£
;

124 
hódî
 += 4;

125 *
hódî
 && 
	`c_is•a˚
(*header))

126 
hódî
++;

128 i‡(*
hódî
)

143 
size
;

144 *
buf„r
 = (*Ë
	`Æloˇ
 (
	`°æí
 (
hódî
));

146 
	`DEBUGP
 (("ReceivedáÅype-2 NTLM message.\n"));

148 
size
 = 
	`ba£64_decode
 (
hódî
, 
buf„r
);

149 i‡(
size
 < 0)

150  
Ál£
;

152 
¡lm
->
°©e
 = 
NTLMSTATE_TYPE2
;

154 i‡(
size
 >= 48)

156 
	`mem˝y
 (
¡lm
->
n⁄˚
, &
buf„r
[24], 8);

162 i‡(
¡lm
->
°©e
 >
NTLMSTATE_TYPE1
)

164 
	`DEBUGP
 (("UnexpectedÉmpty NTLM message.\n"));

165  
Ál£
;

168 
	`DEBUGP
 (("Empty NTLM message, startingÅransaction.\n"));

169 
¡lm
->
°©e
 = 
NTLMSTATE_TYPE1
;

172  
åue
;

173 
	}
}

180 
£tup_des_key
(*
key_56
,

181 
DES_key_scheduÀ
 
	$DESKEYARG
(
ks
))

183 
DES_cblock
 
key
;

185 
key
[0] = 
key_56
[0];

186 
key
[1] = ((
key_56
[0] << 7) & 0xFF) | (key_56[1] >> 1);

187 
key
[2] = ((
key_56
[1] << 6) & 0xFF) | (key_56[2] >> 2);

188 
key
[3] = ((
key_56
[2] << 5) & 0xFF) | (key_56[3] >> 3);

189 
key
[4] = ((
key_56
[3] << 4) & 0xFF) | (key_56[4] >> 4);

190 
key
[5] = ((
key_56
[4] << 3) & 0xFF) | (key_56[5] >> 5);

191 
key
[6] = ((
key_56
[5] << 2) & 0xFF) | (key_56[6] >> 6);

192 
key
[7] = (
key_56
[6] << 1) & 0xFF;

194 
	`DES_£t_odd_∑rôy
(&
key
);

195 
	`DES_£t_key
(&
key
, 
ks
);

196 
	}
}

204 
	$ˇlc_ª•
(*
keys
, *
∂aöãxt
, *
ªsu…s
)

206 
DES_key_scheduÀ
 
ks
;

208 
	`£tup_des_key
(
keys
, 
	`DESKEY
(
ks
));

209 
	`DES_ecb_í¸y±
((
DES_cblock
*Ë
∂aöãxt
, (DES_cblock*Ë
ªsu…s
,

210 
	`DESKEY
(
ks
), 
DES_ENCRYPT
);

212 
	`£tup_des_key
(
keys
+7, 
	`DESKEY
(
ks
));

213 
	`DES_ecb_í¸y±
((
DES_cblock
*Ë
∂aöãxt
, (DES_cblock*Ë(
ªsu…s
+8),

214 
	`DESKEY
(
ks
), 
DES_ENCRYPT
);

216 
	`£tup_des_key
(
keys
+14, 
	`DESKEY
(
ks
));

217 
	`DES_ecb_í¸y±
((
DES_cblock
*Ë
∂aöãxt
, (DES_cblock*Ë(
ªsu…s
+16),

218 
	`DESKEY
(
ks
), 
DES_ENCRYPT
);

219 
	}
}

225 
mkhash
(c⁄° *
∑ssw‹d
,

226 *
n⁄˚
,

227 *
lmª•


228 #ifde‡
USE_NTRESPONSES


229 , *
¡ª•


233 
	glmbuf„r
[21];

234 #ifde‡
USE_NTRESPONSES


235 
	g¡buf„r
[21];

237 *
	gpw
;

238 c⁄° 
	gmagic
[] = {

241 
	gi
;

242 
	gÀn
 = 
°æí
(
∑ssw‹d
);

245 
	gpw
 = (*Ë
Æloˇ
 (
Àn
 < 7 ? 14 :Üen * 2);

247 i‡(
	gÀn
 > 14)

248 
	gÀn
 = 14;

250 
	gi
=0; i<
	gÀn
; i++)

251 
	gpw
[
i
] = 
c_touµî
 (
∑ssw‹d
[i]);

253 ; 
	gi
<14; i++)

254 
	gpw
[
i
] = 0;

258 
DES_key_scheduÀ
 
	gks
;

260 
£tup_des_key
(
pw
, 
DESKEY
(
ks
));

261 
DES_ecb_í¸y±
((
DES_cblock
 *)
magic
, (DES_cblock *)
lmbuf„r
,

262 
DESKEY
(
ks
), 
DES_ENCRYPT
);

264 
£tup_des_key
(
pw
+7, 
DESKEY
(
ks
));

265 
DES_ecb_í¸y±
((
DES_cblock
 *)
magic
, (DES_cblock *)(
lmbuf„r
+8),

266 
DESKEY
(
ks
), 
DES_ENCRYPT
);

268 
mem£t
(
lmbuf„r
+16, 0, 5);

271 
ˇlc_ª•
(
lmbuf„r
, 
n⁄˚
, 
lmª•
);

273 #ifde‡
USE_NTRESPONSES


276 
MD4_CTX
 
	gMD4
;

278 
	gÀn
 = 
°æí
(
∑ssw‹d
);

280 
	gi
=0; i<
	gÀn
; i++) {

281 
	gpw
[2*
i
] = 
∑ssw‹d
[i];

282 
	gpw
[2*
i
+1] = 0;

285 
MD4_Inô
(&
MD4
);

286 
MD4_Upd©e
(&
MD4
, 
pw
, 2*
Àn
);

287 
MD4_FöÆ
(
¡buf„r
, &
MD4
);

289 
mem£t
(
¡buf„r
+16, 0, 5);

292 
ˇlc_ª•
(
¡buf„r
, 
n⁄˚
, 
¡ª•
);

296 
	#SHORTPAIR
(
x
Ë((xË& 0xff), ((xË>> 8)

	)

297 
	#LONGQUARTET
(
x
) ((x) & 0xff), (((x) >> 8)&0xff), \

298 (((
x
Ë>>16)&0xff), ((x)>>24)

	)

302 
	$¡lm_ouçut
 (
¡lmd©a
 *
¡lm
, c⁄° *
u£r
, c⁄° *
∑sswd
,

303 
boﬁ
 *
ªady
)

305 c⁄° *
domaö
="";

306 c⁄° *
ho°
="";

307 
domÀn
=
	`°æí
(
domaö
);

308 
ho°Àn
 = 
	`°æí
(
ho°
);

309 
ho°off
;

310 
domoff
;

311 
size
;

312 *
ba£64
;

313 
¡lmbuf
[256];

317 *
ouçut
;

319 *
ªady
 = 
Ál£
;

322 if(!
u£r
)

323 
u£r
="";

325 if(!
∑sswd
)

326 
∑sswd
="";

328 
¡lm
->
°©e
) {

329 
NTLMSTATE_TYPE1
:

331 
ho°off
 = 32;

332 
domoff
 = 
ho°off
 + 
ho°Àn
;

334 
	`DEBUGP
 (("CreatingáÅype-1 NTLM message.\n"));

349 
	`¢¥ötf
 (
¡lmbuf
, (ntlmbuf), "NTLMSSP%c"

365 
	`LONGQUARTET
(

366 
NTLMFLAG_NEGOTIATE_OEM
|

367 
NTLMFLAG_NEGOTIATE_NTLM_KEY


370 
	`SHORTPAIR
(
domÀn
),

371 
	`SHORTPAIR
(
domÀn
),

372 
	`SHORTPAIR
(
domoff
),

374 
	`SHORTPAIR
(
ho°Àn
),

375 
	`SHORTPAIR
(
ho°Àn
),

376 
	`SHORTPAIR
(
ho°off
),

378 
ho°
, 
domaö
);

381 
size
 = 32 + 
ho°Àn
 + 
domÀn
;

383 
ba£64
 = (*Ë
	`Æloˇ
 (
	`BASE64_LENGTH
 (
size
) + 1);

384 
	`ba£64_ícode
 (
¡lmbuf
, 
size
, 
ba£64
);

386 
ouçut
 = 
	`c⁄ˇt_°rögs
 ("NTLM ", 
ba£64
, (*) 0);

389 
NTLMSTATE_TYPE2
:

408 
lmª•off
;

409 
¡ª•off
;

410 
u£roff
;

411 
lmª•
[0x18];

412 #ifde‡
USE_NTRESPONSES


413 
¡ª•
[0x18];

415 c⁄° *
u§
;

416 
u£æí
;

418 
	`DEBUGP
 (("CreatingáÅype-3 NTLM message.\n"));

420 
u§
 = 
	`°rchr
(
u£r
, '\\');

421 if(!
u§
)

422 
u§
 = 
	`°rchr
(
u£r
, '/');

424 i‡(
u§
) {

425 
domaö
 = 
u£r
;

426 
domÀn
 = 
u§
 - 
domaö
;

427 
u§
++;

430 
u§
 = 
u£r
;

431 
u£æí
 = 
	`°æí
(
u§
);

433 
	`mkhash
(
∑sswd
, &
¡lm
->
n⁄˚
[0], 
lmª•


434 #ifde‡
USE_NTRESPONSES


435 , 
¡ª•


439 
domoff
 = 64;

440 
u£roff
 = 
domoff
 + 
domÀn
;

441 
ho°off
 = 
u£roff
 + 
u£æí
;

442 
lmª•off
 = 
ho°off
 + 
ho°Àn
;

443 
¡ª•off
 = 
lmª•off
 + 0x18;

447 
size
 = 
	`¢¥ötf
 (
¡lmbuf
, (ntlmbuf),

490 
	`SHORTPAIR
(0x18),

491 
	`SHORTPAIR
(0x18),

492 
	`SHORTPAIR
(
lmª•off
),

495 #ifde‡
USE_NTRESPONSES


496 
	`SHORTPAIR
(0x18),

497 
	`SHORTPAIR
(0x18),

502 
	`SHORTPAIR
(
¡ª•off
),

505 
	`SHORTPAIR
(
domÀn
),

506 
	`SHORTPAIR
(
domÀn
),

507 
	`SHORTPAIR
(
domoff
),

510 
	`SHORTPAIR
(
u£æí
),

511 
	`SHORTPAIR
(
u£æí
),

512 
	`SHORTPAIR
(
u£roff
),

515 
	`SHORTPAIR
(
ho°Àn
),

516 
	`SHORTPAIR
(
ho°Àn
),

517 
	`SHORTPAIR
(
ho°off
),

525 
size
=64;

526 
¡lmbuf
[62]=ntlmbuf[63]=0;

530 if(((
size_t
Ë
size
 + 
u£æí
 + 
domÀn
Ë>(
¡lmbuf
))

531  
NULL
;

533 
	`mem˝y
(&
¡lmbuf
[
size
], 
domaö
, 
domÀn
);

534 
size
 +
domÀn
;

536 
	`mem˝y
(&
¡lmbuf
[
size
], 
u§
, 
u£æí
);

537 
size
 +
u£æí
;

540 if(
size
 < (()(
¡lmbuf
) - 0x18)) {

541 
	`mem˝y
(&
¡lmbuf
[
size
], 
lmª•
, 0x18);

542 
size
 += 0x18;

545 #ifde‡
USE_NTRESPONSES


546 if(
size
 < (()(
¡lmbuf
) - 0x18)) {

547 
	`mem˝y
(&
¡lmbuf
[
size
], 
¡ª•
, 0x18);

548 
size
 += 0x18;

552 
¡lmbuf
[56] = 
size
 & 0xff;

553 
¡lmbuf
[57] = 
size
 >> 8;

556 
ba£64
 = (*Ë
	`Æloˇ
 (
	`BASE64_LENGTH
 (
size
) + 1);

557 
	`ba£64_ícode
 (
¡lmbuf
, 
size
, 
ba£64
);

559 
ouçut
 = 
	`c⁄ˇt_°rögs
 ("NTLM ", 
ba£64
, (*) 0);

561 
¡lm
->
°©e
 = 
NTLMSTATE_TYPE3
;

562 *
ªady
 = 
åue
;

566 
NTLMSTATE_TYPE3
:

569 *
ªady
 = 
åue
;

570 
ouçut
 = 
NULL
;

574  
ouçut
;

575 
	}
}

	@src/http-ntlm.h

1 #i‚de‡
__HTTP_NTLM_H


2 
	#__HTTP_NTLM_H


	)

35 
	mNTLMSTATE_NONE
,

36 
	mNTLMSTATE_TYPE1
,

37 
	mNTLMSTATE_TYPE2
,

38 
	mNTLMSTATE_TYPE3
,

39 
	mNTLMSTATE_LAST


40 } 
	twgë¡lm
;

43 
	s¡lmd©a
 {

44 
wgë¡lm
 
	m°©e
;

45 
	mn⁄˚
[8];

49 
boﬁ
 
¡lm_öput
 (
¡lmd©a
 *, const *);

52 *
¡lm_ouçut
 (
¡lmd©a
 *, c⁄° *, c⁄° *, 
boﬁ
 *);

	@src/http.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<uni°d.h
>

38 
	~<as£π.h
>

39 
	~<î∫o.h
>

40 
	~<time.h
>

41 
	~<loˇÀ.h
>

43 
	~"hash.h
"

44 
	~"hâp.h
"

45 
	~"utûs.h
"

46 
	~"uæ.h
"

47 
	~"ho°.h
"

48 
	~"ªå.h
"

49 
	~"c⁄√˘.h
"

50 
	~"√åc.h
"

51 #ifde‡
HAVE_SSL


52 
	~"s¶.h
"

54 #ifde‡
ENABLE_NTLM


55 
	~"hâp-¡lm.h
"

57 
	~"cookõs.h
"

58 
	~"md5.h
"

59 
	~"c⁄vît.h
"

60 
	~"•idî.h
"

62 #ifde‡
TESTING


63 
	~"ã°.h
"

66 #ifde‡
__VMS


67 
	~"vms.h
"

70 *
vîsi⁄_°rög
;

73 
	ghâp_°©
;

74 *
¸óã_auth‹iz©i⁄_löe
 (const *, const *,

76 c⁄° *, 
boﬁ
 *);

77 *
basic_authítiˇti⁄_ícode
 (const *, const *);

78 
boﬁ
 
known_authítiˇti⁄_scheme_p
 (const *, const *);

79 
ísuª_exãnsi⁄
 (
hâp_°©
 *, const *, *);

80 
lﬂd_cookõs
 ();

82 #i‚de‡
MIN


83 
	#MIN
(
x
, 
y
Ë((xË> (yË? (yË: (x))

	)

87 
boﬁ
 
	gcookõs_lﬂded_p
;

88 
cookõ_j¨
 *
	gwgë_cookõ_j¨
;

90 
	#TEXTHTML_S
 "ãxt/html"

	)

91 
	#TEXTXHTML_S
 "≠∂iˇti⁄/xhtml+xml"

	)

92 
	#TEXTCSS_S
 "ãxt/css"

	)

95 
	#H_10X
(
x
Ë(((xË>100Ë&& ((xË< 200))

	)

96 
	#H_20X
(
x
Ë(((xË>200Ë&& ((xË< 300))

	)

97 
	#H_PARTIAL
(
x
Ë((xË=
HTTP_STATUS_PARTIAL_CONTENTS
)

	)

98 
	#H_REDIRECTED
(
x
Ë((xË=
HTTP_STATUS_MOVED_PERMANENTLY
 \

99 || (
x
Ë=
HTTP_STATUS_MOVED_TEMPORARILY
 \

100 || (
x
Ë=
HTTP_STATUS_SEE_OTHER
 \

101 || (
x
Ë=
HTTP_STATUS_TEMPORARY_REDIRECT
)

	)

105 
	#HTTP_STATUS_OK
 200

	)

106 
	#HTTP_STATUS_CREATED
 201

	)

107 
	#HTTP_STATUS_ACCEPTED
 202

	)

108 
	#HTTP_STATUS_NO_CONTENT
 204

	)

109 
	#HTTP_STATUS_PARTIAL_CONTENTS
 206

	)

112 
	#HTTP_STATUS_MULTIPLE_CHOICES
 300

	)

113 
	#HTTP_STATUS_MOVED_PERMANENTLY
 301

	)

114 
	#HTTP_STATUS_MOVED_TEMPORARILY
 302

	)

115 
	#HTTP_STATUS_SEE_OTHER
 303

	)

116 
	#HTTP_STATUS_NOT_MODIFIED
 304

	)

117 
	#HTTP_STATUS_TEMPORARY_REDIRECT
 307

	)

120 
	#HTTP_STATUS_BAD_REQUEST
 400

	)

121 
	#HTTP_STATUS_UNAUTHORIZED
 401

	)

122 
	#HTTP_STATUS_FORBIDDEN
 403

	)

123 
	#HTTP_STATUS_NOT_FOUND
 404

	)

124 
	#HTTP_STATUS_RANGE_NOT_SATISFIABLE
 416

	)

127 
	#HTTP_STATUS_INTERNAL
 500

	)

128 
	#HTTP_STATUS_NOT_IMPLEMENTED
 501

	)

129 
	#HTTP_STATUS_BAD_GATEWAY
 502

	)

130 
	#HTTP_STATUS_UNAVAILABLE
 503

	)

132 
	eΩ
 {

133 
	mªl_n⁄e
, 
	mªl_«me
, 
	mªl_vÆue
, 
	mªl_bŸh


136 
	sªque°
 {

137 c⁄° *
	mmëhod
;

138 *
	m¨g
;

140 
	sªque°_hódî
 {

141 *
	m«me
, *
	mvÆue
;

142 
Ω
 
	mªÀa£_pﬁicy
;

143 } *
	mhódîs
;

144 
	mhcou¡
, 
	mhˇ∑côy
;

147 
numuæs
;

152 
ªque°
 *

153 
	$ªque°_√w
 ()

155 
ªque°
 *
ªq
 = 
	`x√w0
 (request);

156 
ªq
->
hˇ∑côy
 = 8;

157 
ªq
->
hódîs
 = 
	`x√w_¨øy
 (
ªque°_hódî
,Ñeq->
hˇ∑côy
);

158  
ªq
;

159 
	}
}

166 
	$ªque°_£t_mëhod
 (
ªque°
 *
ªq
, c⁄° *
mëh
, *
¨g
)

168 
ªq
->
mëhod
 = 
mëh
;

169 
ªq
->
¨g
 =árg;

170 
	}
}

176 
	$ªque°_mëhod
 (c⁄° 
ªque°
 *
ªq
)

178  
ªq
->
mëhod
;

179 
	}
}

185 
	$ªÀa£_hódî
 (
ªque°_hódî
 *
hdr
)

187 
hdr
->
ªÀa£_pﬁicy
)

189 
ªl_n⁄e
:

191 
ªl_«me
:

192 
	`x‰ì
 (
hdr
->
«me
);

194 
ªl_vÆue
:

195 
	`x‰ì
 (
hdr
->
vÆue
);

197 
ªl_bŸh
:

198 
	`x‰ì
 (
hdr
->
«me
);

199 
	`x‰ì
 (
hdr
->
vÆue
);

202 
	}
}

233 
	$ªque°_£t_hódî
 (
ªque°
 *
ªq
, *
«me
, *
vÆue
,

234 
Ω
 
ªÀa£_pﬁicy
)

236 
ªque°_hódî
 *
hdr
;

237 
i
;

239 i‡(!
vÆue
)

243 i‡(
ªÀa£_pﬁicy
 =
ªl_«me
 ||Ññó£_pﬁicy =
ªl_bŸh
)

244 
	`x‰ì
 (
«me
);

249 
i
 = 0; i < 
ªq
->
hcou¡
; i++)

251 
hdr
 = &
ªq
->
hódîs
[
i
];

252 i‡(0 =
	`°rˇ£cmp
 (
«me
, 
hdr
->name))

255 
	`ªÀa£_hódî
 (
hdr
);

256 
hdr
->
«me
 =Çame;

257 
hdr
->
vÆue
 = value;

258 
hdr
->
ªÀa£_pﬁicy
 =Ñelease_policy;

265 i‡(
ªq
->
hcou¡
 >ªq->
hˇ∑côy
)

267 
ªq
->
hˇ∑côy
 <<= 1;

268 
ªq
->
hódîs
 = 
	`xªÆloc
 (ªq->hódîs,Ñeq->
hˇ∑côy
 *  (*
hdr
));

270 
hdr
 = &
ªq
->
hódîs
[ªq->
hcou¡
++];

271 
hdr
->
«me
 =Çame;

272 
hdr
->
vÆue
 = value;

273 
hdr
->
ªÀa£_pﬁicy
 =Ñelease_policy;

274 
	}
}

282 
	$ªque°_£t_u£r_hódî
 (
ªque°
 *
ªq
, c⁄° *
hódî
)

284 *
«me
;

285 c⁄° *
p
 = 
	`°rchr
 (
hódî
, ':');

286 i‡(!
p
)

288 
	`BOUNDED_TO_ALLOCA
 (
hódî
, 
p
, 
«me
);

289 ++
p
;

290 
	`c_is•a˚
 (*
p
))

291 ++
p
;

292 
	`ªque°_£t_hódî
 (
ªq
, 
	`x°rdup
 (
«me
), (*Ë
p
, 
ªl_«me
);

293 
	}
}

298 
boﬁ


299 
	$ªque°_ªmove_hódî
 (
ªque°
 *
ªq
, *
«me
)

301 
i
;

302 
i
 = 0; i < 
ªq
->
hcou¡
; i++)

304 
ªque°_hódî
 *
hdr
 = &
ªq
->
hódîs
[
i
];

305 i‡(0 =
	`°rˇ£cmp
 (
«me
, 
hdr
->name))

307 
	`ªÀa£_hódî
 (
hdr
);

309 i‡(
i
 < 
ªq
->
hcou¡
 - 1)

310 
	`memmove
 (
hdr
, hd∏+ 1, (
ªq
->
hcou¡
 - 
i
 - 1) *  (*hdr));

311 --
ªq
->
hcou¡
;

312  
åue
;

315  
Ál£
;

316 
	}
}

318 
	#APPEND
(
p
, 
°r
) do { \

319 
A_Àn
 = 
	`°æí
 (
°r
); \

320 
	`mem˝y
 (
p
, 
°r
, 
A_Àn
); \

321 
p
 +
A_Àn
; \

322 } 0)

	)

327 
	$ªque°_£nd
 (c⁄° 
ªque°
 *
ªq
, 
fd
)

329 *
ªque°_°rög
, *
p
;

330 
i
, 
size
, 
wrôe_îr‹
;

333 
size
 = 0;

336 
size
 +
	`°æí
 (
ªq
->
mëhod
Ë+ 1 + såÀ¿‘eq->
¨g
) + 1 + 8 + 2;

338 
i
 = 0; i < 
ªq
->
hcou¡
; i++)

340 
ªque°_hódî
 *
hdr
 = &
ªq
->
hódîs
[
i
];

342 
size
 +
	`°æí
 (
hdr
->
«me
Ë+ 2 + såÀ¿(hdr->
vÆue
) + 2;

346 
size
 += 3;

348 
p
 = 
ªque°_°rög
 = 
	`Æloˇ_¨øy
 (, 
size
);

352 
	`APPEND
 (
p
, 
ªq
->
mëhod
); *p++ = ' ';

353 
	`APPEND
 (
p
, 
ªq
->
¨g
); *p++ = ' ';

354 
	`mem˝y
 (
p
, "HTTP/1.1\r\n", 10);Ö += 10;

356 
i
 = 0; i < 
ªq
->
hcou¡
; i++)

358 
ªque°_hódî
 *
hdr
 = &
ªq
->
hódîs
[
i
];

359 
	`APPEND
 (
p
, 
hdr
->
«me
);

360 *
p
++ = ':', *p++ = ' ';

361 
	`APPEND
 (
p
, 
hdr
->
vÆue
);

362 *
p
++ = '\r', *p++ = '\n';

365 *
p
++ = '\r', *p++ = '\n', *p++ = '\0';

366 
	`as£π
 (
p
 - 
ªque°_°rög
 =
size
);

368 #unde‡
APPEND


370 
	`DEBUGP
 (("\n---ªque° begö---\n%s---ªque°Énd---\n", 
ªque°_°rög
));

374 
wrôe_îr‹
 = 
	`fd_wrôe
 (
fd
, 
ªque°_°rög
, 
size
 - 1, -1);

375 i‡(
wrôe_îr‹
 < 0)

376 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Failed writing HTTPÑequest: %s.\n"),

377 
	`fd_îr°r
 (
fd
));

378  
wrôe_îr‹
;

379 
	}
}

384 
	$ªque°_‰ì
 (
ªque°
 *
ªq
)

386 
i
;

387 
	`x‰ì_nuŒ
 (
ªq
->
¨g
);

388 
i
 = 0; i < 
ªq
->
hcou¡
; i++)

389 
	`ªÀa£_hódî
 (&
ªq
->
hódîs
[
i
]);

390 
	`x‰ì_nuŒ
 (
ªq
->
hódîs
);

391 
	`x‰ì
 (
ªq
);

392 
	}
}

394 
hash_èbÀ
 *
	gbasic_authed_ho°s
;

400 
boﬁ


401 
	$maybe_£nd_basic_¸eds
 (c⁄° *
ho°«me
, c⁄° *
u£r
,

402 c⁄° *
∑sswd
, 
ªque°
 *
ªq
)

404 
boﬁ
 
do_chÆÀnge
 = 
Ál£
;

406 i‡(
›t
.
auth_wôhout_chÆÀnge
)

408 
	`DEBUGP
 (("Auth-without-challenge set, sending Basic credentials.\n"));

409 
do_chÆÀnge
 = 
åue
;

411 i‡(
basic_authed_ho°s


412 && 
	`hash_èbÀ_c⁄èös
(
basic_authed_ho°s
, 
ho°«me
))

414 
	`DEBUGP
 (("Found %†ö basic_authed_ho°s.\n", 
	`quŸe
 (
ho°«me
)));

415 
do_chÆÀnge
 = 
åue
;

419 
	`DEBUGP
 (("Host %s hasÇot issuedá general basic challenge.\n",

420 
	`quŸe
 (
ho°«me
)));

422 i‡(
do_chÆÀnge
)

424 
	`ªque°_£t_hódî
 (
ªq
, "Authorization",

425 
	`basic_authítiˇti⁄_ícode
 (
u£r
, 
∑sswd
),

426 
ªl_vÆue
);

428  
do_chÆÀnge
;

429 
	}
}

432 
	$ªgi°î_basic_auth_ho°
 (c⁄° *
ho°«me
)

434 i‡(!
basic_authed_ho°s
)

436 
basic_authed_ho°s
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (1);

438 i‡(!
	`hash_èbÀ_c⁄èös
(
basic_authed_ho°s
, 
ho°«me
))

440 
	`hash_èbÀ_put
 (
basic_authed_ho°s
, 
	`x°rdup
(
ho°«me
), 
NULL
);

441 
	`DEBUGP
 (("In£πed %†ötÿbasic_authed_ho°s\n", 
	`quŸe
 (
ho°«me
)));

443 
	}
}

451 
	$po°_fûe
 (
sock
, c⁄° *
fûe_«me
, 
wgöt
 
¥omi£d_size
)

453 
chunk
[8192];

454 
wgöt
 
wrôãn
 = 0;

455 
wrôe_îr‹
;

456 
FILE
 *
Â
;

458 
	`DEBUGP
 (("[wrôög POST fûê%†... ", 
fûe_«me
));

460 
Â
 = 
	`f›í
 (
fûe_«me
, "rb");

461 i‡(!
Â
)

463 !
	`„of
 (
Â
Ë&& 
wrôãn
 < 
¥omi£d_size
)

465 
towrôe
;

466 
Àngth
 = 
	`‰ód
 (
chunk
, 1,  (chunk), 
Â
);

467 i‡(
Àngth
 == 0)

469 
towrôe
 = 
	`MIN
 (
¥omi£d_size
 - 
wrôãn
, 
Àngth
);

470 
wrôe_îr‹
 = 
	`fd_wrôe
 (
sock
, 
chunk
, 
towrôe
, -1);

471 i‡(
wrôe_îr‹
 < 0)

473 
	`f˛o£
 (
Â
);

476 
wrôãn
 +
towrôe
;

478 
	`f˛o£
 (
Â
);

482 i‡(
wrôãn
 < 
¥omi£d_size
)

484 
î∫o
 = 
EINVAL
;

488 
	`as£π
 (
wrôãn
 =
¥omi£d_size
);

489 
	`DEBUGP
 (("done]\n"));

491 
	}
}

500 
	$ª•⁄£_hód_ãrmö©‹
 (c⁄° *
°¨t
, c⁄° *
≥eked
, 
≥ekÀn
)

502 c⁄° *
p
, *
íd
;

507 i‡(
°¨t
 =
≥eked
 && 0 !
	`memcmp
 (°¨t, "HTTP", 
	`MIN
 (
≥ekÀn
, 4)))

508  
°¨t
;

514 
p
 = 
≥eked
 - 
°¨t
 < 2 ? start :Öeeked - 2;

515 
íd
 = 
≥eked
 + 
≥ekÀn
;

518 ; 
p
 < 
íd
 - 2;Ö++)

519 i‡(*
p
 == '\n')

521 i‡(
p
[1] == '\r' &&Ö[2] == '\n')

522  
p
 + 3;

523 i‡(
p
[1] == '\n')

524  
p
 + 2;

527 i‡(
p
[0] == '\n' &&Ö[1] == '\n')

528  
p
 + 2;

530  
NULL
;

531 
	}
}

539 
	#HTTP_RESPONSE_MAX_SIZE
 65536

	)

550 
	$ªad_hâp_ª•⁄£_hód
 (
fd
)

552  
	`fd_ªad_hunk
 (
fd
, 
ª•⁄£_hód_ãrmö©‹
, 512,

553 
HTTP_RESPONSE_MAX_SIZE
);

554 
	}
}

556 
	sª•⁄£
 {

558 c⁄° *
	md©a
;

578 c⁄° **
	mhódîs
;

586 
ª•⁄£
 *

587 
	$ª•_√w
 (c⁄° *
hód
)

589 c⁄° *
hdr
;

590 
cou¡
, 
size
;

592 
ª•⁄£
 *
ª•
 = 
	`x√w0
 (response);

593 
ª•
->
d©a
 = 
hód
;

595 i‡(*
hód
 == '\0')

600  
ª•
;

606 
size
 = 
cou¡
 = 0;

607 
hdr
 = 
hód
;

610 
	`DO_REALLOC
 (
ª•
->
hódîs
, 
size
, 
cou¡
 + 1, const *);

611 
ª•
->
hódîs
[
cou¡
++] = 
hdr
;

614 i‡(!
hdr
[0] || (hdr[0] == '\r' && hdr[1] == '\n') || hdr[0] == '\n')

620 c⁄° *
íd
 = 
	`°rchr
 (
hdr
, '\n');

621 i‡(
íd
)

622 
hdr
 = 
íd
 + 1;

624 
hdr
 +
	`°æí
 (hdr);

626 *
hdr
 == ' ' || *hdr == '\t');

628 
	`DO_REALLOC
 (
ª•
->
hódîs
, 
size
, 
cou¡
 + 1, const *);

629 
ª•
->
hódîs
[
cou¡
] = 
NULL
;

631  
ª•
;

632 
	}
}

647 
	$ª•_hódî_loˇã
 (c⁄° 
ª•⁄£
 *
ª•
, c⁄° *
«me
, 
°¨t
,

648 c⁄° **
beg±r
, c⁄° **
íd±r
)

650 
i
;

651 c⁄° **
hódîs
 = 
ª•
->headers;

652 
«me_Àn
;

654 i‡(!
hódîs
 || !headers[1])

657 
«me_Àn
 = 
	`°æí
 (
«me
);

658 i‡(
°¨t
 > 0)

659 
i
 = 
°¨t
;

661 
i
 = 1;

663 ; 
hódîs
[
i
 + 1]; i++)

665 c⁄° *
b
 = 
hódîs
[
i
];

666 c⁄° *
e
 = 
hódîs
[
i
 + 1];

667 i‡(
e
 - 
b
 > 
«me_Àn


668 && 
b
[
«me_Àn
] == ':'

669 && 0 =
	`°∫ˇ£cmp
 (
b
, 
«me
, 
«me_Àn
))

671 
b
 +
«me_Àn
 + 1;

672 
b
 < 
e
 && 
	`c_is•a˚
 (*b))

673 ++
b
;

674 
b
 < 
e
 && 
	`c_is•a˚
 (e[-1]))

675 --
e
;

676 *
beg±r
 = 
b
;

677 *
íd±r
 = 
e
;

678  
i
;

682 
	}
}

691 
boﬁ


692 
	$ª•_hódî_gë
 (c⁄° 
ª•⁄£
 *
ª•
, c⁄° *
«me
,

693 c⁄° **
beg±r
, c⁄° **
íd±r
)

695 
pos
 = 
	`ª•_hódî_loˇã
 (
ª•
, 
«me
, 0, 
beg±r
, 
íd±r
);

696  
pos
 != -1;

697 
	}
}

707 
boﬁ


708 
	$ª•_hódî_c›y
 (c⁄° 
ª•⁄£
 *
ª•
, c⁄° *
«me
,

709 *
buf
, 
bufsize
)

711 c⁄° *
b
, *
e
;

712 i‡(!
	`ª•_hódî_gë
 (
ª•
, 
«me
, &
b
, &
e
))

713  
Ál£
;

714 i‡(
bufsize
)

716 
Àn
 = 
	`MIN
 (
e
 - 
b
, 
bufsize
 - 1);

717 
	`mem˝y
 (
buf
, 
b
, 
Àn
);

718 
buf
[
Àn
] = '\0';

720  
åue
;

721 
	}
}

727 
	$ª•_hódî_°rdup
 (c⁄° 
ª•⁄£
 *
ª•
, c⁄° *
«me
)

729 c⁄° *
b
, *
e
;

730 i‡(!
	`ª•_hódî_gë
 (
ª•
, 
«me
, &
b
, &
e
))

731  
NULL
;

732  
	`°rdupdñim
 (
b
, 
e
);

733 
	}
}

744 
	$ª•_°©us
 (c⁄° 
ª•⁄£
 *
ª•
, **
mesßge
)

746 
°©us
;

747 c⁄° *
p
, *
íd
;

749 i‡(!
ª•
->
hódîs
)

752 i‡(
mesßge
)

753 *
mesßge
 = 
	`x°rdup
 (
	`_
("No headers,ássuming HTTP/0.9"));

757 
p
 = 
ª•
->
hódîs
[0];

758 
íd
 = 
ª•
->
hódîs
[1];

760 i‡(!
íd
)

764 i‡(
íd
 - 
p
 < 4 || 0 !
	`°∫cmp
 (p, "HTTP", 4))

766 
p
 += 4;

770 i‡(
p
 < 
íd
 && *p == '/')

772 ++
p
;

773 
p
 < 
íd
 && 
	`c_isdigô
 (*p))

774 ++
p
;

775 i‡(
p
 < 
íd
 && *p == '.')

776 ++
p
;

777 
p
 < 
íd
 && 
	`c_isdigô
 (*p))

778 ++
p
;

781 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

782 ++
p
;

783 i‡(
íd
 - 
p
 < 3 || !
	`c_isdigô
 (p[0]) || !c_isdigit (p[1]) || !c_isdigit (p[2]))

786 
°©us
 = 100 * (
p
[0] - '0') + 10 * (p[1] - '0') + (p[2] - '0');

787 
p
 += 3;

789 i‡(
mesßge
)

791 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

792 ++
p
;

793 
p
 < 
íd
 && 
	`c_is•a˚
 (end[-1]))

794 --
íd
;

795 *
mesßge
 = 
	`°rdupdñim
 (
p
, 
íd
);

798  
°©us
;

799 
	}
}

804 
	$ª•_‰ì
 (
ª•⁄£
 *
ª•
)

806 
	`x‰ì_nuŒ
 (
ª•
->
hódîs
);

807 
	`x‰ì
 (
ª•
);

808 
	}
}

817 
	$¥öt_ª•⁄£_löe
(c⁄° *
¥efix
, c⁄° *
b
, c⁄° *
e
)

819 *
c›y
;

820 
	`BOUNDED_TO_ALLOCA
(
b
, 
e
, 
c›y
);

821 
	`log¥ötf
 (
LOG_ALWAYS
, "%s%s\n", 
¥efix
,

822 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
c›y
));

823 
	}
}

829 
	$¥öt_£rvî_ª•⁄£
 (c⁄° 
ª•⁄£
 *
ª•
, c⁄° *
¥efix
)

831 
i
;

832 i‡(!
ª•
->
hódîs
)

834 
i
 = 0; 
ª•
->
hódîs
[i + 1]; i++)

836 c⁄° *
b
 = 
ª•
->
hódîs
[
i
];

837 c⁄° *
e
 = 
ª•
->
hódîs
[
i
 + 1];

839 i‡(
b
 < 
e
 &&É[-1] == '\n')

840 --
e
;

841 i‡(
b
 < 
e
 &&É[-1] == '\r')

842 --
e
;

843 
	`¥öt_ª•⁄£_löe
(
¥efix
, 
b
, 
e
);

845 
	}
}

849 
boﬁ


850 
	$∑r£_c⁄ã¡_ønge
 (c⁄° *
hdr
, 
wgöt
 *
fú°_byã_±r
,

851 
wgöt
 *
œ°_byã_±r
, wgöà*
ítôy_Àngth_±r
)

853 
wgöt
 
num
;

858 i‡(0 =
	`°∫ˇ£cmp
 (
hdr
, "bytes", 5))

860 
hdr
 += 5;

863 i‡(*
hdr
 == ':')

864 ++
hdr
;

865 
	`c_is•a˚
 (*
hdr
))

866 ++
hdr
;

867 i‡(!*
hdr
)

868  
Ál£
;

870 i‡(!
	`c_isdigô
 (*
hdr
))

871  
Ál£
;

872 
num
 = 0; 
	`c_isdigô
 (*
hdr
); hdr++)

873 
num
 = 10 *Çum + (*
hdr
 - '0');

874 i‡(*
hdr
 !'-' || !
	`c_isdigô
 (*(hdr + 1)))

875  
Ál£
;

876 *
fú°_byã_±r
 = 
num
;

877 ++
hdr
;

878 
num
 = 0; 
	`c_isdigô
 (*
hdr
); hdr++)

879 
num
 = 10 *Çum + (*
hdr
 - '0');

880 i‡(*
hdr
 !'/' || !
	`c_isdigô
 (*(hdr + 1)))

881  
Ál£
;

882 *
œ°_byã_±r
 = 
num
;

883 ++
hdr
;

884 i‡(*
hdr
 == '*')

885 
num
 = -1;

887 
num
 = 0; 
	`c_isdigô
 (*
hdr
); hdr++)

888 
num
 = 10 *Çum + (*
hdr
 - '0');

889 *
ítôy_Àngth_±r
 = 
num
;

890  
åue
;

891 
	}
}

902 
boﬁ


903 
	$skù_sh‹t_body
 (
fd
, 
wgöt
 
c⁄éí
, 
boﬁ
 
chunked
)

906 
SKIP_SIZE
 = 512,

907 
SKIP_THRESHOLD
 = 4096

909 
wgöt
 
ªmaöög_chunk_size
 = 0;

910 
dlbuf
[
SKIP_SIZE
 + 1];

911 
dlbuf
[
SKIP_SIZE
] = '\0';

913 
	`as£π
 (
c⁄éí
 != -1 || contlen);

917 i‡(
c⁄éí
 > 
SKIP_THRESHOLD
)

918  
Ál£
;

920 
c⁄éí
 > 0 || 
chunked
)

922 
ªt
;

923 i‡(
chunked
)

925 i‡(
ªmaöög_chunk_size
 == 0)

927 *
löe
 = 
	`fd_ªad_löe
 (
fd
);

928 *
ídl
;

929 i‡(
löe
 =
NULL
)

932 
ªmaöög_chunk_size
 = 
	`°πﬁ
 (
löe
, &
ídl
, 16);

933 i‡(
ªmaöög_chunk_size
 == 0)

935 
	`fd_ªad_löe
 (
fd
);

940 
c⁄éí
 = 
	`MIN
 (
ªmaöög_chunk_size
, 
SKIP_SIZE
);

943 
	`DEBUGP
 (("Skùpög %†byã†o‡body: [", 
	`numbî_to_°©ic_°rög
 (
c⁄éí
)));

945 
ªt
 = 
	`fd_ªad
 (
fd
, 
dlbuf
, 
	`MIN
 (
c⁄éí
, 
SKIP_SIZE
), -1);

946 i‡(
ªt
 <= 0)

950 
	`DEBUGP
 (("]áborting (%s).\n",

951 
ªt
 < 0 ? 
	`fd_îr°r
 (
fd
) : "EOFÑeceived"));

952  
Ál£
;

954 
c⁄éí
 -
ªt
;

956 i‡(
chunked
)

958 
ªmaöög_chunk_size
 -
ªt
;

959 i‡(
ªmaöög_chunk_size
 == 0)

960 i‡(
	`fd_ªad_löe
 (
fd
Ë=
NULL
)

961  
Ál£
;

966 
	`DEBUGP
 (("%.*s", 
ªt
, 
dlbuf
));

969 
	`DEBUGP
 (("] done.\n"));

970  
åue
;

971 
	}
}

973 
	#NOT_RFC2231
 0

	)

974 
	#RFC2231_NOENCODING
 1

	)

975 
	#RFC2231_ENCODING
 2

	)

985 
	$modify_∑øm_«me
(
∑øm_tokí
 *
«me
)

987 c⁄° *
dñim1
 = 
	`memchr
 (
«me
->
b
, '*',Çame->
e
 -Çame->b);

988 c⁄° *
dñim2
 = 
	`memrchr
 (
«me
->
b
, '*',Çame->
e
 -Çame->b);

990 
ªsu…
;

992 if(
dñim1
 =
NULL
)

994 
ªsu…
 = 
NOT_RFC2231
;

996 if(
dñim1
 =
dñim2
)

998 i‡((
«me
->
e
 - 1Ë=
dñim1
)

1000 
ªsu…
 = 
RFC2231_ENCODING
;

1004 
ªsu…
 = 
RFC2231_NOENCODING
;

1006 
«me
->
e
 = 
dñim1
;

1010 
«me
->
e
 = 
dñim1
;

1011 
ªsu…
 = 
RFC2231_ENCODING
;

1013  
ªsu…
;

1014 
	}
}

1021 
	$modify_∑øm_vÆue
 (
∑øm_tokí
 *
vÆue
, 
ícodög_ty≥
 )

1023 i‡(
RFC2231_ENCODING
 =
ícodög_ty≥
)

1025 c⁄° *
dñim
 = 
	`memrchr
 (
vÆue
->
b
, '\'', vÆue->
e
 - value->b);

1026 i‡–
dñim
 !
NULL
 )

1028 
vÆue
->
b
 = (
dñim
+1);

1031 
	}
}

1045 
boﬁ


1046 
	$exåa˘_∑øm
 (c⁄° **
sour˚
, 
∑øm_tokí
 *
«me
,Ö¨am_tokí *
vÆue
,

1047 
£∑øt‹
)

1049 c⁄° *
p
 = *
sour˚
;

1051 
	`c_is•a˚
 (*
p
)) ++p;

1052 i‡(!*
p
)

1054 *
sour˚
 = 
p
;

1055  
Ál£
;

1059 
«me
->
b
 = 
p
;

1060 *
p
 && !
	`c_is•a˚
 (*pË&& *∞!'=' && *∞!
£∑øt‹
) ++p;

1061 
«me
->
e
 = 
p
;

1062 i‡(
«me
->
b
 =«me->
e
)

1063  
Ál£
;

1064 
	`c_is•a˚
 (*
p
)) ++p;

1065 i‡(*
p
 =
£∑øt‹
 || !*p)

1067 
	`xzîo
 (*
vÆue
);

1068 i‡(*
p
 =
£∑øt‹
) ++p;

1069 *
sour˚
 = 
p
;

1070  
åue
;

1072 i‡(*
p
 != '=')

1073  
Ál£
;

1076 ++
p
;

1077 
	`c_is•a˚
 (*
p
)) ++p;

1078 i‡(*
p
 == '"')

1080 
vÆue
->
b
 = ++
p
;

1081 *
p
 && *p != '"') ++p;

1082 i‡(!*
p
)

1083  
Ál£
;

1084 
vÆue
->
e
 = 
p
++;

1086 
	`c_is•a˚
 (*
p
)) ++p;

1087 *
p
 && *∞!
£∑øt‹
) ++p;

1088 i‡(*
p
 =
£∑øt‹
)

1089 ++
p
;

1090 i‡(*
p
)

1092  
Ál£
;

1096 
vÆue
->
b
 = 
p
;

1097 *
p
 && *∞!
£∑øt‹
) ++p;

1098 
vÆue
->
e
 = 
p
;

1099 
vÆue
->
e
 !vÆue->
b
 && 
	`c_is•a˚
 (value->e[-1]))

1100 --
vÆue
->
e
;

1101 i‡(*
p
 =
£∑øt‹
) ++p;

1103 *
sour˚
 = 
p
;

1105 
∑øm_ty≥
 = 
	`modify_∑øm_«me
(
«me
);

1106 i‡(
NOT_RFC2231
 !
∑øm_ty≥
)

1108 
	`modify_∑øm_vÆue
(
vÆue
, 
∑øm_ty≥
);

1110  
åue
;

1111 
	}
}

1113 #unde‡
NOT_RFC2231


1114 #unde‡
RFC2231_NOENCODING


1115 #unde‡
RFC2231_ENCODING


1120 
	$≠≥nd_vÆue_to_fûíame
 (**
fûíame
, 
∑øm_tokí
 c⁄° * c⁄° 
vÆue
)

1122 
‹igöÆ_Àngth
 = 
	`°æí
(*
fûíame
);

1123 
√w_Àngth
 = 
	`°æí
(*
fûíame
Ë+ (
vÆue
->
e
 - vÆue->
b
);

1124 *
fûíame
 = 
	`xªÆloc
 (*fûíame, 
√w_Àngth
+1);

1125 
	`mem˝y
 (*
fûíame
 + 
‹igöÆ_Àngth
, 
vÆue
->
b
, (vÆue->
e
 - value->b));

1126 (*
fûíame
)[
√w_Àngth
] = '\0';

1127 
	}
}

1129 #unde‡
MAX


1130 
	#MAX
(
p
, 
q
Ë(’Ë> (qË? (pË: (q))

	)

1154 
boﬁ


1155 
	$∑r£_c⁄ã¡_di•osôi⁄
 (c⁄° *
hdr
, **
fûíame
)

1157 
∑øm_tokí
 
«me
, 
vÆue
;

1158 *
fûíame
 = 
NULL
;

1159 
	`exåa˘_∑øm
 (&
hdr
, &
«me
, &
vÆue
, ';'))

1161 
isFûíame
 = 
	`BOUNDED_EQUAL_NO_CASE
 ( 
«me
.
b
,Çame.
e
, "filename" );

1162 i‡–
isFûíame
 && 
vÆue
.
b
 !
NULL
)

1165 c⁄° *
œ°_¶ash
 = 
	`memrchr
 (
vÆue
.
b
, '/', vÆue.
e
 - value.b);

1166 c⁄° *
œ°_bs
 = 
	`memrchr
 (
vÆue
.
b
, '\\', vÆue.
e
 - value.b);

1167 i‡(
œ°_¶ash
 && 
œ°_bs
)

1168 
vÆue
.
b
 = 1 + 
	`MAX
 (
œ°_¶ash
, 
œ°_bs
);

1169 i‡(
œ°_¶ash
 || 
œ°_bs
)

1170 
vÆue
.
b
 = 1 + (
œ°_¶ash
 ?Üa°_¶ash : 
œ°_bs
);

1171 i‡(
vÆue
.
b
 =vÆue.
e
)

1174 i‡(*
fûíame
)

1175 
	`≠≥nd_vÆue_to_fûíame
 (
fûíame
, &
vÆue
);

1177 *
fûíame
 = 
	`°rdupdñim
 (
vÆue
.
b
, vÆue.
e
);

1181 i‡(*
fûíame
)

1182  
åue
;

1184  
Ál£
;

1185 
	}
}

1195 
boﬁ
 
	gpc⁄n_a˘ive
;

1199 
	msockë
;

1202 *
	mho°
;

1203 
	mp‹t
;

1206 
boﬁ
 
	ms¶
;

1212 
boﬁ
 
	mauth‹ized
;

1214 #ifde‡
ENABLE_NTLM


1216 
¡lmd©a
 
	m¡lm
;

1218 } 
	gpc⁄n
;

1225 
	$övÆid©e_≥rsi°ít
 ()

1227 
	`DEBUGP
 (("Dißblög fuπhîÑeu£ o‡sockë %d.\n", 
pc⁄n
.
sockë
));

1228 
pc⁄n_a˘ive
 = 
Ál£
;

1229 
	`fd_˛o£
 (
pc⁄n
.
sockë
);

1230 
	`x‰ì
 (
pc⁄n
.
ho°
);

1231 
	`xzîo
 (
pc⁄n
);

1232 
	}
}

1243 
	$ªgi°î_≥rsi°ít
 (c⁄° *
ho°
, 
p‹t
, 
fd
, 
boﬁ
 
s¶
)

1245 i‡(
pc⁄n_a˘ive
)

1247 i‡(
pc⁄n
.
sockë
 =
fd
)

1259 
	`övÆid©e_≥rsi°ít
 ();

1263 
pc⁄n_a˘ive
 = 
åue
;

1264 
pc⁄n
.
sockë
 = 
fd
;

1265 
pc⁄n
.
ho°
 = 
	`x°rdup
 (host);

1266 
pc⁄n
.
p‹t
 =Öort;

1267 
pc⁄n
.
s¶
 = ssl;

1268 
pc⁄n
.
auth‹ized
 = 
Ál£
;

1270 
	`DEBUGP
 (("Regi°îed sockë %d f‹Öîsi°íàªu£.\n", 
fd
));

1271 
	}
}

1276 
boﬁ


1277 
	$≥rsi°ít_avaûabÀ_p
 (c⁄° *
ho°
, 
p‹t
, 
boﬁ
 
s¶
,

1278 
boﬁ
 *
ho°_lookup_Áûed
)

1281 i‡(!
pc⁄n_a˘ive
)

1282  
Ál£
;

1287 i‡(
s¶
 !
pc⁄n
.ssl)

1288  
Ál£
;

1291 i‡(
p‹t
 !
pc⁄n
.port)

1292  
Ál£
;

1296 i‡(0 !
	`°rˇ£cmp
 (
ho°
, 
pc⁄n
.host))

1306 
boﬁ
 
found
;

1307 
ù_addªss
 
ù
;

1308 
addªss_li°
 *
Æ
;

1310 i‡(
s¶
)

1314  
Ál£
;

1320 i‡(!
	`sockë_ù_addªss
 (
pc⁄n
.
sockë
, &
ù
, 
ENDPOINT_PEER
))

1324 
	`övÆid©e_≥rsi°ít
 ();

1325  
Ál£
;

1327 
Æ
 = 
	`lookup_ho°
 (
ho°
, 0);

1328 i‡(!
Æ
)

1330 *
ho°_lookup_Áûed
 = 
åue
;

1331  
Ál£
;

1334 
found
 = 
	`addªss_li°_c⁄èös
 (
Æ
, &
ù
);

1335 
	`addªss_li°_ªÀa£
 (
Æ
);

1337 i‡(!
found
)

1338  
Ál£
;

1358 i‡(!
	`ã°_sockë_›í
 (
pc⁄n
.
sockë
))

1363 
	`övÆid©e_≥rsi°ít
 ();

1364  
Ál£
;

1367  
åue
;

1368 
	}
}

1385 
	#CLOSE_FINISH
(
fd
) do { \

1386 i‡(!
kìp_Æive
) \

1388 i‡(
pc⁄n_a˘ive
 && (
fd
Ë=
pc⁄n
.
sockë
) \

1389 
	`övÆid©e_≥rsi°ít
 (); \

1392 
	`fd_˛o£
 (
fd
); \

1393 
fd
 = -1; \

1396 } 0)

	)

1398 
	#CLOSE_INVALIDATE
(
fd
) do { \

1399 i‡(
pc⁄n_a˘ive
 && (
fd
Ë=
pc⁄n
.
sockë
) \

1400 
	`övÆid©e_≥rsi°ít
 (); \

1402 
	`fd_˛o£
 (
fd
); \

1403 
fd
 = -1; \

1404 } 0)

	)

1406 
	shâp_°©


1408 
wgöt
 
	mÀn
;

1409 
wgöt
 
	mc⁄éí
;

1410 
wgöt
 
	mª°vÆ
;

1411 
	mªs
;

1412 *
	mrdîrmsg
;

1413 *
	m√wloc
;

1414 *
	mªmŸe_time
;

1415 *
	mîr‹
;

1416 
	m°©code
;

1417 *
	mmesßge
;

1418 
wgöt
 
	mrd_size
;

1419 
	md…ime
;

1420 c⁄° *
	mª„ªr
;

1421 *
	mloˇl_fûe
;

1422 
boﬁ
 
	mexi°í˚_checked
;

1426 
boﬁ
 
	mtime°amp_checked
;

1428 *
	m‹ig_fûe_«me
;

1430 
wgöt
 
	m‹ig_fûe_size
;

1431 
time_t
 
	m‹ig_fûe_t°amp
;

1436 
	$‰ì_h°©
 (
hâp_°©
 *
hs
)

1438 
	`x‰ì_nuŒ
 (
hs
->
√wloc
);

1439 
	`x‰ì_nuŒ
 (
hs
->
ªmŸe_time
);

1440 
	`x‰ì_nuŒ
 (
hs
->
îr‹
);

1441 
	`x‰ì_nuŒ
 (
hs
->
rdîrmsg
);

1442 
	`x‰ì_nuŒ
 (
hs
->
loˇl_fûe
);

1443 
	`x‰ì_nuŒ
 (
hs
->
‹ig_fûe_«me
);

1444 
	`x‰ì_nuŒ
 (
hs
->
mesßge
);

1447 
hs
->
√wloc
 = 
NULL
;

1448 
hs
->
ªmŸe_time
 = 
NULL
;

1449 
hs
->
îr‹
 = 
NULL
;

1450 
	}
}

1453 
	$gë_fûe_Êags
 (c⁄° *
fûíame
, *
dt
)

1455 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 %†ÆªadyÅhîe;ÇŸÑërõvög.\n\n"), 
	`quŸe
 (
fûíame
));

1458 *
dt
 |
RETROKF
;

1462 i‡(
	`has_html_suffix_p
 (
fûíame
))

1463 *
dt
 |
TEXTHTML
;

1464 
	}
}

1466 
	#BEGINS_WITH
(
löe
, 
°rög_c⁄°™t
) \

1467 (!
	`°∫ˇ£cmp
 (
löe
, 
°rög_c⁄°™t
,  (string_constant) - 1) \

1468 && (
	`c_is•a˚
 (
löe
[ (
°rög_c⁄°™t
) - 1]) \

1469 || !
löe
[ (
°rög_c⁄°™t
Ë- 1]))

	)

1471 #ifde‡
__VMS


1472 
	#SET_USER_AGENT
(
ªq
) do { \

1473 i‡(!
›t
.
u£øgít
) \

1474 
	`ªque°_£t_hódî
 (
ªq
, "User-Agent", \

1475 
	`≠rötf
 ("Wget/%s (VMS %s %s)", \

1476 
vîsi⁄_°rög
, 
	`vms_¨ch
(), 
	`vms_vîs
()), \

1477 
ªl_vÆue
); \

1478 i‡(*
›t
.
u£øgít
) \

1479 
	`ªque°_£t_hódî
 (
ªq
, "U£r-Agít", 
›t
.
u£øgít
, 
ªl_n⁄e
); \

1480 } 0)

	)

1482 
	#SET_USER_AGENT
(
ªq
) do { \

1483 i‡(!
›t
.
u£øgít
) \

1484 
	`ªque°_£t_hódî
 (
ªq
, "User-Agent", \

1485 
	`≠rötf
 ("Wget/%s (%s)", \

1486 
vîsi⁄_°rög
, 
OS_TYPE
), \

1487 
ªl_vÆue
); \

1488 i‡(*
›t
.
u£øgít
) \

1489 
	`ªque°_£t_hódî
 (
ªq
, "U£r-Agít", 
›t
.
u£øgít
, 
ªl_n⁄e
); \

1490 } 0)

	)

1496 
	#ALLOW_CLOBBER
 (
›t
.
no˛obbî
 || o±.
Æways_ª°
 || o±.
time°ampög
 \

1497 || 
›t
.
dú°ru˘
 || o±.
ouçut_documít
)

	)

1509 
uîr_t


1510 
	$gëhâp
 (
uæ
 *
u
, 
hâp_°©
 *
hs
, *
dt
, uæ *
¥oxy
,

1511 
úi
 *úi, 
cou¡
)

1513 
ªque°
 *
ªq
;

1515 *
ty≥
;

1516 *
u£r
, *
∑sswd
;

1517 *
¥oxyauth
;

1518 
°©code
;

1519 
wrôe_îr‹
;

1520 
wgöt
 
c⁄éí
, 
c⁄å™ge
;

1521 
uæ
 *
c⁄n
;

1522 
FILE
 *
Â
;

1524 
sock
 = -1;

1525 
Êags
;

1529 
boﬁ
 
auth_föished
 = 
Ál£
;

1534 
boﬁ
 
basic_auth_föished
 = 
Ál£
;

1537 
boﬁ
 
¡lm_£í
 = 
Ál£
;

1540 
boﬁ
 
usög_s¶
 = 
Ál£
;

1544 
boﬁ
 
hód_⁄ly
 = !!(*
dt
 & 
HEAD_ONLY
);

1546 *
hód
;

1547 
ª•⁄£
 *
ª•
;

1548 
hdrvÆ
[256];

1549 *
mesßge
;

1553 
boﬁ
 
kìp_Æive
;

1556 
boﬁ
 
chunked_å™s„r_ícodög
 = 
Ál£
;

1559 
boﬁ
 
öhibô_kìp_Æive
 =

1560 !
›t
.
hâp_kìp_Æive
 || o±.
ign‹e_Àngth
;

1563 
wgöt
 
po°_d©a_size
 = 0;

1565 
boﬁ
 
ho°_lookup_Áûed
 = 
Ál£
;

1567 #ifde‡
HAVE_SSL


1568 i‡(
u
->
scheme
 =
SCHEME_HTTPS
)

1572 i‡(!
	`s¶_öô
 ())

1574 
	`scheme_dißbÀ
 (
SCHEME_HTTPS
);

1575 
	`log¥ötf
 (
LOG_NOTQUIET
,

1576 
	`_
("Disabling SSL dueÅoÉncounteredÉrrors.\n"));

1577  
SSLINITFAILED
;

1583 
hs
->
Àn
 = 0;

1584 
hs
->
c⁄éí
 = -1;

1585 
hs
->
ªs
 = -1;

1586 
hs
->
rdîrmsg
 = 
NULL
;

1587 
hs
->
√wloc
 = 
NULL
;

1588 
hs
->
ªmŸe_time
 = 
NULL
;

1589 
hs
->
îr‹
 = 
NULL
;

1590 
hs
->
mesßge
 = 
NULL
;

1592 
c⁄n
 = 
u
;

1596 
ªq
 = 
	`ªque°_√w
 ();

1598 *
mëh_¨g
;

1599 c⁄° *
mëh
 = "GET";

1600 i‡(
hód_⁄ly
)

1601 
mëh
 = "HEAD";

1602 i‡(
›t
.
po°_fûe_«me
 || o±.
po°_d©a
)

1603 
mëh
 = "POST";

1607 i‡(
¥oxy


1608 #ifde‡
HAVE_SSL


1612 && 
u
->
scheme
 !
SCHEME_HTTPS


1615 
mëh_¨g
 = 
	`x°rdup
 (
u
->
uæ
);

1617 
mëh_¨g
 = 
	`uæ_fuŒ_∑th
 (
u
);

1618 
	`ªque°_£t_mëhod
 (
ªq
, 
mëh
, 
mëh_¨g
);

1621 
	`ªque°_£t_hódî
 (
ªq
, "Re„ªr", (*Ë
hs
->
ª„ªr
, 
ªl_n⁄e
);

1623 i‡(*
dt
 & 
SEND_NOCACHE
)

1626 
	`ªque°_£t_hódî
 (
ªq
, "Cache-C⁄åﬁ", "no-ˇche, mu°-ªvÆid©e", 
ªl_n⁄e
);

1629 
	`ªque°_£t_hódî
 (
ªq
, "Pøgma", "no-ˇche", 
ªl_n⁄e
);

1632 i‡(
hs
->
ª°vÆ
 && !
›t
.
time°ampög
)

1633 
	`ªque°_£t_hódî
 (
ªq
, "Range",

1634 
	`≠rötf
 ("bytes=%s-",

1635 
	`numbî_to_°©ic_°rög
 (
hs
->
ª°vÆ
)),

1636 
ªl_vÆue
);

1638 
	`SET_USER_AGENT
 (
ªq
);

1640 
	`ªque°_£t_hódî
 (
ªq
, "Ac˚±", "*/*", 
ªl_n⁄e
);

1643 
u£r
 = 
u
->user;

1644 
∑sswd
 = 
u
->passwd;

1645 
	`£¨ch_√åc
 (
u
->
ho°
, (c⁄° **)&
u£r
, (c⁄° **)&
∑sswd
, 0);

1646 
u£r
 = u£∏? u£∏: (
›t
.
hâp_u£r
 ? opt.http_user : opt.user);

1647 
∑sswd
 =Öasswd ?Öasswd : (
›t
.
hâp_∑sswd
 ? opt.http_passwd : opt.passwd);

1652 i‡(
u£r
 && 
∑sswd
 && (!
u
->u£∏|| 
›t
.
auth_wôhout_chÆÀnge
))

1656 
basic_auth_föished
 = 
	`maybe_£nd_basic_¸eds
(
u
->
ho°
, 
u£r
, 
∑sswd
, 
ªq
);

1670 c⁄° *
hfmt
[][2] = {

1673 
add_p‹t
 = 
u
->
p‹t
 !
	`scheme_deÁu…_p‹t
 (u->
scheme
);

1674 
add_squ¨es
 = 
	`°rchr
 (
u
->
ho°
, ':'Ë!
NULL
;

1675 
	`ªque°_£t_hódî
 (
ªq
, "Host",

1676 
	`≠rötf
 (
hfmt
[
add_p‹t
][
add_squ¨es
], 
u
->
ho°
, u->
p‹t
),

1677 
ªl_vÆue
);

1681 i‡(
öhibô_kìp_Æive
)

1682 
	`ªque°_£t_hódî
 (
ªq
, "C⁄√˘i⁄", "Clo£", 
ªl_n⁄e
);

1685 i‡(
¥oxy
 =
NULL
)

1686 
	`ªque°_£t_hódî
 (
ªq
, "C⁄√˘i⁄", "Kìp-Alive", 
ªl_n⁄e
);

1689 
	`ªque°_£t_hódî
 (
ªq
, "C⁄√˘i⁄", "Clo£", 
ªl_n⁄e
);

1690 
	`ªque°_£t_hódî
 (
ªq
, "Proxy-C⁄√˘i⁄", "Kìp-Alive", 
ªl_n⁄e
);

1694 i‡(
›t
.
po°_d©a
 || o±.
po°_fûe_«me
)

1696 
	`ªque°_£t_hódî
 (
ªq
, "Content-Type",

1697 "≠∂iˇti⁄/x-www-f‹m-uæícoded", 
ªl_n⁄e
);

1698 i‡(
›t
.
po°_d©a
)

1699 
po°_d©a_size
 = 
	`°æí
 (
›t
.
po°_d©a
);

1702 
po°_d©a_size
 = 
	`fûe_size
 (
›t
.
po°_fûe_«me
);

1703 i‡(
po°_d©a_size
 == -1)

1705 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("POST data file %s missing: %s\n"),

1706 
	`quŸe
 (
›t
.
po°_fûe_«me
), 
	`°ªº‹
 (
î∫o
));

1707 
po°_d©a_size
 = 0;

1710 
	`ªque°_£t_hódî
 (
ªq
, "Content-Length",

1711 
	`x°rdup
 (
	`numbî_to_°©ic_°rög
 (
po°_d©a_size
)),

1712 
ªl_vÆue
);

1715 
ªåy_wôh_auth
:

1720 i‡(
›t
.
cookõs
)

1721 
	`ªque°_£t_hódî
 (
ªq
, "Cookie",

1722 
	`cookõ_hódî
 (
wgë_cookõ_j¨
,

1723 
u
->
ho°
, u->
p‹t
, u->
∑th
,

1724 #ifde‡
HAVE_SSL


1725 
u
->
scheme
 =
SCHEME_HTTPS


1730 
ªl_vÆue
);

1734 i‡(
›t
.
u£r_hódîs
)

1736 
i
;

1737 
i
 = 0; 
›t
.
u£r_hódîs
[i]; i++)

1738 
	`ªque°_£t_u£r_hódî
 (
ªq
, 
›t
.
u£r_hódîs
[
i
]);

1741 
¥oxyauth
 = 
NULL
;

1742 i‡(
¥oxy
)

1744 *
¥oxy_u£r
, *
¥oxy_∑sswd
;

1750 i‡(
›t
.
¥oxy_u£r
 && o±.
¥oxy_∑sswd
)

1752 
¥oxy_u£r
 = 
›t
.proxy_user;

1753 
¥oxy_∑sswd
 = 
›t
.proxy_passwd;

1757 
¥oxy_u£r
 = 
¥oxy
->
u£r
;

1758 
¥oxy_∑sswd
 = 
¥oxy
->
∑sswd
;

1762 i‡(
¥oxy_u£r
 && 
¥oxy_∑sswd
)

1763 
¥oxyauth
 = 
	`basic_authítiˇti⁄_ícode
 (
¥oxy_u£r
, 
¥oxy_∑sswd
);

1767 
c⁄n
 = 
¥oxy
;

1770 #ifde‡
HAVE_SSL


1771 i‡(
u
->
scheme
 !
SCHEME_HTTPS
)

1773 
	`ªque°_£t_hódî
 (
ªq
, "Proxy-Auth‹iz©i⁄", 
¥oxyauth
, 
ªl_vÆue
);

1776 
kìp_Æive
 = 
åue
;

1780 i‡(
öhibô_kìp_Æive
)

1781 
kìp_Æive
 = 
Ál£
;

1788 
uæ
 *
ªÀv™t
 = 
c⁄n
;

1789 #ifde‡
HAVE_SSL


1790 i‡(
u
->
scheme
 =
SCHEME_HTTPS
)

1791 
ªÀv™t
 = 
u
;

1794 i‡(
	`≥rsi°ít_avaûabÀ_p
 (
ªÀv™t
->
ho°
,Ññev™t->
p‹t
,

1795 #ifde‡
HAVE_SSL


1796 
ªÀv™t
->
scheme
 =
SCHEME_HTTPS
,

1800 &
ho°_lookup_Áûed
))

1802 
sock
 = 
pc⁄n
.
sockë
;

1803 
usög_s¶
 = 
pc⁄n
.
s¶
;

1804 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("ReusingÉxisting connectionÅo %s:%d.\n"),

1805 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
pc⁄n
.
ho°
),

1806 
pc⁄n
.
p‹t
);

1807 
	`DEBUGP
 (("Reusög fd %d.\n", 
sock
));

1808 i‡(
pc⁄n
.
auth‹ized
)

1812 
	`ªque°_ªmove_hódî
 (
ªq
, "Authorization");

1814 i‡(
ho°_lookup_Áûed
)

1816 
	`ªque°_‰ì
 (
ªq
);

1817 
	`log¥ötf
(
LOG_NOTQUIET
,

1818 
	`_
("%s: unableÅoÑesolve hostáddress %s\n"),

1819 
exec_«me
, 
	`quŸe
 (
ªÀv™t
->
ho°
));

1820  
HOSTERR
;

1824 i‡(
sock
 < 0)

1826 
sock
 = 
	`c⁄√˘_to_ho°
 (
c⁄n
->
ho°
, c⁄n->
p‹t
);

1827 i‡(
sock
 =
E_HOST
)

1829 
	`ªque°_‰ì
 (
ªq
);

1830  
HOSTERR
;

1832 i‡(
sock
 < 0)

1834 
	`ªque°_‰ì
 (
ªq
);

1835  (
	`ªåyabÀ_sockë_c⁄√˘_îr‹
 (
î∫o
)

1836 ? 
CONERROR
 : 
CONIMPOSSIBLE
);

1839 #ifde‡
HAVE_SSL


1840 i‡(
¥oxy
 && 
u
->
scheme
 =
SCHEME_HTTPS
)

1844 
ªque°
 *
c⁄ƒeq
 = 
	`ªque°_√w
 ();

1845 
	`ªque°_£t_mëhod
 (
c⁄ƒeq
, "CONNECT",

1846 
	`≠rötf
 ("%s:%d", 
u
->
ho°
, u->
p‹t
));

1847 
	`SET_USER_AGENT
 (
c⁄ƒeq
);

1848 i‡(
¥oxyauth
)

1850 
	`ªque°_£t_hódî
 (
c⁄ƒeq
, "Proxy-Authorization",

1851 
¥oxyauth
, 
ªl_vÆue
);

1855 
¥oxyauth
 = 
NULL
;

1862 
wrôe_îr‹
 = 
	`ªque°_£nd
 (
c⁄ƒeq
, 
sock
);

1863 
	`ªque°_‰ì
 (
c⁄ƒeq
);

1864 i‡(
wrôe_îr‹
 < 0)

1866 
	`CLOSE_INVALIDATE
 (
sock
);

1867  
WRITEFAILED
;

1870 
hód
 = 
	`ªad_hâp_ª•⁄£_hód
 (
sock
);

1871 i‡(!
hód
)

1873 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("FailedÑeadingÖroxyÑesponse: %s\n"),

1874 
	`fd_îr°r
 (
sock
));

1875 
	`CLOSE_INVALIDATE
 (
sock
);

1876  
HERR
;

1878 
mesßge
 = 
NULL
;

1879 i‡(!*
hód
)

1881 
	`x‰ì
 (
hód
);

1882 
Áûed_tu¬ñ
;

1884 
	`DEBUGP
 (("¥oxyÑe•⁄ded wôh: [%s]\n", 
hód
));

1886 
ª•
 = 
	`ª•_√w
 (
hód
);

1887 
°©code
 = 
	`ª•_°©us
 (
ª•
, &
mesßge
);

1888 i‡(
°©code
 < 0)

1890 *
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

1891 
	`log¥ötf
 (
LOG_VERBOSE
, "%d\n", 
°©code
);

1892 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%†ERROR %d: %s.\n"), 
tms
, 
°©code
,

1893 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
,

1894 
	`_
("Malformed statusÜine")));

1895 
	`x‰ì
 (
hód
);

1896  
HERR
;

1898 
hs
->
mesßge
 = 
	`x°rdup
 (message);

1899 
	`ª•_‰ì
 (
ª•
);

1900 
	`x‰ì
 (
hód
);

1901 i‡(
°©code
 != 200)

1903 
Áûed_tu¬ñ
:

1904 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("ProxyÅunneling failed: %s"),

1905 
mesßge
 ? 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, message) : "?");

1906 
	`x‰ì_nuŒ
 (
mesßge
);

1907  
CONSSLERR
;

1909 
	`x‰ì_nuŒ
 (
mesßge
);

1914 
c⁄n
 = 
u
;

1917 i‡(
c⁄n
->
scheme
 =
SCHEME_HTTPS
)

1919 i‡(!
	`s¶_c⁄√˘_wgë
 (
sock
))

1921 
	`fd_˛o£
 (
sock
);

1922  
CONSSLERR
;

1924 i‡(!
	`s¶_check_˚πifiˇã
 (
sock
, 
u
->
ho°
))

1926 
	`fd_˛o£
 (
sock
);

1927  
VERIFCERTERR
;

1929 
usög_s¶
 = 
åue
;

1935 
wrôe_îr‹
 = 
	`ªque°_£nd
 (
ªq
, 
sock
);

1937 i‡(
wrôe_îr‹
 >= 0)

1939 i‡(
›t
.
po°_d©a
)

1941 
	`DEBUGP
 (("[POST d©a: %s]\n", 
›t
.
po°_d©a
));

1942 
wrôe_îr‹
 = 
	`fd_wrôe
 (
sock
, 
›t
.
po°_d©a
, 
po°_d©a_size
, -1);

1944 i‡(
›t
.
po°_fûe_«me
 && 
po°_d©a_size
 != 0)

1945 
wrôe_îr‹
 = 
	`po°_fûe
 (
sock
, 
›t
.
po°_fûe_«me
, 
po°_d©a_size
);

1948 i‡(
wrôe_îr‹
 < 0)

1950 
	`CLOSE_INVALIDATE
 (
sock
);

1951 
	`ªque°_‰ì
 (
ªq
);

1952  
WRITEFAILED
;

1954 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("%sÑequest sent,áwaitingÑesponse... "),

1955 
¥oxy
 ? "Proxy" : "HTTP");

1956 
c⁄éí
 = -1;

1957 
c⁄å™ge
 = 0;

1958 *
dt
 &~
RETROKF
;

1960 
ªad_hódî
:

1961 
hód
 = 
	`ªad_hâp_ª•⁄£_hód
 (
sock
);

1962 i‡(!
hód
)

1964 i‡(
î∫o
 == 0)

1966 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("No dataÑeceived.\n"));

1967 
	`CLOSE_INVALIDATE
 (
sock
);

1968 
	`ªque°_‰ì
 (
ªq
);

1969  
HEOF
;

1973 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("ReadÉrror (%s) in headers.\n"),

1974 
	`fd_îr°r
 (
sock
));

1975 
	`CLOSE_INVALIDATE
 (
sock
);

1976 
	`ªque°_‰ì
 (
ªq
);

1977  
HERR
;

1980 
	`DEBUGP
 (("\n---ª•⁄£ begö---\n%s---ª•⁄£Énd---\n", 
hód
));

1982 
ª•
 = 
	`ª•_√w
 (
hód
);

1985 
mesßge
 = 
NULL
;

1986 
°©code
 = 
	`ª•_°©us
 (
ª•
, &
mesßge
);

1987 i‡(
°©code
 < 0)

1989 *
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

1990 
	`log¥ötf
 (
LOG_VERBOSE
, "%d\n", 
°©code
);

1991 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%†ERROR %d: %s.\n"), 
tms
, 
°©code
,

1992 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
,

1993 
	`_
("Malformed statusÜine")));

1994 
	`CLOSE_INVALIDATE
 (
sock
);

1995 
	`ªque°_‰ì
 (
ªq
);

1996  
HERR
;

1999 i‡(
	`H_10X
 (
°©code
))

2001 
	`DEBUGP
 (("IgnoringÑesponse\n"));

2002 
ªad_hódî
;

2005 
hs
->
mesßge
 = 
	`x°rdup
 (message);

2006 i‡(!
›t
.
£rvî_ª•⁄£
)

2007 
	`log¥ötf
 (
LOG_VERBOSE
, "%2d %s\n", 
°©code
,

2008 
mesßge
 ? 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, message) : "");

2011 
	`log¥ötf
 (
LOG_VERBOSE
, "\n");

2012 
	`¥öt_£rvî_ª•⁄£
 (
ª•
, " ");

2015 i‡(!
›t
.
ign‹e_Àngth


2016 && 
	`ª•_hódî_c›y
 (
ª•
, "C⁄ã¡-Lígth", 
hdrvÆ
,  (hdrval)))

2018 
wgöt
 
∑r£d
;

2019 
î∫o
 = 0;

2020 
∑r£d
 = 
	`°r_to_wgöt
 (
hdrvÆ
, 
NULL
, 10);

2021 i‡(
∑r£d
 =
WGINT_MAX
 && 
î∫o
 =
ERANGE
)

2028 
c⁄éí
 = -1;

2030 i‡(
∑r£d
 < 0)

2034 
c⁄éí
 = -1;

2037 
c⁄éí
 = 
∑r£d
;

2041 i‡(!
öhibô_kìp_Æive
 && 
c⁄éí
 != -1)

2043 i‡(
	`ª•_hódî_c›y
 (
ª•
, "C⁄√˘i⁄", 
hdrvÆ
,  (hdrval)))

2045 i‡(0 =
	`°rˇ£cmp
 (
hdrvÆ
, "Close"))

2046 
kìp_Æive
 = 
Ál£
;

2050 
	`ª•_hódî_c›y
 (
ª•
, "Tøns„r-Encodög", 
hdrvÆ
,  (hdrval));

2051 i‡(0 =
	`°rˇ£cmp
 (
hdrvÆ
, "chunked"))

2052 
chunked_å™s„r_ícodög
 = 
åue
;

2055 i‡(
›t
.
cookõs
)

2057 
s˝os
;

2058 c⁄° *
scbeg
, *
s˚nd
;

2060 
	`as£π
 (
wgë_cookõ_j¨
 !
NULL
);

2061 
s˝os
 = 0;

2062 (
s˝os
 = 
	`ª•_hódî_loˇã
 (
ª•
, "Set-Cookie", scpos,

2063 &
scbeg
, &
s˚nd
)) != -1;

2064 ++
s˝os
)

2066 *
£t_cookõ
; 
	`BOUNDED_TO_ALLOCA
 (
scbeg
, 
s˚nd
, set_cookie);

2067 
	`cookõ_h™dÀ_£t_cookõ
 (
wgë_cookõ_j¨
, 
u
->
ho°
, u->
p‹t
,

2068 
u
->
∑th
, 
£t_cookõ
);

2072 i‡(
kìp_Æive
)

2075 
	`ªgi°î_≥rsi°ít
 (
c⁄n
->
ho°
, c⁄n->
p‹t
, 
sock
, 
usög_s¶
);

2077 i‡(
°©code
 =
HTTP_STATUS_UNAUTHORIZED
)

2080 i‡(
kìp_Æive
 && !
hód_⁄ly


2081 && 
	`skù_sh‹t_body
 (
sock
, 
c⁄éí
, 
chunked_å™s„r_ícodög
))

2082 
	`CLOSE_FINISH
 (
sock
);

2084 
	`CLOSE_INVALIDATE
 (
sock
);

2085 
pc⁄n
.
auth‹ized
 = 
Ál£
;

2086 i‡(!
auth_föished
 && (
u£r
 && 
∑sswd
))

2091 
w≠os
;

2092 c⁄° *
wabeg
, *
w´nd
;

2093 *
www_authítiˇã
 = 
NULL
;

2094 
w≠os
 = 0;

2095 (
w≠os
 = 
	`ª•_hódî_loˇã
 (
ª•
, "WWW-Authenticate", wapos,

2096 &
wabeg
, &
w´nd
)) != -1;

2097 ++
w≠os
)

2098 i‡(
	`known_authítiˇti⁄_scheme_p
 (
wabeg
, 
w´nd
))

2100 
	`BOUNDED_TO_ALLOCA
 (
wabeg
, 
w´nd
, 
www_authítiˇã
);

2104 i‡(!
www_authítiˇã
)

2108 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Unknownáuthentication scheme.\n"));

2110 i‡(!
basic_auth_föished


2111 || !
	`BEGINS_WITH
 (
www_authítiˇã
, "Basic"))

2113 *
±h
;

2114 
±h
 = 
	`uæ_fuŒ_∑th
 (
u
);

2115 
	`ªque°_£t_hódî
 (
ªq
, "Authorization",

2116 
	`¸óã_auth‹iz©i⁄_löe
 (
www_authítiˇã
,

2117 
u£r
, 
∑sswd
,

2118 
	`ªque°_mëhod
 (
ªq
),

2119 
±h
,

2120 &
auth_föished
),

2121 
ªl_vÆue
);

2122 i‡(
	`BEGINS_WITH
 (
www_authítiˇã
, "NTLM"))

2123 
¡lm_£í
 = 
åue
;

2124 i‡(!
u
->
u£r
 && 
	`BEGINS_WITH
 (
www_authítiˇã
, "Basic"))

2128 
	`ªgi°î_basic_auth_ho°
 (
u
->
ho°
);

2130 
	`x‰ì
 (
±h
);

2131 
	`x‰ì_nuŒ
 (
mesßge
);

2132 
	`ª•_‰ì
 (
ª•
);

2133 
	`x‰ì
 (
hód
);

2134 
ªåy_wôh_auth
;

2142 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("Authorization failed.\n"));

2143 
	`ªque°_‰ì
 (
ªq
);

2144 
	`x‰ì_nuŒ
 (
mesßge
);

2145 
	`ª•_‰ì
 (
ª•
);

2146 
	`x‰ì
 (
hód
);

2147  
AUTHFAILED
;

2152 i‡(
¡lm_£í
)

2153 
pc⁄n
.
auth‹ized
 = 
åue
;

2158 i‡(!
hs
->
loˇl_fûe
)

2160 *
loˇl_fûe
 = 
NULL
;

2163 i‡(!
›t
.
c⁄ã¡_di•osôi⁄


2164 || !
	`ª•_hódî_c›y
 (
ª•
, "Content-Disposition",

2165 
hdrvÆ
,  (hdrval))

2166 || !
	`∑r£_c⁄ã¡_di•osôi⁄
 (
hdrvÆ
, &
loˇl_fûe
))

2170 
hs
->
loˇl_fûe
 = 
	`uæ_fûe_«me
 (
u
, 
NULL
);

2174 
	`DEBUGP
 (("Parsed filename from Content-Disposition: %s\n",

2175 
loˇl_fûe
));

2176 
hs
->
loˇl_fûe
 = 
	`uæ_fûe_«me
 (
u
,Üocal_file);

2181 i‡(!
hs
->
exi°í˚_checked
 && 
	`fûe_exi°s_p
 (hs->
loˇl_fûe
))

2183 i‡(
›t
.
no˛obbî
 && !›t.
ouçut_documít
)

2188 
	`gë_fûe_Êags
 (
hs
->
loˇl_fûe
, 
dt
);

2189 
	`x‰ì
 (
hód
);

2190 
	`x‰ì_nuŒ
 (
mesßge
);

2191  
RETRUNNEEDED
;

2193 i‡(!
ALLOW_CLOBBER
)

2195 *
unique
 = 
	`unique_«me
 (
hs
->
loˇl_fûe
, 
åue
);

2196 i‡(
unique
 !
hs
->
loˇl_fûe
)

2197 
	`x‰ì
 (
hs
->
loˇl_fûe
);

2198 
hs
->
loˇl_fûe
 = 
unique
;

2201 
hs
->
exi°í˚_checked
 = 
åue
;

2205 i‡(
›t
.
time°ampög
 && !
hs
->
time°amp_checked
)

2207 
size_t
 
fûíame_Àn
 = 
	`°æí
 (
hs
->
loˇl_fûe
);

2208 *
fûíame_∂us_‹ig_suffix
 = 
	`Æloˇ
 (
fûíame_Àn
 +  (
ORIG_SFX
));

2209 
boﬁ
 
loˇl_dŸ_‹ig_fûe_exi°s
 = 
Ál£
;

2210 *
loˇl_fûíame
 = 
NULL
;

2211 
°ru˘_°©
 
°
;

2213 i‡(
›t
.
backup_c⁄vîãd
)

2231 
	`mem˝y
 (
fûíame_∂us_‹ig_suffix
, 
hs
->
loˇl_fûe
, 
fûíame_Àn
);

2232 
	`mem˝y
 (
fûíame_∂us_‹ig_suffix
 + 
fûíame_Àn
,

2233 
ORIG_SFX
,  (ORIG_SFX));

2236 i‡(
	`°©
 (
fûíame_∂us_‹ig_suffix
, &
°
) == 0)

2238 
loˇl_dŸ_‹ig_fûe_exi°s
 = 
åue
;

2239 
loˇl_fûíame
 = 
fûíame_∂us_‹ig_suffix
;

2243 i‡(!
loˇl_dŸ_‹ig_fûe_exi°s
)

2245 i‡(
	`°©
 (
hs
->
loˇl_fûe
, &
°
) == 0)

2246 
loˇl_fûíame
 = 
hs
->
loˇl_fûe
;

2248 i‡(
loˇl_fûíame
 !
NULL
)

2253 
hs
->
‹ig_fûe_«me
 = 
	`x°rdup
 (
loˇl_fûíame
);

2254 
hs
->
‹ig_fûe_size
 = 
°
.
°_size
;

2255 
hs
->
‹ig_fûe_t°amp
 = 
°
.
°_mtime
;

2256 #ifde‡
WINDOWS


2259 ++
hs
->
‹ig_fûe_t°amp
;

2264 
	`ªque°_‰ì
 (
ªq
);

2266 
hs
->
°©code
 = statcode;

2267 i‡(
°©code
 == -1)

2268 
hs
->
îr‹
 = 
	`x°rdup
 (
	`_
("Malformed statusÜine"));

2269 i‡(!*
mesßge
)

2270 
hs
->
îr‹
 = 
	`x°rdup
 (
	`_
("(no description)"));

2272 
hs
->
îr‹
 = 
	`x°rdup
 (
mesßge
);

2273 
	`x‰ì_nuŒ
 (
mesßge
);

2275 
ty≥
 = 
	`ª•_hódî_°rdup
 (
ª•
, "Content-Type");

2276 i‡(
ty≥
)

2278 *
tmp
 = 
	`°rchr
 (
ty≥
, ';');

2279 i‡(
tmp
)

2282 *
tmp2
 = 
tmp
 + 1;

2284 
tmp
 > 
ty≥
 && 
	`c_is•a˚
 (tmp[-1]))

2285 --
tmp
;

2286 *
tmp
 = '\0';

2289 i‡(
›t
.
íabÀ_úi
 && !›t.
ícodög_ªmŸe
)

2291 
tmp
 = 
	`∑r£_ch¨£t
 (
tmp2
);

2292 i‡(
tmp
)

2293 
	`£t_c⁄ã¡_ícodög
 (
úi
, 
tmp
);

2297 
hs
->
√wloc
 = 
	`ª•_hódî_°rdup
 (
ª•
, "Location");

2298 
hs
->
ªmŸe_time
 = 
	`ª•_hódî_°rdup
 (
ª•
, "Last-Modified");

2300 i‡(
	`ª•_hódî_c›y
 (
ª•
, "C⁄ã¡-R™ge", 
hdrvÆ
,  (hdrval)))

2302 
wgöt
 
fú°_byã_pos
, 
œ°_byã_pos
, 
ítôy_Àngth
;

2303 i‡(
	`∑r£_c⁄ã¡_ønge
 (
hdrvÆ
, &
fú°_byã_pos
, &
œ°_byã_pos
,

2304 &
ítôy_Àngth
))

2306 
c⁄å™ge
 = 
fú°_byã_pos
;

2307 
c⁄éí
 = 
œ°_byã_pos
 - 
fú°_byã_pos
 + 1;

2310 
	`ª•_‰ì
 (
ª•
);

2313 i‡(
	`H_20X
 (
°©code
))

2314 *
dt
 |
RETROKF
;

2317 i‡(
	`H_REDIRECTED
 (
°©code
Ë|| sètcodê=
HTTP_STATUS_MULTIPLE_CHOICES
)

2324 i‡(
°©code
 =
HTTP_STATUS_MULTIPLE_CHOICES
 && !
hs
->
√wloc
)

2325 *
dt
 |
RETROKF
;

2328 
	`log¥ötf
 (
LOG_VERBOSE
,

2329 
	`_
("Location: %s%s\n"),

2330 
hs
->
√wloc
 ? 
	`es˙⁄¥öt_uri
 (hs->√wlocË: 
	`_
("unspecified"),

2331 
hs
->
√wloc
 ? 
	`_
(" [following]") : "");

2332 i‡(
kìp_Æive
 && !
hód_⁄ly


2333 && 
	`skù_sh‹t_body
 (
sock
, 
c⁄éí
, 
chunked_å™s„r_ícodög
))

2334 
	`CLOSE_FINISH
 (
sock
);

2336 
	`CLOSE_INVALIDATE
 (
sock
);

2337 
	`x‰ì_nuŒ
 (
ty≥
);

2338 
	`x‰ì
 (
hód
);

2346 i‡(
°©code
 =
HTTP_STATUS_TEMPORARY_REDIRECT
)

2347  
NEWLOCATION_KEEP_POST
;

2348  
NEWLOCATION
;

2355 i‡(!
ty≥
 ||

2356 0 =
	`°∫ˇ£cmp
 (
ty≥
, 
TEXTHTML_S
, 
	`°æí
 (TEXTHTML_S)) ||

2357 0 =
	`°∫ˇ£cmp
 (
ty≥
, 
TEXTXHTML_S
, 
	`°æí
 (TEXTXHTML_S)))

2358 *
dt
 |
TEXTHTML
;

2360 *
dt
 &~
TEXTHTML
;

2362 i‡(
ty≥
 &&

2363 0 =
	`°∫ˇ£cmp
 (
ty≥
, 
TEXTCSS_S
, 
	`°æí
 (TEXTCSS_S)))

2364 *
dt
 |
TEXTCSS
;

2366 *
dt
 &~
TEXTCSS
;

2368 i‡(
›t
.
adju°_exãnsi⁄
)

2370 i‡(*
dt
 & 
TEXTHTML
)

2376 
	`ísuª_exãnsi⁄
 (
hs
, ".html", 
dt
);

2378 i‡(*
dt
 & 
TEXTCSS
)

2380 
	`ísuª_exãnsi⁄
 (
hs
, ".css", 
dt
);

2384 i‡(
°©code
 =
HTTP_STATUS_RANGE_NOT_SATISFIABLE


2385 || (!
›t
.
time°ampög
 && 
hs
->
ª°vÆ
 > 0 && 
°©code
 =
HTTP_STATUS_OK


2386 && 
c⁄å™ge
 =0 && 
c⁄éí
 >0 && 
hs
->
ª°vÆ
 >= contlen))

2392 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("\
\n The file isálready fullyÑetrieved;ÇothingÅo do.\n\n"));

2395 
hs
->
Àn
 = 
c⁄éí
;

2396 
hs
->
ªs
 = 0;

2398 *
dt
 |
RETROKF
;

2399 
	`x‰ì_nuŒ
 (
ty≥
);

2400 
	`CLOSE_INVALIDATE
 (
sock
);

2402 
	`x‰ì
 (
hód
);

2403  
RETRUNNEEDED
;

2405 i‡((
c⁄å™ge
 !0 && c⁄å™gê!
hs
->
ª°vÆ
)

2406 || (
	`H_PARTIAL
 (
°©code
Ë&& !
c⁄å™ge
))

2410 
	`x‰ì_nuŒ
 (
ty≥
);

2411 
	`CLOSE_INVALIDATE
 (
sock
);

2412 
	`x‰ì
 (
hód
);

2413  
RANGEERR
;

2415 i‡(
c⁄éí
 == -1)

2416 
hs
->
c⁄éí
 = -1;

2418 
hs
->
c⁄éí
 = c⁄éí + 
c⁄å™ge
;

2420 i‡(
›t
.
vîbo£
)

2422 i‡(*
dt
 & 
RETROKF
)

2427 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("Length: "));

2428 i‡(
c⁄éí
 != -1)

2430 
	`logputs
 (
LOG_VERBOSE
, 
	`numbî_to_°©ic_°rög
 (
c⁄éí
 + 
c⁄å™ge
));

2431 i‡(
c⁄éí
 + 
c⁄å™ge
 >= 1024)

2432 
	`log¥ötf
 (
LOG_VERBOSE
, " (%s)",

2433 
	`hum™_ªadabÀ
 (
c⁄éí
 + 
c⁄å™ge
));

2434 i‡(
c⁄å™ge
)

2436 i‡(
c⁄éí
 >= 1024)

2437 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
(", %s (%s)Ñemaining"),

2438 
	`numbî_to_°©ic_°rög
 (
c⁄éí
),

2439 
	`hum™_ªadabÀ
 (
c⁄éí
));

2441 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
(", %sÑemaining"),

2442 
	`numbî_to_°©ic_°rög
 (
c⁄éí
));

2446 
	`logputs
 (
LOG_VERBOSE
,

2447 
›t
.
ign‹e_Àngth
 ? 
	`_
("ignored") : _("unspecified"));

2448 i‡(
ty≥
)

2449 
	`log¥ötf
 (
LOG_VERBOSE
, " [%s]\n", 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ty≥
));

2451 
	`logputs
 (
LOG_VERBOSE
, "\n");

2454 
	`x‰ì_nuŒ
 (
ty≥
);

2455 
ty≥
 = 
NULL
;

2458 i‡(!(*
dt
 & 
RETROKF
Ë|| 
hód_⁄ly
)

2461 
hs
->
Àn
 = 0;

2462 
hs
->
ªs
 = 0;

2463 
	`x‰ì_nuŒ
 (
ty≥
);

2464 i‡(
hód_⁄ly
)

2470 
	`CLOSE_FINISH
 (
sock
);

2471 i‡(
kìp_Æive


2472 && 
	`skù_sh‹t_body
 (
sock
, 
c⁄éí
, 
chunked_å™s„r_ícodög
))

2474 
	`CLOSE_FINISH
 (
sock
);

2476 
	`CLOSE_INVALIDATE
 (
sock
);

2477 
	`x‰ì
 (
hód
);

2478  
RETRFINISHED
;

2484 #ifde‡
__VMS


2485 
	#FOPEN_OPT_ARGS
 "f›=sqo", "acc", 
acc_cb
, &
›í_id


	)

2486 
	#FOPEN_BIN_FLAG
 3

	)

2488 
	#FOPEN_BIN_FLAG
 
åue


	)

2492 i‡(!
ouçut_°ªam
)

2494 
	`mkÆldús
 (
hs
->
loˇl_fûe
);

2495 i‡(
›t
.
backups
)

2496 
	`rŸ©e_backups
 (
hs
->
loˇl_fûe
);

2497 i‡(
hs
->
ª°vÆ
)

2499 #ifde‡
__VMS


2500 
›í_id
;

2502 
›í_id
 = 21;

2503 
Â
 = 
	`f›í
 (
hs
->
loˇl_fûe
, "ab", 
FOPEN_OPT_ARGS
);

2505 
Â
 = 
	`f›í
 (
hs
->
loˇl_fûe
, "ab");

2508 i‡(
ALLOW_CLOBBER
 || 
cou¡
 > 0)

2510 i‡(
›t
.
u∆ök
 && 
	`fûe_exi°s_p
 (
hs
->
loˇl_fûe
))

2512 
ªs
 = 
	`u∆ök
 (
hs
->
loˇl_fûe
);

2513 i‡(
ªs
 < 0)

2515 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
hs
->
loˇl_fûe
,

2516 
	`°ªº‹
 (
î∫o
));

2517 
	`CLOSE_INVALIDATE
 (
sock
);

2518 
	`x‰ì
 (
hód
);

2519  
UNLINKERR
;

2523 #ifde‡
__VMS


2524 
›í_id
;

2526 
›í_id
 = 22;

2527 
Â
 = 
	`f›í
 (
hs
->
loˇl_fûe
, "wb", 
FOPEN_OPT_ARGS
);

2529 
Â
 = 
	`f›í
 (
hs
->
loˇl_fûe
, "wb");

2534 
Â
 = 
	`f›í_ex˛
 (
hs
->
loˇl_fûe
, 
FOPEN_BIN_FLAG
);

2535 i‡(!
Â
 && 
î∫o
 =
EEXIST
)

2541 
	`log¥ötf
 (
LOG_NOTQUIET
,

2542 
	`_
("%s has sprung intoÉxistence.\n"),

2543 
hs
->
loˇl_fûe
);

2544 
	`CLOSE_INVALIDATE
 (
sock
);

2545 
	`x‰ì
 (
hód
);

2546  
FOPEN_EXCL_ERR
;

2549 i‡(!
Â
)

2551 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s\n", 
hs
->
loˇl_fûe
, 
	`°ªº‹
 (
î∫o
));

2552 
	`CLOSE_INVALIDATE
 (
sock
);

2553 
	`x‰ì
 (
hód
);

2554  
FOPENERR
;

2558 
Â
 = 
ouçut_°ªam
;

2561 i‡(
›t
.
vîbo£
)

2563 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("SavingÅo: %s\n"),

2564 
	`HYPHENP
 (
hs
->
loˇl_fûe
Ë? 
	`quŸe
 ("STDOUT") : quote (hs->local_file));

2569 i‡(
›t
.
ßve_hódîs
 && 
hs
->
ª°vÆ
 == 0)

2570 
	`fwrôe
 (
hód
, 1, 
	`°æí
 (hód), 
Â
);

2573 
	`x‰ì
 (
hód
);

2576 
Êags
 = 0;

2577 i‡(
c⁄éí
 != -1)

2581 
Êags
 |
rb_ªad_exa˘ly
;

2582 i‡(
hs
->
ª°vÆ
 > 0 && 
c⁄å™ge
 == 0)

2585 
Êags
 |
rb_skù_°¨ços
;

2587 i‡(
chunked_å™s„r_ícodög
)

2588 
Êags
 |
rb_chunked_å™s„r_ícodög
;

2590 
hs
->
Àn
 = hs->
ª°vÆ
;

2591 
hs
->
rd_size
 = 0;

2592 
hs
->
ªs
 = 
	`fd_ªad_body
 (
sock
, 
Â
, 
c⁄éí
 != -1 ? contlen : 0,

2593 
hs
->
ª°vÆ
, &hs->
rd_size
, &hs->
Àn
, &hs->
d…ime
,

2594 
Êags
);

2596 i‡(
hs
->
ªs
 >= 0)

2597 
	`CLOSE_FINISH
 (
sock
);

2600 i‡(
hs
->
ªs
 < 0)

2601 
hs
->
rdîrmsg
 = 
	`x°rdup
 (
	`fd_îr°r
 (
sock
));

2602 
	`CLOSE_INVALIDATE
 (
sock
);

2605 i‡(!
ouçut_°ªam
)

2606 
	`f˛o£
 (
Â
);

2607 i‡(
hs
->
ªs
 == -2)

2608  
FWRITEERR
;

2609  
RETRFINISHED
;

2610 
	}
}

2614 
uîr_t


2615 
	$hâp_lo›
 (
uæ
 *
u
, uæ *
‹igöÆ_uæ
, **
√wloc
,

2616 **
loˇl_fûe
, c⁄° *
ª„ªr
, *
dt
, 
uæ
 *
¥oxy
,

2617 
úi
 *iri)

2619 
cou¡
;

2620 
boﬁ
 
gŸ_hód
 = 
Ál£
;

2621 
boﬁ
 
time_ˇme_‰om_hód
 = 
Ál£
;

2622 
boﬁ
 
gŸ_«me
 = 
Ál£
;

2623 *
tms
;

2624 c⁄° *
tmøã
;

2625 
uîr_t
 
îr
, 
ªt
 = 
TRYLIMEXC
;

2626 
time_t
 
tmr
 = -1;

2627 
hâp_°©
 
h°©
;

2628 
°ru˘_°©
 
°
;

2629 
boﬁ
 
£nd_hód_fú°
 = 
åue
;

2630 *
fûe_«me
;

2631 
boﬁ
 
f‹˚_fuŒ_ªåõve
 = 
Ál£
;

2634 
	`as£π
 (
loˇl_fûe
 =
NULL
 || *local_file == NULL);

2637 i‡(
loˇl_fûe
 && 
›t
.
ouçut_documít
)

2638 *
loˇl_fûe
 = 
	`HYPHENP
 (
›t
.
ouçut_documít
Ë? 
NULL
 : 
	`x°rdup
 (opt.output_document);

2641 *
√wloc
 = 
NULL
;

2646 i‡(
›t
.
cookõs
)

2647 
	`lﬂd_cookõs
 ();

2650 i‡(
›t
.
·p_glob
 && 
	`has_wûdˇrds_p
 (
u
->
∑th
))

2651 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("Warning: wildcardsÇot supported in HTTP.\n"));

2654 
	`xzîo
 (
h°©
);

2655 
h°©
.
ª„ªr
 =Ñeferer;

2658 i‡(
›t
.
ouçut_documít
)

2660 
h°©
.
loˇl_fûe
 = 
	`x°rdup
 (
›t
.
ouçut_documít
);

2661 
gŸ_«me
 = 
åue
;

2663 i‡(!
›t
.
c⁄ã¡_di•osôi⁄
)

2665 
h°©
.
loˇl_fûe
 =

2666 
	`uæ_fûe_«me
 (
›t
.
åu°£rvî«mes
 ? 
u
 : 
‹igöÆ_uæ
, 
NULL
);

2667 
gŸ_«me
 = 
åue
;

2670 i‡(
gŸ_«me
 && 
	`fûe_exi°s_p
 (
h°©
.
loˇl_fûe
Ë&& 
›t
.
no˛obbî
 && !›t.
ouçut_documít
)

2675 
	`gë_fûe_Êags
 (
h°©
.
loˇl_fûe
, 
dt
);

2676 
ªt
 = 
RETROK
;

2677 
exô
;

2681 
cou¡
 = 0;

2684 *
dt
 = 0;

2687 i‡(!
›t
.
•idî
)

2688 
£nd_hód_fú°
 = 
Ál£
;

2693 
fûe_«me
 = 
	`uæ_fûe_«me
 (
›t
.
åu°£rvî«mes
 ? 
u
 : 
‹igöÆ_uæ
, 
NULL
);

2694 i‡(
›t
.
time°ampög
 && (
	`fûe_exi°s_p
 (
fûe_«me
)

2695 || 
›t
.
c⁄ã¡_di•osôi⁄
))

2696 
£nd_hód_fú°
 = 
åue
;

2697 
	`x‰ì
 (
fûe_«me
);

2703 ++
cou¡
;

2705 
	`¶ìp_bëwìn_ªåõvÆs
 (
cou¡
);

2709 
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

2711 i‡(
›t
.
•idî
 && !
gŸ_hód
)

2712 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 modeÉnabled. Check ifÑemote fileÉxists.\n"));

2716 i‡(
›t
.
vîbo£
)

2718 *
huæ
 = 
	`uæ_°rög
 (
u
, 
URL_AUTH_HIDE_PASSWD
);

2720 i‡(
cou¡
 > 1)

2722 
tmp
[256];

2723 
	`•rötf
 (
tmp
, 
	`_
("—ry:%2d)"), 
cou¡
);

2724 
	`log¥ötf
 (
LOG_NOTQUIET
, "--%s-- %s %s\n",

2725 
tms
, 
tmp
, 
huæ
);

2729 
	`log¥ötf
 (
LOG_NOTQUIET
, "--%s-- %s\n",

2730 
tms
, 
huæ
);

2733 #ifde‡
WINDOWS


2734 
	`ws_ch™gëôÀ
 (
huæ
);

2736 
	`x‰ì
 (
huæ
);

2742 i‡(
£nd_hód_fú°
 && !
gŸ_hód
)

2743 *
dt
 |
HEAD_ONLY
;

2745 *
dt
 &~
HEAD_ONLY
;

2748 i‡(
f‹˚_fuŒ_ªåõve
)

2749 
h°©
.
ª°vÆ
 = h°©.
Àn
;

2750 i‡(
›t
.
Æways_ª°


2751 && 
gŸ_«me


2752 && 
	`°©
 (
h°©
.
loˇl_fûe
, &
°
) == 0

2753 && 
	`S_ISREG
 (
°
.
°_mode
))

2757 
h°©
.
ª°vÆ
 = 
°
.
°_size
;

2758 i‡(
cou¡
 > 1)

2760 
h°©
.
ª°vÆ
 = h°©.
Àn
;

2762 
h°©
.
ª°vÆ
 = 0;

2770 i‡((
¥oxy
 && 
cou¡
 > 1)

2771 || !
›t
.
Ælow_ˇche
)

2772 *
dt
 |
SEND_NOCACHE
;

2774 *
dt
 &~
SEND_NOCACHE
;

2777 
îr
 = 
	`gëhâp
 (
u
, &
h°©
, 
dt
, 
¥oxy
, 
úi
, 
cou¡
);

2780 
tms
 = 
	`d©ëime_°r
 (
	`time
 (
NULL
));

2783 i‡(
h°©
.
√wloc
)

2784 *
√wloc
 = 
	`x°rdup
 (
h°©
.newloc);

2786 
îr
)

2788 
HERR
: 
HEOF
: 
CONSOCKERR
: 
CONCLOSED
:

2789 
CONERROR
: 
READERR
: 
WRITEFAILED
:

2790 
RANGEERR
: 
FOPEN_EXCL_ERR
:

2794 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

2796 
FWRITEERR
: 
FOPENERR
:

2798 
	`logputs
 (
LOG_VERBOSE
, "\n");

2799 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot writeÅo %s (%s).\n"),

2800 
	`quŸe
 (
h°©
.
loˇl_fûe
), 
	`°ªº‹
 (
î∫o
));

2801 
HOSTERR
: 
CONIMPOSSIBLE
: 
PROXERR
: 
AUTHFAILED
:

2802 
SSLINITFAILED
: 
CONTNOTSUPPORTED
: 
VERIFCERTERR
:

2804 
ªt
 = 
îr
;

2805 
exô
;

2806 
CONSSLERR
:

2808 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("UnableÅoÉstablish SSL connection.\n"));

2809 
ªt
 = 
îr
;

2810 
exô
;

2811 
UNLINKERR
:

2813 
	`logputs
 (
LOG_VERBOSE
, "\n");

2814 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot unlink %s (%s).\n"),

2815 
	`quŸe
 (
h°©
.
loˇl_fûe
), 
	`°ªº‹
 (
î∫o
));

2816 
ªt
 = 
îr
;

2817 
exô
;

2818 
NEWLOCATION
:

2819 
NEWLOCATION_KEEP_POST
:

2821 i‡(!*
√wloc
)

2823 
	`log¥ötf
 (
LOG_NOTQUIET
,

2824 
	`_
("ERROR: Redirection (%d) withoutÜocation.\n"),

2825 
h°©
.
°©code
);

2826 
ªt
 = 
WRONGCODE
;

2830 
ªt
 = 
îr
;

2832 
exô
;

2833 
RETRUNNEEDED
:

2835 
ªt
 = 
RETROK
;

2836 
exô
;

2837 
RETRFINISHED
:

2842 
	`ab‹t
 ();

2845 i‡(!(*
dt
 & 
RETROKF
))

2847 *
huæ
 = 
NULL
;

2848 i‡(!
›t
.
vîbo£
)

2851 
huæ
 = 
	`uæ_°rög
 (
u
, 
URL_AUTH_HIDE_PASSWD
);

2852 
	`log¥ötf
 (
LOG_NONVERBOSE
, "%s:\n", 
huæ
);

2856 i‡(*
dt
 & 
HEAD_ONLY


2857 && (
h°©
.
°©code
 == 500 || hstat.statcode == 501))

2859 
gŸ_hód
 = 
åue
;

2866 i‡(
›t
.
•idî
 && !
úi
->
utf8_ícode
)

2869 i‡(!
huæ
)

2870 
huæ
 = 
	`uæ_°rög
 (
u
, 
URL_AUTH_HIDE_PASSWD
);

2871 
	`n⁄exi°ög_uæ
 (
huæ
);

2872 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("\
 file doesÇotÉxist -- brokenÜink!!!\n"));

2877 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s ERROR %d: %s.\n"),

2878 
tms
, 
h°©
.
°©code
,

2879 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
h°©
.
îr‹
));

2881 
	`logputs
 (
LOG_VERBOSE
, "\n");

2882 
ªt
 = 
WRONGCODE
;

2883 
	`x‰ì_nuŒ
 (
huæ
);

2884 
exô
;

2888 i‡(!
gŸ_hód
)

2890 
gŸ_hód
 = 
åue
;

2892 i‡(
›t
.
time°ampög
 && !
h°©
.
ªmŸe_time
)

2894 
	`logputs
 (
LOG_NOTQUIET
, 
	`_
("\
-modified header missing --Åime-stampsÅurned off.\n"));

2897 i‡(
h°©
.
ªmŸe_time
)

2900 
tmr
 = 
	`hâp_©Ÿm
 (
h°©
.
ªmŸe_time
);

2901 i‡(
tmr
 =(
time_t
) (-1))

2902 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("\
-modified header invalid --Åime-stamp ignored.\n"));

2904 i‡(*
dt
 & 
HEAD_ONLY
)

2905 
time_ˇme_‰om_hód
 = 
åue
;

2908 i‡(
£nd_hód_fú°
)

2911 i‡(
›t
.
time°ampög
)

2913 i‡(
h°©
.
‹ig_fûe_«me
)

2918 i‡(
h°©
.
ªmŸe_time
 &&

2919 
tmr
 !(
time_t
) (-1))

2927 i‡(
h°©
.
‹ig_fûe_t°amp
 >
tmr
)

2929 i‡(
h°©
.
c⁄éí
 == -1

2930 || 
h°©
.
‹ig_fûe_size
 =h°©.
c⁄éí
)

2932 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 fileÇoÇewerÅhanÜocal file %s --ÇotÑetrieving.\n\n"),

2934 
	`quŸe
 (
h°©
.
‹ig_fûe_«me
));

2935 
ªt
 = 
RETROK
;

2936 
exô
;

2940 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 sizes doÇot match (local %s) --Ñetrieving.\n"),

2942 
	`numbî_to_°©ic_°rög
 (
h°©
.
‹ig_fûe_size
));

2947 
f‹˚_fuŒ_ªåõve
 = 
åue
;

2948 
	`logputs
 (
LOG_VERBOSE
,

2949 
	`_
("Remote file isÇewer,Ñetrieving.\n"));

2952 
	`logputs
 (
LOG_VERBOSE
, "\n");

2957 
h°©
.
time°amp_checked
 = 
åue
;

2960 i‡(
›t
.
•idî
)

2962 
boﬁ
 
föished
 = 
åue
;

2963 i‡(
›t
.
ªcursive
)

2965 i‡(*
dt
 & 
TEXTHTML
)

2967 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("\
 fileÉxistsánd could containÜinksÅo otherÑesources --Ñetrieving.\n\n"));

2969 
föished
 = 
Ál£
;

2973 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 fileÉxists but doesÇot containányÜink --ÇotÑetrieving.\n\n"));

2975 
ªt
 = 
RETROK
;

2980 i‡(*
dt
 & 
TEXTHTML
)

2982 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 fileÉxistsánd could contain furtherÜinks,\n\
Ñecursion is disabled --ÇotÑetrieving.\n\n"));

2988 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\
 fileÉxists.\n\n"));

2991 
ªt
 = 
RETROK
;

2994 i‡(
föished
)

2996 
	`log¥ötf
 (
LOG_NONVERBOSE
,

2997 
	`_
("%s URL: %s %2d %s\n"),

2998 
tms
, 
u
->
uæ
, 
h°©
.
°©code
,

2999 
h°©
.
mesßge
 ? 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, hstat.message) : "");

3000 
exô
;

3004 
gŸ_«me
 = 
åue
;

3005 *
dt
 &~
HEAD_ONLY
;

3006 
cou¡
 = 0;

3011 i‡(
›t
.
u££rvîtime°amps


3012 && (
tmr
 !(
time_t
) (-1))

3013 && ((
h°©
.
Àn
 =h°©.
c⁄éí
) ||

3014 ((
h°©
.
ªs
 =0Ë&& (h°©.
c⁄éí
 == -1))))

3016 c⁄° *
Ê
 = 
NULL
;

3017 
	`£t_loˇl_fûe
 (&
Ê
, 
h°©
.
loˇl_fûe
);

3018 i‡(
Ê
)

3020 
time_t
 
√wtmr
 = -1;

3022 i‡(
time_ˇme_‰om_hód


3023 && 
h°©
.
ªmŸe_time
 && hstat.remote_time[0])

3025 
√wtmr
 = 
	`hâp_©Ÿm
 (
h°©
.
ªmŸe_time
);

3026 i‡(
√wtmr
 !(
time_t
)-1)

3027 
tmr
 = 
√wtmr
;

3029 
	`touch
 (
Ê
, 
tmr
);

3034 
tmøã
 = 
	`ªå_øã
 (
h°©
.
rd_size
, h°©.
d…ime
);

3035 
tŸÆ_dow∆ﬂd_time
 +
h°©
.
d…ime
;

3037 i‡(
h°©
.
Àn
 =h°©.
c⁄éí
)

3039 i‡(*
dt
 & 
RETROKF
)

3041 
boﬁ
 
wrôe_to_°dout
 = (
›t
.
ouçut_documít
 && 
	`HYPHENP
 (opt.output_document));

3043 
	`log¥ötf
 (
LOG_VERBOSE
,

3044 
wrôe_to_°dout


3045 ? 
	`_
("%s (%s) - writtenÅo stdout %s[%s/%s]\n\n")

3046 : 
	`_
("%s (%s) - %s saved [%s/%s]\n\n"),

3047 
tms
, 
tmøã
,

3048 
wrôe_to_°dout
 ? "" : 
	`quŸe
 (
h°©
.
loˇl_fûe
),

3049 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
),

3050 
	`numbî_to_°©ic_°rög
 (
h°©
.
c⁄éí
));

3051 
	`log¥ötf
 (
LOG_NONVERBOSE
,

3053 
tms
, 
u
->
uæ
,

3054 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
),

3055 
	`numbî_to_°©ic_°rög
 (
h°©
.
c⁄éí
),

3056 
h°©
.
loˇl_fûe
, 
cou¡
);

3058 ++
numuæs
;

3059 
tŸÆ_dow∆ﬂded_byãs
 +
h°©
.
rd_size
;

3062 i‡(*
dt
 & 
ADDED_HTML_EXTENSION
)

3063 
	`dow∆ﬂded_fûe
 (
FILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
, 
h°©
.
loˇl_fûe
);

3065 
	`dow∆ﬂded_fûe
 (
FILE_DOWNLOADED_NORMALLY
, 
h°©
.
loˇl_fûe
);

3067 
ªt
 = 
RETROK
;

3068 
exô
;

3070 i‡(
h°©
.
ªs
 == 0)

3072 i‡(
h°©
.
c⁄éí
 == -1)

3075 i‡(*
dt
 & 
RETROKF
)

3077 
boﬁ
 
wrôe_to_°dout
 = (
›t
.
ouçut_documít
 && 
	`HYPHENP
 (opt.output_document));

3079 
	`log¥ötf
 (
LOG_VERBOSE
,

3080 
wrôe_to_°dout


3081 ? 
	`_
("%s (%s) - writtenÅo stdout %s[%s]\n\n")

3082 : 
	`_
("%s (%s) - %s saved [%s]\n\n"),

3083 
tms
, 
tmøã
,

3084 
wrôe_to_°dout
 ? "" : 
	`quŸe
 (
h°©
.
loˇl_fûe
),

3085 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
));

3086 
	`log¥ötf
 (
LOG_NONVERBOSE
,

3088 
tms
, 
u
->
uæ
, 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
),

3089 
h°©
.
loˇl_fûe
, 
cou¡
);

3091 ++
numuæs
;

3092 
tŸÆ_dow∆ﬂded_byãs
 +
h°©
.
rd_size
;

3095 i‡(*
dt
 & 
ADDED_HTML_EXTENSION
)

3096 
	`dow∆ﬂded_fûe
 (
FILE_DOWNLOADED_AND_HTML_EXTENSION_ADDED
, 
h°©
.
loˇl_fûe
);

3098 
	`dow∆ﬂded_fûe
 (
FILE_DOWNLOADED_NORMALLY
, 
h°©
.
loˇl_fûe
);

3100 
ªt
 = 
RETROK
;

3101 
exô
;

3103 i‡(
h°©
.
Àn
 < h°©.
c⁄éí
)

3106 
	`log¥ötf
 (
LOG_VERBOSE
,

3107 
	`_
("%s (%s) - Connection closedát byte %s. "),

3108 
tms
, 
tmøã
, 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
));

3109 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

3112 i‡(
h°©
.
Àn
 !h°©.
ª°vÆ
)

3115 
	`ab‹t
 ();

3121 
ªt
 = 
RETROK
;

3122 
exô
;

3127 i‡(
h°©
.
c⁄éí
 == -1)

3129 
	`log¥ötf
 (
LOG_VERBOSE
,

3130 
	`_
("%s (%s) - ReadÉrrorát byte %s (%s)."),

3131 
tms
, 
tmøã
, 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
),

3132 
h°©
.
rdîrmsg
);

3133 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

3138 
	`log¥ötf
 (
LOG_VERBOSE
,

3139 
	`_
("%s (%s) - ReadÉrrorát byte %s/%s (%s). "),

3140 
tms
, 
tmøã
,

3141 
	`numbî_to_°©ic_°rög
 (
h°©
.
Àn
),

3142 
	`numbî_to_°©ic_°rög
 (
h°©
.
c⁄éí
),

3143 
h°©
.
rdîrmsg
);

3144 
	`¥ötwh©
 (
cou¡
, 
›t
.
¡ry
);

3150 !
›t
.
¡ry
 || (
cou¡
 < opt.ntry));

3152 
exô
:

3153 i‡(
ªt
 =
RETROK
 && 
loˇl_fûe
)

3154 *
loˇl_fûe
 = 
	`x°rdup
 (
h°©
.local_file);

3155 
	`‰ì_h°©
 (&
h°©
);

3157  
ªt
;

3158 
	}
}

3168 
boﬁ


3169 
	$check_íd
 (c⁄° *
p
)

3171 i‡(!
p
)

3172  
Ál£
;

3173 
	`c_is•a˚
 (*
p
))

3174 ++
p
;

3175 i‡(!*
p


3176 || (
p
[0] == 'G' &&Ö[1] == 'M' &&Ö[2] == 'T')

3177 || ((
p
[0] ='+' ||Ö[0] ='-'Ë&& 
	`c_isdigô
 (p[1])))

3178  
åue
;

3180  
Ál£
;

3181 
	}
}

3211 
time_t


3212 
	$hâp_©Ÿm
 (c⁄° *
time_°rög
)

3219 c⁄° *
time_f‹m©s
[] = {

3227 c⁄° *
ﬁdloˇÀ
;

3228 
ßvedloˇÀ
[256];

3229 
size_t
 
i
;

3230 
time_t
 
ªt
 = (time_t) -1;

3235 
ﬁdloˇÀ
 = 
	`£éoˇÀ
 (
LC_TIME
, 
NULL
);

3236 i‡(
ﬁdloˇÀ
)

3238 
size_t
 
l
 = 
	`°æí
 (
ﬁdloˇÀ
) + 1;

3239 i‡(
l
 > 
ßvedloˇÀ
)

3240 
ßvedloˇÀ
[0] = '\0';

3242 
	`mem˝y
 (
ßvedloˇÀ
, 
ﬁdloˇÀ
, 
l
);

3244 
ßvedloˇÀ
[0] = '\0';

3246 
	`£éoˇÀ
 (
LC_TIME
, "C");

3248 
i
 = 0; i < 
	`cou¡of
 (
time_f‹m©s
); i++)

3250 
tm
 
t
;

3255 
	`xzîo
 (
t
);

3257 i‡(
	`check_íd
 (
	`°Ωtime
 (
time_°rög
, 
time_f‹m©s
[
i
], &
t
)))

3259 
ªt
 = 
	`timegm
 (&
t
);

3265 i‡(
ßvedloˇÀ
[0])

3266 
	`£éoˇÀ
 (
LC_TIME
, 
ßvedloˇÀ
);

3268  
ªt
;

3269 
	}
}

3290 
	$basic_authítiˇti⁄_ícode
 (c⁄° *
u£r
, c⁄° *
∑sswd
)

3292 *
t1
, *
t2
;

3293 
Àn1
 = 
	`°æí
 (
u£r
Ë+ 1 + såÀ¿(
∑sswd
);

3295 
t1
 = (*)
	`Æloˇ
 (
Àn1
 + 1);

3296 
	`•rötf
 (
t1
, "%s:%s", 
u£r
, 
∑sswd
);

3298 
t2
 = (*)
	`Æloˇ
 (
	`BASE64_LENGTH
 (
Àn1
) + 1);

3299 
	`ba£64_ícode
 (
t1
, 
Àn1
, 
t2
);

3301  
	`c⁄ˇt_°rögs
 ("Basi¯", 
t2
, (*) 0);

3302 
	}
}

3304 
	#SKIP_WS
(
x
) do { \

3305 
	`c_is•a˚
 (*(
x
))) \

3306 ++(
x
); \

3307 } 0)

	)

3309 #ifde‡
ENABLE_DIGEST


3315 
	$dump_hash
 (*
buf
, c⁄° *
hash
)

3317 
i
;

3319 
i
 = 0; i < 
MD5_DIGEST_SIZE
; i++, 
hash
++)

3321 *
buf
++ = 
	`XNUM_TO_digô
 (*
hash
 >> 4);

3322 *
buf
++ = 
	`XNUM_TO_digô
 (*
hash
 & 0xf);

3324 *
buf
 = '\0';

3325 
	}
}

3330 
	$dige°_authítiˇti⁄_ícode
 (c⁄° *
au
, c⁄° *
u£r
,

3331 c⁄° *
∑sswd
, c⁄° *
mëhod
,

3332 c⁄° *
∑th
)

3334 *
ªÆm
, *
›aque
, *
n⁄˚
;

3336 c⁄° *
«me
;

3337 **
v¨übÀ
;

3338 } 
›ti⁄s
[] = {

3339 { "ªÆm", &
ªÆm
 },

3340 { "›aque", &
›aque
 },

3341 { "n⁄˚", &
n⁄˚
 }

3343 *
ªs
;

3344 
∑øm_tokí
 
«me
, 
vÆue
;

3346 
ªÆm
 = 
›aque
 = 
n⁄˚
 = 
NULL
;

3348 
au
 += 6;

3349 
	`exåa˘_∑øm
 (&
au
, &
«me
, &
vÆue
, ','))

3351 
size_t
 
i
;

3352 
size_t
 
«mñí
 = 
«me
.
e
 -Çame.
b
;

3353 
i
 = 0; i < 
	`cou¡of
 (
›ti⁄s
); i++)

3354 i‡(
«mñí
 =
	`°æí
 (
›ti⁄s
[
i
].
«me
)

3355 && 0 =
	`°∫cmp
 (
«me
.
b
, 
›ti⁄s
[
i
].name,

3356 
«mñí
))

3358 *
›ti⁄s
[
i
].
v¨übÀ
 = 
	`°rdupdñim
 (
vÆue
.
b
, vÆue.
e
);

3362 i‡(!
ªÆm
 || !
n⁄˚
 || !
u£r
 || !
∑sswd
 || !
∑th
 || !
mëhod
)

3364 
	`x‰ì_nuŒ
 (
ªÆm
);

3365 
	`x‰ì_nuŒ
 (
›aque
);

3366 
	`x‰ì_nuŒ
 (
n⁄˚
);

3367  
NULL
;

3372 
md5_˘x
 
˘x
;

3373 
hash
[
MD5_DIGEST_SIZE
];

3374 
a1buf
[
MD5_DIGEST_SIZE
 * 2 + 1], 
a2buf
[MD5_DIGEST_SIZE * 2 + 1];

3375 
ª•⁄£_dige°
[
MD5_DIGEST_SIZE
 * 2 + 1];

3378 
	`md5_öô_˘x
 (&
˘x
);

3379 
	`md5_¥o˚ss_byãs
 ((*)
u£r
, 
	`°æí
 (u£r), &
˘x
);

3380 
	`md5_¥o˚ss_byãs
 ((*)":", 1, &
˘x
);

3381 
	`md5_¥o˚ss_byãs
 ((*)
ªÆm
, 
	`°æí
 (ªÆm), &
˘x
);

3382 
	`md5_¥o˚ss_byãs
 ((*)":", 1, &
˘x
);

3383 
	`md5_¥o˚ss_byãs
 ((*)
∑sswd
, 
	`°æí
 (∑sswd), &
˘x
);

3384 
	`md5_föish_˘x
 (&
˘x
, 
hash
);

3385 
	`dump_hash
 (
a1buf
, 
hash
);

3388 
	`md5_öô_˘x
 (&
˘x
);

3389 
	`md5_¥o˚ss_byãs
 ((*)
mëhod
, 
	`°æí
 (mëhod), &
˘x
);

3390 
	`md5_¥o˚ss_byãs
 ((*)":", 1, &
˘x
);

3391 
	`md5_¥o˚ss_byãs
 ((*)
∑th
, 
	`°æí
 (∑th), &
˘x
);

3392 
	`md5_föish_˘x
 (&
˘x
, 
hash
);

3393 
	`dump_hash
 (
a2buf
, 
hash
);

3396 
	`md5_öô_˘x
 (&
˘x
);

3397 
	`md5_¥o˚ss_byãs
 ((*)
a1buf
, 
MD5_DIGEST_SIZE
 * 2, &
˘x
);

3398 
	`md5_¥o˚ss_byãs
 ((*)":", 1, &
˘x
);

3399 
	`md5_¥o˚ss_byãs
 ((*)
n⁄˚
, 
	`°æí
 (n⁄˚), &
˘x
);

3400 
	`md5_¥o˚ss_byãs
 ((*)":", 1, &
˘x
);

3401 
	`md5_¥o˚ss_byãs
 ((*)
a2buf
, 
MD5_DIGEST_SIZE
 * 2, &
˘x
);

3402 
	`md5_föish_˘x
 (&
˘x
, 
hash
);

3403 
	`dump_hash
 (
ª•⁄£_dige°
, 
hash
);

3405 
ªs
 = 
	`xmÆloc
 (
	`°æí
 (
u£r
)

3406 + 
	`°æí
 (
u£r
)

3407 + 
	`°æí
 (
ªÆm
)

3408 + 
	`°æí
 (
n⁄˚
)

3409 + 
	`°æí
 (
∑th
)

3410 + 2 * 
MD5_DIGEST_SIZE


3411 + (
›aque
 ? 
	`°æí
 (opaque) : 0)

3413 
	`•rötf
 (
ªs
, "Digest \
=\"%s\",Ñealm=\"%s\",Çonce=\"%s\", uri=\"%s\",Ñesponse=\"%s\"",

3415 
u£r
, 
ªÆm
, 
n⁄˚
, 
∑th
, 
ª•⁄£_dige°
);

3416 i‡(
›aque
)

3418 *
p
 = 
ªs
 + 
	`°æí
 (res);

3419 
	`°rˇt
 (
p
, ", opaque=\"");

3420 
	`°rˇt
 (
p
, 
›aque
);

3421 
	`°rˇt
 (
p
, "\"");

3424  
ªs
;

3425 
	}
}

3430 
	#STRSIZE
(
lôîÆ
Ë( (lôîÆË- 1)

	)

3435 
	#STARTS
(
lôîÆ
, 
b
, 
e
) \

3436 ((
e
 > 
b
) \

3437 && ((
size_t
Ë((
e
Ë- (
b
))Ë>
	`STRSIZE
 (
lôîÆ
) \

3438 && 0 =
	`°∫ˇ£cmp
 (
b
, 
lôîÆ
, 
	`STRSIZE
 (literal)) \

3439 && ((
size_t
Ë((
e
Ë- (
b
)Ë=
	`STRSIZE
 (
lôîÆ
) \

3440 || 
	`c_is•a˚
 (
b
[
	`STRSIZE
 (
lôîÆ
)])))

	)

3442 
boﬁ


3443 
	$known_authítiˇti⁄_scheme_p
 (c⁄° *
hdrbeg
, c⁄° *
hdªnd
)

3445  
	`STARTS
 ("Basic", 
hdrbeg
, 
hdªnd
)

3446 #ifde‡
ENABLE_DIGEST


3447 || 
	`STARTS
 ("Dige°", 
hdrbeg
, 
hdªnd
)

3449 #ifde‡
ENABLE_NTLM


3450 || 
	`STARTS
 ("NTLM", 
hdrbeg
, 
hdªnd
)

3453 
	}
}

3455 #unde‡
STARTS


3463 
	$¸óã_auth‹iz©i⁄_löe
 (c⁄° *
au
, c⁄° *
u£r
,

3464 c⁄° *
∑sswd
, c⁄° *
mëhod
,

3465 c⁄° *
∑th
, 
boﬁ
 *
föished
)

3469 
	`c_touµî
 (*
au
))

3472 *
föished
 = 
åue
;

3473  
	`basic_authítiˇti⁄_ícode
 (
u£r
, 
∑sswd
);

3474 #ifde‡
ENABLE_DIGEST


3476 *
föished
 = 
åue
;

3477  
	`dige°_authítiˇti⁄_ícode
 (
au
, 
u£r
, 
∑sswd
, 
mëhod
, 
∑th
);

3479 #ifde‡
ENABLE_NTLM


3481 i‡(!
	`¡lm_öput
 (&
pc⁄n
.
¡lm
, 
au
))

3483 *
föished
 = 
åue
;

3484  
NULL
;

3486  
	`¡lm_ouçut
 (&
pc⁄n
.
¡lm
, 
u£r
, 
∑sswd
, 
föished
);

3491 
	`ab‹t
 ();

3493 
	}
}

3496 
	$lﬂd_cookõs
 ()

3498 i‡(!
wgë_cookõ_j¨
)

3499 
wgë_cookõ_j¨
 = 
	`cookõ_j¨_√w
 ();

3500 i‡(
›t
.
cookõs_öput
 && !
cookõs_lﬂded_p
)

3502 
	`cookõ_j¨_lﬂd
 (
wgë_cookõ_j¨
, 
›t
.
cookõs_öput
);

3503 
cookõs_lﬂded_p
 = 
åue
;

3505 
	}
}

3508 
	$ßve_cookõs
 ()

3510 i‡(
wgë_cookõ_j¨
)

3511 
	`cookõ_j¨_ßve
 (
wgë_cookõ_j¨
, 
›t
.
cookõs_ouçut
);

3512 
	}
}

3515 
	$hâp_˛ónup
 ()

3517 
	`x‰ì_nuŒ
 (
pc⁄n
.
ho°
);

3518 i‡(
wgë_cookõ_j¨
)

3519 
	`cookõ_j¨_dñëe
 (
wgë_cookõ_j¨
);

3520 
	}
}

3523 
	$ísuª_exãnsi⁄
 (
hâp_°©
 *
hs
, c⁄° *
ext
, *
dt
)

3525 *
œ°_≥riod_ö_loˇl_fûíame
 = 
	`°ºchr
 (
hs
->
loˇl_fûe
, '.');

3526 
sh‹ãxt
[8];

3527 
Àn
 = 
	`°æí
 (
ext
);

3528 i‡(
Àn
 == 5)

3530 
	`°∫˝y
 (
sh‹ãxt
, 
ext
, 
Àn
 - 1);

3531 
sh‹ãxt
[
Àn
 - 1] = '\0';

3534 i‡(
œ°_≥riod_ö_loˇl_fûíame
 =
NULL


3535 || !(0 =
	`°rˇ£cmp
 (
œ°_≥riod_ö_loˇl_fûíame
, 
sh‹ãxt
)

3536 || 0 =
	`°rˇ£cmp
 (
œ°_≥riod_ö_loˇl_fûíame
, 
ext
)))

3538 
loˇl_fûíame_Àn
 = 
	`°æí
 (
hs
->
loˇl_fûe
);

3541 
hs
->
loˇl_fûe
 = 
	`xªÆloc
 (hs->local_file,

3542 
loˇl_fûíame_Àn
 + 24 + 
Àn
);

3543 
	`°r˝y
 (
hs
->
loˇl_fûe
 + 
loˇl_fûíame_Àn
, 
ext
);

3546 i‡(!
ALLOW_CLOBBER
 && 
	`fûe_exi°s_p
 (
hs
->
loˇl_fûe
))

3548 
ext_num
 = 1;

3550 
	`•rötf
 (
hs
->
loˇl_fûe
 + 
loˇl_fûíame_Àn
,

3551 ".%d%s", 
ext_num
++, 
ext
);

3552 
	`fûe_exi°s_p
 (
hs
->
loˇl_fûe
));

3554 *
dt
 |
ADDED_HTML_EXTENSION
;

3556 
	}
}

3559 #ifde‡
TESTING


3562 
	$ã°_∑r£_c⁄ã¡_di•osôi⁄
()

3564 
i
;

3566 *
hdrvÆ
;

3567 *
fûíame
;

3568 
boﬁ
 
ªsu…
;

3569 } 
ã°_¨øy
[] = {

3570 { "fûíame=\"fûe.ext\"", "fûe.ext", 
åue
 },

3571 { "©èchmít; fûíame=\"fûe.ext\"", "fûe.ext", 
åue
 },

3572 { "©èchmít; fûíame=\"fûe.ext\"; dummy", "fûe.ext", 
åue
 },

3573 { "©èchmít", 
NULL
, 
Ál£
 },

3574 { "©èchemít; fûíame*=UTF-8'í-US'hñlo.txt", "hñlo.txt", 
åue
 },

3575 { "©èchemít; fûíame*0=\"hñlo\"; fûíame*1=\"w‹ld.txt\"", "hñlow‹ld.txt", 
åue
 },

3578 
i
 = 0; i < (
ã°_¨øy
)/(test_array[0]); ++i)

3580 *
fûíame
;

3581 
boﬁ
 
ªs
;

3583 
ªs
 = 
	`∑r£_c⁄ã¡_di•osôi⁄
 (
ã°_¨øy
[
i
].
hdrvÆ
, &
fûíame
);

3585 
	`mu_as£π
 ("test_parse_content_disposition: wrongÑesult",

3586 
ªs
 =
ã°_¨øy
[
i
].
ªsu…


3587 && (
ªs
 =
Ál£


3588 || 0 =
	`°rcmp
 (
ã°_¨øy
[
i
].
fûíame
, filename)));

3591  
NULL
;

3592 
	}
}

	@src/http.h

31 #i‚de‡
HTTP_H


32 
	#HTTP_H


	)

34 
	guæ
;

36 
uîr_t
 
hâp_lo›
 (
uæ
 *, url *, **, **, const *,

37 *, 
uæ
 *, 
úi
 *);

38 
ßve_cookõs
 ();

39 
hâp_˛ónup
 ();

40 
time_t
 
hâp_©Ÿm
 (const *);

44 c⁄° *
	mb
, *
	me
;

45 } 
	t∑øm_tokí
;

46 
boﬁ
 
exåa˘_∑øm
 (c⁄° **, 
∑øm_tokí
 *,Öaram_token *, );

	@src/init.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°dboﬁ.h
>

37 
	~<uni°d.h
>

38 
	~<°rög.h
>

39 
	~<î∫o.h
>

40 
	~<limôs.h
>

42 #i‚de‡
PATH_MAX


43 
	~<sys/∑øm.h
>

44 #i‚de‡
PATH_MAX


45 
	#PATH_MAX
 
MAXPATHLEN


	)

50 #ifde‡
HAVE_PWD_H


51 
	~<pwd.h
>

53 
	~<as£π.h
>

55 
	~"utûs.h
"

56 
	~"öô.h
"

57 
	~"ho°.h
"

58 
	~"√åc.h
"

59 
	~"¥ogªss.h
"

60 
	~"ªcur.h
"

61 
	~"c⁄vît.h
"

62 
	~"ªs.h
"

63 
	~"hâp.h
"

64 
	~"ªå.h
"

66 #ifde‡
TESTING


67 
	~"ã°.h
"

72 
	#CMD_DECLARE
(
func
Ë
boﬁ
 
	`func
 (c⁄° *, c⁄° *, *)

	)

74 
CMD_DECLARE
 (
cmd_boﬁón
);

75 
CMD_DECLARE
 (
cmd_byãs
);

76 
CMD_DECLARE
 (
cmd_byãs_sum
);

77 #ifde‡
HAVE_SSL


78 
CMD_DECLARE
 (
cmd_˚π_ty≥
);

80 
CMD_DECLARE
 (
cmd_dúe˘‹y_ve˘‹
);

81 
CMD_DECLARE
 (
cmd_numbî
);

82 
CMD_DECLARE
 (
cmd_numbî_öf
);

83 
CMD_DECLARE
 (
cmd_°rög
);

84 
CMD_DECLARE
 (
cmd_fûe
);

85 
CMD_DECLARE
 (
cmd_dúe˘‹y
);

86 
CMD_DECLARE
 (
cmd_time
);

87 
CMD_DECLARE
 (
cmd_ve˘‹
);

89 
CMD_DECLARE
 (
cmd_•ec_dú°ru˘
);

90 
CMD_DECLARE
 (
cmd_•ec_hódî
);

91 
CMD_DECLARE
 (
cmd_•ec_htmlify
);

92 
CMD_DECLARE
 (
cmd_•ec_múr‹
);

93 
CMD_DECLARE
 (
cmd_•ec_¥e„r_Ámûy
);

94 
CMD_DECLARE
 (
cmd_•ec_¥ogªss
);

95 
CMD_DECLARE
 (
cmd_•ec_ªcursive
);

96 
CMD_DECLARE
 (
cmd_•ec_ª°ri˘_fûe_«mes
);

97 #ifde‡
HAVE_SSL


98 
CMD_DECLARE
 (
cmd_•ec_£cuª_¥Ÿocﬁ
);

100 
CMD_DECLARE
 (
cmd_•ec_timeout
);

101 
CMD_DECLARE
 (
cmd_•ec_u£øgít
);

102 
CMD_DECLARE
 (
cmd_•ec_vîbo£
);

112 c⁄° *
	m«me
;

113 *
	m∂a˚
;

114 
boﬁ
 (*
a˘i⁄
) (const *, const *, *);

115 } 
	gcomm™ds
[] = {

117 { "ac˚±", &
›t
.
ac˚±s
, 
cmd_ve˘‹
 },

118 { "addho°dú", &
›t
.
add_ho°dú
, 
cmd_boﬁón
 },

119 { "adju°exãnsi⁄", &
›t
.
adju°_exãnsi⁄
, 
cmd_boﬁón
 },

120 { "Æway§e°", &
›t
.
Æways_ª°
, 
cmd_boﬁón
 },

121 { "ask∑ssw‹d", &
›t
.
ask_∑sswd
, 
cmd_boﬁón
 },

122 { "authnochÆÀnge", &
›t
.
auth_wôhout_chÆÀnge
,

123 
cmd_boﬁón
 },

124 { "background", &
›t
.
background
, 
cmd_boﬁón
 },

125 { "backupc⁄vîãd", &
›t
.
backup_c⁄vîãd
, 
cmd_boﬁón
 },

126 { "backups", &
›t
.
backups
, 
cmd_numbî
 },

127 { "ba£", &
›t
.
ba£_hªf
, 
cmd_°rög
 },

128 { "bödaddªss", &
›t
.
böd_addªss
, 
cmd_°rög
 },

129 #ifde‡
HAVE_SSL


130 { "ˇ˚πifiˇã", &
›t
.
ˇ_˚π
, 
cmd_fûe
 },

132 { "ˇche", &
›t
.
Ælow_ˇche
, 
cmd_boﬁón
 },

133 #ifde‡
HAVE_SSL


134 { "ˇdúe˘‹y", &
›t
.
ˇ_dúe˘‹y
, 
cmd_dúe˘‹y
 },

135 { "˚πifiˇã", &
›t
.
˚π_fûe
, 
cmd_fûe
 },

136 { "˚πifiˇãty≥", &
›t
.
˚π_ty≥
, 
cmd_˚π_ty≥
 },

137 { "check˚πifiˇã", &
›t
.
check_˚π
, 
cmd_boﬁón
 },

139 { "choo£c⁄fig", &
›t
.
choo£_c⁄fig
, 
cmd_fûe
 },

140 { "c⁄√˘timeout", &
›t
.
c⁄√˘_timeout
, 
cmd_time
 },

141 { "c⁄ã¡di•osôi⁄", &
›t
.
c⁄ã¡_di•osôi⁄
, 
cmd_boﬁón
 },

142 { "c⁄töue", &
›t
.
Æways_ª°
, 
cmd_boﬁón
 },

143 { "c⁄vîéöks", &
›t
.
c⁄vît_löks
, 
cmd_boﬁón
 },

144 { "cookõs", &
›t
.
cookõs
, 
cmd_boﬁón
 },

145 { "cutdús", &
›t
.
cut_dús
, 
cmd_numbî
 },

146 #ifde‡
ENABLE_DEBUG


147 { "debug", &
›t
.
debug
, 
cmd_boﬁón
 },

149 { "deÁu…∑ge", &
›t
.
deÁu…_∑ge
, 
cmd_°rög
},

150 { "dñëó·î", &
›t
.
dñëe_a·î
, 
cmd_boﬁón
 },

151 { "dú¥efix", &
›t
.
dú_¥efix
, 
cmd_dúe˘‹y
 },

152 { "dú°ru˘", 
NULL
, 
cmd_•ec_dú°ru˘
 },

153 { "dnsˇche", &
›t
.
dns_ˇche
, 
cmd_boﬁón
 },

154 { "dn°imeout", &
›t
.
dns_timeout
, 
cmd_time
 },

155 { "domaös", &
›t
.
domaös
, 
cmd_ve˘‹
 },

156 { "dŸbyãs", &
›t
.
dŸ_byãs
, 
cmd_byãs
 },

157 { "dŸsölöe", &
›t
.
dŸs_ö_löe
, 
cmd_numbî
 },

158 { "dŸ•acög", &
›t
.
dŸ_•acög
, 
cmd_numbî
 },

159 { "dŸ°yÀ", &
›t
.
dŸ_°yÀ
, 
cmd_°rög
 },

160 #ifde‡
HAVE_SSL


161 { "egdfûe", &
›t
.
egd_fûe
, 
cmd_fûe
 },

163 { "ex˛udedúe˘‹õs", &
›t
.
ex˛udes
, 
cmd_dúe˘‹y_ve˘‹
 },

164 { "ex˛udedomaös", &
›t
.
ex˛ude_domaös
, 
cmd_ve˘‹
 },

165 { "fﬁlow·p", &
›t
.
fﬁlow_·p
, 
cmd_boﬁón
 },

166 { "fﬁlowègs", &
›t
.
fﬁlow_ègs
, 
cmd_ve˘‹
 },

167 { "f‹˚html", &
›t
.
f‹˚_html
, 
cmd_boﬁón
 },

168 { "·µasswd", &
›t
.
·p_∑sswd
, 
cmd_°rög
 },

169 { "·µassw‹d", &
›t
.
·p_∑sswd
, 
cmd_°rög
 },

170 { "·µroxy", &
›t
.
·p_¥oxy
, 
cmd_°rög
 },

171 #ifde‡
__VMS


172 { "·p°mlf", &
›t
.
·p_°mlf
, 
cmd_boﬁón
 },

174 { "·pu£r", &
›t
.
·p_u£r
, 
cmd_°rög
 },

175 { "glob", &
›t
.
·p_glob
, 
cmd_boﬁón
 },

176 { "hódî", 
NULL
, 
cmd_•ec_hódî
 },

177 { "htmÀxãnsi⁄", &
›t
.
adju°_exãnsi⁄
, 
cmd_boﬁón
 },

178 { "htmlify", 
NULL
, 
cmd_•ec_htmlify
 },

179 { "hâpkì∑live", &
›t
.
hâp_kìp_Æive
, 
cmd_boﬁón
 },

180 { "hâµasswd", &
›t
.
hâp_∑sswd
, 
cmd_°rög
 },

181 { "hâµassw‹d", &
›t
.
hâp_∑sswd
, 
cmd_°rög
 },

182 { "hâµroxy", &
›t
.
hâp_¥oxy
, 
cmd_°rög
 },

183 { "hâp•roxy", &
›t
.
hâps_¥oxy
, 
cmd_°rög
 },

184 { "hâpu£r", &
›t
.
hâp_u£r
, 
cmd_°rög
 },

185 { "ign‹eˇ£", &
›t
.
ign‹e_ˇ£
, 
cmd_boﬁón
 },

186 { "ign‹ñígth", &
›t
.
ign‹e_Àngth
, 
cmd_boﬁón
 },

187 { "ign‹ëags", &
›t
.
ign‹e_ègs
, 
cmd_ve˘‹
 },

188 { "ö˛udedúe˘‹õs", &
›t
.
ö˛udes
, 
cmd_dúe˘‹y_ve˘‹
 },

189 #ifde‡
ENABLE_IPV6


190 { "öë4⁄ly", &
›t
.
ùv4_⁄ly
, 
cmd_boﬁón
 },

191 { "öë6⁄ly", &
›t
.
ùv6_⁄ly
, 
cmd_boﬁón
 },

193 { "öput", &
›t
.
öput_fûíame
, 
cmd_fûe
 },

194 { "úi", &
›t
.
íabÀ_úi
, 
cmd_boﬁón
 },

195 { "kìp£ssi⁄cookõs", &
›t
.
kìp_£ssi⁄_cookõs
, 
cmd_boﬁón
 },

196 { "limôøã", &
›t
.
limô_øã
, 
cmd_byãs
 },

197 { "lﬂdcookõs", &
›t
.
cookõs_öput
, 
cmd_fûe
 },

198 { "loˇÀncodög", &
›t
.
loˇÀ
, 
cmd_°rög
 },

199 { "logfûe", &
›t
.
lfûíame
, 
cmd_fûe
 },

200 { "logö", &
›t
.
·p_u£r
, 
cmd_°rög
 },

201 { "maxªdúe˘", &
›t
.
max_ªdúe˘
, 
cmd_numbî
 },

202 { "múr‹", 
NULL
, 
cmd_•ec_múr‹
 },

203 { "√åc", &
›t
.
√åc
, 
cmd_boﬁón
 },

204 { "no˛obbî", &
›t
.
no˛obbî
, 
cmd_boﬁón
 },

205 { "n›¨ít", &
›t
.
no_∑ª¡
, 
cmd_boﬁón
 },

206 { "n›roxy", &
›t
.
no_¥oxy
, 
cmd_ve˘‹
 },

207 { "numåõs", &
›t
.
¡ry
, 
cmd_numbî_öf
 },

208 { "ouçutdocumít", &
›t
.
ouçut_documít
, 
cmd_fûe
 },

209 { "∑gîequisôes", &
›t
.
∑ge_ªquisôes
, 
cmd_boﬁón
 },

210 { "∑ssive·p", &
›t
.
·p_∑sv
, 
cmd_boﬁón
 },

211 { "∑sswd", &
›t
.
·p_∑sswd
, 
cmd_°rög
 },

212 { "∑ssw‹d", &
›t
.
∑sswd
, 
cmd_°rög
 },

213 { "po°d©a", &
›t
.
po°_d©a
, 
cmd_°rög
 },

214 { "po°fûe", &
›t
.
po°_fûe_«me
, 
cmd_fûe
 },

215 { "¥e„rÁmûy", 
NULL
, 
cmd_•ec_¥e„r_Ámûy
 },

216 { "¥e£rvïîmissi⁄s", &
›t
.
¥e£rve_≥rm
, 
cmd_boﬁón
 },

217 #ifde‡
HAVE_SSL


218 { "¥iv©ekey", &
›t
.
¥iv©e_key
, 
cmd_fûe
 },

219 { "¥iv©ekeyty≥", &
›t
.
¥iv©e_key_ty≥
, 
cmd_˚π_ty≥
 },

221 { "¥ogªss", &
›t
.
¥ogªss_ty≥
, 
cmd_•ec_¥ogªss
 },

222 { "¥Ÿocﬁdúe˘‹õs", &
›t
.
¥Ÿocﬁ_dúe˘‹õs
, 
cmd_boﬁón
 },

223 { "¥oxy∑sswd", &
›t
.
¥oxy_∑sswd
, 
cmd_°rög
 },

224 { "¥oxy∑ssw‹d", &
›t
.
¥oxy_∑sswd
, 
cmd_°rög
 },

225 { "¥oxyu£r", &
›t
.
¥oxy_u£r
, 
cmd_°rög
 },

226 { "quõt", &
›t
.
quõt
, 
cmd_boﬁón
 },

227 { "quŸa", &
›t
.
quŸa
, 
cmd_byãs_sum
 },

228 #ifde‡
HAVE_SSL


229 { "øndomfûe", &
›t
.
øndom_fûe
, 
cmd_fûe
 },

231 { "øndomwaô", &
›t
.
øndom_waô
, 
cmd_boﬁón
 },

232 { "ªadtimeout", &
›t
.
ªad_timeout
, 
cmd_time
 },

233 { "ª˛evñ", &
›t
.
ª˛evñ
, 
cmd_numbî_öf
 },

234 { "ªcursive", 
NULL
, 
cmd_•ec_ªcursive
 },

235 { "ª„ªr", &
›t
.
ª„ªr
, 
cmd_°rög
 },

236 { "ªje˘", &
›t
.
ªje˘s
, 
cmd_ve˘‹
 },

237 { "ªœtive⁄ly", &
›t
.
ªœtive_⁄ly
, 
cmd_boﬁón
 },

238 { "ªmŸìncodög", &
›t
.
ícodög_ªmŸe
, 
cmd_°rög
 },

239 { "ªmovñi°ög", &
›t
.
ªmove_li°ög
, 
cmd_boﬁón
 },

240 { "ª°ri˘fûíames", 
NULL
, 
cmd_•ec_ª°ri˘_fûe_«mes
 },

241 { "ªåsymlöks", &
›t
.
ªå_symlöks
, 
cmd_boﬁón
 },

242 { "ªåyc⁄ƒefu£d", &
›t
.
ªåy_c⁄ƒefu£d
, 
cmd_boﬁón
 },

243 { "robŸs", &
›t
.
u£_robŸs
, 
cmd_boﬁón
 },

244 { "ßvecookõs", &
›t
.
cookõs_ouçut
, 
cmd_fûe
 },

245 { "ßvehódîs", &
›t
.
ßve_hódîs
, 
cmd_boﬁón
 },

246 #ifde‡
HAVE_SSL


247 { "£cuª¥Ÿocﬁ", &
›t
.
£cuª_¥Ÿocﬁ
, 
cmd_•ec_£cuª_¥Ÿocﬁ
 },

249 { "£rvîª•⁄£", &
›t
.
£rvî_ª•⁄£
, 
cmd_boﬁón
 },

250 { "showÆldn£¡rõs", &
›t
.
show_Æl_dns_íåõs
, 
cmd_boﬁón
 },

251 { "•™ho°s", &
›t
.
•™ho°
, 
cmd_boﬁón
 },

252 { "•idî", &
›t
.
•idî
, 
cmd_boﬁón
 },

253 { "°ri˘commíts", &
›t
.
°ri˘_commíts
, 
cmd_boﬁón
 },

254 { "timeout", 
NULL
, 
cmd_•ec_timeout
 },

255 { "time°ampög", &
›t
.
time°ampög
, 
cmd_boﬁón
 },

256 { "åõs", &
›t
.
¡ry
, 
cmd_numbî_öf
 },

257 { "åu°£rvî«mes", &
›t
.
åu°£rvî«mes
, 
cmd_boﬁón
 },

258 { "u∆ök", &
›t
.
u∆ök
, 
cmd_boﬁón
 },

259 { "u£¥oxy", &
›t
.
u£_¥oxy
, 
cmd_boﬁón
 },

260 { "u£r", &
›t
.
u£r
, 
cmd_°rög
 },

261 { "u£øgít", 
NULL
, 
cmd_•ec_u£øgít
 },

262 { "u££rvîtime°amps", &
›t
.
u££rvîtime°amps
, 
cmd_boﬁón
 },

263 { "vîbo£", 
NULL
, 
cmd_•ec_vîbo£
 },

264 { "waô", &
›t
.
waô
, 
cmd_time
 },

265 { "waôªåy", &
›t
.
waôªåy
, 
cmd_time
 },

266 #ifde‡
USE_WATT32


267 { "wdebug", &
›t
.
wdebug
, 
cmd_boﬁón
 },

275 
	$comm™d_by_«me
 (c⁄° *
cmd«me
)

279 
lo
 = 0, 
hi
 = 
	`cou¡of
 (
comm™ds
) - 1;

281 
lo
 <
hi
)

283 
mid
 = (
lo
 + 
hi
) >> 1;

284 
cmp
 = 
	`°rˇ£cmp
 (
cmd«me
, 
comm™ds
[
mid
].
«me
);

285 i‡(
cmp
 < 0)

286 
hi
 = 
mid
 - 1;

287 i‡(
cmp
 > 0)

288 
lo
 = 
mid
 + 1;

290  
mid
;

293 
	}
}

297 
	$deÁu…s
 ()

299 *
tmp
;

306 
	`xzîo
 (
›t
);

308 
›t
.
cookõs
 = 
åue
;

309 
›t
.
vîbo£
 = -1;

310 
›t
.
¡ry
 = 20;

311 
›t
.
ª˛evñ
 = 5;

312 
›t
.
add_ho°dú
 = 
åue
;

313 
›t
.
√åc
 = 
åue
;

314 
›t
.
·p_glob
 = 
åue
;

315 
›t
.
htmlify
 = 
åue
;

316 
›t
.
hâp_kìp_Æive
 = 
åue
;

317 
›t
.
u£_¥oxy
 = 
åue
;

318 
tmp
 = 
	`gëív
 ("no_proxy");

319 i‡(
tmp
)

320 
›t
.
no_¥oxy
 = 
	`£p°rög
 (
tmp
);

321 
›t
.
¥e„r_Ámûy
 = 
¥e„r_n⁄e
;

322 
›t
.
Ælow_ˇche
 = 
åue
;

324 
›t
.
ªad_timeout
 = 900;

325 
›t
.
u£_robŸs
 = 
åue
;

327 
›t
.
ªmove_li°ög
 = 
åue
;

329 
›t
.
dŸ_byãs
 = 1024;

330 
›t
.
dŸ_•acög
 = 10;

331 
›t
.
dŸs_ö_löe
 = 50;

333 
›t
.
dns_ˇche
 = 
åue
;

334 
›t
.
·p_∑sv
 = 
åue
;

336 #ifde‡
HAVE_SSL


337 
›t
.
check_˚π
 = 
åue
;

341 #i‡
	`deföed
(
WINDOWS
Ë|| deföed(
MSDOS
Ë|| deföed(
__CYGWIN__
)

342 
›t
.
ª°ri˘_fûes_os
 = 
ª°ri˘_wödows
;

344 
›t
.
ª°ri˘_fûes_os
 = 
ª°ri˘_unix
;

346 
›t
.
ª°ri˘_fûes_˘æ
 = 
åue
;

347 
›t
.
ª°ri˘_fûes_n⁄ascii
 = 
Ál£
;

348 
›t
.
ª°ri˘_fûes_ˇ£
 = 
ª°ri˘_no_ˇ£_ª°ri˘i⁄
;

350 
›t
.
max_ªdúe˘
 = 20;

352 
›t
.
waôªåy
 = 10;

354 #ifde‡
ENABLE_IRI


355 
›t
.
íabÀ_úi
 = 
åue
;

357 
›t
.
íabÀ_úi
 = 
Ál£
;

359 
›t
.
loˇÀ
 = 
NULL
;

360 
›t
.
ícodög_ªmŸe
 = 
NULL
;

362 
›t
.
u££rvîtime°amps
 = 
åue
;

363 
›t
.
show_Æl_dns_íåõs
 = 
Ál£
;

364 
	}
}

369 
	$home_dú
 ()

371 *
buf
 = 
NULL
;

372 *
home
, *
ªt
;

373 
Àn
;

375 i‡(!
home
)

377 
home
 = 
	`gëív
 ("HOME");

378 i‡(!
home
)

380 #i‡
	`deföed
(
MSDOS
)

383 c⁄° *
	`_w32_gë_¨gv0
 ();

384 *
p
;

386 
buff
 = 
	`_w32_gë_¨gv0
 ();

388 
p
 = 
	`°ºchr
 (
buf
, '/');

389 i‡(!
p
)

390 
p
 = 
	`°ºchr
 (
buf
, '\\');

391 
	`as£π
 (
p
);

393 
Àn
 = 
p
 - 
buff
 + 1;

394 
buff
 = 
	`mÆloc
 (
Àn
 + 1);

395 i‡(
buff
 =
NULL
)

396  
NULL
;

398 
	`°∫˝y
 (
buff
, 
	`_w32_gë_¨gv0
 (), 
Àn
);

399 
buff
[
Àn
] = '\0';

401 
home
 = 
buf
;

402 #ñi‡!
	`deföed
(
WINDOWS
)

405 
∑sswd
 *
pwd
 = 
	`gëpwuid
 (
	`gëuid
 ());

406 i‡(!
pwd
 || !pwd->
pw_dú
)

407  
NULL
;

408 
home
 = 
pwd
->
pw_dú
;

412 
home
 = 
	`ws_my∑th
 ();

417 
ªt
 = 
home
 ? 
	`x°rdup
 (homeË: 
NULL
;

418 i‡(
buf
)

419 
	`‰ì
 (
buf
);

421  
ªt
;

422 
	}
}

429 
	$wgërc_ív_fûe_«me
 ()

431 *
ív
 = 
	`gëív
 ("WGETRC");

432 i‡(
ív
 && *env)

434 i‡(!
	`fûe_exi°s_p
 (
ív
))

436 
	`Ârötf
 (
°dîr
, 
	`_
("%s: WGETRCÖointsÅo %s, which doesn'tÉxist.\n"),

437 
exec_«me
, 
ív
);

438 
	`exô
 (1);

440  
	`x°rdup
 (
ív
);

442  
NULL
;

443 
	}
}

448 
	$wgërc_u£r_fûe_«me
 ()

450 *
home
;

451 *
fûe
 = 
NULL
;

454 #ifde‡
__VMS


455 
fûe
 = "SYS$LOGIN:.wgetrc";

457 
home
 = 
	`home_dú
 ();

458 i‡(
home
)

459 
fûe
 = 
	`≠rötf
 ("%s/.wgërc", 
home
);

460 
	`x‰ì_nuŒ
 (
home
);

463 i‡(!
fûe
)

464  
NULL
;

465 i‡(!
	`fûe_exi°s_p
 (
fûe
))

467 
	`x‰ì
 (
fûe
);

468  
NULL
;

470  
fûe
;

471 
	}
}

479 
	$wgërc_fûe_«me
 ()

481 *
fûe
 = 
	`wgërc_ív_fûe_«me
 ();

482 i‡(
fûe
 && *file)

483  
fûe
;

485 
fûe
 = 
	`wgërc_u£r_fûe_«me
 ();

487 #ifde‡
WINDOWS


492 i‡(!
fûe
)

494 *
home
 = 
	`home_dú
 ();

495 
	`x‰ì_nuŒ
 (
fûe
);

496 
fûe
 = 
NULL
;

497 
home
 = 
	`ws_my∑th
 ();

498 i‡(
home
)

500 
fûe
 = 
	`≠rötf
 ("%s/wgë.öi", 
home
);

501 i‡(!
	`fûe_exi°s_p
 (
fûe
))

503 
	`x‰ì
 (
fûe
);

504 
fûe
 = 
NULL
;

506 
	`x‰ì
 (
home
);

511  
fûe
;

512 
	}
}

515 
	e∑r£_löe
 {

516 
	mlöe_ok
,

517 
	mlöe_em±y
,

518 
	mlöe_sy¡ax_îr‹
,

519 
	mlöe_unknown_comm™d


522 
∑r£_löe
Öarse_line (const *, **, **, *);

523 
boﬁ
 
£tvÆ_öã∫Æ
 (, const *, const *);

524 
boﬁ
 
£tvÆ_öã∫Æ_tûde
 (, const *, const *);

529 
boﬁ


530 
	$run_wgërc
 (c⁄° *
fûe
)

532 
FILE
 *
Â
;

533 *
löe
;

534 
 
;

535 
îr˙t
 = 0;

537 
Â
 = 
	`f›í
 (
fûe
, "r");

538 i‡(!
Â
)

540 
	`Ârötf
 (
°dîr
, 
	`_
("%s: C™nŸÑód %†(%s).\n"), 
exec_«me
,

541 
fûe
, 
	`°ªº‹
 (
î∫o
));

542  
åue
;

544 
 
 = 1;

545 (
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
)

547 *
com
 = 
NULL
, *
vÆ
 = NULL;

548 
comöd
;

551 
	`∑r£_löe
 (
löe
, &
com
, &
vÆ
, &
comöd
))

553 
löe_ok
:

555 i‡(!
	`£tvÆ_öã∫Æ_tûde
 (
comöd
, 
com
, 
vÆ
))

557 
	`Ârötf
 (
°dîr
, 
	`_
("%s: Error in %sátÜine %d.\n"),

558 
exec_«me
, 
fûe
, 
 
);

559 ++
îr˙t
;

562 
löe_sy¡ax_îr‹
:

563 
	`Ârötf
 (
°dîr
, 
	`_
("%s: SyntaxÉrror in %sátÜine %d.\n"),

564 
exec_«me
, 
fûe
, 
 
);

565 ++
îr˙t
;

567 
löe_unknown_comm™d
:

568 
	`Ârötf
 (
°dîr
, 
	`_
("%s: Unknown command %s in %sátÜine %d.\n"),

569 
exec_«me
, 
	`quŸe
 (
com
), 
fûe
, 
 
);

570 ++
îr˙t
;

572 
löe_em±y
:

575 
	`ab‹t
 ();

577 
	`x‰ì_nuŒ
 (
com
);

578 
	`x‰ì_nuŒ
 (
vÆ
);

579 
	`x‰ì
 (
löe
);

580 ++
 
;

582 
	`f˛o£
 (
Â
);

584  
îr˙t
 == 0;

585 
	}
}

590 
	$öôülize
 ()

592 *
fûe
, *
ív_sy§c
;

593 
boﬁ
 
ok
 = 
åue
;

597 
ív_sy§c
 = 
	`gëív
 ("SYSTEM_WGETRC");

598 i‡(
ív_sy§c
 && 
	`fûe_exi°s_p
 (env_sysrc))

599 
ok
 &
	`run_wgërc
 (
ív_sy§c
);

601 #ifde‡
SYSTEM_WGETRC


602 i‡(
	`fûe_exi°s_p
 (
SYSTEM_WGETRC
))

603 
ok
 &
	`run_wgërc
 (
SYSTEM_WGETRC
);

607 i‡(! 
ok
)

609 
	`Ârötf
 (
°dîr
, 
	`_
("\
 sy°em wgër¯fûêÁûed,ÖÀa£ check '%s'. \
 s≥cifyá dif„ª¡ fûêusög --c⁄fig\n"), 
SYSTEM_WGETRC
);

612 
	`exô
 (2);

615 
fûe
 = 
	`wgërc_fûe_«me
 ();

616 i‡(!
fûe
)

620 #ifde‡
SYSTEM_WGETRC


621 i‡(!
	`°rcmp
 (
fûe
, 
SYSTEM_WGETRC
))

623 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: Warning: Both systemánd user wgetrcÖointÅo %s.\n"),

625 
exec_«me
, 
	`quŸe
 (
fûe
));

629 
ok
 &
	`run_wgërc
 (
fûe
);

632 i‡(!
ok
)

633 
	`exô
 (2);

635 
	`x‰ì
 (
fûe
);

637 
	}
}

643 
	$dehyphí
 (*
s
)

645 *
t
 = 
s
;

646 *
h
 = 
s
;

647 *
h
)

648 i‡(*
h
 == '_' || *h == '-')

649 ++
h
;

651 *
t
++ = *
h
++;

652 *
t
 = '\0';

653 
	}
}

666 
∑r£_löe


667 
	$∑r£_löe
 (c⁄° *
löe
, **
com
, **
vÆ
, *
comöd
)

669 c⁄° *
p
;

670 c⁄° *
íd
 = 
löe
 + 
	`°æí
 (line);

671 c⁄° *
cmd°¨t
, *
cmdíd
;

672 c⁄° *
vÆ°¨t
, *
vÆíd
;

674 *
cmdc›y
;

675 
öd
;

678 *
löe
 && 
	`c_is•a˚
 (*line))

679 ++
löe
;

680 
íd
 > 
löe
 && 
	`c_is•a˚
 (end[-1]))

681 --
íd
;

684 i‡(!*
löe
 || *line == '#')

685  
löe_em±y
;

687 
p
 = 
löe
;

689 
cmd°¨t
 = 
p
;

690 
p
 < 
íd
 && (
	`c_iß um
 (*p) || *p == '_' || *p == '-'))

691 ++
p
;

692 
cmdíd
 = 
p
;

695 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

696 ++
p
;

697 i‡(
p
 =
íd
 || *p != '=')

698  
löe_sy¡ax_îr‹
;

699 ++
p
;

700 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

701 ++
p
;

703 
vÆ°¨t
 = 
p
;

704 
vÆíd
 = 
íd
;

708 *
com
 = 
	`°rdupdñim
 (
cmd°¨t
, 
cmdíd
);

709 *
vÆ
 = 
	`°rdupdñim
 (
vÆ°¨t
, 
vÆíd
);

713 
	`BOUNDED_TO_ALLOCA
 (
cmd°¨t
, 
cmdíd
, 
cmdc›y
);

714 
	`dehyphí
 (
cmdc›y
);

715 
öd
 = 
	`comm™d_by_«me
 (
cmdc›y
);

716 i‡(
öd
 == -1)

717  
löe_unknown_comm™d
;

720 *
comöd
 = 
öd
;

721  
löe_ok
;

722 
	}
}

724 #i‡
deföed
(
WINDOWS
Ë|| deföed(
MSDOS
)

725 
	#ISSEP
(
c
Ë((cË='/' || (cË='\\')

	)

727 
	#ISSEP
(
c
Ë((cË='/')

	)

732 
boﬁ


733 
	$£tvÆ_öã∫Æ
 (
comöd
, c⁄° *
com
, c⁄° *
vÆ
)

735 
	`as£π
 (0 <
comöd
 && ((
size_t
ËcomödË< 
	`cou¡of
 (
comm™ds
));

736 
	`DEBUGP
 (("Sëtög %†(%sËtÿ%s\n", 
com
, 
comm™ds
[
comöd
].
«me
, 
vÆ
));

737  
comm™ds
[
comöd
].
	`a˘i⁄
 (
com
, 
vÆ
, comm™ds[comöd].
∂a˚
);

738 
	}
}

740 
boﬁ


741 
	$£tvÆ_öã∫Æ_tûde
 (
comöd
, c⁄° *
com
, c⁄° *
vÆ
)

743 
boﬁ
 
ªt
;

744 
homñí
;

745 *
home
;

746 **
p°rög
;

747 
ªt
 = 
	`£tvÆ_öã∫Æ
 (
comöd
, 
com
, 
vÆ
);

750 i‡(((
comm™ds
[
comöd
].
a˘i⁄
 =
cmd_fûe
) ||

751 (
comm™ds
[
comöd
].
a˘i⁄
 =
cmd_dúe˘‹y
))

752 && 
ªt
 && (*
vÆ
 ='~' && 
	`ISSEP
 (val[1])))

754 
p°rög
 = 
comm™ds
[
comöd
].
∂a˚
;

755 
home
 = 
	`home_dú
 ();

756 i‡(
home
)

758 
homñí
 = 
	`°æí
 (
home
);

759 
homñí
 && 
	`ISSEP
 (
home
[homelen - 1]))

760 
home
[--
homñí
] = '\0';

763 ++
vÆ
; 
	`ISSEP
 (*val); val++)

765 *
p°rög
 = 
	`c⁄ˇt_°rögs
 (
home
, "/", 
vÆ
, (*)0);

768  
ªt
;

769 
	}
}

782 
	$£t›tvÆ
 (c⁄° *
com
, c⁄° *
vÆ
, c⁄° *
›äame
)

785 *
dd_›äame
 = (*Ë
	`Æloˇ
 (2 + 
	`°æí
 (
›äame
) + 1);

786 
dd_›äame
[0] = '-';

787 
dd_›äame
[1] = '-';

788 
	`°r˝y
 (
dd_›äame
 + 2, 
›äame
);

790 
	`as£π
 (
vÆ
 !
NULL
);

791 i‡(!
	`£tvÆ_öã∫Æ
 (
	`comm™d_by_«me
 (
com
), 
dd_›äame
, 
vÆ
))

792 
	`exô
 (2);

793 
	}
}

800 
	$run_comm™d
 (c⁄° *
›t
)

802 *
com
, *
vÆ
;

803 
comöd
;

804 
	`∑r£_löe
 (
›t
, &
com
, &
vÆ
, &
comöd
))

806 
löe_ok
:

807 i‡(!
	`£tvÆ_öã∫Æ
 (
comöd
, 
com
, 
vÆ
))

808 
	`exô
 (2);

809 
	`x‰ì
 (
com
);

810 
	`x‰ì
 (
vÆ
);

813 
	`Ârötf
 (
°dîr
, 
	`_
("%s: Invalid --execute command %s\n"),

814 
exec_«me
, 
	`quŸe
 (
›t
));

815 
	`exô
 (2);

817 
	}
}

822 
	sdecode_ôem
 {

823 c⁄° *
	m«me
;

824 
	mcode
;

826 
boﬁ
 
decode_°rög
 (c⁄° *, c⁄° 
decode_ôem
 *, , *);

827 
boﬁ
 
sim∂e_©oi
 (const *, const *, *);

828 
boﬁ
 
sim∂e_©of
 (const *, const *, *);

830 
	#CMP1
(
p
, 
c0
Ë(
	`c_tﬁowî
(’)[0]Ë=(c0Ë&& (p)[1] ='\0')

	)

832 
	#CMP2
(
p
, 
c0
, 
c1
Ë(
	`c_tﬁowî
((p)[0]) == (c0) \

833 && 
	`c_tﬁowî
((
p
)[1]Ë=(
c1
) \

834 && (
p
)[2] ='\0')

	)

836 
	#CMP3
(
p
, 
c0
, 
c1
, 
c2
Ë(
	`c_tﬁowî
((p)[0]) == (c0) \

837 && 
	`c_tﬁowî
((
p
)[1]Ë=(
c1
) \

838 && 
	`c_tﬁowî
((
p
)[2]Ë=(
c2
) \

839 && (
p
)[3] ='\0')

	)

844 
boﬁ


845 
	$cmd_boﬁón
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

847 
boﬁ
 
vÆue
;

849 i‡(
	`CMP2
 (
vÆ
, 'o', 'n'Ë|| 
	`CMP3
 (vÆ, 'y', 'e', 's'Ë|| 
	`CMP1
 (val, '1'))

851 
vÆue
 = 
åue
;

852 i‡(
	`CMP3
 (
vÆ
, 'o', 'f', 'f'Ë|| 
	`CMP2
 (vÆ, 'n', 'o'Ë|| 
	`CMP1
 (val, '0'))

854 
vÆue
 = 
Ál£
;

857 
	`Ârötf
 (
°dîr
,

858 
	`_
("%s: %s: Invalid boolean %s; use `on' or `off'.\n"),

859 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

860  
Ál£
;

863 *(
boﬁ
 *Ë
∂a˚
 = 
vÆue
;

864  
åue
;

865 
	}
}

869 
boﬁ


870 
	$cmd_numbî
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

872 i‡(!
	`sim∂e_©oi
 (
vÆ
, vÆ + 
	`°æí
 (vÆ), 
∂a˚
)

873 || *(*Ë
∂a˚
 < 0)

875 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvalidÇumber %s.\n"),

876 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

877  
Ál£
;

879  
åue
;

880 
	}
}

883 
boﬁ


884 
	$cmd_numbî_öf
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

886 i‡(!
	`°rˇ£cmp
 (
vÆ
, "inf"))

888 *(*Ë
∂a˚
 = 0;

889  
åue
;

891  
	`cmd_numbî
 (
com
, 
vÆ
, 
∂a˚
);

892 
	}
}

896 
boﬁ


897 
	$cmd_°rög
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

899 **
p°rög
 = (**)
∂a˚
;

901 
	`x‰ì_nuŒ
 (*
p°rög
);

902 *
p°rög
 = 
	`x°rdup
 (
vÆ
);

903  
åue
;

904 
	}
}

910 
boﬁ


911 
	$cmd_fûe
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

913 **
p°rög
 = (**)
∂a˚
;

915 
	`x‰ì_nuŒ
 (*
p°rög
);

919 *
p°rög
 = 
	`x°rdup
 (
vÆ
);

921 #i‡
	`deföed
(
WINDOWS
Ë|| deföed(
MSDOS
)

924 *
s
;

925 
s
 = *
p°rög
; *s; s++)

926 i‡(*
s
 == '\\')

927 *
s
 = '/';

930  
åue
;

931 
	}
}

934 
boﬁ


935 
	$cmd_dúe˘‹y
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

937 *
s
, *
t
;

942 i‡(!
	`cmd_fûe
 (
com
, 
vÆ
, 
∂a˚
))

943  
Ál£
;

945 
s
 = *(**)
∂a˚
;

946 
t
 = 
s
 + 
	`°æí
 (s);

947 
t
 > 
s
 && *--t == '/')

948 *
t
 = '\0';

950  
åue
;

951 
	}
}

957 
boﬁ


958 
	$cmd_ve˘‹
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

960 ***
pvec
 = (***)
∂a˚
;

962 i‡(*
vÆ
)

963 *
pvec
 = 
	`mîge_vecs
 (*pvec, 
	`£p°rög
 (
vÆ
));

966 
	`‰ì_vec
 (*
pvec
);

967 *
pvec
 = 
NULL
;

969  
åue
;

970 
	}
}

972 
boﬁ


973 
	$cmd_dúe˘‹y_ve˘‹
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

975 ***
pvec
 = (***)
∂a˚
;

977 i‡(*
vÆ
)

980 **
t
, **
£ps
;

982 
£ps
 = 
	`£p°rög
 (
vÆ
);

983 
t
 = 
£ps
;Å && *t;Å++)

985 
Àn
 = 
	`°æí
 (*
t
);

987 i‡(
Àn
 > 1)

989 i‡((*
t
)[
Àn
 - 1] == '/')

990 (*
t
)[
Àn
 - 1] = '\0';

993 *
pvec
 = 
	`mîge_vecs
 (*pvec, 
£ps
);

997 
	`‰ì_vec
 (*
pvec
);

998 *
pvec
 = 
NULL
;

1000  
åue
;

1001 
	}
}

1006 
boﬁ


1007 
	$∑r£_byãs_hñ≥r
 (c⁄° *
vÆ
, *
ªsu…
)

1009 
numbî
, 
mu…
;

1010 c⁄° *
íd
 = 
vÆ
 + 
	`°æí
 (val);

1013 i‡(0 =
	`°rcmp
 (
vÆ
, "inf"))

1015 *
ªsu…
 = 0;

1016  
åue
;

1020 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (end[-1]))

1021 --
íd
;

1022 i‡(
vÆ
 =
íd
)

1023  
Ál£
;

1025 
	`c_tﬁowî
 (
íd
[-1]))

1028 --
íd
, 
mu…
 = 1024.0;

1031 --
íd
, 
mu…
 = 1048576.0;

1034 --
íd
, 
mu…
 = 1073741824.0;

1037 --
íd
, 
mu…
 = 1099511627776.0;

1042 
mu…
 = 1;

1046 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (*val))

1047 ++
vÆ
;

1048 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (end[-1]))

1049 --
íd
;

1050 i‡(
vÆ
 =
íd
)

1051  
Ál£
;

1053 i‡(!
	`sim∂e_©of
 (
vÆ
, 
íd
, &
numbî
) ||Çumber < 0)

1054  
Ál£
;

1056 *
ªsu…
 = 
numbî
 * 
mu…
;

1057  
åue
;

1058 
	}
}

1074 
boﬁ


1075 
	$cmd_byãs
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

1077 
byã_vÆue
;

1078 i‡(!
	`∑r£_byãs_hñ≥r
 (
vÆ
, &
byã_vÆue
))

1080 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: Invalid byte value %s\n"),

1081 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1082  
Ál£
;

1084 *(
wgöt
 *)
∂a˚
 = (wgöt)
byã_vÆue
;

1085  
åue
;

1086 
	}
}

1093 
boﬁ


1094 
	$cmd_byãs_sum
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

1096 
byã_vÆue
;

1097 i‡(!
	`∑r£_byãs_hñ≥r
 (
vÆ
, &
byã_vÆue
))

1099 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: Invalid byte value %s\n"),

1100 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1101  
Ál£
;

1103 *(
SUM_SIZE_INT
 *Ë
∂a˚
 = (SUM_SIZE_INTË
byã_vÆue
;

1104  
åue
;

1105 
	}
}

1111 
boﬁ


1112 
	$cmd_time
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

1114 
numbî
, 
mu…
;

1115 c⁄° *
íd
 = 
vÆ
 + 
	`°æí
 (val);

1118 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (end[-1]))

1119 --
íd
;

1121 i‡(
vÆ
 =
íd
)

1123 
îr
:

1124 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvalidÅimeÖeriod %s\n"),

1125 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1126  
Ál£
;

1129 
	`c_tﬁowî
 (
íd
[-1]))

1132 --
íd
, 
mu…
 = 1;

1135 --
íd
, 
mu…
 = 60;

1138 --
íd
, 
mu…
 = 3600;

1141 --
íd
, 
mu…
 = 86400.0;

1144 --
íd
, 
mu…
 = 604800.0;

1149 
mu…
 = 1;

1153 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (*val))

1154 ++
vÆ
;

1155 
vÆ
 < 
íd
 && 
	`c_is•a˚
 (end[-1]))

1156 --
íd
;

1157 i‡(
vÆ
 =
íd
)

1158 
îr
;

1160 i‡(!
	`sim∂e_©of
 (
vÆ
, 
íd
, &
numbî
))

1161 
îr
;

1163 *(*)
∂a˚
 = 
numbî
 * 
mu…
;

1164  
åue
;

1165 
	}
}

1167 #ifde‡
HAVE_SSL


1168 
boﬁ


1169 
	$cmd_˚π_ty≥
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

1171 c⁄° 
decode_ôem
 
choi˚s
[] = {

1172 { "≥m", 
keyfûe_≥m
 },

1173 { "dî", 
keyfûe_a¢1
 },

1174 { "a¢1", 
keyfûe_a¢1
 },

1176 
ok
 = 
	`decode_°rög
 (
vÆ
, 
choi˚s
, 
	`cou¡of
 (choi˚s), 
∂a˚
);

1177 i‡(!
ok
)

1178 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvÆid vÆuê%s.\n"), 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1179  
ok
;

1180 
	}
}

1186 
boﬁ
 
check_u£r_•ecifõd_hódî
 (const *);

1188 
boﬁ


1189 
	$cmd_•ec_dú°ru˘
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1191 i‡(!
	`cmd_boﬁón
 (
com
, 
vÆ
, &
›t
.
dú°ru˘
))

1192  
Ál£
;

1195 i‡(
›t
.
dú°ru˘
)

1196 
›t
.
no_dú°ru˘
 = 
Ál£
;

1198 
›t
.
no_dú°ru˘
 = 
åue
;

1199  
åue
;

1200 
	}
}

1202 
boﬁ


1203 
	$cmd_•ec_hódî
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1206 i‡(*
vÆ
 == '\0')

1208 
	`‰ì_vec
 (
›t
.
u£r_hódîs
);

1209 
›t
.
u£r_hódîs
 = 
NULL
;

1210  
åue
;

1213 i‡(!
	`check_u£r_•ecifõd_hódî
 (
vÆ
))

1215 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: Invalid header %s.\n"),

1216 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1217  
Ál£
;

1219 
›t
.
u£r_hódîs
 = 
	`vec_≠≥nd
 (›t.u£r_hódîs, 
vÆ
);

1220  
åue
;

1221 
	}
}

1223 
boﬁ


1224 
	$cmd_•ec_htmlify
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1226 
Êag
 = 
	`cmd_boﬁón
 (
com
, 
vÆ
, &
›t
.
htmlify
);

1227 i‡(
Êag
 && !
›t
.
htmlify
)

1228 
›t
.
ªmove_li°ög
 = 
Ál£
;

1229  
Êag
;

1230 
	}
}

1235 
boﬁ


1236 
	$cmd_•ec_múr‹
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1238 
múr‹
;

1240 i‡(!
	`cmd_boﬁón
 (
com
, 
vÆ
, &
múr‹
))

1241  
Ál£
;

1242 i‡(
múr‹
)

1244 
›t
.
ªcursive
 = 
åue
;

1245 i‡(!
›t
.
no_dú°ru˘
)

1246 
›t
.
dú°ru˘
 = 
åue
;

1247 
›t
.
time°ampög
 = 
åue
;

1248 
›t
.
ª˛evñ
 = 
INFINITE_RECURSION
;

1249 
›t
.
ªmove_li°ög
 = 
Ál£
;

1251  
åue
;

1252 
	}
}

1257 
boﬁ


1258 
	$cmd_•ec_¥e„r_Ámûy
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1260 c⁄° 
decode_ôem
 
choi˚s
[] = {

1261 { "IPv4", 
¥e„r_ùv4
 },

1262 { "IPv6", 
¥e„r_ùv6
 },

1263 { "n⁄e", 
¥e„r_n⁄e
 },

1265 
¥e„r_Ámûy
 = 
¥e„r_n⁄e
;

1266 
ok
 = 
	`decode_°rög
 (
vÆ
, 
choi˚s
, 
	`cou¡of
 (choi˚s), &
¥e„r_Ámûy
);

1267 i‡(!
ok
)

1268 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvÆid vÆuê%s.\n"), 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1269 
›t
.
¥e„r_Ámûy
 =Örefer_family;

1270  
ok
;

1271 
	}
}

1276 
boﬁ


1277 
	$cmd_•ec_¥ogªss
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1279 i‡(!
	`vÆid_¥ogªss_im∂emíèti⁄_p
 (
vÆ
))

1281 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvalidÖrogressÅype %s.\n"),

1282 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1283  
Ál£
;

1285 
	`x‰ì_nuŒ
 (
›t
.
¥ogªss_ty≥
);

1289 
›t
.
¥ogªss_ty≥
 = 
	`x°rdup
 (
vÆ
);

1290  
åue
;

1291 
	}
}

1297 
boﬁ


1298 
	$cmd_•ec_ªcursive
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1300 i‡(!
	`cmd_boﬁón
 (
com
, 
vÆ
, &
›t
.
ªcursive
))

1301  
Ál£
;

1304 i‡(
›t
.
ªcursive
 && !›t.
no_dú°ru˘
)

1305 
›t
.
dú°ru˘
 = 
åue
;

1307  
åue
;

1308 
	}
}

1310 
boﬁ


1311 
	$cmd_•ec_ª°ri˘_fûe_«mes
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1313 
ª°ri˘_os
 = 
›t
.
ª°ri˘_fûes_os
;

1314 
ª°ri˘_˘æ
 = 
›t
.
ª°ri˘_fûes_˘æ
;

1315 
ª°ri˘_ˇ£
 = 
›t
.
ª°ri˘_fûes_ˇ£
;

1316 
ª°ri˘_n⁄ascii
 = 
›t
.
ª°ri˘_fûes_n⁄ascii
;

1318 c⁄° *
íd
;

1320 
	#VAL_IS
(
°rög_lôîÆ
Ë
	`BOUNDED_EQUAL
 (
vÆ
, 
íd
, såög_lôîÆ)

	)

1324 
íd
 = 
	`°rchr
 (
vÆ
, ',');

1325 i‡(!
íd
)

1326 
íd
 = 
vÆ
 + 
	`°æí
 (val);

1328 i‡(
	`VAL_IS
 ("unix"))

1329 
ª°ri˘_os
 = 
ª°ri˘_unix
;

1330 i‡(
	`VAL_IS
 ("windows"))

1331 
ª°ri˘_os
 = 
ª°ri˘_wödows
;

1332 i‡(
	`VAL_IS
 ("lowercase"))

1333 
ª°ri˘_ˇ£
 = 
ª°ri˘_lowîˇ£
;

1334 i‡(
	`VAL_IS
 ("uppercase"))

1335 
ª°ri˘_ˇ£
 = 
ª°ri˘_uµîˇ£
;

1336 i‡(
	`VAL_IS
 ("nocontrol"))

1337 
ª°ri˘_˘æ
 = 
Ál£
;

1338 i‡(
	`VAL_IS
 ("ascii"))

1339 
ª°ri˘_n⁄ascii
 = 
åue
;

1342 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: %s: InvalidÑestriction %s,\n\
 [unix|windows],[lowercase|uppercase],[nocontrol],[ascii].\n"),

1345 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1346  
Ál£
;

1349 i‡(*
íd
)

1350 
vÆ
 = 
íd
 + 1;

1352 *
vÆ
 && *
íd
);

1354 #unde‡
VAL_IS


1356 
›t
.
ª°ri˘_fûes_os
 = 
ª°ri˘_os
;

1357 
›t
.
ª°ri˘_fûes_˘æ
 = 
ª°ri˘_˘æ
;

1358 
›t
.
ª°ri˘_fûes_ˇ£
 = 
ª°ri˘_ˇ£
;

1359 
›t
.
ª°ri˘_fûes_n⁄ascii
 = 
ª°ri˘_n⁄ascii
;

1361  
åue
;

1362 
	}
}

1364 #ifde‡
HAVE_SSL


1365 
boﬁ


1366 
	$cmd_•ec_£cuª_¥Ÿocﬁ
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚
)

1368 c⁄° 
decode_ôem
 
choi˚s
[] = {

1369 { "auto", 
£cuª_¥Ÿocﬁ_auto
 },

1370 { "s¶v2", 
£cuª_¥Ÿocﬁ_s¶v2
 },

1371 { "s¶v3", 
£cuª_¥Ÿocﬁ_s¶v3
 },

1372 { "ésv1", 
£cuª_¥Ÿocﬁ_ésv1
 },

1374 
ok
 = 
	`decode_°rög
 (
vÆ
, 
choi˚s
, 
	`cou¡of
 (choi˚s), 
∂a˚
);

1375 i‡(!
ok
)

1376 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: InvÆid vÆuê%s.\n"), 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1377  
ok
;

1378 
	}
}

1383 
boﬁ


1384 
	$cmd_•ec_timeout
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1386 
vÆue
;

1387 i‡(!
	`cmd_time
 (
com
, 
vÆ
, &
vÆue
))

1388  
Ál£
;

1389 
›t
.
ªad_timeout
 = 
vÆue
;

1390 
›t
.
c⁄√˘_timeout
 = 
vÆue
;

1391 
›t
.
dns_timeout
 = 
vÆue
;

1392  
åue
;

1393 
	}
}

1395 
boﬁ


1396 
	$cmd_•ec_u£øgít
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1399 i‡(
	`°rchr
 (
vÆ
, '\n'))

1401 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s: Invalid value %s.\n"),

1402 
exec_«me
, 
com
, 
	`quŸe
 (
vÆ
));

1403  
Ál£
;

1405 
	`x‰ì_nuŒ
 (
›t
.
u£øgít
);

1406 
›t
.
u£øgít
 = 
	`x°rdup
 (
vÆ
);

1407  
åue
;

1408 
	}
}

1414 
boﬁ


1415 
	$cmd_•ec_vîbo£
 (c⁄° *
com
, c⁄° *
vÆ
, *
∂a˚_ign‹ed
)

1417 
boﬁ
 
Êag
;

1418 i‡(
	`cmd_boﬁón
 (
com
, 
vÆ
, &
Êag
))

1420 
›t
.
vîbo£
 = 
Êag
;

1421  
åue
;

1423  
Ál£
;

1424 
	}
}

1432 
boﬁ


1433 
	$sim∂e_©oi
 (c⁄° *
beg
, c⁄° *
íd
, *
de°
)

1435 
ªsu…
 = 0;

1436 
boﬁ
 
√g©ive
 = 
Ál£
;

1437 c⁄° *
p
 = 
beg
;

1439 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

1440 ++
p
;

1441 i‡(
p
 < 
íd
 && (*p == '-' || *p == '+'))

1443 
√g©ive
 = (*
p
 == '-');

1444 ++
p
;

1446 i‡(
p
 =
íd
)

1447  
Ál£
;

1452 i‡(!
√g©ive
)

1453 ; 
p
 < 
íd
 && 
	`c_isdigô
 (*p);Ö++)

1455 
√xt
 = (10 * 
ªsu…
Ë+ (*
p
 - '0');

1456 i‡(
√xt
 < 
ªsu…
)

1457  
Ál£
;

1458 
ªsu…
 = 
√xt
;

1461 ; 
p
 < 
íd
 && 
	`c_isdigô
 (*p);Ö++)

1463 
√xt
 = (10 * 
ªsu…
Ë- (*
p
 - '0');

1464 i‡(
√xt
 > 
ªsu…
)

1465  
Ál£
;

1466 
ªsu…
 = 
√xt
;

1469 i‡(
p
 !
íd
)

1470  
Ál£
;

1472 *
de°
 = 
ªsu…
;

1473  
åue
;

1474 
	}
}

1481 
boﬁ


1482 
	$sim∂e_©of
 (c⁄° *
beg
, c⁄° *
íd
, *
de°
)

1484 
ªsu…
 = 0;

1486 
boﬁ
 
√g©ive
 = 
Ál£
;

1487 
boﬁ
 
£í_dŸ
 = 
Ál£
;

1488 
boﬁ
 
£í_digô
 = 
Ál£
;

1489 
dividî
 = 1;

1491 c⁄° *
p
 = 
beg
;

1493 
p
 < 
íd
 && 
	`c_is•a˚
 (*p))

1494 ++
p
;

1495 i‡(
p
 < 
íd
 && (*p == '-' || *p == '+'))

1497 
√g©ive
 = (*
p
 == '-');

1498 ++
p
;

1501 ; 
p
 < 
íd
;Ö++)

1503 
ch
 = *
p
;

1504 i‡(
	`c_isdigô
 (
ch
))

1506 i‡(!
£í_dŸ
)

1507 
ªsu…
 = (10 *Ñesu…Ë+ (
ch
 - '0');

1509 
ªsu…
 +(
ch
 - '0'Ë/ (
dividî
 *= 10);

1510 
£í_digô
 = 
åue
;

1512 i‡(
ch
 == '.')

1514 i‡(!
£í_dŸ
)

1515 
£í_dŸ
 = 
åue
;

1517  
Ál£
;

1520  
Ál£
;

1522 i‡(!
£í_digô
)

1523  
Ál£
;

1524 i‡(
√g©ive
)

1525 
ªsu…
 = -result;

1527 *
de°
 = 
ªsu…
;

1528  
åue
;

1529 
	}
}

1535 
boﬁ


1536 
	$check_u£r_•ecifõd_hódî
 (c⁄° *
s
)

1538 c⁄° *
p
;

1540 
p
 = 
s
; *∞&& *∞!':' && !
	`c_is•a˚
 (*p);Ö++)

1544 i‡(*
p
 !':' ||Ö =
s
)

1545  
Ál£
;

1547 i‡(
	`°rchr
 (
s
, '\n'))

1548  
Ál£
;

1549  
åue
;

1550 
	}
}

1554 
boﬁ


1555 
	$decode_°rög
 (c⁄° *
vÆ
, c⁄° 
decode_ôem
 *
ôems
, 
ôemcou¡
,

1556 *
∂a˚
)

1558 
i
;

1559 
i
 = 0; i < 
ôemcou¡
; i++)

1560 i‡(0 =
	`°rˇ£cmp
 (
vÆ
, 
ôems
[
i
].
«me
))

1562 *
∂a˚
 = 
ôems
[
i
].
code
;

1563  
åue
;

1565  
Ál£
;

1566 
	}
}

1569 
˛ónup_html_uæ
 ();

1574 
	$˛ónup
 ()

1578 i‡(
ouçut_°ªam
)

1579 
	`f˛o£
 (
ouçut_°ªam
);

1591 #ifde‡
DEBUG_MALLOC


1592 
	`c⁄vît_˛ónup
 ();

1593 
	`ªs_˛ónup
 ();

1594 
	`hâp_˛ónup
 ();

1595 
	`˛ónup_html_uæ
 ();

1596 
	`ho°_˛ónup
 ();

1597 
	`log_˛ónup
 ();

1600 
acc_t
 *
√åc_li°
;

1601 
	`‰ì_√åc
 (
√åc_li°
);

1603 
	`x‰ì_nuŒ
 (
›t
.
choo£_c⁄fig
);

1604 
	`x‰ì_nuŒ
 (
›t
.
lfûíame
);

1605 
	`x‰ì_nuŒ
 (
›t
.
dú_¥efix
);

1606 
	`x‰ì_nuŒ
 (
›t
.
öput_fûíame
);

1607 
	`x‰ì_nuŒ
 (
›t
.
ouçut_documít
);

1608 
	`‰ì_vec
 (
›t
.
ac˚±s
);

1609 
	`‰ì_vec
 (
›t
.
ªje˘s
);

1610 
	`‰ì_vec
 (
›t
.
ex˛udes
);

1611 
	`‰ì_vec
 (
›t
.
ö˛udes
);

1612 
	`‰ì_vec
 (
›t
.
domaös
);

1613 
	`‰ì_vec
 (
›t
.
fﬁlow_ègs
);

1614 
	`‰ì_vec
 (
›t
.
ign‹e_ègs
);

1615 
	`x‰ì_nuŒ
 (
›t
.
¥ogªss_ty≥
);

1616 
	`x‰ì_nuŒ
 (
›t
.
·p_u£r
);

1617 
	`x‰ì_nuŒ
 (
›t
.
·p_∑sswd
);

1618 
	`x‰ì_nuŒ
 (
›t
.
·p_¥oxy
);

1619 
	`x‰ì_nuŒ
 (
›t
.
hâps_¥oxy
);

1620 
	`x‰ì_nuŒ
 (
›t
.
hâp_¥oxy
);

1621 
	`‰ì_vec
 (
›t
.
no_¥oxy
);

1622 
	`x‰ì_nuŒ
 (
›t
.
u£øgít
);

1623 
	`x‰ì_nuŒ
 (
›t
.
ª„ªr
);

1624 
	`x‰ì_nuŒ
 (
›t
.
hâp_u£r
);

1625 
	`x‰ì_nuŒ
 (
›t
.
hâp_∑sswd
);

1626 
	`‰ì_vec
 (
›t
.
u£r_hódîs
);

1627 #ifde‡
HAVE_SSL


1628 
	`x‰ì_nuŒ
 (
›t
.
˚π_fûe
);

1629 
	`x‰ì_nuŒ
 (
›t
.
¥iv©e_key
);

1630 
	`x‰ì_nuŒ
 (
›t
.
ˇ_dúe˘‹y
);

1631 
	`x‰ì_nuŒ
 (
›t
.
ˇ_˚π
);

1632 
	`x‰ì_nuŒ
 (
›t
.
øndom_fûe
);

1633 
	`x‰ì_nuŒ
 (
›t
.
egd_fûe
);

1635 
	`x‰ì_nuŒ
 (
›t
.
böd_addªss
);

1636 
	`x‰ì_nuŒ
 (
›t
.
cookõs_öput
);

1637 
	`x‰ì_nuŒ
 (
›t
.
cookõs_ouçut
);

1638 
	`x‰ì_nuŒ
 (
›t
.
u£r
);

1639 
	`x‰ì_nuŒ
 (
›t
.
∑sswd
);

1640 
	`x‰ì_nuŒ
 (
›t
.
ba£_hªf
);

1643 
	}
}

1647 #ifde‡
TESTING


1650 
	$ã°_comm™ds_s‹ãd
()

1652 
¥ev_idx
 = 0, 
√xt_idx
 = 1;

1653 
comm™d_cou¡
 = 
	`cou¡of
 (
comm™ds
) - 1;

1654 
cmp
 = 0;

1655 
√xt_idx
 <
comm™d_cou¡
)

1657 
cmp
 = 
	`°rˇ£cmp
 (
comm™ds
[
¥ev_idx
].
«me
, comm™ds[
√xt_idx
].name);

1658 i‡(
cmp
 > 0)

1660 
	`mu_as£π
 ("FAILED", 
Ál£
);

1665 
¥ev_idx
 ++;

1666 
√xt_idx
 ++;

1669  
NULL
;

1670 
	}
}

1673 
	$ã°_cmd_•ec_ª°ri˘_fûe_«mes
()

1675 
i
;

1677 *
vÆ
;

1678 
ex≥˘ed_ª°ri˘_fûes_os
;

1679 
ex≥˘ed_ª°ri˘_fûes_˘æ
;

1680 
ex≥˘ed_ª°ri˘_fûes_ˇ£
;

1681 
boﬁ
 
ªsu…
;

1682 } 
ã°_¨øy
[] = {

1683 { "wödows", 
ª°ri˘_wödows
, 
åue
, 
ª°ri˘_no_ˇ£_ª°ri˘i⁄
,Årue },

1684 { "wödows,", 
ª°ri˘_wödows
, 
åue
, 
ª°ri˘_no_ˇ£_ª°ri˘i⁄
,Årue },

1685 { "wödows,lowîˇ£", 
ª°ri˘_wödows
, 
åue
, 
ª°ri˘_lowîˇ£
,Årue },

1686 { "unix,noc⁄åﬁ,lowîˇ£,", 
ª°ri˘_unix
, 
Ál£
, 
ª°ri˘_lowîˇ£
, 
åue
 },

1689 
i
 = 0; i < (
ã°_¨øy
)/(test_array[0]); ++i)

1691 
boﬁ
 
ªs
;

1693 
	`deÁu…s
();

1694 
ªs
 = 
	`cmd_•ec_ª°ri˘_fûe_«mes
 ("dummy", 
ã°_¨øy
[
i
].
vÆ
, 
NULL
);

1702 
	`mu_as£π
 ("test_cmd_spec_restrict_file_names: wrongÑesult",

1703 
ªs
 =
ã°_¨øy
[
i
].
ªsu…


1704 && 
›t
.
ª°ri˘_fûes_os
 =
ã°_¨øy
[
i
].
ex≥˘ed_ª°ri˘_fûes_os


1705 && 
›t
.
ª°ri˘_fûes_˘æ
 =
ã°_¨øy
[
i
].
ex≥˘ed_ª°ri˘_fûes_˘æ


1706 && 
›t
.
ª°ri˘_fûes_ˇ£
 =
ã°_¨øy
[
i
].
ex≥˘ed_ª°ri˘_fûes_ˇ£
);

1709  
NULL
;

1710 
	}
}

	@src/init.h

32 #i‚de‡
INIT_H


33 
	#INIT_H


	)

35 *
wgërc_ív_fûe_«me
 ();

36 *
wgërc_u£r_fûe_«me
 ();

37 *
wgërc_fûe_«me
 ();

38 
öôülize
 ();

39 
run_comm™d
 (const *);

40 
£t›tvÆ
 (const *, const *, const *);

41 *
home_dú
 ();

42 
˛ónup
 ();

43 
deÁu…s
 ();

44 
boﬁ
 
run_wgërc
 (c⁄° *
fûe
);

	@src/iri.c

30 
	~"wgë.h
"

32 
	~<°dio.h
>

33 
	~<°dlib.h
>

34 
	~<°rög.h
>

35 
	~<ic⁄v.h
>

36 
	~<°rög¥ï.h
>

37 
	~<id«.h
>

38 
	~<î∫o.h
>

40 
	~"utûs.h
"

43 
	#IDNA_FLAGS
 
IDNA_USE_STD3_ASCII_RULES


	)

47 
boﬁ
 
do_c⁄vîsi⁄
 (
ic⁄v_t
 
cd
, *
ö
, 
size_t
 
öÀn
, **
out
);

53 
	$∑r£_ch¨£t
 (*
°r
)

55 *
ch¨£t
;

57 i‡(!
°r
 || !*str)

58  
NULL
;

60 
°r
 = 
	`°rˇ£°r
 (str, "charset=");

61 i‡(!
°r
)

62  
NULL
;

64 
°r
 += 8;

65 
ch¨£t
 = 
°r
;

68 *
ch¨£t
 && !
	`c_is•a˚
 (*charset))

69 
ch¨£t
++;

72 
ch¨£t
 = 
	`°rdupdñim
 (
°r
, charset);

75 i‡(!
	`check_ícodög_«me
 (
ch¨£t
))

77 
	`x‰ì
 (
ch¨£t
);

78  
NULL
;

83  
ch¨£t
;

84 
	}
}

88 
	$föd_loˇÀ
 ()

90  (*Ë
	`°rög¥ï_loˇÀ_ch¨£t
 ();

91 
	}
}

94 
boﬁ


95 
	$check_ícodög_«me
 (*
ícodög
)

97 *
s
 = 
ícodög
;

99 *
s
)

101 i‡(!
	`c_ißscii
 (*
s
Ë|| 
	`c_is•a˚
 (*s))

103 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Encodög %†i¢'àvÆid\n"), 
	`quŸe
 (
ícodög
));

104  
Ál£
;

107 
s
++;

110  
åue
;

111 
	}
}

116 
	$loˇÀ_to_utf8
 (c⁄° *
°r
)

118 
ic⁄v_t
 
l2u
;

119 *
√w
;

122 i‡(!
›t
.
loˇÀ
)

124 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("locale_to_utf8:Üocale is unset\n"));

125 
›t
.
loˇÀ
 = 
	`föd_loˇÀ
 ();

128 i‡(!
›t
.
loˇÀ
 || !
	`°rˇ£cmp
 (opt.locale, "utf-8"))

129  
°r
;

131 
l2u
 = 
	`ic⁄v_›í
 ("UTF-8", 
›t
.
loˇÀ
);

132 i‡(
l2u
 !(
ic⁄v_t
)(-1))

134 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Conversion from %sÅo %s isn't supported\n"),

135 
	`quŸe
 (
›t
.
loˇÀ
), quote ("UTF-8"));

136  
°r
;

139 i‡(
	`do_c⁄vîsi⁄
 (
l2u
, (*Ë
°r
, 
	`°æí
 ((*Ë°r), &
√w
))

140  (c⁄° *Ë
√w
;

142  
°r
;

143 
	}
}

148 
boﬁ


149 
	$do_c⁄vîsi⁄
 (
ic⁄v_t
 
cd
, *
ö
, 
size_t
 
öÀn
, **
out
)

152 
size_t
 
Àn
, 
d⁄e
, 
ouéí
 = 
öÀn
 * 2;

153 
övÆid
 = 0, 
toosh‹t
 = 0;

154 *
s
;

156 
s
 = 
	`xmÆloc
 (
ouéí
 + 1);

157 *
out
 = 
s
;

158 
Àn
 = 
ouéí
;

159 
d⁄e
 = 0;

163 i‡(
	`ic⁄v
 (
cd
, &
ö
, &
öÀn
, 
out
, &
ouéí
Ë!(
size_t
)(-1))

165 *
out
 = 
s
;

166 *(
s
 + 
Àn
 - 
ouéí
 - 
d⁄e
) = '\0';

167  
åue
;

171 i‡(
î∫o
 =
EINVAL
 ||Éºnÿ=
EILSEQ
)

173 i‡(!
övÆid
)

174 
	`log¥ötf
 (
LOG_VERBOSE
,

175 
	`_
("Incomplete or invalid multibyte sequenceÉncountered\n"));

177 
övÆid
++;

178 **
out
 = *
ö
;

179 
ö
++;

180 
öÀn
--;

181 (*
out
)++;

182 
ouéí
--;

184 i‡(
î∫o
 =
E2BIG
)

186 *
√w
;

188 
toosh‹t
++;

189 
d⁄e
 = 
Àn
;

190 
ouéí
 = 
d⁄e
 + 
öÀn
 * 2;

191 
√w
 = 
	`xmÆloc
 (
ouéí
 + 1);

192 
	`mem˝y
 (
√w
, 
s
, 
d⁄e
);

193 
	`x‰ì
 (
s
);

194 
s
 = 
√w
;

195 
Àn
 = 
ouéí
;

196 *
out
 = 
s
 + 
d⁄e
;

200 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Unh™dÀdÉºnÿ%d\n"), 
î∫o
);

205  
Ál£
;

206 
	}
}

211 
	$idn_ícode
 (
úi
 *
i
, *
ho°
)

213 *
√w
;

214 
ªt
;

217 i‡(!
i
->
utf8_ícode
)

219 i‡(!
	`ªmŸe_to_utf8
 (
i
, (c⁄° *Ë
ho°
, (c⁄° **Ë&
√w
))

220  
NULL
;

221 
ho°
 = 
√w
;

225 
ªt
 = 
	`id«_to_ascii_8z
 (
ho°
, &
√w
, 
IDNA_FLAGS
);

226 i‡(
ªt
 !
IDNA_SUCCESS
)

229 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("idn_ícodêÁûed (%d): %s\n"), 
ªt
,

230 
	`quŸe
 (
	`id«_°ªº‹
 (
ªt
)));

231  
NULL
;

234  
√w
;

235 
	}
}

240 
	$idn_decode
 (*
ho°
)

242 *
√w
;

243 
ªt
;

245 
ªt
 = 
	`id«_to_unicode_8zlz
 (
ho°
, &
√w
, 
IDNA_FLAGS
);

246 i‡(
ªt
 !
IDNA_SUCCESS
)

248 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("idn_decodêÁûed (%d): %s\n"), 
ªt
,

249 
	`quŸe
 (
	`id«_°ªº‹
 (
ªt
)));

250  
NULL
;

253  
√w
;

254 
	}
}

258 
boﬁ


259 
	$ªmŸe_to_utf8
 (
úi
 *
i
, c⁄° *
°r
, c⁄° **
√w
)

261 
ic⁄v_t
 
cd
;

262 
boﬁ
 
ªt
 = 
Ál£
;

264 i‡(!
i
->
uri_ícodög
)

265  
Ál£
;

270 i‡(!
	`°rcmp
 (
i
->
uri_ícodög
, "UTF-8"))

272 
i
, 
Àn
 = 
	`°æí
 (
°r
);

273 
i
 = 0; i < 
Àn
; i++)

274 i‡((Ë
°r
[
i
] >= () '\200')

276 *
√w
 = 
	`°rdup
 (
°r
);

277  
åue
;

279  
Ál£
;

282 
cd
 = 
	`ic⁄v_›í
 ("UTF-8", 
i
->
uri_ícodög
);

283 i‡(
cd
 =(
ic⁄v_t
)(-1))

284  
Ál£
;

286 i‡(
	`do_c⁄vîsi⁄
 (
cd
, (*Ë
°r
, 
	`°æí
 ((*Ë°r), (**Ë
√w
))

287 
ªt
 = 
åue
;

289 
	`ic⁄v_˛o£
 (
cd
);

292 i‡(!
	`°rcmp
 (
°r
, *
√w
))

294 
	`x‰ì
 ((*Ë*
√w
);

295  
Ál£
;

298  
ªt
;

299 
	}
}

302 
úi
 *

303 
	$úi_√w
 ()

305 
úi
 *
i
 = 
	`xmÆloc
 ( *i);

306 
i
->
uri_ícodög
 = 
›t
.
ícodög_ªmŸe
 ? 
	`x°rdup
 (›t.ícodög_ªmŸeË: 
NULL
;

307 
i
->
c⁄ã¡_ícodög
 = 
NULL
;

308 
i
->
‹ig_uæ
 = 
NULL
;

309 
i
->
utf8_ícode
 = 
›t
.
íabÀ_úi
;

310  
i
;

311 
	}
}

313 
úi
 *
	$úi_dup
 (c⁄° 
úi
 *
§c
)

315 
úi
 *
i
 = 
	`xmÆloc
 ( *i);

316 
i
->
uri_ícodög
 = 
§c
->uri_ícodög ? 
	`x°rdup
 (§c->uri_ícodögË: 
NULL
;

317 
i
->
c⁄ã¡_ícodög
 = (
§c
->content_encoding ?

318 
	`x°rdup
 (
§c
->
c⁄ã¡_ícodög
Ë: 
NULL
);

319 
i
->
‹ig_uæ
 = 
§c
->‹ig_uæ ? 
	`x°rdup
 (§c->‹ig_uæË: 
NULL
;

320 
i
->
utf8_ícode
 = 
§c
->utf8_encode;

321  
i
;

322 
	}
}

326 
	$úi_‰ì
 (
úi
 *
i
)

328 
	`x‰ì_nuŒ
 (
i
->
uri_ícodög
);

329 
	`x‰ì_nuŒ
 (
i
->
c⁄ã¡_ícodög
);

330 
	`x‰ì_nuŒ
 (
i
->
‹ig_uæ
);

331 
	`x‰ì
 (
i
);

332 
	}
}

337 
	$£t_uri_ícodög
 (
úi
 *
i
, *
ch¨£t
, 
boﬁ
 
f‹˚
)

339 
	`DEBUGP
 (("URIÉncodög = %s\n", 
ch¨£t
 ? 
	`quŸe
 (charset) : "None"));

340 i‡(!
f‹˚
 && 
›t
.
ícodög_ªmŸe
)

342 i‡(
i
->
uri_ícodög
)

344 i‡(
ch¨£t
 && !
	`°rˇ£cmp
 (
i
->
uri_ícodög
, charset))

346 
	`x‰ì
 (
i
->
uri_ícodög
);

349 
i
->
uri_ícodög
 = 
ch¨£t
 ? 
	`x°rdup
 (ch¨£tË: 
NULL
;

350 
	}
}

354 
	$£t_c⁄ã¡_ícodög
 (
úi
 *
i
, *
ch¨£t
)

356 
	`DEBUGP
 (("URI c⁄ã¡Éncodög = %s\n", 
ch¨£t
 ? 
	`quŸe
 (charset) : "None"));

357 i‡(
›t
.
ícodög_ªmŸe
)

359 i‡(
i
->
c⁄ã¡_ícodög
)

361 i‡(
ch¨£t
 && !
	`°rˇ£cmp
 (
i
->
c⁄ã¡_ícodög
, charset))

363 
	`x‰ì
 (
i
->
c⁄ã¡_ícodög
);

366 
i
->
c⁄ã¡_ícodög
 = 
ch¨£t
 ? 
	`x°rdup
 (ch¨£tË: 
NULL
;

367 
	}
}

	@src/iri.h

30 #i‚de‡
IRI_H


31 
	#IRI_H


	)

33 
	súi
 {

34 *
	muri_ícodög
;

35 *
	mc⁄ã¡_ícodög
;

36 *
	m‹ig_uæ
;

37 
boﬁ
 
	mutf8_ícode
;

40 #ifde‡
ENABLE_IRI


42 *
∑r£_ch¨£t
 (*
°r
);

43 *
föd_loˇÀ
 ();

44 
boﬁ
 
check_ícodög_«me
 (*
ícodög
);

45 c⁄° *
loˇÀ_to_utf8
 (c⁄° *
°r
);

46 *
idn_ícode
 (
úi
 *
i
, *
ho°
);

47 *
idn_decode
 (*
ho°
);

48 
boﬁ
 
ªmŸe_to_utf8
 (
úi
 *
i
, c⁄° *
°r
, c⁄° **
√w
);

49 
úi
 *
úi_√w
 ();

50 
úi
 *
úi_dup
 (const iri *);

51 
úi_‰ì
 (
úi
 *
i
);

52 
£t_uri_ícodög
 (
úi
 *
i
, *
ch¨£t
, 
boﬁ
 
f‹˚
);

53 
£t_c⁄ã¡_ícodög
 (
úi
 *
i
, *
ch¨£t
);

57 
úi
 
dummy_úi
;

59 
	#∑r£_ch¨£t
(
°r
Ë(°r, 
NULL
)

	)

60 
	#föd_loˇÀ
(Ë
NULL


	)

61 
	#check_ícodög_«me
(
°r
Ë
Ál£


	)

62 
	#loˇÀ_to_utf8
(
°r
Ë(°r)

	)

63 
	#idn_ícode
(
a
,
b
Ë
NULL


	)

64 
	#idn_decode
(
°r
Ë
NULL


	)

65 
	#ªmŸe_to_utf8
(
a
,
b
,
c
Ë
Ál£


	)

66 
	#úi_√w
(Ë(&
dummy_úi
)

	)

67 
	#úi_dup
(
a
Ë(&
dummy_úi
)

	)

68 
	#úi_‰ì
(
a
)

	)

69 
	#£t_uri_ícodög
(
a
,
b
,
c
)

	)

70 
	#£t_c⁄ã¡_ícodög
(
a
,
b
)

	)

	@src/log.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<°rög.h
>

35 
	~<°dlib.h
>

36 
	~<°d¨g.h
>

37 
	~<uni°d.h
>

38 
	~<as£π.h
>

39 
	~<î∫o.h
>

41 
	~"utûs.h
"

42 
	~"log.h
"

51 #ifde‡
__VMS


52 
	#FPUTS
–
s
, 
f
Ë
	`Ârötf
–(f), "%s", (s))

	)

54 
	#FPUTS
–
s
, 
f
Ë
	`Âuts
–(s), (f))

	)

80 
FILE
 *
	glogÂ
;

84 
boﬁ
 
	göhibô_loggög
;

87 
boﬁ
 
	gßve_c⁄ãxt_p
;

90 
boﬁ
 
	gÊush_log_p
 = 
åue
;

93 
boﬁ
 
	g√eds_Êushög
;

101 
	#SAVED_LOG_LINES
 24

	)

117 
	#STATIC_LENGTH
 128

	)

119 
	slog_ 
 {

120 
	m°©ic_löe
[
STATIC_LENGTH
 + 1];

122 *
	mmÆlo˚d_löe
;

124 *
	mc⁄ã¡
;

128 } 
	glog_löes
[
SAVED_LOG_LINES
];

131 
	glog_löe_cuºít
 = -1;

137 
boﬁ
 
	gåaûög_löe
;

139 
check_ªdúe˘_ouçut
 ();

141 
	#ROT_ADVANCE
(
num
) do { \

142 i‡(++
num
 >
SAVED_LOG_LINES
) \

143 
num
 = 0; \

144 } 0)

	)

151 
	$‰ì_log_löe
 (
num
)

153 
log_ 
 *
 
 = 
log_löes
 + 
num
;

154 i‡(
 
->
mÆlo˚d_löe
)

156 
	`x‰ì
 (
 
->
mÆlo˚d_löe
);

157 
 
->
mÆlo˚d_löe
 = 
NULL
;

159 
 
->
c⁄ã¡
 = 
NULL
;

160 
	}
}

167 
	$ßved_≠≥nd_1
 (c⁄° *
°¨t
, c⁄° *
íd
)

169 
Àn
 = 
íd
 - 
°¨t
;

170 i‡(!
Àn
)

175 i‡(!
åaûög_löe
)

178 
log_ 
 *
 
;

180 i‡(
log_löe_cuºít
 == -1)

181 
log_löe_cuºít
 = 0;

183 
	`‰ì_log_löe
 (
log_löe_cuºít
);

184 
 
 = 
log_löes
 + 
log_löe_cuºít
;

185 i‡(
Àn
 > 
STATIC_LENGTH
)

187 
 
->
mÆlo˚d_löe
 = 
	`°rdupdñim
 (
°¨t
, 
íd
);

188 
 
->
c⁄ã¡
 =Ün->
mÆlo˚d_löe
;

192 
	`mem˝y
 (
 
->
°©ic_löe
, 
°¨t
, 
Àn
);

193 
 
->
°©ic_löe
[
Àn
] = '\0';

194 
 
->
c⁄ã¡
 =Ün->
°©ic_löe
;

204 
log_ 
 *
 
 = 
log_löes
 + 
log_löe_cuºít
;

205 i‡(
 
->
mÆlo˚d_löe
)

208 
ﬁd_Àn
 = 
	`°æí
 (
 
->
mÆlo˚d_löe
);

209 
 
->
mÆlo˚d_löe
 = 
	`xªÆloc
 ( ->mÆlo˚d_löe, 
ﬁd_Àn
 + 
Àn
 + 1);

210 
	`mem˝y
 (
 
->
mÆlo˚d_löe
 + 
ﬁd_Àn
, 
°¨t
, 
Àn
);

211 
 
->
mÆlo˚d_löe
[
ﬁd_Àn
 + 
Àn
] = '\0';

213 
 
->
c⁄ã¡
 =Ün->
mÆlo˚d_löe
;

217 
ﬁd_Àn
 = 
	`°æí
 (
 
->
°©ic_löe
);

218 i‡(
ﬁd_Àn
 + 
Àn
 > 
STATIC_LENGTH
)

222 
 
->
mÆlo˚d_löe
 = 
	`xmÆloc
 (
ﬁd_Àn
 + 
Àn
 + 1);

223 
	`mem˝y
 (
 
->
mÆlo˚d_löe
,Ün->
°©ic_löe
,

224 
ﬁd_Àn
);

225 
	`mem˝y
 (
 
->
mÆlo˚d_löe
 + 
ﬁd_Àn
, 
°¨t
, 
Àn
);

226 
 
->
mÆlo˚d_löe
[
ﬁd_Àn
 + 
Àn
] = '\0';

227 
 
->
c⁄ã¡
 =Ün->
mÆlo˚d_löe
;

233 
	`mem˝y
 (
 
->
°©ic_löe
 + 
ﬁd_Àn
, 
°¨t
, 
Àn
);

234 
 
->
°©ic_löe
[
ﬁd_Àn
 + 
Àn
] = '\0';

235 
 
->
c⁄ã¡
 =Ün->
°©ic_löe
;

239 
åaûög_löe
 = !(
íd
[-1] == '\n');

240 i‡(!
åaûög_löe
)

241 
	`ROT_ADVANCE
 (
log_löe_cuºít
);

242 
	}
}

250 
	$ßved_≠≥nd
 (c⁄° *
s
)

252 *
s
)

254 c⁄° *
íd
 = 
	`°rchr
 (
s
, '\n');

255 i‡(!
íd
)

256 
íd
 = 
s
 + 
	`°æí
 (s);

258 ++
íd
;

259 
	`ßved_≠≥nd_1
 (
s
, 
íd
);

260 
s
 = 
íd
;

262 
	}
}

274 
	#CHECK_VERBOSE
(
x
) \

275 
x
) \

277 
LOG_ALWAYS
: \

279 
LOG_NOTQUIET
: \

280 i‡(
›t
.
quõt
) \

283 
LOG_NONVERBOSE
: \

284 i‡(
›t
.
vîbo£
 || o±.
quõt
) \

287 
LOG_VERBOSE
: \

288 i‡(!
›t
.
vîbo£
) \

290 }

	)

298 
FILE
 *

299 
	$gë_log_Â
 ()

301 i‡(
öhibô_loggög
)

302  
NULL
;

303 i‡(
logÂ
)

304  
logÂ
;

305  
°dîr
;

306 
	}
}

312 
	$logputs
 (
log_›ti⁄s
 
o
, c⁄° *
s
)

314 
FILE
 *
Â
;

316 
	`check_ªdúe˘_ouçut
 ();

317 i‡((
Â
 = 
	`gë_log_Â
 ()Ë=
NULL
)

319 
	`CHECK_VERBOSE
 (
o
);

321 
	`FPUTS
 (
s
, 
Â
);

322 i‡(
ßve_c⁄ãxt_p
)

323 
	`ßved_≠≥nd
 (
s
);

324 i‡(
Êush_log_p
)

325 
	`logÊush
 ();

327 
√eds_Êushög
 = 
åue
;

328 
	}
}

330 
	slogv¥ötf_°©e
 {

331 *
	mbigmsg
;

332 
	mex≥˘ed_size
;

333 
	mÆloˇãd
;

350 
boﬁ


351 
	$log_v¥ötf_öã∫Æ
 (
logv¥ötf_°©e
 *
°©e
, c⁄° *
fmt
,

352 
va_li°
 
¨gs
)

354 
smÆlmsg
[128];

355 *
wrôe_±r
 = 
smÆlmsg
;

356 
avaûabÀ_size
 =  (
smÆlmsg
);

357 
numwrôãn
;

358 
FILE
 *
Â
 = 
	`gë_log_Â
 ();

360 i‡(!
ßve_c⁄ãxt_p
)

364 
	`vÂrötf
 (
Â
, 
fmt
, 
¨gs
);

365 
Êush
;

368 i‡(
°©e
->
Æloˇãd
 != 0)

370 
wrôe_±r
 = 
°©e
->
bigmsg
;

371 
avaûabÀ_size
 = 
°©e
->
Æloˇãd
;

380 
numwrôãn
 = 
	`v¢¥ötf
 (
wrôe_±r
, 
avaûabÀ_size
, 
fmt
, 
¨gs
);

390 i‡(
numwrôãn
 == -1)

394 
√wsize
 = 
avaûabÀ_size
 << 1;

395 
°©e
->
bigmsg
 = 
	`xªÆloc
 (°©e->bigmsg, 
√wsize
);

396 
°©e
->
Æloˇãd
 = 
√wsize
;

397  
Ál£
;

399 i‡(
numwrôãn
 >
avaûabÀ_size
)

403 
√wsize
 = 
numwrôãn
 + 1;

404 
°©e
->
bigmsg
 = 
	`xªÆloc
 (°©e->bigmsg, 
√wsize
);

405 
°©e
->
Æloˇãd
 = 
√wsize
;

406  
Ál£
;

410 
	`ßved_≠≥nd
 (
wrôe_±r
);

411 
	`FPUTS
 (
wrôe_±r
, 
Â
);

412 i‡(
°©e
->
bigmsg
)

413 
	`x‰ì
 (
°©e
->
bigmsg
);

415 
Êush
:

416 i‡(
Êush_log_p
)

417 
	`logÊush
 ();

419 
√eds_Êushög
 = 
åue
;

421  
åue
;

422 
	}
}

426 
	$logÊush
 ()

428 
FILE
 *
Â
 = 
	`gë_log_Â
 ();

429 i‡(
Â
)

434 #ifde‡
__VMS


435 i‡(
	`ißây
–
	`fûío
–
Â
)))

437 
	`fÊush
 (
Â
);

440 
	`fÊush
 (
Â
);

443 
√eds_Êushög
 = 
Ál£
;

444 
	}
}

448 
	$log_£t_Êush
 (
boﬁ
 
Êush
)

450 i‡(
Êush
 =
Êush_log_p
)

453 i‡(
Êush
 =
Ál£
)

456 
Êush_log_p
 = 
Ál£
;

462 i‡(
√eds_Êushög
)

463 
	`logÊush
 ();

464 
Êush_log_p
 = 
åue
;

466 
	}
}

472 
boﬁ


473 
	$log_£t_ßve_c⁄ãxt
 (
boﬁ
 
ßvï
)

475 
boﬁ
 
ﬁd
 = 
ßve_c⁄ãxt_p
;

476 
ßve_c⁄ãxt_p
 = 
ßvï
;

477  
ﬁd
;

478 
	}
}

485 
	$log¥ötf
 (
log_›ti⁄s
 
o
, c⁄° *
fmt
, ...)

487 
va_li°
 
¨gs
;

488 
logv¥ötf_°©e
 
Õ°©e
;

489 
boﬁ
 
d⁄e
;

491 
	`check_ªdúe˘_ouçut
 ();

492 i‡(
öhibô_loggög
)

494 
	`CHECK_VERBOSE
 (
o
);

496 
	`xzîo
 (
Õ°©e
);

499 
	`va_°¨t
 (
¨gs
, 
fmt
);

500 
d⁄e
 = 
	`log_v¥ötf_öã∫Æ
 (&
Õ°©e
, 
fmt
, 
¨gs
);

501 
	`va_íd
 (
¨gs
);

503 i‡(
d⁄e
 && 
î∫o
 =
EPIPE
)

504 
	`exô
 (1);

506 !
d⁄e
);

507 
	}
}

509 #ifde‡
ENABLE_DEBUG


513 
	$debug_log¥ötf
 (c⁄° *
fmt
, ...)

515 i‡(
›t
.
debug
)

517 
va_li°
 
¨gs
;

518 
logv¥ötf_°©e
 
Õ°©e
;

519 
boﬁ
 
d⁄e
;

521 
	`check_ªdúe˘_ouçut
 ();

522 i‡(
öhibô_loggög
)

525 
	`xzîo
 (
Õ°©e
);

528 
	`va_°¨t
 (
¨gs
, 
fmt
);

529 
d⁄e
 = 
	`log_v¥ötf_öã∫Æ
 (&
Õ°©e
, 
fmt
, 
¨gs
);

530 
	`va_íd
 (
¨gs
);

532 !
d⁄e
);

534 
	}
}

540 
	$log_öô
 (c⁄° *
fûe
, 
boﬁ
 
≠≥ndp
)

542 i‡(
fûe
)

544 
logÂ
 = 
	`f›í
 (
fûe
, 
≠≥ndp
 ? "a" : "w");

545 i‡(!
logÂ
)

547 
	`Ârötf
 (
°dîr
, "%s: %s: %s\n", 
exec_«me
, 
fûe
, 
	`°ªº‹
 (
î∫o
));

548 
	`exô
 (1);

559 
logÂ
 = 
°dîr
;

562 #ifde‡
HAVE_ISATTY


563 && 
	`ißây
 (
	`fûío
 (
logÂ
))

571 
ßve_c⁄ãxt_p
 = 
åue
;

574 
	}
}

579 
	$log_˛o£
 ()

581 
i
;

583 i‡(
logÂ
)

584 
	`f˛o£
 (
logÂ
);

585 
logÂ
 = 
NULL
;

586 
öhibô_loggög
 = 
åue
;

587 
ßve_c⁄ãxt_p
 = 
Ál£
;

589 
i
 = 0; i < 
SAVED_LOG_LINES
; i++)

590 
	`‰ì_log_löe
 (
i
);

591 
log_löe_cuºít
 = -1;

592 
åaûög_löe
 = 
Ál£
;

593 
	}
}

597 
	$log_dump_c⁄ãxt
 ()

599 
num
 = 
log_löe_cuºít
;

600 
FILE
 *
Â
 = 
	`gë_log_Â
 ();

601 i‡(!
Â
)

604 i‡(
num
 == -1)

606 i‡(
åaûög_löe
)

607 
	`ROT_ADVANCE
 (
num
);

610 
log_ 
 *
 
 = 
log_löes
 + 
num
;

611 i‡(
 
->
c⁄ã¡
)

612 
	`FPUTS
 (
 
->
c⁄ã¡
, 
Â
);

613 
	`ROT_ADVANCE
 (
num
);

615 
num
 !
log_löe_cuºít
);

616 i‡(
åaûög_löe
)

617 i‡(
log_löes
[
log_löe_cuºít
].
c⁄ã¡
)

618 
	`FPUTS
 (
log_löes
[
log_löe_cuºít
].
c⁄ã¡
, 
Â
);

619 
	`fÊush
 (
Â
);

620 
	}
}

628 
	$cou¡_n⁄¥öt
 (c⁄° *
sour˚
)

630 c⁄° *
p
;

631 
˙t
;

632 
p
 = 
sour˚
, 
˙t
 = 0; *p;Ö++)

633 i‡(!
	`c_i•röt
 (*
p
))

634 ++
˙t
;

635  
˙t
;

636 
	}
}

662 
	$c›y_™d_esˇ≥
 (c⁄° *
sour˚
, *
de°
, 
esˇ≥
, 
ba£
)

664 c⁄° *
‰om
 = 
sour˚
;

665 *
to
 = 
de°
;

666 
c
;

669 
ba£
)

672 (
c
 = *
‰om
++) != '\0')

673 i‡(
	`c_i•röt
 (
c
))

674 *
to
++ = 
c
;

677 *
to
++ = 
esˇ≥
;

678 *
to
++ = '0' + (
c
 >> 6);

679 *
to
++ = '0' + ((
c
 >> 3) & 7);

680 *
to
++ = '0' + (
c
 & 7);

684 (
c
 = *
‰om
++) != '\0')

685 i‡(
	`c_i•röt
 (
c
))

686 *
to
++ = 
c
;

689 *
to
++ = 
esˇ≥
;

690 *
to
++ = 
	`XNUM_TO_DIGIT
 (
c
 >> 4);

691 *
to
++ = 
	`XNUM_TO_DIGIT
 (
c
 & 0xf);

695 
	`ab‹t
 ();

697 *
to
 = '\0';

698 
	}
}

700 
	#RING_SIZE
 3

	)

701 
	srögñ
 {

702 *
	mbuf„r
;

703 
	msize
;

705 
rögñ
 
	grög
[
RING_SIZE
];

708 
	$es˙⁄¥öt_öã∫Æ
 (c⁄° *
°r
, 
esˇ≥
, 
ba£
)

710 
rögpos
;

711 
≈r˙t
;

713 
	`as£π
 (
ba£
 == 8 || base == 16);

715 
≈r˙t
 = 
	`cou¡_n⁄¥öt
 (
°r
);

716 i‡(
≈r˙t
 == 0)

719  
°r
;

724 
rögñ
 *
r
 = 
rög
 + 
rögpos
;

730 
√eded_size
 = 
	`°æí
 (
°r
Ë+ 1 + (
ba£
 =8 ? 3 * 
≈r˙t
 : 2 *Çprcnt);

734 i‡(
r
->
buf„r
 =
NULL
 ||Ñ->
size
 < 
√eded_size
)

736 
r
->
buf„r
 = 
	`xªÆloc
 (r->buf„r, 
√eded_size
);

737 
r
->
size
 = 
√eded_size
;

740 
	`c›y_™d_esˇ≥
 (
°r
, 
r
->
buf„r
, 
esˇ≥
, 
ba£
);

741 
rögpos
 = (rögpo†+ 1Ë% 
RING_SIZE
;

742  
r
->
buf„r
;

744 
	}
}

771 
	$es˙⁄¥öt
 (c⁄° *
°r
)

773  
	`es˙⁄¥öt_öã∫Æ
 (
°r
, '\\', 8);

774 
	}
}

783 
	$es˙⁄¥öt_uri
 (c⁄° *
°r
)

785  
	`es˙⁄¥öt_öã∫Æ
 (
°r
, '%', 16);

786 
	}
}

789 
	$log_˛ónup
 ()

791 
size_t
 
i
;

792 
i
 = 0; i < 
	`cou¡of
 (
rög
); i++)

793 
	`x‰ì_nuŒ
 (
rög
[
i
].
buf„r
);

794 
	}
}

798 íum { 
	mRR_NONE
, 
	mRR_REQUESTED
, 
	mRR_DONE
 } 
	gªdúe˘_ªque°
 = 
RR_NONE
;

799 c⁄° *
	gªdúe˘_ªque°_sig«l_«me
;

804 
	$ªdúe˘_ouçut
 ()

806 *
logfûe
;

807 
logÂ
 = 
	`unique_¸óã
 (
DEFAULT_LOGFILE
, 
Ál£
, &
logfûe
);

808 i‡(
logÂ
)

810 
	`Ârötf
 (
°dîr
, 
	`_
("\n%sÑeceived,Ñedirecting outputÅo %s.\n"),

811 
ªdúe˘_ªque°_sig«l_«me
, 
	`quŸe
 (
logfûe
));

812 
	`x‰ì
 (
logfûe
);

814 
	`log_dump_c⁄ãxt
 ();

820 
	`Ârötf
 (
°dîr
, 
	`_
("\n%†ª˚ived.\n"), 
ªdúe˘_ªque°_sig«l_«me
);

821 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s; disablingÜogging.\n"),

822 
logfûe
, 
	`°ªº‹
 (
î∫o
));

823 
öhibô_loggög
 = 
åue
;

825 
ßve_c⁄ãxt_p
 = 
Ál£
;

826 
	}
}

832 
	$check_ªdúe˘_ouçut
 ()

834 i‡(
ªdúe˘_ªque°
 =
RR_REQUESTED
)

836 
ªdúe˘_ªque°
 = 
RR_DONE
;

837 
	`ªdúe˘_ouçut
 ();

839 
	}
}

845 
	$log_ªque°_ªdúe˘_ouçut
 (c⁄° *
sig«l_«me
)

847 i‡(
ªdúe˘_ªque°
 =
RR_NONE
 && 
ßve_c⁄ãxt_p
)

851 
ªdúe˘_ªque°
 = 
RR_REQUESTED
;

852 
ªdúe˘_ªque°_sig«l_«me
 = 
sig«l_«me
;

853 
	}
}

	@src/log.h

31 #i‚de‡
LOG_H


32 
	#LOG_H


	)

35 
	#DEFAULT_LOGFILE
 "wgë-log"

	)

37 
	elog_›ti⁄s
 { 
	mLOG_VERBOSE
, 
	mLOG_NOTQUIET
, 
	mLOG_NONVERBOSE
, 
	mLOG_ALWAYS
 };

39 
	$log¥ötf
 (
log_›ti⁄s
, const *, ...)

40 
	`GCC_FORMAT_ATTR
 (2, 3);

41 
	$debug_log¥ötf
 (c⁄° *, ...Ë
	`GCC_FORMAT_ATTR
 (1, 2);

42 
	`logputs
 (
log_›ti⁄s
, const *);

43 
	`logÊush
 ();

44 
	`log_£t_Êush
 (
boﬁ
);

45 
boﬁ
 
	`log_£t_ßve_c⁄ãxt
 (bool);

47 
	`log_öô
 (c⁄° *, 
boﬁ
);

48 
	`log_˛o£
 ();

49 
	`log_˛ónup
 ();

50 
	`log_ªque°_ªdúe˘_ouçut
 (const *);

52 c⁄° *
	`es˙⁄¥öt
 (const *);

53 c⁄° *
	`es˙⁄¥öt_uri
 (const *);

	@src/main.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<uni°d.h
>

37 
	~<°rög.h
>

38 
	~<sig«l.h
>

39 #ifde‡
ENABLE_NLS


40 
	~<loˇÀ.h
>

42 
	~<as£π.h
>

43 
	~<î∫o.h
>

44 
	~<time.h
>

46 
	~"exôs.h
"

47 
	~"utûs.h
"

48 
	~"öô.h
"

49 
	~"ªå.h
"

50 
	~"ªcur.h
"

51 
	~"ho°.h
"

52 
	~"uæ.h
"

53 
	~"¥ogªss.h
"

54 
	~"c⁄vît.h
"

55 
	~"•idî.h
"

56 
	~"hâp.h
"

57 
	~"±imî.h
"

59 
	~<gë›t.h
>

60 
	~<gë∑ss.h
>

61 
	~<quŸe.h
>

63 #ifde‡
WINDOWS


64 
	~<io.h
>

65 
	~<f˙é.h
>

68 #ifde‡
__VMS


69 
	~"vms.h
"

72 #i‚de‡
PATH_SEPARATOR


73 
	#PATH_SEPARATOR
 '/'

	)

76 #i‚de‡
ENABLE_IRI


77 
úi
 
	gdummy_úi
;

80 
›ti⁄s
 
	g›t
;

83 *
vîsi⁄_°rög
;

84 *
compû©i⁄_°rög
;

85 *
sy°em_gërc
;

86 *
lök_°rög
;

88 c⁄° *
compûed_„©uªs
[];

90 
	#MAX_CHARS_PER_LINE
 72

	)

91 
	#TABULATION
 4

	)

93 #i‡
deföed
(
SIGHUP
Ë|| deföed(
SIGUSR1
)

94 
ªdúe˘_ouçut_sig«l
 ();

97 c⁄° *
	gexec_«me
;

100 
	gnumuæs
 = 0;

102 #i‚de‡
TESTING


108 
	$i18n_öôülize
 ()

111 #ifde‡
ENABLE_NLS


113 
	`£éoˇÀ
 (
LC_ALL
, "");

115 
	`bödãxtdomaö
 ("wgë", 
LOCALEDIR
);

116 
	`ãxtdomaö
 ("wget");

118 
	}
}

122 
¥öt_hñp
 ();

123 
¥öt_vîsi⁄
 ();

125 #ifde‡
HAVE_SSL


126 
	#IF_SSL
(
x
Ë
	)
x

128 
	#IF_SSL
(
x
Ë
NULL


	)

131 #ifde‡
ENABLE_DEBUG


132 
	#WHEN_DEBUG
(
x
Ë
	)
x

134 
	#WHEN_DEBUG
(
x
Ë
NULL


	)

137 
	scmdlöe_›ti⁄
 {

138 c⁄° *
	ml⁄g_«me
;

139 
	msh‹t_«me
;

141 
	mOPT_VALUE
,

142 
	mOPT_BOOLEAN
,

143 
	mOPT_FUNCALL
,

146 
	mOPT__APPEND_OUTPUT
,

147 
	mOPT__CLOBBER
,

148 
	mOPT__DONT_REMOVE_LISTING
,

149 
	mOPT__EXECUTE
,

150 
	mOPT__NO
,

151 
	mOPT__PARENT


152 } 
	mty≥
;

153 c⁄° *
	md©a
;

154 
	m¨gty≥
;

157 
cmdlöe_›ti⁄
 
	g›ti⁄_d©a
[] =

159 { "ac˚±", 'A', 
OPT_VALUE
, "accept", -1 },

160 { "adju°-exãnsi⁄", 'E', 
OPT_BOOLEAN
, "adjustextension", -1 },

161 { "≠≥nd-ouçut", 'a', 
OPT__APPEND_OUTPUT
, 
NULL
, 
ªquúed_¨gumít
 },

162 { "ask-∑ssw‹d", 0, 
OPT_BOOLEAN
, "askpassword", -1 },

163 { "auth-no-chÆÀnge", 0, 
OPT_BOOLEAN
, "authnochallenge", -1 },

164 { "background", 'b', 
OPT_BOOLEAN
, "background", -1 },

165 { "backup-c⁄vîãd", 'K', 
OPT_BOOLEAN
, "backupconverted", -1 },

166 { "backups", 0, 
OPT_BOOLEAN
, "backups", -1 },

167 { "ba£", 'B', 
OPT_VALUE
, "base", -1 },

168 { "böd-addªss", 0, 
OPT_VALUE
, "bindaddress", -1 },

169 { 
IF_SSL
 ("ˇ-˚πifiˇã"), 0, 
OPT_VALUE
, "cacertificate", -1 },

170 { 
IF_SSL
 ("ˇ-dúe˘‹y"), 0, 
OPT_VALUE
, "cadirectory", -1 },

171 { "ˇche", 0, 
OPT_BOOLEAN
, "cache", -1 },

172 { 
IF_SSL
 ("˚πifiˇã"), 0, 
OPT_VALUE
, "certificate", -1 },

173 { 
IF_SSL
 ("˚πifiˇã-ty≥"), 0, 
OPT_VALUE
, "certificatetype", -1 },

174 { 
IF_SSL
 ("check-˚πifiˇã"), 0, 
OPT_BOOLEAN
, "checkcertificate", -1 },

175 { "˛obbî", 0, 
OPT__CLOBBER
, 
NULL
, 
›ti⁄Æ_¨gumít
 },

176 { "c⁄fig", 0, 
OPT_VALUE
, "chooseconfig", -1 },

177 { "c⁄√˘-timeout", 0, 
OPT_VALUE
, "connecttimeout", -1 },

178 { "c⁄töue", 'c', 
OPT_BOOLEAN
, "continue", -1 },

179 { "c⁄vît-löks", 'k', 
OPT_BOOLEAN
, "convertlinks", -1 },

180 { "c⁄ã¡-di•osôi⁄", 0, 
OPT_BOOLEAN
, "contentdisposition", -1 },

181 { "cookõs", 0, 
OPT_BOOLEAN
, "cookies", -1 },

182 { "cut-dús", 0, 
OPT_VALUE
, "cutdirs", -1 },

183 { 
WHEN_DEBUG
 ("debug"), 'd', 
OPT_BOOLEAN
, "debug", -1 },

184 { "deÁu…-∑ge", 0, 
OPT_VALUE
, "defaultpage", -1 },

185 { "dñëe-a·î", 0, 
OPT_BOOLEAN
, "deleteafter", -1 },

186 { "dúe˘‹õs", 0, 
OPT_BOOLEAN
, "dirstruct", -1 },

187 { "dúe˘‹y-¥efix", 'P', 
OPT_VALUE
, "dirprefix", -1 },

188 { "dns-ˇche", 0, 
OPT_BOOLEAN
, "dnscache", -1 },

189 { "dns-timeout", 0, 
OPT_VALUE
, "dnstimeout", -1 },

190 { "domaös", 'D', 
OPT_VALUE
, "domains", -1 },

191 { "d⁄t-ªmove-li°ög", 0, 
OPT__DONT_REMOVE_LISTING
, 
NULL
, 
no_¨gumít
 },

192 { "dŸ-°yÀ", 0, 
OPT_VALUE
, "dotstyle", -1 },

193 { "egd-fûe", 0, 
OPT_VALUE
, "egdfile", -1 },

194 { "ex˛ude-dúe˘‹õs", 'X', 
OPT_VALUE
, "excludedirectories", -1 },

195 { "ex˛ude-domaös", 0, 
OPT_VALUE
, "excludedomains", -1 },

196 { "execuã", 'e', 
OPT__EXECUTE
, 
NULL
, 
ªquúed_¨gumít
 },

197 { "fﬁlow-·p", 0, 
OPT_BOOLEAN
, "followftp", -1 },

198 { "fﬁlow-ègs", 0, 
OPT_VALUE
, "followtags", -1 },

199 { "f‹˚-dúe˘‹õs", 'x', 
OPT_BOOLEAN
, "dirstruct", -1 },

200 { "f‹˚-html", 'F', 
OPT_BOOLEAN
, "forcehtml", -1 },

201 { "·p-∑ssw‹d", 0, 
OPT_VALUE
, "ftppassword", -1 },

202 #ifde‡
__VMS


203 { "·p-°mlf", 0, 
OPT_BOOLEAN
, "ftpstmlf", -1 },

205 { "·p-u£r", 0, 
OPT_VALUE
, "ftpuser", -1 },

206 { "glob", 0, 
OPT_BOOLEAN
, "glob", -1 },

207 { "hódî", 0, 
OPT_VALUE
, "header", -1 },

208 { "hñp", 'h', 
OPT_FUNCALL
, (*)
¥öt_hñp
, 
no_¨gumít
 },

209 { "ho°-dúe˘‹õs", 0, 
OPT_BOOLEAN
, "addhostdir", -1 },

210 { "html-exãnsi⁄", 'E', 
OPT_BOOLEAN
, "adjustextension", -1 },

211 { "htmlify", 0, 
OPT_BOOLEAN
, "htmlify", -1 },

212 { "hâp-kìp-Æive", 0, 
OPT_BOOLEAN
, "httpkeepalive", -1 },

213 { "hâp-∑sswd", 0, 
OPT_VALUE
, "httppassword", -1 },

214 { "hâp-∑ssw‹d", 0, 
OPT_VALUE
, "httppassword", -1 },

215 { "hâp-u£r", 0, 
OPT_VALUE
, "httpuser", -1 },

216 { "ign‹e-ˇ£", 0, 
OPT_BOOLEAN
, "ignorecase", -1 },

217 { "ign‹e-Àngth", 0, 
OPT_BOOLEAN
, "ignorelength", -1 },

218 { "ign‹e-ègs", 0, 
OPT_VALUE
, "ignoretags", -1 },

219 { "ö˛ude-dúe˘‹õs", 'I', 
OPT_VALUE
, "includedirectories", -1 },

220 #ifde‡
ENABLE_IPV6


221 { "öë4-⁄ly", '4', 
OPT_BOOLEAN
, "inet4only", -1 },

222 { "öë6-⁄ly", '6', 
OPT_BOOLEAN
, "inet6only", -1 },

224 { "öput-fûe", 'i', 
OPT_VALUE
, "input", -1 },

225 { "úi", 0, 
OPT_BOOLEAN
, "iri", -1 },

226 { "kìp-£ssi⁄-cookõs", 0, 
OPT_BOOLEAN
, "keepsessioncookies", -1 },

227 { "Àvñ", 'l', 
OPT_VALUE
, "reclevel", -1 },

228 { "limô-øã", 0, 
OPT_VALUE
, "limitrate", -1 },

229 { "lﬂd-cookõs", 0, 
OPT_VALUE
, "loadcookies", -1 },

230 { "loˇl-ícodög", 0, 
OPT_VALUE
, "localencoding", -1 },

231 { "max-ªdúe˘", 0, 
OPT_VALUE
, "maxredirect", -1 },

232 { "múr‹", 'm', 
OPT_BOOLEAN
, "mirror", -1 },

233 { "no", 'n', 
OPT__NO
, 
NULL
, 
ªquúed_¨gumít
 },

234 { "no-˛obbî", 0, 
OPT_BOOLEAN
, "noclobber", -1 },

235 { "no-∑ª¡", 0, 
OPT_BOOLEAN
, "noparent", -1 },

236 { "ouçut-documít", 'O', 
OPT_VALUE
, "outputdocument", -1 },

237 { "ouçut-fûe", 'o', 
OPT_VALUE
, "logfile", -1 },

238 { "∑ge-ªquisôes", 'p', 
OPT_BOOLEAN
, "pagerequisites", -1 },

239 { "∑ª¡", 0, 
OPT__PARENT
, 
NULL
, 
›ti⁄Æ_¨gumít
 },

240 { "∑ssive-·p", 0, 
OPT_BOOLEAN
, "passiveftp", -1 },

241 { "∑ssw‹d", 0, 
OPT_VALUE
, "password", -1 },

242 { "po°-d©a", 0, 
OPT_VALUE
, "postdata", -1 },

243 { "po°-fûe", 0, 
OPT_VALUE
, "postfile", -1 },

244 { "¥e„r-Ámûy", 0, 
OPT_VALUE
, "preferfamily", -1 },

245 { "¥e£rve-≥rmissi⁄s", 0, 
OPT_BOOLEAN
, "preservepermissions", -1 },

246 { 
IF_SSL
 ("¥iv©e-key"), 0, 
OPT_VALUE
, "privatekey", -1 },

247 { 
IF_SSL
 ("¥iv©e-key-ty≥"), 0, 
OPT_VALUE
, "privatekeytype", -1 },

248 { "¥ogªss", 0, 
OPT_VALUE
, "progress", -1 },

249 { "¥Ÿocﬁ-dúe˘‹õs", 0, 
OPT_BOOLEAN
, "protocoldirectories", -1 },

250 { "¥oxy", 0, 
OPT_BOOLEAN
, "useproxy", -1 },

251 { "¥oxy__com∑t", 'Y', 
OPT_VALUE
, "useproxy", -1 },

252 { "¥oxy-∑sswd", 0, 
OPT_VALUE
, "proxypassword", -1 },

253 { "¥oxy-∑ssw‹d", 0, 
OPT_VALUE
, "proxypassword", -1 },

254 { "¥oxy-u£r", 0, 
OPT_VALUE
, "proxyuser", -1 },

255 { "quõt", 'q', 
OPT_BOOLEAN
, "quiet", -1 },

256 { "quŸa", 'Q', 
OPT_VALUE
, "quota", -1 },

257 { "øndom-fûe", 0, 
OPT_VALUE
, "randomfile", -1 },

258 { "øndom-waô", 0, 
OPT_BOOLEAN
, "randomwait", -1 },

259 { "ªad-timeout", 0, 
OPT_VALUE
, "readtimeout", -1 },

260 { "ªcursive", 'r', 
OPT_BOOLEAN
, "recursive", -1 },

261 { "ª„ªr", 0, 
OPT_VALUE
, "referer", -1 },

262 { "ªje˘", 'R', 
OPT_VALUE
, "reject", -1 },

263 { "ªœtive", 'L', 
OPT_BOOLEAN
, "relativeonly", -1 },

264 { "ªmŸe-ícodög", 0, 
OPT_VALUE
, "remoteencoding", -1 },

265 { "ªmove-li°ög", 0, 
OPT_BOOLEAN
, "removelisting", -1 },

266 { "ª°ri˘-fûe-«mes", 0, 
OPT_BOOLEAN
, "restrictfilenames", -1 },

267 { "ªå-symlöks", 0, 
OPT_BOOLEAN
, "retrsymlinks", -1 },

268 { "ªåy-c⁄ƒefu£d", 0, 
OPT_BOOLEAN
, "retryconnrefused", -1 },

269 { "ßve-cookõs", 0, 
OPT_VALUE
, "savecookies", -1 },

270 { "ßve-hódîs", 0, 
OPT_BOOLEAN
, "saveheaders", -1 },

271 { 
IF_SSL
 ("£cuª-¥Ÿocﬁ"), 0, 
OPT_VALUE
, "secureprotocol", -1 },

272 { "£rvî-ª•⁄£", 'S', 
OPT_BOOLEAN
, "serverresponse", -1 },

273 { "•™-ho°s", 'H', 
OPT_BOOLEAN
, "spanhosts", -1 },

274 { "•idî", 0, 
OPT_BOOLEAN
, "spider", -1 },

275 { "°ri˘-commíts", 0, 
OPT_BOOLEAN
, "strictcomments", -1 },

276 { "timeout", 'T', 
OPT_VALUE
, "timeout", -1 },

277 { "time°ampög", 'N', 
OPT_BOOLEAN
, "timestamping", -1 },

278 { "åõs", 't', 
OPT_VALUE
, "tries", -1 },

279 { "u∆ök", 0, 
OPT_BOOLEAN
, "unlink", -1 },

280 { "åu°-£rvî-«mes", 0, 
OPT_BOOLEAN
, "trustservernames", -1 },

281 { "u£-£rvî-time°amps", 0, 
OPT_BOOLEAN
, "useservertimestamps", -1 },

282 { "u£r", 0, 
OPT_VALUE
, "user", -1 },

283 { "u£r-agít", 'U', 
OPT_VALUE
, "useragent", -1 },

284 { "vîbo£", 'v', 
OPT_BOOLEAN
, "verbose", -1 },

285 { "vîbo£", 0, 
OPT_BOOLEAN
, "verbose", -1 },

286 { "vîsi⁄", 'V', 
OPT_FUNCALL
, (*Ë
¥öt_vîsi⁄
, 
no_¨gumít
 },

287 { "waô", 'w', 
OPT_VALUE
, "wait", -1 },

288 { "waôªåy", 0, 
OPT_VALUE
, "waitretry", -1 },

289 #ifde‡
USE_WATT32


290 { "wdebug", 0, 
OPT_BOOLEAN
, "wdebug", -1 },

294 #unde‡
WHEN_DEBUG


295 #unde‡
IF_SSL


302 
	$no_¥efix
 (c⁄° *
s
)

304 
buf„r
[1024];

305 *
p
 = 
buf„r
;

307 *
˝
 = 
p
;

308 
size
 = 3 + 
	`°æí
 (
s
) + 1;

309 i‡(
p
 + 
size
 >
buf„r
 +  (buffer))

310 
	`ab‹t
 ();

312 
˝
[0] = 'n', cp[1] = 'o', cp[2] = '-';

313 
	`°r˝y
 (
˝
 + 3, 
s
);

314 
p
 +
size
;

315  
˝
;

316 
	}
}

319 
›ti⁄
 
	gl⁄g_›ti⁄s
[2 * 
cou¡of
 (
›ti⁄_d©a
) + 1];

320 
	gsh‹t_›ti⁄s
[128];

323 
	g›tm≠
[96];

326 
	#BOOLEAN_NEG_MARKER
 1024

	)

332 
	$öô_swôches
 ()

334 *
p
 = 
sh‹t_›ti⁄s
;

335 
size_t
 
i
, 
o
 = 0;

336 
i
 = 0; i < 
	`cou¡of
 (
›ti⁄_d©a
); i++)

338 
cmdlöe_›ti⁄
 *
›t
 = &
›ti⁄_d©a
[
i
];

339 
›ti⁄
 *
l⁄g›t
;

341 i‡(!
›t
->
l⁄g_«me
)

345 
l⁄g›t
 = &
l⁄g_›ti⁄s
[
o
++];

346 
l⁄g›t
->
«me
 = 
›t
->
l⁄g_«me
;

347 
l⁄g›t
->
vÆ
 = 
i
;

348 i‡(
›t
->
sh‹t_«me
)

350 *
p
++ = 
›t
->
sh‹t_«me
;

351 
›tm≠
[
›t
->
sh‹t_«me
 - 32] = 
l⁄g›t
 - 
l⁄g_›ti⁄s
;

353 
›t
->
ty≥
)

355 
OPT_VALUE
:

356 
l⁄g›t
->
has_¨g
 = 
ªquúed_¨gumít
;

357 i‡(
›t
->
sh‹t_«me
)

358 *
p
++ = ':';

360 
OPT_BOOLEAN
:

366 
l⁄g›t
->
has_¨g
 = 
›ti⁄Æ_¨gumít
;

370 
l⁄g›t
 = &
l⁄g_›ti⁄s
[
o
++];

371 
l⁄g›t
->
«me
 = 
	`no_¥efix
 (
›t
->
l⁄g_«me
);

372 
l⁄g›t
->
has_¨g
 = 
no_¨gumít
;

375 
l⁄g›t
->
vÆ
 = 
i
 | 
BOOLEAN_NEG_MARKER
;

378 
	`as£π
 (
›t
->
¨gty≥
 != -1);

379 
l⁄g›t
->
has_¨g
 = 
›t
->
¨gty≥
;

380 i‡(
›t
->
sh‹t_«me
)

382 i‡(
l⁄g›t
->
has_¨g
 =
ªquúed_¨gumít
)

383 *
p
++ = ':';

389 *
p
 = '\0';

392 
	`as£π
 (
o
 <
	`cou¡of
 (
l⁄g_›ti⁄s
));

393 
	}
}

397 
	$¥öt_ußge
 (
îr‹
)

399 
	`Ârötf
 (
îr‹
 ? 
°dîr
 : 
°dout
, 
	`_
("Usage: %s [OPTION]... [URL]...\n"),

400 
exec_«me
);

401 
	}
}

406 
	$¥öt_hñp
 ()

410 c⁄° *
hñp
[] = {

412 
	`N_
("\
árgumentsÅoÜong optionsáre mandatory for short optionsÅoo.\n\n"),

414 
	`N_
("\
:\n"),

416 
	`N_
("\
-V, --version displayÅhe version of WgetándÉxit.\n"),

418 
	`N_
("\
-h, --helpÖrintÅhis help.\n"),

420 
	`N_
("\
-b, --background goÅo backgroundáfter startup.\n"),

422 
	`N_
("\
-e, --execute=COMMANDÉxecuteá `.wgetrc'-style command.\n"),

426 
	`N_
("\
ánd input file:\n"),

428 
	`N_
("\
-o, --output-file=FILEÜog messagesÅo FILE.\n"),

430 
	`N_
("\
-a, --append-output=FILEáppend messagesÅo FILE.\n"),

432 #ifde‡
ENABLE_DEBUG


433 
	`N_
("\
-d, --debugÖrintÜots of debugging information.\n"),

436 #ifde‡
USE_WATT32


437 
	`N_
("\
--wdebugÖrint Watt-32 debug output.\n"),

440 
	`N_
("\
-q, --quiet quiet (no output).\n"),

442 
	`N_
("\
-v, --verbose be verbose (this isÅhe default).\n"),

444 
	`N_
("\
-nv, --no-verboseÅurn off verboseness, without being quiet.\n"),

446 
	`N_
("\
-i, --input-file=FILE download URLs found inÜocal orÉxternal FILE.\n"),

448 
	`N_
("\
-F, --force-htmlÅreat input fileás HTML.\n"),

450 
	`N_
("\
-B, --base=URLÑesolves HTML input-fileÜinks (-i -F)\n\
Åo URL.\n"),

453 
	`N_
("\
--config=FILE Specify config fileÅo use.\n"),

457 
	`N_
("\
:\n"),

459 
	`N_
("\
-t, --tries=NUMBER setÇumber ofÑetriesÅo NUMBER (0 unlimits).\n"),

461 
	`N_
("\
--retry-connrefusedÑetryÉven if connection isÑefused.\n"),

463 
	`N_
("\
-O, --output-document=FILE write documentsÅo FILE.\n"),

465 
	`N_
("\
-nc, --no-clobber skip downloadsÅhat would downloadÅo\n\
 files (overwritingÅhem).\n"),

468 
	`N_
("\
-c, --continueÑesume gettingáÖartially-downloaded file.\n"),

470 
	`N_
("\
--progress=TYPE selectÖrogress gaugeÅype.\n"),

472 
	`N_
("\
-N, --timestamping don'tÑe-retrieve files unlessÇewerÅhan\n\
.\n"),

475 
	`N_
("\
--no-use-server-timestamps don't setÅheÜocal file'sÅimestamp by\n\
 one onÅhe server.\n"),

478 
	`N_
("\
-S, --server-responseÖrint serverÑesponse.\n"),

480 
	`N_
("\
--spider don't downloadánything.\n"),

482 
	`N_
("\
-T, --timeout=SECONDS setállÅimeout valuesÅo SECONDS.\n"),

484 
	`N_
("\
--dns-timeout=SECS setÅhe DNSÜookupÅimeoutÅo SECS.\n"),

486 
	`N_
("\
--connect-timeout=SECS setÅhe connectÅimeoutÅo SECS.\n"),

488 
	`N_
("\
--read-timeout=SECS setÅheÑeadÅimeoutÅo SECS.\n"),

490 
	`N_
("\
-w, --wait=SECONDS wait SECONDS betweenÑetrievals.\n"),

492 
	`N_
("\
--waitretry=SECONDS wait 1..SECONDS betweenÑetries ofáÑetrieval.\n"),

494 
	`N_
("\
--random-wait wait from 0.5*WAIT...1.5*WAIT secs betweenÑetrievals.\n"),

496 
	`N_
("\
--no-proxyÉxplicitlyÅurn offÖroxy.\n"),

498 
	`N_
("\
-Q, --quota=NUMBER setÑetrieval quotaÅo NUMBER.\n"),

500 
	`N_
("\
--bind-address=ADDRESS bindÅo ADDRESS (hostname or IP) onÜocal host.\n"),

502 
	`N_
("\
--limit-rate=RATEÜimit downloadÑateÅo RATE.\n"),

504 
	`N_
("\
--no-dns-cache disable caching DNSÜookups.\n"),

506 
	`N_
("\
--restrict-file-names=OSÑestrict chars in fileÇamesÅo ones OSállows.\n"),

508 
	`N_
("\
--ignore-case ignore case when matching files/directories.\n"),

510 #ifde‡
ENABLE_IPV6


511 
	`N_
("\
-4, --inet4-only connect onlyÅo IPv4áddresses.\n"),

513 
	`N_
("\
-6, --inet6-only connect onlyÅo IPv6áddresses.\n"),

515 
	`N_
("\
--prefer-family=FAMILY connect firstÅoáddresses of specified family,\n\
 of IPv6, IPv4, orÇone.\n"),

519 
	`N_
("\
--user=USER set both ftpánd http userÅo USER.\n"),

521 
	`N_
("\
--password=PASS set both ftpánd httpÖasswordÅo PASS.\n"),

523 
	`N_
("\
--ask-passwordÖrompt forÖasswords.\n"),

525 
	`N_
("\
--no-iriÅurn off IRI support.\n"),

527 
	`N_
("\
--local-encoding=ENC use ENCásÅheÜocalÉncoding for IRIs.\n"),

529 
	`N_
("\
--remote-encoding=ENC use ENCásÅhe defaultÑemoteÉncoding.\n"),

531 
	`N_
("\
--unlinkÑemove file before clobber.\n"),

535 
	`N_
("\
:\n"),

537 
	`N_
("\
-nd, --no-directories don't create directories.\n"),

539 
	`N_
("\
-x, --force-directories force creation of directories.\n"),

541 
	`N_
("\
-nH, --no-host-directories don't create host directories.\n"),

543 
	`N_
("\
--protocol-directories useÖrotocolÇame in directories.\n"),

545 
	`N_
("\
-P, --directory-prefix=PREFIX save filesÅo PREFIX/...\n"),

547 
	`N_
("\
--cut-dirs=NUMBER ignore NUMBERÑemote directory components.\n"),

551 
	`N_
("\
 options:\n"),

553 
	`N_
("\
--http-user=USER set http userÅo USER.\n"),

555 
	`N_
("\
--http-password=PASS set httpÖasswordÅo PASS.\n"),

557 
	`N_
("\
--no-cache disallow server-cached data.\n"),

559 
	`N_
 ("\
--default-page=NAME ChangeÅhe defaultÖageÇame (normally\n\
 is `index.html'.).\n"),

562 
	`N_
("\
-E, --adjust-extension save HTML/CSS documents withÖroperÉxtensions.\n"),

564 
	`N_
("\
--ignore-length ignore `Content-Length' header field.\n"),

566 
	`N_
("\
--header=STRING insert STRINGámongÅhe headers.\n"),

568 
	`N_
("\
--max-redirect maximumÑedirectionsállowedÖerÖage.\n"),

570 
	`N_
("\
--proxy-user=USER set USERásÖroxy username.\n"),

572 
	`N_
("\
--proxy-password=PASS set PASSásÖroxyÖassword.\n"),

574 
	`N_
("\
--referer=URL include `Referer: URL' header in HTTPÑequest.\n"),

576 
	`N_
("\
--save-headers saveÅhe HTTP headersÅo file.\n"),

578 
	`N_
("\
-U, --user-agent=AGENT identifyás AGENT instead of Wget/VERSION.\n"),

580 
	`N_
("\
--no-http-keep-alive disable HTTP keep-alive (persistent connections).\n"),

582 
	`N_
("\
--no-cookies don't use cookies.\n"),

584 
	`N_
("\
--load-cookies=FILEÜoad cookies from FILE before session.\n"),

586 
	`N_
("\
--save-cookies=FILE save cookiesÅo FILEáfter session.\n"),

588 
	`N_
("\
--keep-session-cookiesÜoadánd save session (non-permanent) cookies.\n"),

590 
	`N_
("\
--post-data=STRING useÅhe POST method; send STRINGásÅhe data.\n"),

592 
	`N_
("\
--post-file=FILE useÅhe POST method; send contents of FILE.\n"),

594 
	`N_
("\
--content-disposition honorÅhe Content-Disposition header when\n\
Üocal fileÇames (EXPERIMENTAL).\n"),

597 
	`N_
("\
--auth-no-challenge send Basic HTTPáuthentication information\n\
 first waiting forÅhe server's\n\
.\n"),

603 #ifde‡
HAVE_SSL


604 
	`N_
("\
 (SSL/TLS) options:\n"),

606 
	`N_
("\
--secure-protocol=PR choose secureÖrotocol, one ofáuto, SSLv2,\n\
3,ánd TLSv1.\n"),

609 
	`N_
("\
--no-check-certificate don't validateÅhe server's certificate.\n"),

611 
	`N_
("\
--certificate=FILE client certificate file.\n"),

613 
	`N_
("\
--certificate-type=TYPE client certificateÅype, PEM or DER.\n"),

615 
	`N_
("\
--private-key=FILEÖrivate key file.\n"),

617 
	`N_
("\
--private-key-type=TYPEÖrivate keyÅype, PEM or DER.\n"),

619 
	`N_
("\
--ca-certificate=FILE file withÅhe bundle of CA's.\n"),

621 
	`N_
("\
--ca-directory=DIR directory where hashÜist of CA's is stored.\n"),

623 
	`N_
("\
--random-file=FILE file withÑandom data for seedingÅhe SSL PRNG.\n"),

625 
	`N_
("\
--egd-file=FILE fileÇamingÅhe EGD socket withÑandom data.\n"),

630 
	`N_
("\
 options:\n"),

632 #ifde‡
__VMS


633 
	`N_
("\
--ftp-stmlf Use Stream_LF format foráll binary FTP files.\n"),

636 
	`N_
("\
--ftp-user=USER set ftp userÅo USER.\n"),

638 
	`N_
("\
--ftp-password=PASS set ftpÖasswordÅo PASS.\n"),

640 
	`N_
("\
--no-remove-listing don'tÑemove `.listing' files.\n"),

642 
	`N_
("\
--no-globÅurn off FTP fileÇame globbing.\n"),

644 
	`N_
("\
--no-passive-ftp disableÅhe \"passive\"Åransfer mode.\n"),

646 
	`N_
("\
--retr-symlinks whenÑecursing, getÜinked-to files (not dir).\n"),

650 
	`N_
("\
 download:\n"),

652 
	`N_
("\
-r, --recursive specifyÑecursive download.\n"),

654 
	`N_
("\
-l, --level=NUMBER maximumÑecursion depth (inf or 0 for infinite).\n"),

656 
	`N_
("\
--delete-after delete filesÜocallyáfter downloadingÅhem.\n"),

658 
	`N_
("\
-k, --convert-links makeÜinks in downloaded HTML or CSSÖointÅo\n\
 files.\n"),

661 #ifde‡
__VMS


662 
	`N_
("\
-K, --backup-converted before converting file X, back upás X_orig.\n"),

665 
	`N_
("\
-K, --backup-converted before converting file X, back upás X.orig.\n"),

668 
	`N_
("\
-m, --mirror shortcut for -N -r -l inf --no-remove-listing.\n"),

670 
	`N_
("\
-p, --page-requisites getáll images,Étc.ÇeededÅo display HTMLÖage.\n"),

672 
	`N_
("\
--strict-commentsÅurn on strict (SGML) handling of HTML comments.\n"),

676 
	`N_
("\
áccept/reject:\n"),

678 
	`N_
("\
-A, --accept=LIST comma-separatedÜist ofácceptedÉxtensions.\n"),

680 
	`N_
("\
-R, --reject=LIST comma-separatedÜist ofÑejectedÉxtensions.\n"),

682 
	`N_
("\
-D, --domains=LIST comma-separatedÜist ofáccepted domains.\n"),

684 
	`N_
("\
--exclude-domains=LIST comma-separatedÜist ofÑejected domains.\n"),

686 
	`N_
("\
--follow-ftp follow FTPÜinks from HTML documents.\n"),

688 
	`N_
("\
--follow-tags=LIST comma-separatedÜist of followed HTMLÅags.\n"),

690 
	`N_
("\
--ignore-tags=LIST comma-separatedÜist of ignored HTMLÅags.\n"),

692 
	`N_
("\
-H, --span-hosts goÅo foreign hosts whenÑecursive.\n"),

694 
	`N_
("\
-L, --relative followÑelativeÜinks only.\n"),

696 
	`N_
("\
-I, --include-directories=LISTÜist ofállowed directories.\n"),

698 
	`N_
("\
--trust-server-names useÅheÇame specified byÅheÑedirection\n\
Üast component.\n"),

701 
	`N_
("\
-X, --exclude-directories=LISTÜist ofÉxcluded directories.\n"),

703 
	`N_
("\
-np, --no-parent don'táscendÅoÅheÖarent directory.\n"),

707 
	`N_
("Mail bugÑeportsánd suggestionsÅo <bug-wget@gnu.org>.\n")

710 
size_t
 
i
;

712 
	`¥ötf
 (
	`_
("GNU Wget %s,áÇon-interactiveÇetworkÑetriever.\n"),

713 
vîsi⁄_°rög
);

714 
	`¥öt_ußge
 (0);

716 
i
 = 0; i < 
	`cou¡of
 (
hñp
); i++)

717 
	`Âuts
 (
	`_
(
hñp
[
i
]), 
°dout
);

719 
	`exô
 (0);

720 
	}
}

726 
	$£cs_to_hum™_time
 (
öãrvÆ
)

728 
buf
[32];

729 
£cs
 = (Ë(
öãrvÆ
 + 0.5);

730 
hours
, 
mös
, 
days
;

732 
days
 = 
£cs
 / 86400, secs %= 86400;

733 
hours
 = 
£cs
 / 3600, secs %= 3600;

734 
mös
 = 
£cs
 / 60, secs %= 60;

736 i‡(
days
)

737 
	`•rötf
 (
buf
, "%dd %dh %dm %ds", 
days
, 
hours
, 
mös
, 
£cs
);

738 i‡(
hours
)

739 
	`•rötf
 (
buf
, "%dh %dm %ds", 
hours
, 
mös
, 
£cs
);

740 i‡(
mös
)

741 
	`•rötf
 (
buf
, "%dm %ds", 
mös
, 
£cs
);

743 
	`•rötf
 (
buf
, "%ss", 
	`¥öt_decimÆ
 (
öãrvÆ
));

745  
buf
;

746 
	}
}

749 
	$¥om±_f‹_∑ssw‹d
 ()

751 i‡(
›t
.
u£r
)

752 
	`Ârötf
 (
°dîr
, 
	`_
("Passw‹d f‹ u£∏%s: "), 
	`quŸe
 (
›t
.
u£r
));

754 
	`Ârötf
 (
°dîr
, 
	`_
("Password: "));

755  
	`gë∑ss
("");

756 
	}
}

763 
	$f‹m©_™d_¥öt_löe
 (c⁄° *
¥efix
, c⁄° *
löe
,

764 
löe_Àngth
)

766 
ªmaöög_ch¨s
;

767 *
löe_dup
, *
tokí
;

769 
	`as£π
 (
¥efix
 !
NULL
);

770 
	`as£π
 (
löe
 !
NULL
);

772 
löe_dup
 = 
	`x°rdup
 (
löe
);

774 i‡(
löe_Àngth
 <= 0)

775 
löe_Àngth
 = 
MAX_CHARS_PER_LINE
 - 
TABULATION
;

777 
	`¥ötf
 ("%s", 
¥efix
);

778 
ªmaöög_ch¨s
 = 
löe_Àngth
;

780 
tokí
 = 
	`°πok
 (
löe_dup
, " ");

781 
tokí
 !
NULL
)

786 i‡(
ªmaöög_ch¨s
 <
	`°æí
 (
tokí
))

788 
	`¥ötf
 ("\n%*c", 
TABULATION
, ' ');

789 
ªmaöög_ch¨s
 = 
löe_Àngth
 - 
TABULATION
;

791 
	`¥ötf
 ("%†", 
tokí
);

792 
ªmaöög_ch¨s
 -
	`°æí
 (
tokí
) + 1;

793 
tokí
 = 
	`°πok
 (
NULL
, " ");

796 
	`¥ötf
 ("\n");

798 
	`x‰ì
 (
löe_dup
);

799 
	}
}

802 
	$¥öt_vîsi⁄
 ()

804 c⁄° *
wgërc_tôÀ
 = 
	`_
("Wgetrc: ");

805 c⁄° *
loˇÀ_tôÀ
 = 
	`_
("Locale: ");

806 c⁄° *
compûe_tôÀ
 = 
	`_
("Compile: ");

807 c⁄° *
lök_tôÀ
 = 
	`_
("Link: ");

808 *
ív_wgërc
, *
u£r_wgërc
;

809 
i
;

811 
	`¥ötf
 (
	`_
("GNU Wgë %†buûà⁄ %s.\n\n"), 
vîsi⁄_°rög
, 
OS_TYPE
);

813 
i
 = 0; 
compûed_„©uªs
[i] !
NULL
; )

815 
löe_Àngth
 = 
MAX_CHARS_PER_LINE
;

816 (
löe_Àngth
 > 0Ë&& (
compûed_„©uªs
[
i
] !
NULL
))

818 
	`¥ötf
 ("%†", 
compûed_„©uªs
[
i
]);

819 
löe_Àngth
 -
	`°æí
 (
compûed_„©uªs
[
i
]) + 2;

820 
i
++;

822 
	`¥ötf
 ("\n");

824 
	`¥ötf
 ("\n");

828 
	`¥ötf
 ("%s\n", 
wgërc_tôÀ
);

829 
ív_wgërc
 = 
	`wgërc_ív_fûe_«me
 ();

830 i‡(
ív_wgërc
 && *env_wgetrc)

832 
	`¥ötf
 (
	`_
(" %†”nv)\n"), 
ív_wgërc
);

833 
	`x‰ì
 (
ív_wgërc
);

835 
u£r_wgërc
 = 
	`wgërc_u£r_fûe_«me
 ();

836 i‡(
u£r_wgërc
)

838 
	`¥ötf
 (
	`_
(" %†(u£r)\n"), 
u£r_wgërc
);

839 
	`x‰ì
 (
u£r_wgërc
);

841 #ifde‡
SYSTEM_WGETRC


842 
	`¥ötf
 (
	`_
(" %†(sy°em)\n"), 
SYSTEM_WGETRC
);

845 #ifde‡
ENABLE_NLS


846 
	`f‹m©_™d_¥öt_löe
 (
loˇÀ_tôÀ
,

847 
LOCALEDIR
,

848 
MAX_CHARS_PER_LINE
);

851 i‡(
compû©i⁄_°rög
 !
NULL
)

852 
	`f‹m©_™d_¥öt_löe
 (
compûe_tôÀ
,

853 
compû©i⁄_°rög
,

854 
MAX_CHARS_PER_LINE
);

856 i‡(
lök_°rög
 !
NULL
)

857 
	`f‹m©_™d_¥öt_löe
 (
lök_tôÀ
,

858 
lök_°rög
,

859 
MAX_CHARS_PER_LINE
);

861 
	`¥ötf
 ("\n");

864 
	`Âuts
 (
	`_
("\
 (CË2009 FªêSo·w¨êFound©i⁄, Inc.\n"), 
°dout
);

866 
	`Âuts
 (
	`_
("\
 GPLv3+: GNU GPL vîsi⁄ 3 o∏œãr\n\
<hâp://www.gnu.‹g/li˚n£s/g∂.html>.\n\
 i†‰ì so·w¨e: youáª fªêtÿch™gê™dÑedi°ribuã it.\n\
 i†NO WARRANTY,Åÿthêexã¡Öîmôãd byÜaw.\n"), 
°dout
);

873 
	`Âuts
 (
	`_
("\nOriginally written by Hrvoje Niksic <hniksic@xemacs.org>.\n"),

874 
°dout
);

875 
	`Âuts
 (
	`_
("Please send bugÑeportsánd questionsÅo <bug-wget@gnu.org>.\n"),

876 
°dout
);

877 
	`exô
 (0);

878 
	}
}

880 *
	g¥ogøm_«me
;

883 
	$maö
 (
¨gc
, **
¨gv
)

885 **
uæ
, **
t
;

886 
i
, 
ªt
, 
l⁄gödex
;

887 
nuæ
;

888 
boﬁ
 
≠≥nd_to_log
 = 
Ál£
;

890 
tŸÆ_dow∆ﬂded_byãs
 = 0;

892 
¥ogøm_«me
 = 
¨gv
[0];

894 
±imî
 *
timî
 = 
	`±imî_√w
 ();

895 
°¨t_time
 = 
	`±imî_mósuª
 (
timî
);

897 
	`i18n_öôülize
 ();

900 #ifde‡
__VMS


902 
exec_«me
 = 
	`vms_ba£«me
 (
¨gv
[0]);

904 
exec_«me
 = 
	`°ºchr
 (
¨gv
[0], 
PATH_SEPARATOR
);

905 i‡(!
exec_«me
)

906 
exec_«me
 = 
¨gv
[0];

908 ++
exec_«me
;

911 #ifde‡
WINDOWS


913 
	`wödows_maö
 ((**Ë&
exec_«me
);

917 
	`deÁu…s
 ();

919 
	`öô_swôches
 ();

923 
l⁄gödex
 = -1;

924 
ªtc⁄f
;

925 
boﬁ
 
u£_u£rc⁄fig
 = 
Ál£
;

927 (
ªtc⁄f
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
,

928 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, &
l⁄gödex
)) != -1)

930 
c⁄fvÆ
;

931 
boﬁ
 
u£ºc_ªt
 = 
åue
;

932 
cmdlöe_›ti⁄
 *
c⁄fig_›t
;

933 
c⁄fvÆ
 = 
l⁄g_›ti⁄s
[
l⁄gödex
].
vÆ
;

934 
c⁄fig_›t
 = &
›ti⁄_d©a
[
c⁄fvÆ
 & ~
BOOLEAN_NEG_MARKER
];

935 i‡(
	`°rcmp
 (
c⁄fig_›t
->
l⁄g_«me
, "config") == 0)

937 
u£ºc_ªt
 &
	`run_wgërc
 (
›èrg
);

938 
u£_u£rc⁄fig
 = 
åue
;

940 i‡(!
u£ºc_ªt
)

942 
	`¥ötf
 ("Exôög duêtÿîr‹ i¿%s\n", 
›èrg
);

943 
	`exô
 (2);

950 i‡(
u£_u£rc⁄fig
 =
Ál£
)

951 
	`öôülize
 ();

953 
›ãº
 = 0;

954 
›töd
 = 0;

956 
l⁄gödex
 = -1;

957 (
ªt
 = 
	`gë›t_l⁄g
 (
¨gc
, 
¨gv
,

958 
sh‹t_›ti⁄s
, 
l⁄g_›ti⁄s
, &
l⁄gödex
)) != -1)

960 
vÆ
;

961 
cmdlöe_›ti⁄
 *
›t
;

965 i‡(
l⁄gödex
 == -1)

967 i‡(
ªt
 == '?')

969 
	`¥öt_ußge
 (0);

970 
	`¥ötf
 ("\n");

971 
	`¥ötf
 (
	`_
("Try `%†--hñp' f‹ m‹ê›ti⁄s.\n"), 
exec_«me
);

972 
	`exô
 (2);

975 
l⁄gödex
 = 
›tm≠
[
ªt
 - 32];

977 
vÆ
 = 
l⁄g_›ti⁄s
[
l⁄gödex
].val;

982 
›t
 = &
›ti⁄_d©a
[
vÆ
 & ~
BOOLEAN_NEG_MARKER
];

983 
›t
->
ty≥
)

985 
OPT_VALUE
:

986 
	`£t›tvÆ
 (
›t
->
d©a
, 
›èrg
, o±->
l⁄g_«me
);

988 
OPT_BOOLEAN
:

989 i‡(
›èrg
)

991 
	`£t›tvÆ
 (
›t
->
d©a
, 
›èrg
, o±->
l⁄g_«me
);

995 
boﬁ
 
√g
 = !!(
vÆ
 & 
BOOLEAN_NEG_MARKER
);

996 
	`£t›tvÆ
 (
›t
->
d©a
, 
√g
 ? "0" : "1", o±->
l⁄g_«me
);

999 
OPT_FUNCALL
:

1001 (*
func
Ë(Ë((*Ë()Ë
›t
->
d©a
;

1002 
	`func
 ();

1005 
OPT__APPEND_OUTPUT
:

1006 
	`£t›tvÆ
 ("logfûe", 
›èrg
, 
›t
->
l⁄g_«me
);

1007 
≠≥nd_to_log
 = 
åue
;

1009 
OPT__EXECUTE
:

1010 
	`run_comm™d
 (
›èrg
);

1012 
OPT__NO
:

1017 *
p
;

1018 
p
 = 
›èrg
;Ö && *p;Ö++)

1019 *
p
)

1022 
	`£t›tvÆ
 ("vîbo£", "0", 
›t
->
l⁄g_«me
);

1025 
	`£t›tvÆ
 ("addho°dú", "0", 
›t
->
l⁄g_«me
);

1028 
	`£t›tvÆ
 ("dú°ru˘", "0", 
›t
->
l⁄g_«me
);

1031 
	`£t›tvÆ
 ("no˛obbî", "1", 
›t
->
l⁄g_«me
);

1034 
	`£t›tvÆ
 ("n›¨ít", "1", 
›t
->
l⁄g_«me
);

1037 
	`Ârötf
 (
°dîr
, 
	`_
("%s: illegal option -- `-n%c'\n"),

1038 
exec_«me
, *
p
);

1039 
	`¥öt_ußge
 (1);

1040 
	`Ârötf
 (
°dîr
, "\n");

1041 
	`Ârötf
 (
°dîr
, 
	`_
("Try `%s --help' for more options.\n"),

1042 
exec_«me
);

1043 
	`exô
 (1);

1047 
OPT__PARENT
:

1048 
OPT__CLOBBER
:

1053 
boﬁ
 
Êag
 = 
åue
;

1054 i‡(
›èrg
)

1055 
Êag
 = (*
›èrg
 ='1' || 
	`c_tﬁowî
 (*optarg) == 'y'

1056 || (
	`c_tﬁowî
 (
›èrg
[0]) == 'o'

1057 && 
	`c_tﬁowî
 (
›èrg
[1]) == 'n'));

1058 
	`£t›tvÆ
 (
›t
->
ty≥
 =
OPT__PARENT
 ? "noparent" : "noclobber",

1059 
Êag
 ? "0" : "1", 
›t
->
l⁄g_«me
);

1062 
OPT__DONT_REMOVE_LISTING
:

1063 
	`£t›tvÆ
 ("ªmovñi°ög", "0", 
›t
->
l⁄g_«me
);

1067 
l⁄gödex
 = -1;

1070 
nuæ
 = 
¨gc
 - 
›töd
;

1076 i‡(
›t
.
no˛obbî
 && o±.
c⁄vît_löks
)

1078 
	`Ârötf
 (
°dîr
,

1079 
	`_
("Both --no-clobberánd --convert-links were specified,"

1081 
›t
.
no˛obbî
 = 
Ál£
;

1085 i‡(
›t
.
ª˛evñ
 == 0)

1086 
›t
.
ª˛evñ
 = 
INFINITE_RECURSION
;

1089 i‡(
›t
.
•idî
 || o±.
dñëe_a·î
)

1090 
›t
.
no_dú°ru˘
 = 
åue
;

1093 i‡(
›t
.
∑ge_ªquisôes
 && !›t.
ªcursive
)

1098 
›t
.
ª˛evñ
 = 0;

1099 i‡(!
›t
.
no_dú°ru˘
)

1100 
›t
.
dú°ru˘
 = 1;

1104 i‡(
›t
.
vîbo£
 == -1)

1105 
›t
.
vîbo£
 = !›t.
quõt
;

1108 i‡(
›t
.
vîbo£
 && o±.
quõt
)

1110 
	`Ârötf
 (
°dîr
, 
	`_
("Can't be verboseánd quietátÅhe sameÅime.\n"));

1111 
	`¥öt_ußge
 (1);

1112 
	`exô
 (1);

1115 i‡(
›t
.
time°ampög
 && o±.
no˛obbî
)

1117 
	`Ârötf
 (
°dîr
, 
	`_
("\
'tÅimestampándÇot clobber old filesátÅhe sameÅime.\n"));

1119 
	`¥öt_ußge
 (1);

1120 
	`exô
 (1);

1122 #ifde‡
ENABLE_IPV6


1123 i‡(
›t
.
ùv4_⁄ly
 && o±.
ùv6_⁄ly
)

1125 
	`Ârötf
 (
°dîr
,

1126 
	`_
("Cannot specify both --inet4-onlyánd --inet6-only.\n"));

1127 
	`¥öt_ußge
 (1);

1128 
	`exô
 (1);

1132 i‡(
›t
.
ouçut_documít
)

1134 i‡(
›t
.
c⁄vît_löks


1135 && (
nuæ
 > 1 || 
›t
.
∑ge_ªquisôes
 || o±.
ªcursive
))

1137 
	`Âuts
 (
	`_
("\
 s≥cify bŸh -kánd -O i‡mu…ùÀ URL†¨êgiví, o∏ö combö©i⁄\n\
 -∞‹ -r. SìÅhêm™uÆ f‹ dëaûs.\n\n"), 
°dîr
);

1140 
	`¥öt_ußge
 (1);

1141 
	`exô
 (1);

1143 i‡(
›t
.
∑ge_ªquisôes


1144 || 
›t
.
ªcursive
)

1146 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s", 
	`_
("\
: combining -O with -r or -p will meanÅhatáll downloaded content\n\
 beÖlaced inÅhe single file you specified.\n\n"));

1150 i‡(
›t
.
time°ampög
)

1152 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s", 
	`_
("\
:Åimestamping doesÇothing in combination with -O. SeeÅhe manual\n\
 details.\n\n"));

1155 
›t
.
time°ampög
 = 
Ál£
;

1157 i‡(
›t
.
no˛obbî
 && 
	`fûe_exi°s_p
(›t.
ouçut_documít
))

1160 
	`log¥ötf
 (
LOG_VERBOSE
,

1161 
	`_
("File `%s'álreadyÅhere;ÇotÑetrieving.\n"),

1162 
›t
.
ouçut_documít
);

1163 
	`exô
(1);

1167 i‡(
›t
.
ask_∑sswd
 && o±.
∑sswd
)

1169 
	`Ârötf
 (
°dîr
,

1170 
	`_
("Cannot specify both --ask-passwordánd --password.\n"));

1171 
	`¥öt_ußge
 (1);

1172 
	`exô
 (1);

1176 i‡(!
nuæ
 && !
›t
.
öput_fûíame
)

1179 
	`Ârötf
 (
°dîr
, 
	`_
("%s: missög URL\n"), 
exec_«me
);

1180 
	`¥öt_ußge
 (1);

1181 
	`¥ötf
 ("\n");

1184 
	`Ârötf
 (
°dîr
, 
	`_
("Try `%†--hñp' f‹ m‹ê›ti⁄s.\n"), 
exec_«me
);

1185 
	`exô
 (1);

1188 #ifde‡
ENABLE_IRI


1189 i‡(
›t
.
íabÀ_úi
)

1191 i‡(
›t
.
loˇÀ
 && !
	`check_ícodög_«me
 (opt.locale))

1192 
›t
.
loˇÀ
 = 
NULL
;

1194 i‡(!
›t
.
loˇÀ
)

1195 
›t
.
loˇÀ
 = 
	`föd_loˇÀ
 ();

1197 i‡(
›t
.
ícodög_ªmŸe
 && !
	`check_ícodög_«me
 (opt.encoding_remote))

1198 
›t
.
ícodög_ªmŸe
 = 
NULL
;

1201 
	`mem£t
 (&
dummy_úi
, 0,  (dummy_iri));

1202 i‡(
›t
.
íabÀ_úi
 || o±.
loˇÀ
 || o±.
ícodög_ªmŸe
)

1205 
	`Ârötf
 (
°dîr
, 
	`_
("This version doesÇot have support for IRIs\n"));

1206 
	`exô
(1);

1211 i‡(
›t
.
ask_∑sswd
)

1213 
›t
.
∑sswd
 = 
	`¥om±_f‹_∑ssw‹d
 ();

1215 i‡(
›t
.
∑sswd
 =
NULL
 || opt.passwd[0] == '\0')

1216 
	`exô
 (1);

1219 #ifde‡
USE_WATT32


1220 i‡(
›t
.
wdebug
)

1221 
	`dbug_öô
();

1222 
	`sock_öô
();

1224 i‡(
›t
.
background
)

1225 
	`f‹k_to_background
 ();

1230 i‡(
›t
.
vîbo£
)

1232 
	`£t_¥ogªss_im∂emíèti⁄
 (
›t
.
¥ogªss_ty≥
);

1235 
uæ
 = 
	`Æloˇ_¨øy
 (*, 
nuæ
 + 1);

1236 
i
 = 0; i < 
nuæ
; i++, 
›töd
++)

1238 *
ªwrôãn
 = 
	`ªwrôe_sh‹th™d_uæ
 (
¨gv
[
›töd
]);

1239 i‡(
ªwrôãn
)

1240 
uæ
[
i
] = 
ªwrôãn
;

1242 
uæ
[
i
] = 
	`x°rdup
 (
¨gv
[
›töd
]);

1244 
uæ
[
i
] = 
NULL
;

1247 
	`log_öô
 (
›t
.
lfûíame
, 
≠≥nd_to_log
);

1249 
	`DEBUGP
 (("DEBUG output created by Wget %s on %s.\n\n",

1250 
vîsi⁄_°rög
, 
OS_TYPE
));

1262 i‡(
›t
.
ouçut_documít
)

1264 i‡(
	`HYPHENP
 (
›t
.
ouçut_documít
))

1266 #ifde‡
WINDOWS


1267 
	`_£tmode
 (
	`_fûío
 (
°dout
), 
_O_BINARY
);

1269 
ouçut_°ªam
 = 
°dout
;

1273 
°ru˘_f°©
 
°
;

1275 #ifde‡
__VMS


1279 
	#FOPEN_OPT_ARGS
 , "f›=sqo", "acc", 
acc_cb
, &
›í_id


	)

1280 
›í_id
 = 7;

1282 
	#FOPEN_OPT_ARGS


	)

1285 
ouçut_°ªam
 = 
	`f›í
 (
›t
.
ouçut_documít
,

1286 
›t
.
Æways_ª°
 ? "ab" : "wb"

1287 
FOPEN_OPT_ARGS
);

1288 i‡(
ouçut_°ªam
 =
NULL
)

1290 
	`≥º‹
 (
›t
.
ouçut_documít
);

1291 
	`exô
 (1);

1293 i‡(
	`f°©
 (
	`fûío
 (
ouçut_°ªam
), &
°
Ë=0 && 
	`S_ISREG
 (°.
°_mode
))

1294 
ouçut_°ªam_ªguœr
 = 
åue
;

1296 i‡(!
ouçut_°ªam_ªguœr
 && 
›t
.
c⁄vît_löks
)

1298 
	`Ârötf
 (
°dîr
, 
	`_
("-k can be usedÅogether with -O only if \
ÅoáÑegular file.\n"));

1300 
	`¥öt_ußge
 (1);

1301 
	`exô
(1);

1305 #ifde‡
__VMS


1309 i‡(
ouçut_°ªam
 =
NULL
)

1310 
	`£t_ods5_de°
( "SYS$DISK");

1311 i‡(
ouçut_°ªam
 !
°dout
)

1312 
	`£t_ods5_de°
–
›t
.
ouçut_documít
);

1315 #ifde‡
WINDOWS


1316 
	`ws_°¨tup
 ();

1319 #ifde‡
SIGHUP


1322 i‡(
	`sig«l
(
SIGHUP
, 
SIG_IGN
) != SIG_IGN)

1323 
	`sig«l
(
SIGHUP
, 
ªdúe˘_ouçut_sig«l
);

1326 #ifde‡
SIGUSR1


1327 
	`sig«l
 (
SIGUSR1
, 
ªdúe˘_ouçut_sig«l
);

1329 #ifde‡
SIGPIPE


1333 
	`sig«l
 (
SIGPIPE
, 
SIG_IGN
);

1335 #ifde‡
SIGWINCH


1336 
	`sig«l
 (
SIGWINCH
, 
¥ogªss_h™dÀ_sigwöch
);

1340 
t
 = 
uæ
; *t;Å++)

1342 *
fûíame
 = 
NULL
, *
ªdúe˘ed_URL
 = NULL;

1343 
dt
, 
uæ_îr
;

1347 
úi
 *úò
	`úi_√w
 ();

1348 
uæ
 *
uæ_∑r£d
;

1350 
	`£t_uri_ícodög
 (
úi
, 
›t
.
loˇÀ
, 
åue
);

1351 
uæ_∑r£d
 = 
	`uæ_∑r£
 (*
t
, &
uæ_îr
, 
úi
, 
åue
);

1353 i‡(!
uæ_∑r£d
)

1355 *
îr‹
 = 
	`uæ_îr‹
 (*
t
, 
uæ_îr
);

1356 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s.\n",*
t
, 
îr‹
);

1357 
	`x‰ì
 (
îr‹
);

1358 
	`öf‹m_exô_°©us
 (
URLERROR
);

1362 i‡((
›t
.
ªcursive
 || o±.
∑ge_ªquisôes
)

1363 && (
	`uæ_scheme
 (*
t
Ë!
SCHEME_FTP
 || 
	`uæ_u£s_¥oxy
 (
uæ_∑r£d
)))

1365 
ﬁd_fﬁlow_·p
 = 
›t
.
fﬁlow_·p
;

1368 i‡(
	`uæ_scheme
 (*
t
Ë=
SCHEME_FTP
)

1369 
›t
.
fﬁlow_·p
 = 1;

1371 
	`ªåõve_åì
 (
uæ_∑r£d
, 
NULL
);

1373 
›t
.
fﬁlow_·p
 = 
ﬁd_fﬁlow_·p
;

1377 
	`ªåõve_uæ
 (
uæ_∑r£d
, *
t
, &
fûíame
, &
ªdúe˘ed_URL
, 
NULL
,

1378 &
dt
, 
›t
.
ªcursive
, 
úi
, 
åue
);

1381 i‡(
›t
.
dñëe_a·î
 && 
	`fûe_exi°s_p
(
fûíame
))

1383 
	`DEBUGP
 (("Removing file dueÅo --delete-after in main():\n"));

1384 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Removög %s.\n"), 
fûíame
);

1385 i‡(
	`u∆ök
 (
fûíame
))

1386 
	`log¥ötf
 (
LOG_NOTQUIET
, "u∆ök: %s\n", 
	`°ªº‹
 (
î∫o
));

1388 
	`x‰ì_nuŒ
 (
ªdúe˘ed_URL
);

1389 
	`x‰ì_nuŒ
 (
fûíame
);

1390 
	`uæ_‰ì
 (
uæ_∑r£d
);

1392 
	`úi_‰ì
 (
úi
);

1396 i‡(
›t
.
öput_fûíame
)

1398 
cou¡
;

1399 
°©us
;

1400 
°©us
 = 
	`ªåõve_‰om_fûe
 (
›t
.
öput_fûíame
, o±.
f‹˚_html
, &
cou¡
);

1401 
	`öf‹m_exô_°©us
 (
°©us
);

1402 i‡(!
cou¡
)

1403 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("No URLs found in %s.\n"),

1404 
›t
.
öput_fûíame
);

1408 i‡(
›t
.
ªcursive
 && o±.
•idî
)

1409 
	`¥öt_brokí_löks
 ();

1412 i‡((
›t
.
ªcursive
 || o±.
∑ge_ªquisôes


1413 || 
nuæ
 > 1

1414 || (
›t
.
öput_fûíame
 && 
tŸÆ_dow∆ﬂded_byãs
 != 0))

1416 
tŸÆ_dow∆ﬂded_byãs
 != 0)

1418 
íd_time
 = 
	`±imî_mósuª
 (
timî
);

1419 
	`±imî_de°roy
 (
timî
);

1421 *
wÆl_time
 = 
	`x°rdup
 (
	`£cs_to_hum™_time
 (
íd_time
 - 
°¨t_time
));

1422 *
dow∆ﬂd_time
 = 
	`x°rdup
 (
	`£cs_to_hum™_time
 (
tŸÆ_dow∆ﬂd_time
));

1423 
	`log¥ötf
 (
LOG_NOTQUIET
,

1424 
	`_
("FINISHED --%s--\nTotal wall clockÅime: %s\n"

1426 
	`d©ëime_°r
 (
	`time
 (
NULL
)),

1427 
wÆl_time
,

1428 
numuæs
,

1429 
	`hum™_ªadabÀ
 (
tŸÆ_dow∆ﬂded_byãs
),

1430 
dow∆ﬂd_time
,

1431 
	`ªå_øã
 (
tŸÆ_dow∆ﬂded_byãs
, 
tŸÆ_dow∆ﬂd_time
));

1432 
	`x‰ì
 (
wÆl_time
);

1433 
	`x‰ì
 (
dow∆ﬂd_time
);

1436 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

1437 
	`log¥ötf
 (
LOG_NOTQUIET
,

1438 
	`_
("Download quota of %s EXCEEDED!\n"),

1439 
	`hum™_ªadabÀ
 (
›t
.
quŸa
));

1442 i‡(
›t
.
cookõs_ouçut
)

1443 
	`ßve_cookõs
 ();

1445 i‡(
›t
.
c⁄vît_löks
 && !›t.
dñëe_a·î
)

1446 
	`c⁄vît_Æl_löks
 ();

1448 
	`log_˛o£
 ();

1449 
i
 = 0; i < 
nuæ
; i++)

1450 
	`x‰ì
 (
uæ
[
i
]);

1451 
	`˛ónup
 ();

1453  
	`gë_exô_°©us
 ();

1454 
	}
}

1457 #i‡
deföed
(
SIGHUP
Ë|| deföed(
SIGUSR1
)

1460 #i‚de‡
SIGHUP


1461 
	#SIGHUP
 -1

	)

1463 #i‚de‡
SIGUSR1


1464 
	#SIGUSR1
 -1

	)

1472 
	$ªdúe˘_ouçut_sig«l
 (
sig
)

1474 c⁄° *
sig«l_«me
 = (
sig
 =
SIGHUP
 ? "SIGHUP" :

1475 (
sig
 =
SIGUSR1
 ? "SIGUSR1" :

1477 
	`log_ªque°_ªdúe˘_ouçut
 (
sig«l_«me
);

1478 
	`¥ogªss_scheduÀ_ªdúe˘
 ();

1479 
	`sig«l
 (
sig
, 
ªdúe˘_ouçut_sig«l
);

1480 
	}
}

	@src/mswindows.c

32 
	#INHIBIT_WRAP


	)

34 
	~"wgë.h
"

36 
	~<°dio.h
>

37 
	~<°dlib.h
>

38 
	~<°rög.h
>

39 
	~<î∫o.h
>

40 
	~<m©h.h
>

43 
	~"utûs.h
"

44 
	~"uæ.h
"

46 #i‚de‡
ES_SYSTEM_REQUIRED


47 
	#ES_SYSTEM_REQUIRED
 0x00000001

	)

50 #i‚de‡
ES_CONTINUOUS


51 
	#ES_CONTINUOUS
 0x80000000

	)

56 
log_ªque°_ªdúe˘_ouçut
 (const *);

61 
	$x¶ìp
 (
£c⁄ds
)

63 #i‡
	`deföed
(
HAVE_USLEEP
Ë&& deföed(
HAVE_SLEEP
)

64 i‡(
£c⁄ds
 > 1000)

67 
	`¶ìp
 (
£c⁄ds
);

68 
£c⁄ds
 -= () seconds;

70 
	`u¶ìp
 (
£c⁄ds
 * 1000000);

72 
	`SÀïEx
 ((
DWORD
Ë(
£c⁄ds
 * 1000 + .5), 
FALSE
);

74 
	}
}

77 
	$wödows_maö
 (**
exec_«me
)

79 *
p
;

82 *
exec_«me
 = 
	`x°rdup
 (*exec_name);

83 
p
 = 
	`°ºchr
 (*
exec_«me
, '.');

84 i‡(
p
)

85 *
p
 = '\0';

86 
	}
}

89 
	$ws_˛ónup
 ()

91 
	`x‰ì
 ((*)
exec_«me
);

92 
	`WSACÀ™up
 ();

93 
	}
}

95 #i‡
deföed
(
CTRLBREAK_BACKGND
Ë|| deföed(
CTRLC_BACKGND
)

97 
	$ws_h™gup
 (c⁄° *
ªas⁄
)

99 
	`Ârötf
 (
°dîr
, 
	`_
("Continuing in background.\n"));

100 
	`log_ªque°_ªdúe˘_ouçut
 (
ªas⁄
);

107 
	`FªeC⁄sﬁe
 ();

108 
	}
}

114 
	$make_£˘i⁄_«me
 (
DWORD
 
pid
)

116  
	`≠rötf
 ("gnu_wgë_Áke_f‹k_%lu", 
pid
);

117 
	}
}

121 
	sÁke_f‹k_öfo


123 
HANDLE
 
	mevít
;

124 
boﬁ
 
	mlogfûe_ch™ged
;

125 
	mlfûíame
[
MAX_PATH
 + 1];

135 
	$Áke_f‹k_chûd
 ()

137 
HANDLE
 
£˘i⁄
, 
evít
;

138 
Áke_f‹k_öfo
 *
öfo
;

139 *
«me
;

141 
«me
 = 
	`make_£˘i⁄_«me
 (
	`GëCuºítPro˚ssId
 ());

142 
£˘i⁄
 = 
	`O≥nFûeM≠pög
 (
FILE_MAP_WRITE
, 
FALSE
, 
«me
);

143 
	`x‰ì
 (
«me
);

147 i‡(!
£˘i⁄
)

150 
öfo
 = 
	`M≠VõwOfFûe
 (
£˘i⁄
, 
FILE_MAP_WRITE
, 0, 0, 0);

151 i‡(!
öfo
)

153 
	`Clo£H™dÀ
 (
£˘i⁄
);

157 
evít
 = 
öfo
->event;

159 
öfo
->
logfûe_ch™ged
 = 
Ál£
;

160 i‡(!
›t
.
lfûíame
 && (!›t.
quõt
 || o±.
£rvî_ª•⁄£
))

163 
FILE
 *
√w_log_Â
 = 
	`unique_¸óã
 (
DEFAULT_LOGFILE
, 
Ál£
, &
›t
.
lfûíame
);

164 i‡(
√w_log_Â
)

166 
öfo
->
logfûe_ch™ged
 = 
åue
;

167 
	`°∫˝y
 (
öfo
->
lfûíame
, 
›t
.lfilename,  (info->lfilename));

168 
öfo
->
lfûíame
[ (info->lfilename) - 1] = '\0';

169 
	`f˛o£
 (
√w_log_Â
);

173 
	`Unm≠VõwOfFûe
 (
öfo
);

174 
	`Clo£H™dÀ
 (
£˘i⁄
);

177 i‡(!
	`SëEvít
 (
evít
))

180 
	`Clo£H™dÀ
 (
evít
);

182 
	}
}

193 
	$Áke_f‹k
 ()

195 
exe
[
MAX_PATH
 + 1];

196 
DWORD
 
exe_Àn
, 
À
;

197 
SECURITY_ATTRIBUTES
 
ß
;

198 
HANDLE
 
£˘i⁄
, 
evít
, 
h
[2];

199 
STARTUPINFO
 
si
;

200 
PROCESS_INFORMATION
 
pi
;

201 
Áke_f‹k_öfo
 *
öfo
;

202 *
«me
;

203 
BOOL
 
rv
;

205 
£˘i⁄
 = 
pi
.
hPro˚ss
 =Öi.
hThªad
 = 
NULL
;

209 
exe_Àn
 = 
	`GëModuÀFûeName
 (
	`GëModuÀH™dÀ
 (
NULL
), 
exe
,  (exe));

210 i‡(!
exe_Àn
 || (exe_À¿> (
exe
)))

213 
ß
.
nLígth
 =  (sa);

214 
ß
.
ÕSecurôyDes¸ùt‹
 = 
NULL
;

215 
ß
.
bInhîôH™dÀ
 = 
TRUE
;

219 
evít
 = 
	`Cª©eEvít
 (&
ß
, 
FALSE
, FALSE, 
NULL
);

220 i‡(!
evít
)

225 
	`xzîo
 (
si
);

226 
si
.
cb
 =  (si);

227 
rv
 = 
	`Cª©ePro˚ss
 (
exe
, 
	`GëComm™dLöe
 (), 
NULL
, NULL, 
TRUE
,

228 
CREATE_SUSPENDED
 | 
DETACHED_PROCESS
,

229 
NULL
, NULL, &
si
, &
pi
);

230 i‡(!
rv
)

231 
˛ónup
;

235 
«me
 = 
	`make_£˘i⁄_«me
 (
pi
.
dwPro˚ssId
);

236 
£˘i⁄
 =

237 
	`Cª©eFûeM≠pög
 (
INVALID_HANDLE_VALUE
, 
NULL
, 
PAGE_READWRITE
, 0,

238  (
Áke_f‹k_öfo
), 
«me
);

239 
À
 = 
	`GëLa°Eº‹
();

240 
	`x‰ì
 (
«me
);

242 i‡(!
£˘i⁄
 || (
À
 =
ERROR_ALREADY_EXISTS
))

244 
rv
 = 
FALSE
;

245 
˛ónup
;

249 
öfo
 = 
	`M≠VõwOfFûe
 (
£˘i⁄
, 
FILE_MAP_WRITE
, 0, 0, 0);

250 i‡(!
öfo
)

252 
rv
 = 
FALSE
;

253 
˛ónup
;

256 
öfo
->
evít
 =Évent;

258 
	`Unm≠VõwOfFûe
 (
öfo
);

261 
rv
 = 
	`ResumeThªad
 (
pi
.
hThªad
);

262 i‡(!
rv
)

264 
	`Tîmö©ePro˚ss
 (
pi
.
hPro˚ss
, (
DWORD
) -1);

265 
˛ónup
;

271 
h
[0] = 
evít
;

272 
h
[1] = 
pi
.
hPro˚ss
;

273 
rv
 = 
WAIT_OBJECT_0
 =
	`WaôF‹Mu…ùÀObje˘s
 (2, 
h
, 
FALSE
, 5 * 60 * 1000);

274 i‡(!
rv
)

275 
˛ónup
;

277 
öfo
 = 
	`M≠VõwOfFûe
 (
£˘i⁄
, 
FILE_MAP_READ
, 0, 0, 0);

278 i‡(!
öfo
)

280 
rv
 = 
FALSE
;

281 
˛ónup
;

285 i‡(
öfo
->
logfûe_ch™ged
 &&

286 !
	`memchr
 (
öfo
->
lfûíame
, '\0',  (info->lfilename)))

288 
rv
 = 
FALSE
;

289 
˛ónup
;

292 
	`¥ötf
 (
	`_
("C⁄töuög i¿background,Öid %lu.\n"), 
pi
.
dwPro˚ssId
);

293 i‡(
öfo
->
logfûe_ch™ged
)

294 
	`¥ötf
 (
	`_
("Ouçuàwû»bêwrôã¿tÿ%s.\n"), 
	`quŸe
 (
öfo
->
lfûíame
));

296 
	`Unm≠VõwOfFûe
 (
öfo
);

298 
˛ónup
:

300 i‡(
evít
)

301 
	`Clo£H™dÀ
 (
evít
);

302 i‡(
£˘i⁄
)

303 
	`Clo£H™dÀ
 (
£˘i⁄
);

304 i‡(
pi
.
hThªad
)

305 
	`Clo£H™dÀ
 (
pi
.
hThªad
);

306 i‡(
pi
.
hPro˚ss
)

307 
	`Clo£H™dÀ
 (
pi
.
hPro˚ss
);

310 i‡(
rv
)

311 
	`exô
 (0);

314 
	}
}

319 
	$f‹k_to_background
 ()

321 
rv
;

323 
rv
 = 
	`Áke_f‹k_chûd
 ();

324 i‡(
rv
 < 0)

326 
	`Ârötf
 (
°dîr
, "fake_fork_child() failed\n");

327 
	`ab‹t
 ();

329 i‡(
rv
 == 0)

332 
	`Áke_f‹k
 ();

334 
	`Ârötf
 (
°dîr
, "fake_fork() failed\n");

335 
	`ab‹t
 ();

338 
	}
}

340 
BOOL
 
WINAPI


341 
	$ws_h™dÀr
 (
DWORD
 
dwEvít
)

343 
dwEvít
)

345 #ifde‡
CTRLC_BACKGND


346 
CTRL_C_EVENT
:

347 
	`ws_h™gup
 ("CTRL+C");

348  
TRUE
;

350 #ifde‡
CTRLBREAK_BACKGND


351 
CTRL_BREAK_EVENT
:

352 
	`ws_h™gup
 ("CTRL+Break");

353  
TRUE
;

356  
FALSE
;

358 
	}
}

360 *
	gtôÀ_buf
 = 
NULL
;

361 *
	gcuº_uæ
 = 
NULL
;

362 
	gﬁd_≥r˚¡age
 = -1;

367 
	$ws_ch™gëôÀ
 (c⁄° *
uæ
)

369 
	`x‰ì_nuŒ
 (
tôÀ_buf
);

370 
	`x‰ì_nuŒ
 (
cuº_uæ
);

371 
tôÀ_buf
 = 
	`xmÆloc
 (
	`°æí
 (
uæ
) + 20);

372 
cuº_uæ
 = 
	`x°rdup
 (
uæ
);

373 
ﬁd_≥r˚¡age
 = -1;

374 
	`•rötf
 (
tôÀ_buf
, "Wgë %s", 
cuº_uæ
);

375 
	`SëC⁄sﬁeTôÀ
 (
tôÀ_buf
);

376 
	}
}

381 
	$ws_≥r˚¡tôÀ
 (
≥r˚¡age_Êﬂt
)

383 
≥r˚¡age
;

385 i‡(!
tôÀ_buf
 || !
cuº_uæ
)

388 
≥r˚¡age
 = (Ë
≥r˚¡age_Êﬂt
;

391 i‡(
≥r˚¡age
 < 0)

392 
≥r˚¡age
 = 0;

393 i‡(
≥r˚¡age
 > 100)

394 
≥r˚¡age
 = 100;

397 i‡(
≥r˚¡age
 =
ﬁd_≥r˚¡age
)

400 
ﬁd_≥r˚¡age
 = 
≥r˚¡age
;

402 
	`•rötf
 (
tôÀ_buf
, "Wgë [%d%%] %s", 
≥r˚¡age
, 
cuº_uæ
);

403 
	`SëC⁄sﬁeTôÀ
 (
tôÀ_buf
);

404 
	}
}

410 
	$ws_my∑th
 ()

412 *
w•©hßve
 = 
NULL
;

414 i‡(!
w•©hßve
)

416 
buf
[
MAX_PATH
 + 1];

417 *
p
;

418 
DWORD
 
Àn
;

420 
Àn
 = 
	`GëModuÀFûeName
 (
	`GëModuÀH™dÀ
 (
NULL
), 
buf
,  (buf));

421 i‡(!
Àn
 || (À¿> (
buf
)))

422  
NULL
;

424 
p
 = 
	`°ºchr
 (
buf
, 
PATH_SEPARATOR
);

425 i‡(!
p
)

426  
NULL
;

428 *
p
 = '\0';

429 
w•©hßve
 = 
	`x°rdup
 (
buf
);

432  
w•©hßve
;

433 
	}
}

440 
	$£t_¶ìp_mode
 ()

442 
	`DWORD
 (
	tWINAPI
 *
	tfunc_t
Ë(
	tDWORD
);

443 
func_t
 
£t_exec_°©e
;

445 
£t_exec_°©e
 =

446 (
func_t
Ë
	`GëProcAddªss
 (
	`GëModuÀH™dÀ
 ("KERNEL32.DLL"),

449 i‡(
£t_exec_°©e
)

450 
	`£t_exec_°©e
 (
ES_SYSTEM_REQUIRED
 | 
ES_CONTINUOUS
);

451 
	}
}

455 
	$ws_°¨tup
 ()

457 
WSADATA
 
d©a
;

458 
WORD
 
ªque°ed
 = 
	`MAKEWORD
 (1, 1);

459 
îr
 = 
	`WSASèπup
 (
ªque°ed
, &
d©a
);

460 i‡(
îr
 != 0)

462 
	`Ârötf
 (
°dîr
, 
	`_
("%s: Couldn't find usable socket driver.\n"),

463 
exec_«me
);

464 
	`exô
 (1);

467 i‡(
d©a
.
wVîsi⁄
 < 
ªque°ed
)

469 
	`Ârötf
 (
°dîr
, 
	`_
("%s: Couldn't find usable socket driver.\n"),

470 
exec_«me
);

471 
	`WSACÀ™up
 ();

472 
	`exô
 (1);

475 
	`©exô
 (
ws_˛ónup
);

476 
	`£t_¶ìp_mode
 ();

477 
	`SëC⁄sﬁeCålH™dÀr
 (
ws_h™dÀr
, 
TRUE
);

478 
	}
}

484 
	#THREAD_STACK_SIZE
 0

	)

486 
	sthªad_d©a


488 (*
	mfun
) (*);

489 *
	m¨g
;

490 
DWORD
 
	mws_îr‹
;

502 
DWORD
 
WINAPI


503 
	$thªad_hñ≥r
 (*
¨g
)

505 
thªad_d©a
 *
td
 = (thªad_d©®*Ë
¨g
;

510 
	`WSASëLa°Eº‹
 (
td
->
ws_îr‹
);

512 
td
->
	`fun
 (td->
¨g
);

516 
td
->
ws_îr‹
 = 
	`WSAGëLa°Eº‹
 ();

518 
	}
}

527 
boﬁ


528 
run_wôh_timeout
 (
£c⁄ds
, (*
fun
Ë(*), *
¨g
)

530 
HANDLE
 
thªad_hnd
;

531 
thªad_d©a
 
thªad_¨g
;

532 
DWORD
 
thªad_id
;

533 
boﬁ
 
rc
;

535 
	`DEBUGP
 (("£c⁄d†%.2f, ", 
£c⁄ds
));

537 i‡(
£c⁄ds
 == 0)

539 
blockög_ÁŒback
:

540 
	`fun
 (
¨g
);

541  
Ál£
;

544 
thªad_¨g
.
fun
 = fun;

545 
thªad_¨g
.
¨g
 =árg;

546 
thªad_¨g
.
ws_îr‹
 = 
	`WSAGëLa°Eº‹
 ();

547 
thªad_hnd
 = 
	`Cª©eThªad
 (
NULL
, 
THREAD_STACK_SIZE
, 
thªad_hñ≥r
,

548 &
thªad_¨g
, 0, &
thªad_id
);

549 i‡(!
thªad_hnd
)

551 
	`DEBUGP
 (("CreateThread() failed; [%#lx]\n",

552 (Ë
	`GëLa°Eº‹
 ()));

553 
blockög_ÁŒback
;

556 i‡(
	`WaôF‹SögÀObje˘
 (
thªad_hnd
, (
DWORD
)(1000 * 
£c⁄ds
))

557 =
WAIT_OBJECT_0
)

561 
	`WSASëLa°Eº‹
 (
thªad_¨g
.
ws_îr‹
);

562 
	`DEBUGP
 (("WösockÉº‹: %d\n", 
	`WSAGëLa°Eº‹
 ()));

563 
rc
 = 
Ál£
;

567 
	`Tîmö©eThªad
 (
thªad_hnd
, 1);

568 
rc
 = 
åue
;

571 
	`Clo£H™dÀ
 (
thªad_hnd
);

572 
thªad_hnd
 = 
NULL
;

573  
rc
;

574 
	}
}

577 #ifde‡
ENABLE_IPV6


583 
	$öë_¡›
 (
af
, c⁄° *
§c
, *
d°
, 
sockÀn_t
 
˙t
)

587 
sockaddr_ö6
 
sö6
;

588 
sockaddr_ö
 
sö
;

589 } 
ß
;

590 
DWORD
 
d°Àn
 = 
˙t
;

591 
size_t
 
§csize
;

593 
	`xzîo
 (
ß
);

594 
af
)

596 
AF_INET
:

597 
ß
.
sö
.
sö_Ámûy
 = 
AF_INET
;

598 
ß
.
sö
.
sö_addr
 = *(
ö_addr
 *Ë
§c
;

599 
§csize
 =  (
ß
.
sö
);

601 
AF_INET6
:

602 
ß
.
sö6
.
sö6_Ámûy
 = 
AF_INET6
;

603 
ß
.
sö6
.
sö6_addr
 = *(
ö6_addr
 *Ë
§c
;

604 
§csize
 =  (
ß
.
sö6
);

607 
	`ab‹t
 ();

610 i‡(
	`WSAAddªssToSåög
 ((
sockaddr
 *Ë&
ß
, 
§csize
, 
NULL
, 
d°
, &
d°Àn
) != 0)

612 
î∫o
 = 
	`WSAGëLa°Eº‹
();

613  
NULL
;

615  (c⁄° *Ë
d°
;

616 
	}
}

621 
	$£t_wödows_fd_as_blockög_sockë
 (
fd
)

631 
ªt
 = 0;

632 
wßgÀ
 = 0;

633 c⁄° 
zîo
 = 0;

637 if(
wßgÀ
 =
WSAEINPROGRESS
)

638 
	`SÀï
(1);

640 
	`WSASëLa°Eº‹
 (0);

641 
ªt
 = 
	`io˘l
 (
fd
, 
FIONBIO
, &
zîo
);

642 
wßgÀ
 = 
	`WSAGëLa°Eº‹
();

644 
ªt
 && (
wßgÀ
 =
WSAEINPROGRESS
));

646 if(
ªt
)

648 
	`Ârötf
 (
°dîr
,

650 
	`DEBUGP
 (("WösockÉº‹: %d\n", 
	`WSAGëLa°Eº‹
 ()));

651 
	`ab‹t
 ();

654 
	}
}

	@src/mswindows.h

32 #i‚de‡
MSWINDOWS_H


33 
	#MSWINDOWS_H


	)

35 #i‚de‡
WGET_H


36 #îr‹ 
This
 
fûe
 
should
 
nŸ
 
be
 
ö˛uded
 
dúe˘ly
.

40 #i‚de‡
WIN32_LEAN_AND_MEAN


41 
	#WIN32_LEAN_AND_MEAN


	)

44 
	~<wödows.h
>

46 
	~<wösock2.h
>

47 
	~<ws2t˝ù.h
>

49 #i‚de‡
EAI_SYSTEM


50 
	#EAI_SYSTEM
 -1

	)

55 
	~<io.h
>

58 
	~<¥o˚ss.h
>

60 #i‚de‡
S_ISDIR


61 
	#S_ISDIR
(
m
Ë(((mË& (
_S_IFMT
)Ë=(
_S_IFDIR
))

	)

63 #i‚de‡
S_ISLNK


64 
	#S_ISLNK
(
a
Ë0

	)

68 #i‚de‡
HAVE_STRCASECMP


69 
	#°rˇ£cmp
 
°ricmp


	)

71 #i‚de‡
HAVE_STRNCASECMP


72 
	#°∫ˇ£cmp
 
°∫icmp


	)

75 
	~<°dio.h
>

78 
	#¢¥ötf
 
_¢¥ötf


	)

79 
	#v¢¥ötf
 
_v¢¥ötf


	)

82 
__öt64
 
	twgöt
;

83 
	#SIZEOF_WGINT
 8

	)

87 #i‡
deföed
 
HAVE_STRTOLL


88 
	#°r_to_wgöt
 
°πﬁl


	)

89 #ñi‡
deföed
 
HAVE__STRTOI64


90 
	#°r_to_wgöt
 
_°πoi64


	)

92 
	#°r_to_wgöt
 
°πﬁl


	)

93 
	#NEED_STRTOLL


	)

94 
	#°πﬁl_ty≥
 
__öt64


	)

99 
	#l°©
 
°©


	)

102 #ifde‡
°©_Æüs


103 
	#°©
(
f
, 
b
Ë
	`°©_Æüs
 (f, b)

	)

105 #ifde‡
f°©_Æüs


106 
	#f°©
(
f
, 
b
Ë
	`f°©_Æüs
 (f, b)

	)

109 
	#PATH_SEPARATOR
 '\\'

	)

112 #ifde‡
ENABLE_IPV6


113 c⁄° *
öë_¡›
 (, c⁄° *, *, 
sockÀn_t
);

117 
	~<sys/io˘l.h
>

121 
ws_°¨tup
 ();

122 
ws_ch™gëôÀ
 (const *);

123 
ws_≥r˚¡tôÀ
 ();

124 *
ws_my∑th
 ();

125 
wödows_maö
 (**);

126 
£t_wödows_fd_as_blockög_sockë
 ();

	@src/netrc.c

34 
	~"wgë.h
"

36 
	~<°dio.h
>

37 
	~<°dlib.h
>

38 
	~<°rög.h
>

39 
	~<î∫o.h
>

41 
	~"utûs.h
"

42 
	~"√åc.h
"

43 
	~"öô.h
"

45 
	#NETRC_FILE_NAME
 ".√åc"

	)

47 
acc_t
 *
	g√åc_li°
;

49 
acc_t
 *
∑r£_√åc
 (const *);

58 
	$£¨ch_√åc
 (c⁄° *
ho°
, c⁄° **
acc
, c⁄° **
∑sswd
,

59 
¶ack_deÁu…
)

61 
acc_t
 *
l
;

62 
¥o˚s£d_√åc
;

64 i‡(!
›t
.
√åc
)

67 i‡(!
¥o˚s£d_√åc
)

69 #ifde‡
__VMS


71 
îr
;

72 
°ru˘_°©
 
buf
;

73 *
∑th
 = "SYS$LOGIN:.netrc";

75 
√åc_li°
 = 
NULL
;

76 
¥o˚s£d_√åc
 = 1;

78 
îr
 = 
	`°©
 (
∑th
, &
buf
);

79 i‡(
îr
 == 0)

80 
√åc_li°
 = 
	`∑r£_√åc
 (
∑th
);

84 *
home
 = 
	`home_dú
 ();

86 
√åc_li°
 = 
NULL
;

87 
¥o˚s£d_√åc
 = 1;

88 i‡(
home
)

90 
îr
;

91 
°ru˘_°©
 
buf
;

92 *
∑th
 = (*)
	`Æloˇ
 (
	`°æí
 (
home
) + 1

93 + 
	`°æí
 (
NETRC_FILE_NAME
) + 1);

94 
	`•rötf
 (
∑th
, "%s/%s", 
home
, 
NETRC_FILE_NAME
);

95 
	`x‰ì
 (
home
);

96 
îr
 = 
	`°©
 (
∑th
, &
buf
);

97 i‡(
îr
 == 0)

98 
√åc_li°
 = 
	`∑r£_√åc
 (
∑th
);

104 i‡(!
√åc_li°
)

107 i‡(*
acc
 && *
∑sswd
)

110 
l
 = 
√åc_li°
;Ü;Ü =Ü->
√xt
)

112 i‡(!
l
->
ho°
)

114 i‡(!
	`°rˇ£cmp
 (
l
->
ho°
, host))

117 i‡(
l
)

119 i‡(*
acc
)

122 i‡(!
	`°rcmp
 (
l
->
acc
, *acc))

123 *
∑sswd
 = 
l
->passwd;

125 *
∑sswd
 = 
NULL
;

130 *
acc
 = 
l
->acc;

131 i‡(
l
->
∑sswd
)

132 *
∑sswd
 = 
l
->passwd;

138 i‡(!
¶ack_deÁu…
)

140 i‡(*
acc
)

143 
l
 = 
√åc_li°
;Ü;Ü =Ü->
√xt
)

144 i‡(!
l
->
ho°
)

146 i‡(!
l
)

148 *
acc
 = 
l
->acc;

149 i‡(!*
∑sswd
)

150 *
∑sswd
 = 
l
->passwd;

153 
	}
}

156 #ifde‡
STANDALONE


158 
	~<as£π.h
>

161 
	#xmÆloc
 
mÆloc


	)

162 
	#x‰ì
 
‰ì


	)

163 
	#x°rdup
 
°rdup


	)

165 
	#xªÆloc
 
ªÆloc


	)

178 
	$ªad_whﬁe_löe
 (
FILE
 *
Â
)

180 
Àngth
 = 0;

181 
bufsize
 = 81;

182 *
löe
 = 
	`xmÆloc
 (
bufsize
);

184 
	`fgës
 (
löe
 + 
Àngth
, 
bufsize
 -Üígth, 
Â
))

186 
Àngth
 +
	`°æí
 (
löe
 +Üength);

187 
	`as£π
 (
Àngth
 > 0);

188 i‡(
löe
[
Àngth
 - 1] == '\n')

193 
bufsize
 <<= 1;

194 
löe
 = 
	`xªÆloc
 (löe, 
bufsize
);

196 i‡(
Àngth
 =0 || 
	`„º‹
 (
Â
))

198 
	`x‰ì
 (
löe
);

199  
NULL
;

201 i‡(
Àngth
 + 1 < 
bufsize
)

206 
löe
 = 
	`xªÆloc
 (löe, 
Àngth
 + 1);

207  
löe
;

208 
	}
}

214 
	$maybe_add_to_li°
 (
acc_t
 **
√wíåy
,ácc_à**
li°
)

216 
acc_t
 *
a
, *
l
;

217 
a
 = *
√wíåy
;

218 
l
 = *
li°
;

221 i‡(
a
 && !á->
acc
)

224 
	`x‰ì_nuŒ
 (
a
->
ho°
);

225 
	`x‰ì_nuŒ
 (
a
->
acc
);

226 
	`x‰ì_nuŒ
 (
a
->
∑sswd
);

230 i‡(
a
)

233 
a
->
√xt
 = 
l
;

234 
l
 = 
a
;

238 
a
 = 
	`xmÆloc
 ( (
acc_t
));

242 
	`mem£t
 (
a
, 0, (*a));

245 *
√wíåy
 = 
a
;

246 *
li°
 = 
l
;

248 
	}
}

254 
	$shi·_À·
(*
°rög
)

256 *
p
;

258 
p
=
°rög
; *p; ++p)

259 *
p
 = *(p+1);

260 
	}
}

263 
acc_t
 *

264 
	$∑r£_√åc
 (c⁄° *
∑th
)

266 
FILE
 *
Â
;

267 *
löe
, *
p
, *
tok
;

268 c⁄° *
¥em©uª_tokí
;

269 
acc_t
 *
cuºít
, *
ªtvÆ
;

270 
 
, 
qm¨k
;

275 
tok_nŸhög
, 
tok_accou¡
, 
tok_logö
, 
tok_macdef
, 
tok_machöe
, 
tok_∑ssw‹d


276 } 
œ°_tokí
 = 
tok_nŸhög
;

278 
cuºít
 = 
ªtvÆ
 = 
NULL
;

280 
Â
 = 
	`f›í
 (
∑th
, "r");

281 i‡(!
Â
)

283 
	`Ârötf
 (
°dîr
, 
	`_
("%s: C™nŸÑód %†(%s).\n"), 
exec_«me
,

284 
∑th
, 
	`°ªº‹
 (
î∫o
));

285  
ªtvÆ
;

289 
 
 = 0;

290 
¥em©uª_tokí
 = 
NULL
;

293 (
löe
 = 
	`ªad_whﬁe_löe
 (
Â
)Ë!
NULL
)

295 
 
 ++;

298 
p
 = 
löe
;

299 
qm¨k
 = 0;

302 *
p
 && 
	`c_is•a˚
 (*p))

303 
p
 ++;

306 i‡(
œ°_tokí
 =
tok_macdef
 && !*
p
)

308 
œ°_tokí
 = 
tok_nŸhög
;

311 *
p
 && 
œ°_tokí
 !
tok_macdef
)

314 *
p
 && 
	`c_is•a˚
 (*p))

315 
p
 ++;

319 i‡(*
p
 == '#' || !*p)

324 i‡(*
p
 == '"'){

325 
qm¨k
 = 1;

326 
	`shi·_À·
 (
p
);

329 
tok
 = 
p
;

332 *
p
 && (
qm¨k
 ? *∞!'"' : !
	`c_is•a˚
 (*p))){

333 i‡(*
p
 == '\\')

334 
	`shi·_À·
 (
p
);

335 
p
 ++;

340 i‡(
qm¨k
)

342 
	`shi·_À·
 (
p
);

343 
qm¨k
 = 0;

347 i‡(*
p
)

348 *
p
 ++ = '\0';

350 
œ°_tokí
)

352 
tok_logö
:

353 i‡(
cuºít
)

354 
cuºít
->
acc
 = 
	`x°rdup
 (
tok
);

356 
¥em©uª_tokí
 = "login";

359 
tok_machöe
:

361 
	`maybe_add_to_li°
 (&
cuºít
, &
ªtvÆ
);

362 
cuºít
->
ho°
 = 
	`x°rdup
 (
tok
);

365 
tok_∑ssw‹d
:

366 i‡(
cuºít
)

367 
cuºít
->
∑sswd
 = 
	`x°rdup
 (
tok
);

369 
¥em©uª_tokí
 = "password";

373 
tok_macdef
:

374 i‡(!
cuºít
)

375 
¥em©uª_tokí
 = "macdef";

379 
tok_accou¡
:

380 i‡(!
cuºít
)

381 
¥em©uª_tokí
 = "account";

385 
tok_nŸhög
:

389 i‡(
¥em©uª_tokí
)

391 
	`Ârötf
 (
°dîr
, 
	`_
("\
%s: %s:%d: warning: %sÅokenáppears beforeány machineÇame\n"),

393 
exec_«me
, 
∑th
, 
 
, 
	`quŸe
 (
¥em©uª_tokí
));

394 
¥em©uª_tokí
 = 
NULL
;

397 i‡(
œ°_tokí
 !
tok_nŸhög
)

399 
œ°_tokí
 = 
tok_nŸhög
;

403 i‡(!
	`°rcmp
 (
tok
, "account"))

404 
œ°_tokí
 = 
tok_accou¡
;

405 i‡(!
	`°rcmp
 (
tok
, "default"))

407 
	`maybe_add_to_li°
 (&
cuºít
, &
ªtvÆ
);

409 i‡(!
	`°rcmp
 (
tok
, "login"))

410 
œ°_tokí
 = 
tok_logö
;

412 i‡(!
	`°rcmp
 (
tok
, "macdef"))

413 
œ°_tokí
 = 
tok_macdef
;

415 i‡(!
	`°rcmp
 (
tok
, "machine"))

416 
œ°_tokí
 = 
tok_machöe
;

418 i‡(!
	`°rcmp
 (
tok
, "password"))

419 
œ°_tokí
 = 
tok_∑ssw‹d
;

422 
	`Ârötf
 (
°dîr
, 
	`_
("%s: %s:%d: unknownÅoken \"%s\"\n"),

423 
exec_«me
, 
∑th
, 
 
, 
tok
);

427 
	`x‰ì
 (
löe
);

430 
	`f˛o£
 (
Â
);

433 
	`maybe_add_to_li°
 (&
cuºít
, &
ªtvÆ
);

434 
	`x‰ì
 (
cuºít
);

437 
cuºít
 = 
ªtvÆ
;

438 
ªtvÆ
 = 
NULL
;

439 
cuºít
)

441 
acc_t
 *
ßved_ª„ªn˚
;

444 
ßved_ª„ªn˚
 = 
cuºít
->
√xt
;

445 
cuºít
->
√xt
 = 
ªtvÆ
;

448 
ªtvÆ
 = 
cuºít
;

449 
cuºít
 = 
ßved_ª„ªn˚
;

452  
ªtvÆ
;

453 
	}
}

458 
	$‰ì_√åc
(
acc_t
 *
l
)

460 
acc_t
 *
t
;

462 
l
)

464 
t
 = 
l
->
√xt
;

465 
	`x‰ì_nuŒ
 (
l
->
acc
);

466 
	`x‰ì_nuŒ
 (
l
->
∑sswd
);

467 
	`x‰ì_nuŒ
 (
l
->
ho°
);

468 
	`x‰ì
 (
l
);

469 
l
 = 
t
;

471 
	}
}

473 #ifde‡
STANDALONE


474 
	~<sys/ty≥s.h
>

475 
	~<sys/°©.h
>

478 
	$maö
 (
¨gc
, **
¨gv
)

480 
°ru˘_°©
 
sb
;

481 *
¥ogøm_«me
, *
fûe
, *
èrgë
;

482 
acc_t
 *
hód
, *
a
;

484 i‡(
¨gc
 < 2 ||árgc > 3)

486 
	`Ârötf
 (
°dîr
, 
	`_
("Ußge: %†NETRC [HOSTNAME]\n"), 
¨gv
[0]);

487 
	`exô
 (1);

490 
¥ogøm_«me
 = 
¨gv
[0];

491 
fûe
 = 
¨gv
[1];

492 
èrgë
 = 
¨gv
[2];

494 i‡(
	`°©
 (
fûe
, &
sb
))

496 
	`Ârötf
 (
°dîr
, 
	`_
("%s: c™nŸ sèà%s: %s\n"), 
¨gv
[0], 
fûe
,

497 
	`°ªº‹
 (
î∫o
));

498 
	`exô
 (1);

501 
hód
 = 
	`∑r£_√åc
 (
fûe
);

502 
a
 = 
hód
;

503 
a
)

506 i‡(
èrgë
 && 
a
->
ho°
 && 
	`°rcmp
 (target,á->host))

508 
a
 =á->
√xt
;

512 i‡(!
èrgë
)

515 i‡(
a
->
ho°
)

516 
	`Âuts
 (
a
->
ho°
, 
°dout
);

518 
	`Âuts
 ("DEFAULT", 
°dout
);

520 
	`Âutc
 (' ', 
°dout
);

524 
	`Âuts
 (
a
->
acc
, 
°dout
);

526 i‡(
a
->
∑sswd
)

529 
	`Âutc
 (' ', 
°dout
);

530 
	`Âuts
 (
a
->
∑sswd
, 
°dout
);

533 
	`Âutc
 ('\n', 
°dout
);

536 i‡(
èrgë
)

537 
	`exô
 (0);

538 
a
 =á->
√xt
;

542 i‡(
èrgë
)

543 
	`exô
 (1);

545 
	`exô
 (0);

546 
	}
}

	@src/netrc.h

31 #i‚de‡
NETRC_H


32 
	#NETRC_H


	)

34 
	s_acc_t


36 *
	mho°
;

38 *
	macc
;

39 *
	m∑sswd
;

40 
_acc_t
 *
	m√xt
;

41 } 
	tacc_t
;

43 
£¨ch_√åc
 (const *, const **, const **, );

44 
‰ì_√åc
 (
acc_t
 *
l
);

	@src/openssl.c

32 
	~"wgë.h
"

34 
	~<as£π.h
>

35 
	~<î∫o.h
>

36 
	~<uni°d.h
>

37 
	~<°rög.h
>

39 
	~<›ís¶/s¶.h
>

40 
	~<›ís¶/x509v3.h
>

41 
	~<›ís¶/îr.h
>

42 
	~<›ís¶/ønd.h
>

44 
	~"utûs.h
"

45 
	~"c⁄√˘.h
"

46 
	~"uæ.h
"

47 
	~"s¶.h
"

49 #ifde‡
WINDOWS


50 
	~<w32sock.h
>

55 
SSL_CTX
 *
	gs¶_˘x
;

60 
	$öô_¥ng
 ()

62 
«mebuf
[256];

63 c⁄° *
øndom_fûe
;

65 i‡(
	`RAND_°©us
 ())

72 i‡(
›t
.
øndom_fûe
)

73 
øndom_fûe
 = 
›t
.random_file;

77 
«mebuf
[0] = '\0';

78 
øndom_fûe
 = 
	`RAND_fûe_«me
 (
«mebuf
,  (namebuf));

81 i‡(
øndom_fûe
 && *random_file)

84 
	`RAND_lﬂd_fûe
 (
øndom_fûe
, 16384);

86 i‡(
	`RAND_°©us
 ())

90 i‡(
›t
.
egd_fûe
 && *opt.egd_file)

91 
	`RAND_egd
 (
›t
.
egd_fûe
);

93 i‡(
	`RAND_°©us
 ())

96 #ifde‡
WINDOWS


101 
	`RAND_s¸ìn
 ();

102 i‡(
	`RAND_°©us
 ())

108 
maxønd
 = 500;

115 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("WARNING: usingá weakÑandom seed.\n"));

117 
	`RAND_°©us
 (Ë=0 && 
maxønd
-- > 0)

119 
∫d
 = 
	`øndom_numbî
 (256);

120 
	`RAND_£ed
 (&
∫d
,  (rnd));

124 
	}
}

129 
	$¥öt_îr‹s
 ()

131 
îr
;

132 (
îr
 = 
	`ERR_gë_îr‹
 ()) != 0)

133 
	`log¥ötf
 (
LOG_NOTQUIET
, "O≥nSSL: %s\n", 
	`ERR_îr‹_°rög
 (
îr
, 
NULL
));

134 
	}
}

143 
	$key_ty≥_to_s¶_ty≥
 (
keyfûe_ty≥
 
ty≥
)

145 
ty≥
)

147 
keyfûe_≥m
:

148  
SSL_FILETYPE_PEM
;

149 
keyfûe_a¢1
:

150  
SSL_FILETYPE_ASN1
;

152 
	`ab‹t
 ();

154 
	}
}

161 
boﬁ


162 
	$s¶_öô
 ()

164 
SSL_METHOD
 *
mëh
;

166 i‡(
s¶_˘x
)

168  
åue
;

171 
	`öô_¥ng
 ();

172 i‡(
	`RAND_°©us
 () != 1)

174 
	`log¥ötf
 (
LOG_NOTQUIET
,

175 
	`_
("CouldÇot seed PRNG; consider using --random-file.\n"));

176 
îr‹
;

179 
	`SSL_libøry_öô
 ();

180 
	`SSL_lﬂd_îr‹_°rögs
 ();

181 
	`SSLóy_add_Æl_Æg‹ôhms
 ();

182 
	`SSLóy_add_s¶_Æg‹ôhms
 ();

184 
›t
.
£cuª_¥Ÿocﬁ
)

186 
£cuª_¥Ÿocﬁ_auto
:

187 
mëh
 = 
	`SSLv23_˛õ¡_mëhod
 ();

189 #i‚de‡
OPENSSL_NO_SSL2


190 
£cuª_¥Ÿocﬁ_s¶v2
:

191 
mëh
 = 
	`SSLv2_˛õ¡_mëhod
 ();

194 
£cuª_¥Ÿocﬁ_s¶v3
:

195 
mëh
 = 
	`SSLv3_˛õ¡_mëhod
 ();

197 
£cuª_¥Ÿocﬁ_ésv1
:

198 
mëh
 = 
	`TLSv1_˛õ¡_mëhod
 ();

201 
	`ab‹t
 ();

204 
s¶_˘x
 = 
	`SSL_CTX_√w
 (
mëh
);

205 i‡(!
s¶_˘x
)

206 
îr‹
;

208 
	`SSL_CTX_£t_deÁu…_vîify_∑ths
 (
s¶_˘x
);

209 
	`SSL_CTX_lﬂd_vîify_loˇti⁄s
 (
s¶_˘x
, 
›t
.
ˇ_˚π
, o±.
ˇ_dúe˘‹y
);

215 
	`SSL_CTX_£t_vîify
 (
s¶_˘x
, 
SSL_VERIFY_NONE
, 
NULL
);

218 i‡(
›t
.
˚π_fûe
 && !›t.
¥iv©e_key
)

220 
›t
.
¥iv©e_key
 = o±.
˚π_fûe
;

221 
›t
.
¥iv©e_key_ty≥
 = o±.
˚π_ty≥
;

224 i‡(
›t
.
˚π_fûe
)

225 i‡(
	`SSL_CTX_u£_˚πifiˇã_fûe
 (
s¶_˘x
, 
›t
.
˚π_fûe
,

226 
	`key_ty≥_to_s¶_ty≥
 (
›t
.
˚π_ty≥
))

228 
îr‹
;

229 i‡(
›t
.
¥iv©e_key
)

230 i‡(
	`SSL_CTX_u£_Priv©eKey_fûe
 (
s¶_˘x
, 
›t
.
¥iv©e_key
,

231 
	`key_ty≥_to_s¶_ty≥
 (
›t
.
¥iv©e_key_ty≥
))

233 
îr‹
;

237 
	`SSL_CTX_£t_mode
 (
s¶_˘x
, 
SSL_MODE_ENABLE_PARTIAL_WRITE
);

241 
	`SSL_CTX_£t_mode
 (
s¶_˘x
, 
SSL_MODE_AUTO_RETRY
);

243  
åue
;

245 
îr‹
:

246 i‡(
s¶_˘x
)

247 
	`SSL_CTX_‰ì
 (
s¶_˘x
);

248 
	`¥öt_îr‹s
 ();

249  
Ál£
;

250 
	}
}

252 
	s›ís¶_å™•‹t_c⁄ãxt
 {

253 
SSL
 *
	mc⁄n
;

254 *
	mœ°_îr‹
;

258 
	$›ís¶_ªad
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

260 
ªt
;

261 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

262 
SSL
 *
c⁄n
 = 
˘x
->conn;

264 
ªt
 = 
	`SSL_ªad
 (
c⁄n
, 
buf
, 
bufsize
);

265 
ªt
 == -1

266 && 
	`SSL_gë_îr‹
 (
c⁄n
, 
ªt
Ë=
SSL_ERROR_SYSCALL


267 && 
î∫o
 =
EINTR
);

269  
ªt
;

270 
	}
}

273 
	$›ís¶_wrôe
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

275 
ªt
 = 0;

276 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

277 
SSL
 *
c⁄n
 = 
˘x
->conn;

279 
ªt
 = 
	`SSL_wrôe
 (
c⁄n
, 
buf
, 
bufsize
);

280 
ªt
 == -1

281 && 
	`SSL_gë_îr‹
 (
c⁄n
, 
ªt
Ë=
SSL_ERROR_SYSCALL


282 && 
î∫o
 =
EINTR
);

283  
ªt
;

284 
	}
}

287 
	$›ís¶_pﬁl
 (
fd
, 
timeout
, 
waô_f‹
, *
¨g
)

289 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

290 
SSL
 *
c⁄n
 = 
˘x
->conn;

291 i‡(
	`SSL_≥ndög
 (
c⁄n
))

293 i‡(
timeout
 == 0)

295  
	`£À˘_fd
 (
fd
, 
timeout
, 
waô_f‹
);

296 
	}
}

299 
	$›ís¶_≥ek
 (
fd
, *
buf
, 
bufsize
, *
¨g
)

301 
ªt
;

302 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

303 
SSL
 *
c⁄n
 = 
˘x
->conn;

304 i‡(! 
	`›ís¶_pﬁl
 (
fd
, 0.0, 
WAIT_FOR_READ
, 
¨g
))

307 
ªt
 = 
	`SSL_≥ek
 (
c⁄n
, 
buf
, 
bufsize
);

308 
ªt
 == -1

309 && 
	`SSL_gë_îr‹
 (
c⁄n
, 
ªt
Ë=
SSL_ERROR_SYSCALL


310 && 
î∫o
 =
EINTR
);

311  
ªt
;

312 
	}
}

315 
	$›ís¶_îr°r
 (
fd
, *
¨g
)

317 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

318 
îrcode
;

319 *
îrmsg
 = 
NULL
;

320 
msgÀn
 = 0;

323 i‡((
îrcode
 = 
	`ERR_gë_îr‹
 ()) == 0)

324  
NULL
;

327 
	`x‰ì_nuŒ
 (
˘x
->
œ°_îr‹
);

337 c⁄° *
°r
 = 
	`ERR_îr‹_°rög
 (
îrcode
, 
NULL
);

338 
Àn
 = 
	`°æí
 (
°r
);

342 
îrmsg
 = 
	`xªÆloc
 (îrmsg, 
msgÀn
 + 
Àn
 + 2 + 1);

343 
	`mem˝y
 (
îrmsg
 + 
msgÀn
, 
°r
, 
Àn
);

344 
msgÀn
 +
Àn
;

347 
îrcode
 = 
	`ERR_gë_îr‹
 ();

348 i‡(
îrcode
 == 0)

351 
îrmsg
[
msgÀn
++] = ';';

352 
îrmsg
[
msgÀn
++] = ' ';

354 
îrmsg
[
msgÀn
] = '\0';

358 
˘x
->
œ°_îr‹
 = 
îrmsg
;

360  
îrmsg
;

361 
	}
}

364 
	$›ís¶_˛o£
 (
fd
, *
¨g
)

366 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
¨g
;

367 
SSL
 *
c⁄n
 = 
˘x
->conn;

369 
	`SSL_shutdown
 (
c⁄n
);

370 
	`SSL_‰ì
 (
c⁄n
);

371 
	`x‰ì_nuŒ
 (
˘x
->
œ°_îr‹
);

372 
	`x‰ì
 (
˘x
);

374 
	`˛o£
 (
fd
);

376 
	`DEBUGP
 (("Clo£d %d/SSL 0x%0*lx\n", 
fd
, 
	`PTR_FORMAT
 (
c⁄n
)));

377 
	}
}

382 
å™•‹t_im∂emíèti⁄
 
	g›ís¶_å™•‹t
 = {

383 
›ís¶_ªad
, 
›ís¶_wrôe
, 
›ís¶_pﬁl
,

384 
›ís¶_≥ek
, 
›ís¶_îr°r
, 
›ís¶_˛o£


395 
boﬁ


396 
	$s¶_c⁄√˘_wgë
 (
fd
)

398 
SSL
 *
c⁄n
;

399 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
;

401 
	`DEBUGP
 (("Initiating SSL handshake.\n"));

403 
	`as£π
 (
s¶_˘x
 !
NULL
);

404 
c⁄n
 = 
	`SSL_√w
 (
s¶_˘x
);

405 i‡(!
c⁄n
)

406 
îr‹
;

407 #i‚de‡
FD_TO_SOCKET


408 
	#FD_TO_SOCKET
(
X
Ë(X)

	)

410 i‡(!
	`SSL_£t_fd
 (
c⁄n
, 
	`FD_TO_SOCKET
 (
fd
)))

411 
îr‹
;

412 
	`SSL_£t_c⁄√˘_°©e
 (
c⁄n
);

413 i‡(
	`SSL_c⁄√˘
 (
c⁄n
Ë<0 || c⁄n->
°©e
 !
SSL_ST_OK
)

414 
îr‹
;

416 
˘x
 = 
	`x√w0
 (
›ís¶_å™•‹t_c⁄ãxt
);

417 
˘x
->
c⁄n
 = conn;

421 
	`fd_ªgi°î_å™•‹t
 (
fd
, &
›ís¶_å™•‹t
, 
˘x
);

422 
	`DEBUGP
 (("Handshake successful; connected socket %dÅo SSL handle 0x%0*lx\n",

423 
fd
, 
	`PTR_FORMAT
 (
c⁄n
)));

424  
åue
;

426 
îr‹
:

427 
	`DEBUGP
 (("SSL handshake failed.\n"));

428 
	`¥öt_îr‹s
 ();

429 i‡(
c⁄n
)

430 
	`SSL_‰ì
 (
c⁄n
);

431  
Ál£
;

432 
	}
}

434 
	#ASTERISK_EXCLUDES_DOT


	)

450 
boﬁ


451 
	$∑âîn_m©ch
 (c⁄° *
∑âîn
, c⁄° *
°rög
)

453 c⁄° *
p
 = 
∑âîn
, *
n
 = 
°rög
;

454 
c
;

455 ; (
c
 = 
	`c_tﬁowî
 (*
p
++)Ë!'\0'; 
n
++)

456 i‡(
c
 == '*')

458 
c
 = 
	`c_tﬁowî
 (*
p
); c == '*'; c = c_tolower (*++p))

460 ; *
n
 != '\0';Ç++)

461 i‡(
	`c_tﬁowî
 (*
n
Ë=
c
 && 
	`∑âîn_m©ch
 (
p
,Ç))

462  
åue
;

463 #ifde‡
ASTERISK_EXCLUDES_DOT


464 i‡(*
n
 == '.')

465  
Ál£
;

467  
c
 == '\0';

471 i‡(
c
 !
	`c_tﬁowî
 (*
n
))

472  
Ál£
;

474  *
n
 == '\0';

475 
	}
}

491 
boﬁ


492 
	$s¶_check_˚πifiˇã
 (
fd
, c⁄° *
ho°
)

494 
X509
 *
˚π
;

495 
GENERAL_NAMES
 *
subje˘A…Names
;

496 
comm⁄_«me
[256];

497 
vªsu…
;

498 
boﬁ
 
suc˚ss
 = 
åue
;

499 
boﬁ
 
Æt_«me_checked
 = 
Ál£
;

503 c⁄° *
£vîôy
 = 
›t
.
check_˚π
 ? 
	`_
("ERROR") : _("WARNING");

505 
›ís¶_å™•‹t_c⁄ãxt
 *
˘x
 = 
	`fd_å™•‹t_c⁄ãxt
 (
fd
);

506 
SSL
 *
c⁄n
 = 
˘x
->conn;

507 
	`as£π
 (
c⁄n
 !
NULL
);

509 
˚π
 = 
	`SSL_gë_≥î_˚πifiˇã
 (
c⁄n
);

510 i‡(!
˚π
)

512 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s: No certificateÖresented by %s.\n"),

513 
£vîôy
, 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ho°
));

514 
suc˚ss
 = 
Ál£
;

515 
no_˚π
;

518 
IF_DEBUG


520 *
subje˘
 = 
	`X509_NAME_⁄ñöe
 (
	`X509_gë_subje˘_«me
 (
˚π
), 0, 0);

521 *
issuî
 = 
	`X509_NAME_⁄ñöe
 (
	`X509_gë_issuî_«me
 (
˚π
), 0, 0);

522 
	`DEBUGP
 (("certificate:\n subject: %s\n issuer: %s\n",

523 
	`quŸórg_n_°yÀ
 (0, 
esˇ≥_quŸög_°yÀ
, 
subje˘
),

524 
	`quŸórg_n_°yÀ
 (1, 
esˇ≥_quŸög_°yÀ
, 
issuî
)));

525 
	`OPENSSL_‰ì
 (
subje˘
);

526 
	`OPENSSL_‰ì
 (
issuî
);

529 
vªsu…
 = 
	`SSL_gë_vîify_ªsu…
 (
c⁄n
);

530 i‡(
vªsu…
 !
X509_V_OK
)

532 *
issuî
 = 
	`X509_NAME_⁄ñöe
 (
	`X509_gë_issuî_«me
 (
˚π
), 0, 0);

533 
	`log¥ötf
 (
LOG_NOTQUIET
,

534 
	`_
("%s: cannot verify %s's certificate, issued by %s:\n"),

535 
£vîôy
, 
	`quŸórg_n_°yÀ
 (0, 
esˇ≥_quŸög_°yÀ
, 
ho°
),

536 
	`quŸe_n
 (1, 
issuî
));

539 
vªsu…
)

541 
X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY
:

542 
	`log¥ötf
 (
LOG_NOTQUIET
,

543 
	`_
(" UnableÅoÜocally verifyÅhe issuer'sáuthority.\n"));

545 
X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN
:

546 
X509_V_ERR_DEPTH_ZERO_SELF_SIGNED_CERT
:

547 
	`log¥ötf
 (
LOG_NOTQUIET
,

548 
	`_
(" Self-signed certificateÉncountered.\n"));

550 
X509_V_ERR_CERT_NOT_YET_VALID
:

551 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
(" Issued certificateÇot yet valid.\n"));

553 
X509_V_ERR_CERT_HAS_EXPIRED
:

554 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
(" Issued certificate hasÉxpired.\n"));

559 
	`log¥ötf
 (
LOG_NOTQUIET
, " %s\n",

560 
	`X509_vîify_˚π_îr‹_°rög
 (
vªsu…
));

562 
suc˚ss
 = 
Ál£
;

577 
subje˘A…Names
 = 
	`X509_gë_ext_d2i
 (
˚π
, 
NID_subje˘_Æt_«me
, 
NULL
, NULL);

579 i‡(
subje˘A…Names
)

585 
ASN1_OCTET_STRING
 *
ho°_ö_o˘ë_°rög
 = 
	`a2i_IPADDRESS
 (
ho°
);

587 
numÆäames
 = 
	`sk_GENERAL_NAME_num
 (
subje˘A…Names
);

588 
i
;

589 
i
=0; i < 
numÆäames
; i++)

591 c⁄° 
GENERAL_NAME
 *
«me
 =

592 
	`sk_GENERAL_NAME_vÆue
 (
subje˘A…Names
, 
i
);

593 i‡(
«me
)

595 i‡(
ho°_ö_o˘ë_°rög
)

597 i‡(
«me
->
ty≥
 =
GEN_IPADD
)

602 
Æt_«me_checked
 = 
åue
;

603 i‡(!
	`ASN1_STRING_cmp
 (
ho°_ö_o˘ë_°rög
,

604 
«me
->
d
.
iPAddªss
))

608 i‡(
«me
->
ty≥
 =
GEN_DNS
)

612 *
«me_ö_utf8
 = 
NULL
;

615 
Æt_«me_checked
 = 
åue
;

617 i‡(0 <
	`ASN1_STRING_to_UTF8
 (&
«me_ö_utf8
, 
«me
->
d
.
dNSName
))

620 i‡(
	`∑âîn_m©ch
 ((*)
«me_ö_utf8
, 
ho°
) &&

621 (
	`°æí
 ((*)
«me_ö_utf8
) ==

622 
	`ASN1_STRING_Àngth
 (
«me
->
d
.
dNSName
)))

624 
	`OPENSSL_‰ì
 (
«me_ö_utf8
);

627 
	`OPENSSL_‰ì
 (
«me_ö_utf8
);

632 
	`sk_GENERAL_NAME_‰ì
 (
subje˘A…Names
);

633 i‡(
ho°_ö_o˘ë_°rög
)

634 
	`ASN1_OCTET_STRING_‰ì
(
ho°_ö_o˘ë_°rög
);

636 i‡(
Æt_«me_checked
 =
åue
 && 
i
 >
numÆäames
)

638 
	`log¥ötf
 (
LOG_NOTQUIET
,

639 
	`_
("%s:Ço certificate subjectálternativeÇame matches\n"

641 
£vîôy
, 
	`quŸe_n
 (1, 
ho°
));

642 
suc˚ss
 = 
Ál£
;

646 i‡(
Æt_«me_checked
 =
Ál£
)

649 
X509_NAME
 *
x«me
 = 
	`X509_gë_subje˘_«me
(
˚π
);

650 
comm⁄_«me
[0] = '\0';

651 
	`X509_NAME_gë_ãxt_by_NID
 (
x«me
, 
NID_comm⁄Name
, 
comm⁄_«me
,

652  (
comm⁄_«me
));

654 i‡(!
	`∑âîn_m©ch
 (
comm⁄_«me
, 
ho°
))

656 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("\
%s: certificate commonÇame %s doesn't matchÑequested hostÇame %s.\n"),

658 
£vîôy
, 
	`quŸe_n
 (0, 
comm⁄_«me
), quŸe_¿(1, 
ho°
));

659 
suc˚ss
 = 
Ál£
;

671 
i
 = -1, 
j
;

672 
X509_NAME_ENTRY
 *
xíåy
;

673 
ASN1_STRING
 *
sd©a
;

675 i‡(
x«me
) {

678 
j
 = 
	`X509_NAME_gë_ödex_by_NID
 (
x«me
, 
NID_comm⁄Name
, 
i
);

679 i‡(
j
 == -1) ;

680 
i
 = 
j
;

684 
xíåy
 = 
	`X509_NAME_gë_íåy
(
x«me
,
i
);

685 
sd©a
 = 
	`X509_NAME_ENTRY_gë_d©a
(
xíåy
);

686 i‡(
	`°æí
 (
comm⁄_«me
Ë!
	`ASN1_STRING_Àngth
 (
sd©a
))

688 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("\
%s: certificate commonÇame is invalid (containsá NUL character).\n\
 may beán indicationÅhatÅhe host isÇot who it claimsÅo be\n\
(that is, it isÇotÅheÑeal %s).\n"),

692 
£vîôy
, 
	`quŸe
 (
ho°
));

693 
suc˚ss
 = 
Ál£
;

699 i‡(
suc˚ss
)

700 
	`DEBUGP
 (("X509 certificate successfully verifiedánd matches host %s\n",

701 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ho°
)));

702 
	`X509_‰ì
 (
˚π
);

704 
no_˚π
:

705 i‡(
›t
.
check_˚π
 && !
suc˚ss
)

706 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("\
 connectÅo %s insecurely, use `--no-check-certificate'.\n"),

708 
	`quŸórg_°yÀ
 (
esˇ≥_quŸög_°yÀ
, 
ho°
));

711  
›t
.
check_˚π
 ? 
suc˚ss
 : 
åue
;

712 
	}
}

	@src/options.h

32 
	s›ti⁄s


34 
	mvîbo£
;

36 
boﬁ
 
	mquõt
;

37 
	m¡ry
;

38 
boﬁ
 
	mªåy_c⁄ƒefu£d
;

39 
boﬁ
 
	mbackground
;

40 
boﬁ
 
	mign‹e_Àngth
;

41 
boﬁ
 
	mªcursive
;

42 
boﬁ
 
	m•™ho°
;

44 
	mmax_ªdúe˘
;

46 
boﬁ
 
	mªœtive_⁄ly
;

47 
boﬁ
 
	mno_∑ª¡
;

49 
	mª˛evñ
;

50 
boﬁ
 
	mdú°ru˘
;

52 
boﬁ
 
	mno_dú°ru˘
;

53 
	mcut_dús
;

54 
boﬁ
 
	madd_ho°dú
;

55 
boﬁ
 
	m¥Ÿocﬁ_dúe˘‹õs
;

56 
boﬁ
 
	mno˛obbî
;

58 
boﬁ
 
	mu∆ök
;

59 *
	mdú_¥efix
;

60 *
	mlfûíame
;

61 *
	möput_fûíame
;

62 *
	mchoo£_c⁄fig
;

63 
boﬁ
 
	mf‹˚_html
;

65 *
	mdeÁu…_∑ge
;

67 
boﬁ
 
	m•idî
;

69 **
	mac˚±s
;

70 **
	mªje˘s
;

71 **
	mex˛udes
;

72 **
	mö˛udes
;

74 
boﬁ
 
	mign‹e_ˇ£
;

77 **
	mdomaös
;

78 **
	mex˛ude_domaös
;

79 
boﬁ
 
	mdns_ˇche
;

81 **
	mfﬁlow_ègs
;

82 **
	mign‹e_ègs
;

84 
boﬁ
 
	mfﬁlow_·p
;

86 
boﬁ
 
	mªå_symlöks
;

88 *
	mouçut_documít
;

91 *
	mu£r
;

92 *
	m∑sswd
;

93 
boﬁ
 
	mask_∑sswd
;

95 
boﬁ
 
	mÆways_ª°
;

96 *
	m·p_u£r
;

97 *
	m·p_∑sswd
;

98 
boﬁ
 
	m√åc
;

99 
boﬁ
 
	m·p_glob
;

100 
boﬁ
 
	m·p_∑sv
;

102 *
	mhâp_u£r
;

103 *
	mhâp_∑sswd
;

104 **
	mu£r_hódîs
;

105 
boﬁ
 
	mhâp_kìp_Æive
;

107 
boﬁ
 
	mu£_¥oxy
;

108 
boﬁ
 
	mÆlow_ˇche
;

109 *
	mhâp_¥oxy
, *
	m·p_¥oxy
, *
	mhâps_¥oxy
;

110 **
	mno_¥oxy
;

111 *
	mba£_hªf
;

112 *
	m¥ogªss_ty≥
;

113 *
	m¥oxy_u£r
;

114 *
	m¥oxy_∑sswd
;

116 
	mªad_timeout
;

117 
	mdns_timeout
;

118 
	mc⁄√˘_timeout
;

120 
boﬁ
 
	møndom_waô
;

121 
	mwaô
;

122 
	mwaôªåy
;

123 
boﬁ
 
	mu£_robŸs
;

125 
wgöt
 
	mlimô_øã
;

127 
SUM_SIZE_INT
 
	mquŸa
;

130 
boﬁ
 
	m£rvî_ª•⁄£
;

131 
boﬁ
 
	mßve_hódîs
;

134 #ifde‡
ENABLE_DEBUG


135 
boﬁ
 
	mdebug
;

138 #ifde‡
USE_WATT32


139 
boﬁ
 
	mwdebug
;

142 
boﬁ
 
	mtime°ampög
;

144 
boﬁ
 
	mbackup_c⁄vîãd
;

145 
boﬁ
 
	mbackups
;

147 *
	mu£øgít
;

149 *
	mª„ªr
;

152 
boﬁ
 
	mc⁄vît_löks
;

154 
boﬁ
 
	mªmove_li°ög
;

156 
boﬁ
 
	mhtmlify
;

159 *
	mdŸ_°yÀ
;

160 
wgöt
 
	mdŸ_byãs
;

162 
	mdŸs_ö_löe
;

163 
	mdŸ_•acög
;

165 
boﬁ
 
	mdñëe_a·î
;

168 
boﬁ
 
	madju°_exãnsi⁄
;

170 
boﬁ
 
	m∑ge_ªquisôes
;

172 *
	mböd_addªss
;

174 #ifde‡
HAVE_SSL


176 
	m£cuª_¥Ÿocﬁ_auto
,

177 
	m£cuª_¥Ÿocﬁ_s¶v2
,

178 
	m£cuª_¥Ÿocﬁ_s¶v3
,

179 
	m£cuª_¥Ÿocﬁ_ésv1


180 } 
	m£cuª_¥Ÿocﬁ
;

181 
boﬁ
 
	mcheck_˚π
;

182 *
	m˚π_fûe
;

183 *
	m¥iv©e_key
;

184 
	ekeyfûe_ty≥
 {

185 
	mkeyfûe_≥m
,

186 
	mkeyfûe_a¢1


187 } 
	m˚π_ty≥
;

188 
keyfûe_ty≥


189 
	m¥iv©e_key_ty≥
;

191 *
	mˇ_dúe˘‹y
;

192 *
	mˇ_˚π
;

195 *
	møndom_fûe
;

196 *
	megd_fûe
;

199 
boﬁ
 
	mcookõs
;

200 *
	mcookõs_öput
;

201 *
	mcookõs_ouçut
;

202 
boﬁ
 
	mkìp_£ssi⁄_cookõs
;

205 *
	mpo°_d©a
;

206 *
	mpo°_fûe_«me
;

209 
	mª°ri˘_unix
,

210 
	mª°ri˘_wödows


211 } 
	mª°ri˘_fûes_os
;

212 
boﬁ
 
	mª°ri˘_fûes_˘æ
;

215 
boﬁ
 
	mª°ri˘_fûes_n⁄ascii
;

218 
	mª°ri˘_no_ˇ£_ª°ri˘i⁄
,

219 
	mª°ri˘_lowîˇ£
,

220 
	mª°ri˘_uµîˇ£


221 } 
	mª°ri˘_fûes_ˇ£
;

223 
boﬁ
 
	m°ri˘_commíts
;

226 
boﬁ
 
	m¥e£rve_≥rm
;

229 #ifde‡
ENABLE_IPV6


230 
boﬁ
 
	mùv4_⁄ly
;

231 
boﬁ
 
	mùv6_⁄ly
;

234 
	m¥e„r_ùv4
,

235 
	m¥e„r_ùv6
,

236 
	m¥e„r_n⁄e


237 } 
	m¥e„r_Ámûy
;

240 
boﬁ
 
	mc⁄ã¡_di•osôi⁄
;

241 
boﬁ
 
	mauth_wôhout_chÆÀnge
;

244 
boﬁ
 
	míabÀ_úi
;

245 *
	mícodög_ªmŸe
;

246 *
	mloˇÀ
;

248 
boﬁ
 
	måu°£rvî«mes
;

249 #ifde‡
__VMS


250 
	m·p_°mlf
;

253 
boﬁ
 
	mu££rvîtime°amps
;

256 
boﬁ
 
	mshow_Æl_dns_íåõs
;

260 
›ti⁄s
 
›t
;

	@src/progress.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

36 
	~<as£π.h
>

37 
	~<uni°d.h
>

38 
	~<sig«l.h
>

39 #ifde‡
HAVE_WCHAR_H


40 
	~<wch¨.h
>

43 
	~"¥ogªss.h
"

44 
	~"utûs.h
"

45 
	~"ªå.h
"

47 
	s¥ogªss_im∂emíèti⁄
 {

48 c⁄° *
	m«me
;

49 
boﬁ
 
	möãø˘ive
;

50 *(*
	m¸óã
Ë(
	mwgöt
, wgint);

51 (*
	mupd©e
Ë(*, 
	mwgöt
, );

52 (*
	mföish
) (*, );

53 (*
	m£t_∑øms
) (const *);

58 *
dŸ_¸óã
 (
wgöt
, wgint);

59 
dŸ_upd©e
 (*, 
wgöt
, );

60 
dŸ_föish
 (*, );

61 
dŸ_£t_∑øms
 (const *);

63 *
b¨_¸óã
 (
wgöt
, wgint);

64 
b¨_upd©e
 (*, 
wgöt
, );

65 
b¨_föish
 (*, );

66 
b¨_£t_∑øms
 (const *);

68 
¥ogªss_im∂emíèti⁄
 
	gim∂emíèti⁄s
[] = {

69 { "dŸ", 0, 
dŸ_¸óã
, 
dŸ_upd©e
, 
dŸ_föish
, 
dŸ_£t_∑øms
 },

70 { "b¨", 1, 
b¨_¸óã
, 
b¨_upd©e
, 
b¨_föish
, 
b¨_£t_∑øms
 }

72 
¥ogªss_im∂emíèti⁄
 *
	gcuºít_im∂
;

73 
	gcuºít_im∂_locked
;

78 
	#DEFAULT_PROGRESS_IMPLEMENTATION
 "b¨"

	)

86 
	#FALLBACK_PROGRESS_IMPLEMENTATION
 "dŸ"

	)

91 
boﬁ


92 
	$vÆid_¥ogªss_im∂emíèti⁄_p
 (c⁄° *
«me
)

94 
size_t
 
i
;

95 
¥ogªss_im∂emíèti⁄
 *
pi
 = 
im∂emíèti⁄s
;

96 *
cﬁ⁄
 = 
	`°rchr
 (
«me
, ':');

97 
size_t
 
«mñí
 = 
cﬁ⁄
 ? (size_tË(cﬁ⁄ - 
«me
Ë: 
	`°æí
 (name);

99 
i
 = 0; i < 
	`cou¡of
 (
im∂emíèti⁄s
); i++, 
pi
++)

100 i‡(!
	`°∫cmp
 (
pi
->
«me
,Çame, 
«mñí
))

101  
åue
;

102  
Ál£
;

103 
	}
}

108 
	$£t_¥ogªss_im∂emíèti⁄
 (c⁄° *
«me
)

110 
size_t
 
i
, 
«mñí
;

111 
¥ogªss_im∂emíèti⁄
 *
pi
 = 
im∂emíèti⁄s
;

112 c⁄° *
cﬁ⁄
;

114 i‡(!
«me
)

115 
«me
 = 
DEFAULT_PROGRESS_IMPLEMENTATION
;

117 
cﬁ⁄
 = 
	`°rchr
 (
«me
, ':');

118 
«mñí
 = 
cﬁ⁄
 ? (
size_t
Ë(cﬁ⁄ - 
«me
Ë: 
	`°æí
 (name);

120 
i
 = 0; i < 
	`cou¡of
 (
im∂emíèti⁄s
); i++, 
pi
++)

121 i‡(!
	`°∫cmp
 (
pi
->
«me
,Çame, 
«mñí
))

123 
cuºít_im∂
 = 
pi
;

124 
cuºít_im∂_locked
 = 0;

126 i‡(
cﬁ⁄
)

130 ++
cﬁ⁄
;

132 i‡(
pi
->
£t_∑øms
)

133 
pi
->
	`£t_∑øms
 (
cﬁ⁄
);

136 
	`ab‹t
 ();

137 
	}
}

139 
	gouçut_ªdúe˘ed
;

142 
	$¥ogªss_scheduÀ_ªdúe˘
 ()

144 
ouçut_ªdúe˘ed
 = 1;

145 
	}
}

154 
	$¥ogªss_¸óã
 (
wgöt
 
öôül
, wgöà
tŸÆ
)

157 i‡(
ouçut_ªdúe˘ed
)

159 i‡(!
cuºít_im∂_locked
)

160 
	`£t_¥ogªss_im∂emíèti⁄
 (
FALLBACK_PROGRESS_IMPLEMENTATION
);

161 
ouçut_ªdúe˘ed
 = 0;

164  
cuºít_im∂
->
	`¸óã
 (
öôül
, 
tŸÆ
);

165 
	}
}

172 
boﬁ


173 
	$¥ogªss_öãø˘ive_p
 (*
¥ogªss
)

175  
cuºít_im∂
->
öãø˘ive
;

176 
	}
}

182 
	$¥ogªss_upd©e
 (*
¥ogªss
, 
wgöt
 
howmuch
, 
d…ime
)

184 
cuºít_im∂
->
	`upd©e
 (
¥ogªss
, 
howmuch
, 
d…ime
);

185 
	}
}

191 
	$¥ogªss_föish
 (*
¥ogªss
, 
d…ime
)

193 
cuºít_im∂
->
	`föish
 (
¥ogªss
, 
d…ime
);

194 
	}
}

198 
	sdŸ_¥ogªss
 {

199 
wgöt
 
	möôül_Àngth
;

201 
wgöt
 
	mtŸÆ_Àngth
;

204 
	maccumuœãd
;

207 
	mrows
;

208 
	mdŸs
;

210 
	mœ°_timî_vÆue
;

216 
	$dŸ_¸óã
 (
wgöt
 
öôül
, wgöà
tŸÆ
)

218 
dŸ_¥ogªss
 *
dp
 = 
	`x√w0
 (dot_progress);

219 
dp
->
öôül_Àngth
 = 
öôül
;

220 
dp
->
tŸÆ_Àngth
 = 
tŸÆ
;

222 i‡(
dp
->
öôül_Àngth
)

224 
dŸ_byãs
 = 
›t
.dot_bytes;

225 c⁄° 
wgöt
 
ROW_BYTES
 = 
›t
.
dŸ_byãs
 * o±.
dŸs_ö_löe
;

227 
ªmaödî
 = 
dp
->
öôül_Àngth
 % 
ROW_BYTES
;

228 
wgöt
 
skù≥d
 = 
dp
->
öôül_Àngth
 - 
ªmaödî
;

230 i‡(
skù≥d
)

232 
wgöt
 
skù≥d_k
 = 
skù≥d
 / 1024;

233 
skù≥d_k_Àn
 = 
	`numdigô
 (
skù≥d_k
);

234 i‡(
skù≥d_k_Àn
 < 6)

235 
skù≥d_k_Àn
 = 6;

240 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("\n%*s[ skipping %sK ]"),

241 2 + 
skù≥d_k_Àn
, "",

242 
	`numbî_to_°©ic_°rög
 (
skù≥d_k
));

245 
	`log¥ötf
 (
LOG_VERBOSE
, "\n%6sK",

246 
	`numbî_to_°©ic_°rög
 (
skù≥d
 / 1024));

247 ; 
ªmaödî
 >
dŸ_byãs
;Ñemainder -= dot_bytes)

249 i‡(
dp
->
dŸs
 % 
›t
.
dŸ_•acög
 == 0)

250 
	`logputs
 (
LOG_VERBOSE
, " ");

251 
	`logputs
 (
LOG_VERBOSE
, ",");

252 ++
dp
->
dŸs
;

254 
	`as£π
 (
dp
->
dŸs
 < 
›t
.
dŸs_ö_löe
);

256 
dp
->
accumuœãd
 = 
ªmaödî
;

257 
dp
->
rows
 = 
skù≥d
 / 
ROW_BYTES
;

260  
dp
;

261 
	}
}

263 c⁄° *
ëa_to_hum™_sh‹t
 (, 
boﬁ
);

274 
	$¥öt_row_°©s
 (
dŸ_¥ogªss
 *
dp
, 
d…ime
, 
boﬁ
 
œ°
)

276 c⁄° 
wgöt
 
ROW_BYTES
 = 
›t
.
dŸ_byãs
 * o±.
dŸs_ö_löe
;

280 
wgöt
 
byãs_di•œyed
 = 
dp
->
rows
 * 
ROW_BYTES
 + dp->
dŸs
 * 
›t
.
dŸ_byãs
;

282 i‡(
œ°
)

284 
byãs_di•œyed
 +
dp
->
accumuœãd
;

286 i‡(
dp
->
tŸÆ_Àngth
)

291 
≥r˚¡age
 = 100.0 * 
byãs_di•œyed
 / 
dp
->
tŸÆ_Àngth
;

292 
	`log¥ötf
 (
LOG_VERBOSE
, "%3d%%", 
≥r˚¡age
);

296 
«mes
[] = {' ', 'K', 'M', 'G'};

297 
unôs
;

298 
øã
;

299 
wgöt
 
byãs_this_row
;

300 i‡(!
œ°
)

301 
byãs_this_row
 = 
ROW_BYTES
;

304 
byãs_this_row
 = 
dp
->
dŸs
 * 
›t
.
dŸ_byãs
 + dp->
accumuœãd
;

306 i‡(
dp
->
rows
 =dp->
öôül_Àngth
 / 
ROW_BYTES
)

307 
byãs_this_row
 -
dp
->
öôül_Àngth
 % 
ROW_BYTES
;

308 
øã
 = 
	`ˇlc_øã
 (
byãs_this_row
, 
d…ime
 - 
dp
->
œ°_timî_vÆue
, &
unôs
);

309 
	`log¥ötf
 (
LOG_VERBOSE
, " %4.*f%c",

310 
øã
 >= 99.95 ? 0 :Ñate >= 9.995 ? 1 : 2,

311 
øã
, 
«mes
[
unôs
]);

312 
dp
->
œ°_timî_vÆue
 = 
d…ime
;

315 i‡(!
œ°
)

319 i‡(
dp
->
tŸÆ_Àngth
)

321 
wgöt
 
byãs_ªmaöög
 = 
dp
->
tŸÆ_Àngth
 - 
byãs_di•œyed
;

323 
wgöt
 
byãs_soÁr
 = 
byãs_di•œyed
 - 
dp
->
öôül_Àngth
;

324 
ëa
 = 
d…ime
 * 
byãs_ªmaöög
 / 
byãs_soÁr
;

325 i‡(
ëa
 < 
INT_MAX
 - 1)

326 
	`log¥ötf
 (
LOG_VERBOSE
, " %s",

327 
	`ëa_to_hum™_sh‹t
 ((Ë(
ëa
 + 0.5), 
åue
));

333 i‡(
d…ime
 >= 10)

334 
	`log¥ötf
 (
LOG_VERBOSE
, "=%s",

335 
	`ëa_to_hum™_sh‹t
 ((Ë(
d…ime
 + 0.5), 
åue
));

337 
	`log¥ötf
 (
LOG_VERBOSE
, "=%ss", 
	`¥öt_decimÆ
 (
d…ime
));

339 
	}
}

344 
	$dŸ_upd©e
 (*
¥ogªss
, 
wgöt
 
howmuch
, 
d…ime
)

346 
dŸ_¥ogªss
 *
dp
 = 
¥ogªss
;

347 
dŸ_byãs
 = 
›t
.dot_bytes;

348 
wgöt
 
ROW_BYTES
 = 
›t
.
dŸ_byãs
 * o±.
dŸs_ö_löe
;

350 
	`log_£t_Êush
 (
Ál£
);

352 
dp
->
accumuœãd
 +
howmuch
;

353 ; 
dp
->
accumuœãd
 >
dŸ_byãs
; dp->accumulated -= dot_bytes)

355 i‡(
dp
->
dŸs
 == 0)

356 
	`log¥ötf
 (
LOG_VERBOSE
, "\n%6sK",

357 
	`numbî_to_°©ic_°rög
 (
dp
->
rows
 * 
ROW_BYTES
 / 1024));

359 i‡(
dp
->
dŸs
 % 
›t
.
dŸ_•acög
 == 0)

360 
	`logputs
 (
LOG_VERBOSE
, " ");

361 
	`logputs
 (
LOG_VERBOSE
, ".");

363 ++
dp
->
dŸs
;

364 i‡(
dp
->
dŸs
 >
›t
.
dŸs_ö_löe
)

366 ++
dp
->
rows
;

367 
dp
->
dŸs
 = 0;

369 
	`¥öt_row_°©s
 (
dp
, 
d…ime
, 
Ál£
);

373 
	`log_£t_Êush
 (
åue
);

374 
	}
}

379 
	$dŸ_föish
 (*
¥ogªss
, 
d…ime
)

381 
dŸ_¥ogªss
 *
dp
 = 
¥ogªss
;

382 
wgöt
 
ROW_BYTES
 = 
›t
.
dŸ_byãs
 * o±.
dŸs_ö_löe
;

383 
i
;

385 
	`log_£t_Êush
 (
Ál£
);

387 i‡(
dp
->
dŸs
 == 0)

388 
	`log¥ötf
 (
LOG_VERBOSE
, "\n%6sK",

389 
	`numbî_to_°©ic_°rög
 (
dp
->
rows
 * 
ROW_BYTES
 / 1024));

390 
i
 = 
dp
->
dŸs
; i < 
›t
.
dŸs_ö_löe
; i++)

392 i‡(
i
 % 
›t
.
dŸ_•acög
 == 0)

393 
	`logputs
 (
LOG_VERBOSE
, " ");

394 
	`logputs
 (
LOG_VERBOSE
, " ");

397 
	`¥öt_row_°©s
 (
dp
, 
d…ime
, 
åue
);

398 
	`logputs
 (
LOG_VERBOSE
, "\n\n");

399 
	`log_£t_Êush
 (
Ál£
);

401 
	`x‰ì
 (
dp
);

402 
	}
}

410 
	$dŸ_£t_∑øms
 (c⁄° *
∑øms
)

412 i‡(!
∑øms
 || !*params)

413 
∑øms
 = 
›t
.
dŸ_°yÀ
;

415 i‡(!
∑øms
)

419 i‡(!
	`°rˇ£cmp
 (
∑øms
, "default"))

423 
›t
.
dŸ_byãs
 = 1024;

424 
›t
.
dŸ_•acög
 = 10;

425 
›t
.
dŸs_ö_löe
 = 50;

427 i‡(!
	`°rˇ£cmp
 (
∑øms
, "binary"))

431 
›t
.
dŸ_byãs
 = 8192;

432 
›t
.
dŸ_•acög
 = 16;

433 
›t
.
dŸs_ö_löe
 = 48;

435 i‡(!
	`°rˇ£cmp
 (
∑øms
, "mega"))

439 
›t
.
dŸ_byãs
 = 65536L;

440 
›t
.
dŸ_•acög
 = 8;

441 
›t
.
dŸs_ö_löe
 = 48;

443 i‡(!
	`°rˇ£cmp
 (
∑øms
, "giga"))

448 
›t
.
dŸ_byãs
 = (1L << 20);

449 
›t
.
dŸ_•acög
 = 8;

450 
›t
.
dŸs_ö_löe
 = 32;

453 
	`Ârötf
 (
°dîr
,

454 
	`_
("Invalid dot style specification %s;Üeaving unchanged.\n"),

455 
	`quŸe
 (
∑øms
));

456 
	}
}

461 
	#DEFAULT_SCREEN_WIDTH
 80

	)

465 
	#MINIMUM_SCREEN_WIDTH
 45

	)

470 
	gs¸ìn_width
;

473 vﬁ©ûê
sig_©omic_t
 
	gª˚ived_sigwöch
;

476 
	#DLSPEED_HISTORY_SIZE
 20

	)

482 
	#DLSPEED_SAMPLE_MIN
 0.15

	)

487 
	#STALL_START_TIME
 5

	)

491 
	#REFRESH_INTERVAL
 0.2

	)

495 
	#ETA_REFRESH_INTERVAL
 0.99

	)

497 
	sb¨_¥ogªss
 {

498 
wgöt
 
	möôül_Àngth
;

500 
wgöt
 
	mtŸÆ_Àngth
;

502 
wgöt
 
	mcou¡
;

504 
	mœ°_s¸ìn_upd©e
;

508 
	mwidth
;

514 *
	mbuf„r
;

516 
	mtick
;

523 
	sb¨_¥ogªss_hi°
 {

524 
	mpos
;

525 
	mtimes
[
DLSPEED_HISTORY_SIZE
];

526 
wgöt
 
	mbyãs
[
DLSPEED_HISTORY_SIZE
];

530 
	mtŸÆ_time
;

531 
wgöt
 
	mtŸÆ_byãs
;

532 } 
	mhi°
;

534 
	mª˚¡_°¨t
;

536 
wgöt
 
	mª˚¡_byãs
;

538 
boﬁ
 
	m°ÆÀd
;

544 
	mœ°_ëa_time
;

547 
	mœ°_ëa_vÆue
;

550 
¸óã_image
 (
b¨_¥ogªss
 *, , 
boﬁ
);

551 
di•œy_image
 (*);

554 
	$b¨_¸óã
 (
wgöt
 
öôül
, wgöà
tŸÆ
)

556 
b¨_¥ogªss
 *
bp
 = 
	`x√w0
 (bar_progress);

560 i‡(
öôül
 > 
tŸÆ
)

561 
tŸÆ
 = 
öôül
;

563 
bp
->
öôül_Àngth
 = 
öôül
;

564 
bp
->
tŸÆ_Àngth
 = 
tŸÆ
;

568 i‡(!
s¸ìn_width
 || 
ª˚ived_sigwöch
)

570 
s¸ìn_width
 = 
	`dëîmöe_s¸ìn_width
 ();

571 i‡(!
s¸ìn_width
)

572 
s¸ìn_width
 = 
DEFAULT_SCREEN_WIDTH
;

573 i‡(
s¸ìn_width
 < 
MINIMUM_SCREEN_WIDTH
)

574 
s¸ìn_width
 = 
MINIMUM_SCREEN_WIDTH
;

575 
ª˚ived_sigwöch
 = 0;

579 
bp
->
width
 = 
s¸ìn_width
 - 1;

582 
bp
->
buf„r
 = 
	`xmÆloc
 (bp->
width
 + 100);

584 
	`logputs
 (
LOG_VERBOSE
, "\n");

586 
	`¸óã_image
 (
bp
, 0, 
Ál£
);

587 
	`di•œy_image
 (
bp
->
buf„r
);

589  
bp
;

590 
	}
}

592 
upd©e_•ìd_rög
 (
b¨_¥ogªss
 *, 
wgöt
, );

595 
	$b¨_upd©e
 (*
¥ogªss
, 
wgöt
 
howmuch
, 
d…ime
)

597 
b¨_¥ogªss
 *
bp
 = 
¥ogªss
;

598 
boﬁ
 
f‹˚_s¸ìn_upd©e
 = 
Ál£
;

600 
bp
->
cou¡
 +
howmuch
;

601 i‡(
bp
->
tŸÆ_Àngth
 > 0

602 && 
bp
->
cou¡
 + bp->
öôül_Àngth
 > bp->
tŸÆ_Àngth
)

608 
bp
->
tŸÆ_Àngth
 = bp->
öôül_Àngth
 + bp->
cou¡
;

610 
	`upd©e_•ìd_rög
 (
bp
, 
howmuch
, 
d…ime
);

614 i‡(
ª˚ived_sigwöch
)

616 
ﬁd_width
 = 
s¸ìn_width
;

617 
s¸ìn_width
 = 
	`dëîmöe_s¸ìn_width
 ();

618 i‡(!
s¸ìn_width
)

619 
s¸ìn_width
 = 
DEFAULT_SCREEN_WIDTH
;

620 i‡(
s¸ìn_width
 < 
MINIMUM_SCREEN_WIDTH
)

621 
s¸ìn_width
 = 
MINIMUM_SCREEN_WIDTH
;

622 i‡(
s¸ìn_width
 !
ﬁd_width
)

624 
bp
->
width
 = 
s¸ìn_width
 - 1;

625 
bp
->
buf„r
 = 
	`xªÆloc
 (bp->buf„r, bp->
width
 + 100);

626 
f‹˚_s¸ìn_upd©e
 = 
åue
;

628 
ª˚ived_sigwöch
 = 0;

631 i‡(
d…ime
 - 
bp
->
œ°_s¸ìn_upd©e
 < 
REFRESH_INTERVAL
 && !
f‹˚_s¸ìn_upd©e
)

635 
	`¸óã_image
 (
bp
, 
d…ime
, 
Ál£
);

636 
	`di•œy_image
 (
bp
->
buf„r
);

637 
bp
->
œ°_s¸ìn_upd©e
 = 
d…ime
;

638 
	}
}

641 
	$b¨_föish
 (*
¥ogªss
, 
d…ime
)

643 
b¨_¥ogªss
 *
bp
 = 
¥ogªss
;

645 i‡(
bp
->
tŸÆ_Àngth
 > 0

646 && 
bp
->
cou¡
 + bp->
öôül_Àngth
 > bp->
tŸÆ_Àngth
)

648 
bp
->
tŸÆ_Àngth
 = bp->
öôül_Àngth
 + bp->
cou¡
;

650 
	`¸óã_image
 (
bp
, 
d…ime
, 
åue
);

651 
	`di•œy_image
 (
bp
->
buf„r
);

653 
	`logputs
 (
LOG_VERBOSE
, "\n\n");

655 
	`x‰ì
 (
bp
->
buf„r
);

656 
	`x‰ì
 (
bp
);

657 
	}
}

678 
	$upd©e_•ìd_rög
 (
b¨_¥ogªss
 *
bp
, 
wgöt
 
howmuch
, 
d…ime
)

680 
b¨_¥ogªss_hi°
 *
hi°
 = &
bp
->hist;

681 
ª˚¡_age
 = 
d…ime
 - 
bp
->
ª˚¡_°¨t
;

684 
bp
->
ª˚¡_byãs
 +
howmuch
;

689 i‡(
ª˚¡_age
 < 
DLSPEED_SAMPLE_MIN
)

692 i‡(
howmuch
 == 0)

698 i‡(
ª˚¡_age
 >
STALL_START_TIME
)

703 
bp
->
°ÆÀd
 = 
åue
;

704 
	`xzîo
 (*
hi°
);

705 
bp
->
ª˚¡_byãs
 = 0;

713 i‡(
bp
->
°ÆÀd
)

715 
bp
->
°ÆÀd
 = 
Ál£
;

721 
ª˚¡_age
 = 1;

729 
hi°
->
tŸÆ_time
 -hi°->
times
[hi°->
pos
];

730 
hi°
->
tŸÆ_byãs
 -hi°->
byãs
[hi°->
pos
];

733 
hi°
->
times
[hi°->
pos
] = 
ª˚¡_age
;

734 
hi°
->
byãs
[hi°->
pos
] = 
bp
->
ª˚¡_byãs
;

735 
hi°
->
tŸÆ_time
 +
ª˚¡_age
;

736 
hi°
->
tŸÆ_byãs
 +
bp
->
ª˚¡_byãs
;

739 
bp
->
ª˚¡_°¨t
 = 
d…ime
;

740 
bp
->
ª˚¡_byãs
 = 0;

743 i‡(++
hi°
->
pos
 =
DLSPEED_HISTORY_SIZE
)

744 
hi°
->
pos
 = 0;

749 
i
;

750 
sumt
 = 0, 
sumb
 = 0;

751 
i
 = 0; i < 
DLSPEED_HISTORY_SIZE
; i++)

753 
sumt
 +
hi°
->
times
[
i
];

754 
sumb
 +
hi°
->
byãs
[
i
];

756 
	`as£π
 (
sumb
 =
hi°
->
tŸÆ_byãs
);

761 
diff
 = 
sumt
 - 
hi°
->
tŸÆ_time
;

762 i‡(
diff
 < 0) diff = -diff;

763 
	`as£π
 (
diff
 < 1e-9);

766 
	}
}

768 #i‡
USE_NLS_PROGRESS_BAR


770 
	$cou¡_cﬁs
 (c⁄° *
mbs
)

772 
wch¨_t
 
wc
;

773 
byãs
;

774 
ªmaöög
 = 
	`°æí
(
mbs
);

775 
cﬁs
 = 0;

776 
wccﬁs
;

778 *
mbs
 != '\0')

780 
byãs
 = 
	`mbtowc
 (&
wc
, 
mbs
, 
ªmaöög
);

781 
	`as£π
 (
byãs
 != 0);

782 i‡(
byãs
 == -1)

785  
cﬁs
 + 
ªmaöög
;

787 
mbs
 +
byãs
;

788 
ªmaöög
 -
byãs
;

789 
wccﬁs
 = 
	`wcwidth
(
wc
);

790 
cﬁs
 +(
wccﬁs
 == -1? 1 : wccols);

792  
cﬁs
;

793 
	}
}

795 
	#cou¡_cﬁs
(
mbs
Ë(()(
	`°æí
(mbs)))

	)

799 
	$gë_ëa
 (*
bcd
)

803 c⁄° 
ëa_°r
[] = 
	`N_
("Éta %s");

804 c⁄° *
ëa_å™s
;

805 
byãs_cﬁs_diff
;

806 i‡(
ëa_å™s
 =
NULL
)

808 
nbyãs
;

809 
ncﬁs
;

811 #i‡
USE_NLS_PROGRESS_BAR


812 
ëa_å™s
 = 
	`_
(
ëa_°r
);

814 
ëa_å™s
 = 
ëa_°r
;

824 
nbyãs
 = 
	`°æí
 (
ëa_å™s
);

825 
ncﬁs
 = 
	`cou¡_cﬁs
 (
ëa_å™s
);

826 
byãs_cﬁs_diff
 = 
nbyãs
 - 
ncﬁs
;

829 i‡(
bcd
 !
NULL
)

830 *
bcd
 = 
byãs_cﬁs_diff
;

832  
ëa_å™s
;

833 
	}
}

835 
	#APPEND_LITERAL
(
s
) do { \

836 
	`mem˝y
 (
p
, 
s
,  (s) - 1); \

837 
p
 + (
s
) - 1; \

838 } 0)

	)

843 
	#move_to_íd
(
s
Ë†
	`°rchr
 (s, '\0');

	)

845 #i‚de‡
MAX


846 
	#MAX
(
a
, 
b
Ë(◊Ë>(bË? (aË: (b))

	)

850 
	$¸óã_image
 (
b¨_¥ogªss
 *
bp
, 
dl_tŸÆ_time
, 
boﬁ
 
d⁄e
)

852 *
p
 = 
bp
->
buf„r
;

853 
wgöt
 
size
 = 
bp
->
öôül_Àngth
 + bp->
cou¡
;

855 c⁄° *
size_grou≥d
 = 
	`wôh_thoußnd_£ps
 (
size
);

856 
size_grou≥d_Àn
 = 
	`cou¡_cﬁs
 (
size_grou≥d
);

858 
size_grou≥d_diff
 = 
	`°æí
 (
size_grou≥d
Ë- 
size_grou≥d_Àn
;

859 
size_grou≥d_∑d
;

861 
b¨_¥ogªss_hi°
 *
hi°
 = &
bp
->hist;

881 
dlbyãs_size
 = 1 + 
	`MAX
 (
size_grou≥d_Àn
, 11);

882 
¥ogªss_size
 = 
bp
->
width
 - (4 + 2 + 
dlbyãs_size
 + 8 + 14);

886 
byãs_cﬁs_diff
 = 0;

888 i‡(
¥ogªss_size
 < 5)

889 
¥ogªss_size
 = 0;

892 i‡(
bp
->
tŸÆ_Àngth
 > 0)

894 
≥r˚¡age
 = 100.0 * 
size
 / 
bp
->
tŸÆ_Àngth
;

895 
	`as£π
 (
≥r˚¡age
 <= 100);

897 i‡(
≥r˚¡age
 < 100)

898 
	`•rötf
 (
p
, "%2d%% ", 
≥r˚¡age
);

900 
	`°r˝y
 (
p
, "100%");

901 
p
 += 4;

904 
	`APPEND_LITERAL
 (" ");

907 i‡(
¥ogªss_size
 && 
bp
->
tŸÆ_Àngth
 > 0)

910 
ösz
 = ()
bp
->
öôül_Àngth
 / bp->
tŸÆ_Àngth
 * 
¥ogªss_size
;

913 
dlsz
 = ()
size
 / 
bp
->
tŸÆ_Àngth
 * 
¥ogªss_size
;

915 *
begö
;

916 
i
;

918 
	`as£π
 (
dlsz
 <
¥ogªss_size
);

919 
	`as£π
 (
ösz
 <
dlsz
);

921 *
p
++ = '[';

922 
begö
 = 
p
;

926 
i
 = 0; i < 
ösz
; i++)

927 *
p
++ = '+';

928 
dlsz
 -
ösz
;

929 i‡(
dlsz
 > 0)

931 
i
 = 0; i < 
dlsz
 - 1; i++)

932 *
p
++ = '=';

933 *
p
++ = '>';

936 
p
 - 
begö
 < 
¥ogªss_size
)

937 *
p
++ = ' ';

938 *
p
++ = ']';

940 i‡(
¥ogªss_size
)

944 
öd
 = 
bp
->
tick
 % (
¥ogªss_size
 * 2 - 6);

945 
i
, 
pos
;

948 i‡(
öd
 < 
¥ogªss_size
 - 2)

949 
pos
 = 
öd
 + 1;

951 
pos
 = 
¥ogªss_size
 - (
öd
 -Örogress_size + 5);

953 *
p
++ = '[';

954 
i
 = 0; i < 
¥ogªss_size
; i++)

956 i‡(
i
 =
pos
 - 1Ë*
p
++ = '<';

957 i‡(
i
 =
pos
 ) *
p
++ = '=';

958 i‡(
i
 =
pos
 + 1Ë*
p
++ = '>';

960 *
p
++ = ' ';

962 *
p
++ = ']';

964 ++
bp
->
tick
;

968 
	`•rötf
 (
p
, " %s", 
size_grou≥d
);

969 
	`move_to_íd
 (
p
);

973 
size_grou≥d_∑d
 = 11 - 
size_grou≥d_Àn
;

974 
size_grou≥d_∑d
 > 0;

975 --
size_grou≥d_∑d
)

977 *
p
++ = ' ';

981 i‡(
hi°
->
tŸÆ_time
 > 0 && hi°->
tŸÆ_byãs
)

983 c⁄° *
sh‹t_unôs
[] = { "B/s", "K/s", "M/s", "G/s" };

984 
unôs
 = 0;

987 
wgöt
 
dlqu™t
 = 
hi°
->
tŸÆ_byãs
 + 
bp
->
ª˚¡_byãs
;

988 
d…ime
 = 
hi°
->
tŸÆ_time
 + (
dl_tŸÆ_time
 - 
bp
->
ª˚¡_°¨t
);

989 
dl•ìd
 = 
	`ˇlc_øã
 (
dlqu™t
, 
d…ime
, &
unôs
);

990 
	`•rötf
 (
p
, " %4.*f%s", 
dl•ìd
 >= 99.95 ? 0 : dlspeed >= 9.995 ? 1 : 2,

991 
dl•ìd
, 
sh‹t_unôs
[
unôs
]);

992 
	`move_to_íd
 (
p
);

995 
	`APPEND_LITERAL
 (" --.-K/s");

997 i‡(!
d⁄e
)

1002 i‡(
bp
->
tŸÆ_Àngth
 > 0 && bp->
cou¡
 > 0 && 
dl_tŸÆ_time
 > 3)

1004 
ëa
;

1009 i‡(
bp
->
tŸÆ_Àngth
 !
size


1010 && 
bp
->
œ°_ëa_vÆue
 != 0

1011 && 
dl_tŸÆ_time
 - 
bp
->
œ°_ëa_time
 < 
ETA_REFRESH_INTERVAL
)

1012 
ëa
 = 
bp
->
œ°_ëa_vÆue
;

1021 
wgöt
 
byãs_ªmaöög
 = 
bp
->
tŸÆ_Àngth
 - 
size
;

1022 
ëa_
 = 
dl_tŸÆ_time
 * 
byãs_ªmaöög
 / 
bp
->
cou¡
;

1023 i‡(
ëa_
 >
INT_MAX
 - 1)

1024 
skù_ëa
;

1025 
ëa
 = (Ë(
ëa_
 + 0.5);

1026 
bp
->
œ°_ëa_vÆue
 = 
ëa
;

1027 
bp
->
œ°_ëa_time
 = 
dl_tŸÆ_time
;

1030 
	`•rötf
 (
p
, 
	`gë_ëa
(&
byãs_cﬁs_diff
),

1031 
	`ëa_to_hum™_sh‹t
 (
ëa
, 
Ál£
));

1032 
	`move_to_íd
 (
p
);

1034 i‡(
bp
->
tŸÆ_Àngth
 > 0)

1036 
skù_ëa
:

1037 
	`APPEND_LITERAL
 (" ");

1043 
nbyãs
;

1044 
ncﬁs
;

1048 
	`°r˝y
 (
p
, 
	`_
(" in "));

1049 
nbyãs
 = 
	`°æí
 (
p
);

1050 
ncﬁs
 = 
	`cou¡_cﬁs
 (
p
);

1051 
byãs_cﬁs_diff
 = 
nbyãs
 - 
ncﬁs
;

1052 
p
 +
nbyãs
;

1053 i‡(
dl_tŸÆ_time
 >= 10)

1054 
	`°r˝y
 (
p
, 
	`ëa_to_hum™_sh‹t
 ((Ë(
dl_tŸÆ_time
 + 0.5), 
Ál£
));

1056 
	`•rötf
 (
p
, "%ss", 
	`¥öt_decimÆ
 (
dl_tŸÆ_time
));

1057 
	`move_to_íd
 (
p
);

1060 
p
 - 
bp
->
buf„r
 - 
byãs_cﬁs_diff
 - 
size_grou≥d_diff
 < bp->
width
)

1061 *
p
++ = ' ';

1062 *
p
 = '\0';

1063 
	}
}

1069 
	$di•œy_image
 (*
buf
)

1071 
boﬁ
 
ﬁd
 = 
	`log_£t_ßve_c⁄ãxt
 (
Ál£
);

1072 
	`logputs
 (
LOG_VERBOSE
, "\r");

1073 
	`logputs
 (
LOG_VERBOSE
, 
buf
);

1074 
	`log_£t_ßve_c⁄ãxt
 (
ﬁd
);

1075 
	}
}

1078 
	$b¨_£t_∑øms
 (c⁄° *
∑øms
)

1080 *
ãrm
 = 
	`gëív
 ("TERM");

1082 i‡(
∑øms


1083 && 0 =
	`°rcmp
 (
∑øms
, "force"))

1084 
cuºít_im∂_locked
 = 1;

1086 i‡((
›t
.
lfûíame


1087 #ifde‡
HAVE_ISATTY


1091 || !
	`ißây
 (
	`fûío
 (
°dîr
))

1098 || (
ãrm
 && 0 =
	`°rcmp
 (term, "emacs"))

1100 && !
cuºít_im∂_locked
)

1107 
	`£t_¥ogªss_im∂emíèti⁄
 (
FALLBACK_PROGRESS_IMPLEMENTATION
);

1110 
	}
}

1112 #ifde‡
SIGWINCH


1114 
	$¥ogªss_h™dÀ_sigwöch
 (
sig
)

1116 
ª˚ived_sigwöch
 = 1;

1117 
	`sig«l
 (
SIGWINCH
, 
¥ogªss_h™dÀ_sigwöch
);

1118 
	}
}

1138 
	$ëa_to_hum™_sh‹t
 (
£cs
, 
boﬁ
 
c⁄dí£d
)

1140 
buf
[10];

1141 
œ°
 = -1;

1142 c⁄° *
•a˚
 = 
c⁄dí£d
 ? "" : " ";

1147 i‡(
£cs
 =
œ°
)

1148  
buf
;

1149 
œ°
 = 
£cs
;

1151 i‡(
£cs
 < 100)

1152 
	`•rötf
 (
buf
, "%ds", 
£cs
);

1153 i‡(
£cs
 < 100 * 60)

1154 
	`•rötf
 (
buf
, "%dm%s%ds", 
£cs
 / 60, 
•a˚
, secs % 60);

1155 i‡(
£cs
 < 48 * 3600)

1156 
	`•rötf
 (
buf
, "%dh%s%dm", 
£cs
 / 3600, 
•a˚
, (secs / 60) % 60);

1157 i‡(
£cs
 < 100 * 86400)

1158 
	`•rötf
 (
buf
, "%dd%s%dh", 
£cs
 / 86400, 
•a˚
, (secs / 3600) % 24);

1161 
	`•rötf
 (
buf
, "%dd", 
£cs
 / 86400);

1163  
buf
;

1164 
	}
}

	@src/progress.h

31 #i‚de‡
PROGRESS_H


32 
	#PROGRESS_H


	)

34 
boﬁ
 
vÆid_¥ogªss_im∂emíèti⁄_p
 (const *);

35 
£t_¥ogªss_im∂emíèti⁄
 (const *);

36 
¥ogªss_scheduÀ_ªdúe˘
 ();

38 *
¥ogªss_¸óã
 (
wgöt
, wgint);

39 
boﬁ
 
¥ogªss_öãø˘ive_p
 (*);

40 
¥ogªss_upd©e
 (*, 
wgöt
, );

41 
¥ogªss_föish
 (*, );

43 
¥ogªss_h™dÀ_sigwöch
 ();

	@src/ptimer.c

54 
	~"wgë.h
"

56 
	~<°dio.h
>

57 
	~<°dlib.h
>

58 
	~<°rög.h
>

59 
	~<î∫o.h
>

60 
	~<uni°d.h
>

61 
	~<time.h
>

62 #ifde‡
HAVE_SYS_TIME_H


63 
	~<sys/time.h
>

69 #ifde‡
__CYGWIN__


70 
	~<wödows.h
>

73 
	~"utûs.h
"

74 
	~"±imî.h
"

79 #unde‡
PTIMER_POSIX


80 #unde‡
PTIMER_GETTIMEOFDAY


81 #unde‡
PTIMER_WINDOWS


83 #i‡
deföed
(
WINDOWS
Ë|| deföed(
__CYGWIN__
)

84 
	#PTIMER_WINDOWS


	)

85 #ñi‡
_POSIX_TIMERS
 - 0 > 0

86 
	#PTIMER_POSIX


	)

88 
	#PTIMER_GETTIMEOFDAY


	)

91 #ifde‡
PTIMER_POSIX


99 
time•ec
 
	t±imî_sy°em_time
;

101 
	#IMPL_öô
 
posix_öô


	)

102 
	#IMPL_mósuª
 
posix_mósuª


	)

103 
	#IMPL_diff
 
posix_diff


	)

104 
	#IMPL_ªsﬁuti⁄
 
posix_ªsﬁuti⁄


	)

108 
	gposix_˛ock_id
;

111 
	gposix_˛ock_ªsﬁuti⁄
;

116 
	$posix_öô
 ()

122 
	#NO_SYSCONF_CHECK
 -1

	)

124 
id
;

125 
sysc⁄f_«me
;

126 } 
˛ocks
[] = {

127 #i‡
	`deföed
(
_POSIX_MONOTONIC_CLOCK
) && _POSIX_MONOTONIC_CLOCK - 0 >= 0

128 { 
CLOCK_MONOTONIC
, 
_SC_MONOTONIC_CLOCK
 },

130 #ifde‡
CLOCK_HIGHRES


131 { 
CLOCK_HIGHRES
, 
NO_SYSCONF_CHECK
 },

133 { 
CLOCK_REALTIME
, 
NO_SYSCONF_CHECK
 },

135 
size_t
 
i
;

141 
i
 = 0; i < 
	`cou¡of
 (
˛ocks
); i++)

143 
time•ec
 
r
;

144 i‡(
˛ocks
[
i
].
sysc⁄f_«me
 !
NO_SYSCONF_CHECK
)

145 i‡(
	`sysc⁄f
 (
˛ocks
[
i
].
sysc⁄f_«me
) < 0)

147 i‡(
	`˛ock_gëªs
 (
˛ocks
[
i
].
id
, &
r
) < 0)

149 
posix_˛ock_id
 = 
˛ocks
[
i
].
id
;

150 
posix_˛ock_ªsﬁuti⁄
 = (Ë
r
.
tv_£c
 +Ñ.
tv_n£c
 / 1e9;

152 i‡(
posix_˛ock_ªsﬁuti⁄
 == 0)

153 
posix_˛ock_ªsﬁuti⁄
 = 1e-3;

156 i‡(
i
 =
	`cou¡of
 (
˛ocks
))

160 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot get REALTIME clock frequency: %s\n"),

161 
	`°ªº‹
 (
î∫o
));

163 
posix_˛ock_id
 = 
CLOCK_REALTIME
;

164 
posix_˛ock_ªsﬁuti⁄
 = 1e-3;

166 
	}
}

168 
ölöe
 

169 
	$posix_mósuª
 (
±imî_sy°em_time
 *
p°
)

171 
	`˛ock_gëtime
 (
posix_˛ock_id
, 
p°
);

172 
	}
}

174 
ölöe
 

175 
	$posix_diff
 (
±imî_sy°em_time
 *
p°1
,Ötimî_sy°em_timê*
p°2
)

177  ((
p°1
->
tv_£c
 - 
p°2
->tv_sec)

178 + (
p°1
->
tv_n£c
 - 
p°2
->tv_nsec) / 1e9);

179 
	}
}

181 
ölöe
 

182 
	$posix_ªsﬁuti⁄
 ()

184  
posix_˛ock_ªsﬁuti⁄
;

185 
	}
}

188 #ifde‡
PTIMER_GETTIMEOFDAY


195 
timevÆ
 
	t±imî_sy°em_time
;

197 
	#IMPL_mósuª
 
gëtimeofday_mósuª


	)

198 
	#IMPL_diff
 
gëtimeofday_diff


	)

199 
	#IMPL_ªsﬁuti⁄
 
gëtimeofday_ªsﬁuti⁄


	)

201 
ölöe
 

202 
	$gëtimeofday_mósuª
 (
±imî_sy°em_time
 *
p°
)

204 
	`gëtimeofday
 (
p°
, 
NULL
);

205 
	}
}

207 
ölöe
 

208 
	$gëtimeofday_diff
 (
±imî_sy°em_time
 *
p°1
,Ötimî_sy°em_timê*
p°2
)

210  ((
p°1
->
tv_£c
 - 
p°2
->tv_sec)

211 + (
p°1
->
tv_u£c
 - 
p°2
->tv_usec) / 1e6);

212 
	}
}

214 
ölöe
 

215 
	$gëtimeofday_ªsﬁuti⁄
 ()

221 
	}
}

224 #ifde‡
PTIMER_WINDOWS


233 
DWORD
 
	ml‹es
;

234 
LARGE_INTEGER
 
	mhúes
;

235 } 
	t±imî_sy°em_time
;

237 
	#IMPL_öô
 
wödows_öô


	)

238 
	#IMPL_mósuª
 
wödows_mósuª


	)

239 
	#IMPL_diff
 
wödows_diff


	)

240 
	#IMPL_ªsﬁuti⁄
 
wödows_ªsﬁuti⁄


	)

244 
boﬁ
 
	gwödows_húes_timîs
;

249 
	gwödows_húes_‰eq
;

252 
	$wödows_öô
 ()

254 
LARGE_INTEGER
 
‰eq
;

255 
‰eq
.
QuadP¨t
 = 0;

256 
	`QuîyPîf‹m™˚Fªquícy
 (&
‰eq
);

257 i‡(
‰eq
.
QuadP¨t
 != 0)

259 
wödows_húes_timîs
 = 
åue
;

260 
wödows_húes_‰eq
 = (Ë
‰eq
.
QuadP¨t
;

262 
	}
}

264 
ölöe
 

265 
	$wödows_mósuª
 (
±imî_sy°em_time
 *
p°
)

267 i‡(
wödows_húes_timîs
)

268 
	`QuîyPîf‹m™˚Cou¡î
 (&
p°
->
húes
);

275 
p°
->
l‹es
 = 
	`GëTickCou¡
 ();

276 
	}
}

278 
ölöe
 

279 
	$wödows_diff
 (
±imî_sy°em_time
 *
p°1
,Ötimî_sy°em_timê*
p°2
)

281 i‡(
wödows_húes_timîs
)

282  (
p°1
->
húes
.
QuadP¨t
 - 
p°2
->húes.QuadP¨tË/ 
wödows_húes_‰eq
;

284  
p°1
->
l‹es
 - 
p°2
->lores;

285 
	}
}

288 
	$wödows_ªsﬁuti⁄
 ()

290 i‡(
wödows_húes_timîs
)

291  1.0 / 
wödows_húes_‰eq
;

294 
	}
}

299 
	s±imî
 {

302 
±imî_sy°em_time
 
	m°¨t
;

305 
	mñ≠£d_œ°
;

310 
	mñ≠£d_¥e_°¨t
;

315 
±imî
 *

316 
	$±imî_√w
 ()

318 
±imî
 *
±
 = 
	`x√w0
 (ptimer);

319 #ifde‡
IMPL_öô


320 
boﬁ
 
öô_d⁄e
;

321 i‡(!
öô_d⁄e
)

323 
öô_d⁄e
 = 
åue
;

324 
	`IMPL_öô
 ();

327 
	`±imî_ª£t
 (
±
);

328  
±
;

329 
	}
}

335 
	$±imî_de°roy
 (
±imî
 *
±
)

337 
	`x‰ì
 (
±
);

338 
	}
}

345 
	$±imî_ª£t
 (
±imî
 *
±
)

348 
	`IMPL_mósuª
 (&
±
->
°¨t
);

349 
±
->
ñ≠£d_œ°
 = 0;

350 
±
->
ñ≠£d_¥e_°¨t
 = 0;

351 
	}
}

362 
	$±imî_mósuª
 (
±imî
 *
±
)

364 
±imî_sy°em_time
 
now
;

365 
ñ≠£d
;

367 
	`IMPL_mósuª
 (&
now
);

368 
ñ≠£d
 = 
±
->
ñ≠£d_¥e_°¨t
 + 
	`IMPL_diff
 (&
now
, &±->
°¨t
);

386 i‡(
ñ≠£d
 < 
±
->
ñ≠£d_œ°
)

388 
±
->
°¨t
 = 
now
;

389 
±
->
ñ≠£d_¥e_°¨t
 =Öt->
ñ≠£d_œ°
;

390 
ñ≠£d
 = 
±
->
ñ≠£d_œ°
;

393 
±
->
ñ≠£d_œ°
 = 
ñ≠£d
;

394  
ñ≠£d
;

395 
	}
}

402 
	$±imî_ªad
 (c⁄° 
±imî
 *
±
)

404  
±
->
ñ≠£d_œ°
;

405 
	}
}

412 
	$±imî_ªsﬁuti⁄
 ()

414  
	`IMPL_ªsﬁuti⁄
 ();

415 
	}
}

	@src/ptimer.h

31 #i‚de‡
PTIMER_H


32 
	#PTIMER_H


	)

34 
	g±imî
;

37 
±imî
 *
±imî_√w
 ();

38 
±imî_de°roy
 (
±imî
 *);

40 
±imî_ª£t
 (
±imî
 *);

41 
±imî_mósuª
 (
±imî
 *);

42 
±imî_ªad
 (c⁄° 
±imî
 *);

44 
±imî_ªsﬁuti⁄
 ();

	@src/recur.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<uni°d.h
>

38 
	~<î∫o.h
>

39 
	~<as£π.h
>

41 
	~"uæ.h
"

42 
	~"ªcur.h
"

43 
	~"utûs.h
"

44 
	~"ªå.h
"

45 
	~"·p.h
"

46 
	~"ho°.h
"

47 
	~"hash.h
"

48 
	~"ªs.h
"

49 
	~"c⁄vît.h
"

50 
	~"html-uæ.h
"

51 
	~"css-uæ.h
"

52 
	~"•idî.h
"

56 
	squeue_ñemít
 {

57 c⁄° *
	muæ
;

58 c⁄° *
	mª„ªr
;

59 
	mdïth
;

60 
boﬁ
 
	mhtml_Ælowed
;

62 
úi
 *
	múi
;

63 
boﬁ
 
	mcss_Ælowed
;

65 
queue_ñemít
 *
	m√xt
;

68 
	suæ_queue
 {

69 
queue_ñemít
 *
	mhód
;

70 
queue_ñemít
 *
	mèû
;

71 
	mcou¡
, 
	mmaxcou¡
;

76 
uæ_queue
 *

77 
	$uæ_queue_√w
 ()

79 
uæ_queue
 *
queue
 = 
	`x√w0
 (url_queue);

80  
queue
;

81 
	}
}

86 
	$uæ_queue_dñëe
 (
uæ_queue
 *
queue
)

88 
	`x‰ì
 (
queue
);

89 
	}
}

96 
	$uæ_íqueue
 (
uæ_queue
 *
queue
, 
úi
 *
i
,

97 c⁄° *
uæ
, c⁄° *
ª„ªr
, 
dïth
,

98 
boﬁ
 
html_Ælowed
, boﬁ 
css_Ælowed
)

100 
queue_ñemít
 *
qñ
 = 
	`x√w
 (queue_element);

101 
qñ
->
úi
 = 
i
;

102 
qñ
->
uæ
 = url;

103 
qñ
->
ª„ªr
 =Ñeferer;

104 
qñ
->
dïth
 = depth;

105 
qñ
->
html_Ælowed
 = html_allowed;

106 
qñ
->
css_Ælowed
 = css_allowed;

107 
qñ
->
√xt
 = 
NULL
;

109 ++
queue
->
cou¡
;

110 i‡(
queue
->
cou¡
 > queue->
maxcou¡
)

111 
queue
->
maxcou¡
 = queue->
cou¡
;

113 
	`DEBUGP
 (("Enqueuing %sát depth %d\n",

114 
	`quŸórg_n_°yÀ
 (0, 
esˇ≥_quŸög_°yÀ
, 
uæ
), 
dïth
));

115 
	`DEBUGP
 (("Queuêcou¡ %d, maxcou¡ %d.\n", 
queue
->
cou¡
, queue->
maxcou¡
));

117 i‡(
i
)

118 
	`DEBUGP
 (("[IRI Enqueuög %†wôh %s\n", 
	`quŸe_n
 (0, 
uæ
),

119 
i
->
uri_ícodög
 ? 
	`quŸe_n
 (1, i->uri_encoding) : "None"));

121 i‡(
queue
->
èû
)

122 
queue
->
èû
->
√xt
 = 
qñ
;

123 
queue
->
èû
 = 
qñ
;

125 i‡(!
queue
->
hód
)

126 
queue
->
hód
 = queue->
èû
;

127 
	}
}

132 
boﬁ


133 
	$uæ_dequeue
 (
uæ_queue
 *
queue
, 
úi
 **
i
,

134 c⁄° **
uæ
, c⁄° **
ª„ªr
, *
dïth
,

135 
boﬁ
 *
html_Ælowed
, boﬁ *
css_Ælowed
)

137 
queue_ñemít
 *
qñ
 = 
queue
->
hód
;

139 i‡(!
qñ
)

140  
Ál£
;

142 
queue
->
hód
 = queue->hód->
√xt
;

143 i‡(!
queue
->
hód
)

144 
queue
->
èû
 = 
NULL
;

146 *
i
 = 
qñ
->
úi
;

147 *
uæ
 = 
qñ
->url;

148 *
ª„ªr
 = 
qñ
->referer;

149 *
dïth
 = 
qñ
->depth;

150 *
html_Ælowed
 = 
qñ
->html_allowed;

151 *
css_Ælowed
 = 
qñ
->css_allowed;

153 --
queue
->
cou¡
;

155 
	`DEBUGP
 (("Dequeuing %sát depth %d\n",

156 
	`quŸórg_n_°yÀ
 (0, 
esˇ≥_quŸög_°yÀ
, 
qñ
->
uæ
), qñ->
dïth
));

157 
	`DEBUGP
 (("Queuêcou¡ %d, maxcou¡ %d.\n", 
queue
->
cou¡
, queue->
maxcou¡
));

159 
	`x‰ì
 (
qñ
);

160  
åue
;

161 
	}
}

163 
boﬁ
 
dow∆ﬂd_chûd_p
 (c⁄° 
uæpos
 *, 
uæ
 *, ,

164 
uæ
 *, 
hash_èbÀ
 *, 
úi
 *);

165 
boﬁ
 
des˚nd_ªdúe˘_p
 (c⁄° *, 
uæ
 *, ,

166 
uæ
 *, 
hash_èbÀ
 *, 
úi
 *);

190 
uîr_t


191 
	$ªåõve_åì
 (
uæ
 *
°¨t_uæ_∑r£d
, 
úi
 *
pi
)

193 
uîr_t
 
°©us
 = 
RETROK
;

196 
uæ_queue
 *
queue
;

200 
hash_èbÀ
 *
bœckli°
;

202 
úi
 *
i
 = 
	`úi_√w
 ();

204 
	#COPYSTR
(
x
Ë(xË? 
	`x°rdup
(xË: 
NULL
;

	)

206 i‡(
pi
)

208 
i
->
uri_ícodög
 = 
	`COPYSTR
 (
pi
->uri_encoding);

209 
i
->
c⁄ã¡_ícodög
 = 
	`COPYSTR
 (
pi
->content_encoding);

210 
i
->
utf8_ícode
 = 
pi
->utf8_encode;

213 
	`£t_uri_ícodög
 (
i
, 
›t
.
loˇÀ
, 
åue
);

214 #unde‡
COPYSTR


216 
queue
 = 
	`uæ_queue_√w
 ();

217 
bœckli°
 = 
	`make_°rög_hash_èbÀ
 (0);

221 
	`uæ_íqueue
 (
queue
, 
i
, 
	`x°rdup
 (
°¨t_uæ_∑r£d
->
uæ
), 
NULL
, 0, 
åue
,

222 
Ál£
);

223 
	`°rög_£t_add
 (
bœckli°
, 
°¨t_uæ_∑r£d
->
uæ
);

227 
boﬁ
 
des˚nd
 = 
Ál£
;

228 *
uæ
, *
ª„ªr
, *
fûe
 = 
NULL
;

229 
dïth
;

230 
boﬁ
 
html_Ælowed
, 
css_Ælowed
;

231 
boﬁ
 
is_css
 = 
Ál£
;

232 
boﬁ
 
dash_p_Àaf_HTML
 = 
Ál£
;

234 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

236 i‡(
°©us
 =
FWRITEERR
)

241 i‡(!
	`uæ_dequeue
 (
queue
, (
úi
 **Ë&
i
,

242 (c⁄° **)&
uæ
, (c⁄° **)&
ª„ªr
,

243 &
dïth
, &
html_Ælowed
, &
css_Ælowed
))

254 i‡(
dl_uæ_fûe_m≠
 && 
	`hash_èbÀ_c⁄èös
 (dl_uæ_fûe_m≠, 
uæ
))

256 
fûe
 = 
	`x°rdup
 (
	`hash_èbÀ_gë
 (
dl_uæ_fûe_m≠
, 
uæ
));

258 
	`DEBUGP
 (("Already downloaded \"%s\",Ñeusing it from \"%s\".\n",

259 
uæ
, 
fûe
));

262 i‡(
html_Ælowed


263 && 
dow∆ﬂded_html_£t


264 && 
	`°rög_£t_c⁄èös
 (
dow∆ﬂded_html_£t
, 
fûe
))

266 
des˚nd
 = 
åue
;

267 
is_css
 = 
Ál£
;

269 i‡(
css_Ælowed


270 && 
dow∆ﬂded_css_£t


271 && 
	`°rög_£t_c⁄èös
 (
dow∆ﬂded_css_£t
, 
fûe
))

273 
des˚nd
 = 
åue
;

274 
is_css
 = 
åue
;

279 
dt
 = 0, 
uæ_îr
;

280 *
ªdúe˘ed
 = 
NULL
;

281 
uæ
 *
uæ_∑r£d
 = 
	`uæ_∑r£
 (uæ, &
uæ_îr
, 
i
, 
åue
);

283 
°©us
 = 
	`ªåõve_uæ
 (
uæ_∑r£d
, 
uæ
, &
fûe
, &
ªdúe˘ed
, 
ª„ªr
,

284 &
dt
, 
Ál£
, 
i
, 
åue
);

286 i‡(
html_Ælowed
 && 
fûe
 && 
°©us
 =
RETROK


287 && (
dt
 & 
RETROKF
Ë&& (dà& 
TEXTHTML
))

289 
des˚nd
 = 
åue
;

290 
is_css
 = 
Ál£
;

296 i‡(
fûe
 && 
°©us
 =
RETROK


297 && (
dt
 & 
RETROKF
) &&

298 ((
dt
 & 
TEXTCSS
Ë|| 
css_Ælowed
))

300 
des˚nd
 = 
åue
;

301 
is_css
 = 
åue
;

304 i‡(
ªdúe˘ed
)

309 i‡(
des˚nd
)

311 i‡(!
	`des˚nd_ªdúe˘_p
 (
ªdúe˘ed
, 
uæ_∑r£d
, 
dïth
,

312 
°¨t_uæ_∑r£d
, 
bœckli°
, 
i
))

313 
des˚nd
 = 
Ál£
;

317 
	`°rög_£t_add
 (
bœckli°
, 
uæ
);

320 
	`x‰ì
 (
uæ
);

321 
uæ
 = 
ªdúe˘ed
;

325 
	`x‰ì
 (
uæ
);

326 
uæ
 = 
	`x°rdup
 (
uæ_∑r£d
->url);

328 
	`uæ_‰ì
(
uæ_∑r£d
);

331 i‡(
›t
.
•idî
)

333 
	`visôed_uæ
 (
uæ
, 
ª„ªr
);

336 i‡(
des˚nd


337 && 
dïth
 >
›t
.
ª˛evñ
 && o±.ª˛evñ !
INFINITE_RECURSION
)

339 i‡(
›t
.
∑ge_ªquisôes


340 && (
dïth
 =
›t
.
ª˛evñ
 || depth == opt.reclevel + 1))

349 
dash_p_Àaf_HTML
 = 
åue
;

356 
	`DEBUGP
 (("Not descending further;át depth %d, max. %d.\n",

357 
dïth
, 
›t
.
ª˛evñ
));

358 
des˚nd
 = 
Ál£
;

365 i‡(
des˚nd
)

367 
boﬁ
 
mëa_dißŒow_fﬁlow
 = 
Ál£
;

368 
uæpos
 *
chûdªn


369 
is_css
 ? 
	`gë_uæs_css_fûe
 (
fûe
, 
uæ
) :

370 
	`gë_uæs_html
 (
fûe
, 
uæ
, &
mëa_dißŒow_fﬁlow
, 
i
);

372 i‡(
›t
.
u£_robŸs
 && 
mëa_dißŒow_fﬁlow
)

374 
	`‰ì_uæpos
 (
chûdªn
);

375 
chûdªn
 = 
NULL
;

378 i‡(
chûdªn
)

380 
uæpos
 *
chûd
 = 
chûdªn
;

381 
uæ
 *
uæ_∑r£d
 = 
	`uæ_∑r£
 (uæ, 
NULL
, 
i
, 
åue
);

382 
úi
 *
ci
;

383 *
ª„ªr_uæ
 = 
uæ
;

384 
boﬁ
 
°rù_auth
 = (
uæ_∑r£d
 !
NULL


385 && 
uæ_∑r£d
->
u£r
 !
NULL
);

386 
	`as£π
 (
uæ_∑r£d
 !
NULL
);

389 i‡(
°rù_auth
)

390 
ª„ªr_uæ
 = 
	`uæ_°rög
 (
uæ_∑r£d
, 
URL_AUTH_HIDE
);

392 ; 
chûd
; chûd = chûd->
√xt
)

394 i‡(
chûd
->
ign‹e_whí_dow∆ﬂdög
)

396 i‡(
dash_p_Àaf_HTML
 && !
chûd
->
lök_ölöe_p
)

398 i‡(
	`dow∆ﬂd_chûd_p
 (
chûd
, 
uæ_∑r£d
, 
dïth
, 
°¨t_uæ_∑r£d
,

399 
bœckli°
, 
i
))

401 
ci
 = 
	`úi_√w
 ();

402 
	`£t_uri_ícodög
 (
ci
, 
i
->
c⁄ã¡_ícodög
, 
Ál£
);

403 
	`uæ_íqueue
 (
queue
, 
ci
, 
	`x°rdup
 (
chûd
->
uæ
->url),

404 
	`x°rdup
 (
ª„ªr_uæ
), 
dïth
 + 1,

405 
chûd
->
lök_ex≥˘_html
,

406 
chûd
->
lök_ex≥˘_css
);

410 
	`°rög_£t_add
 (
bœckli°
, 
chûd
->
uæ
->url);

414 i‡(
°rù_auth
)

415 
	`x‰ì
 (
ª„ªr_uæ
);

416 
	`uæ_‰ì
 (
uæ_∑r£d
);

417 
	`‰ì_uæpos
 (
chûdªn
);

421 i‡(
fûe


422 && (
›t
.
dñëe_a·î


423 || 
›t
.
•idî


424 || !
	`ac˚±abÀ
 (
fûe
)))

430 
	`DEBUGP
 (("Removing file dueÅo %s inÑecursive_retrieve():\n",

431 
›t
.
dñëe_a·î
 ? "--delete-after" :

432 (
›t
.
•idî
 ? "--spider" :

434 
	`log¥ötf
 (
LOG_VERBOSE
,

435 (
›t
.
dñëe_a·î
 || o±.
•idî


436 ? 
	`_
("Removing %s.\n")

437 : 
	`_
("Removing %s since it should beÑejected.\n")),

438 
fûe
);

439 i‡(
	`u∆ök
 (
fûe
))

440 
	`log¥ötf
 (
LOG_NOTQUIET
, "u∆ök: %s\n", 
	`°ªº‹
 (
î∫o
));

441 
	`logputs
 (
LOG_VERBOSE
, "\n");

442 
	`ªgi°î_dñëe_fûe
 (
fûe
);

445 
	`x‰ì
 (
uæ
);

446 
	`x‰ì_nuŒ
 (
ª„ªr
);

447 
	`x‰ì_nuŒ
 (
fûe
);

448 
	`úi_‰ì
 (
i
);

454 *
d1
, *
d2
;

455 
d3
;

456 
boﬁ
 
d4
, 
d5
;

457 
úi
 *
d6
;

458 
	`uæ_dequeue
 (
queue
, (
úi
 **)&
d6
,

459 (c⁄° **)&
d1
, (c⁄° **)&
d2
, &
d3
, &
d4
, &
d5
))

461 
	`úi_‰ì
 (
d6
);

462 
	`x‰ì
 (
d1
);

463 
	`x‰ì_nuŒ
 (
d2
);

466 
	`uæ_queue_dñëe
 (
queue
);

468 
	`°rög_£t_‰ì
 (
bœckli°
);

470 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

471  
QUOTEXC
;

472 i‡(
°©us
 =
FWRITEERR
)

473  
FWRITEERR
;

475  
RETROK
;

476 
	}
}

486 
boﬁ


487 
	$dow∆ﬂd_chûd_p
 (c⁄° 
uæpos
 *
upos
, 
uæ
 *
∑ª¡
, 
dïth
,

488 
uæ
 *
°¨t_uæ_∑r£d
, 
hash_èbÀ
 *
bœckli°
,

489 
úi
 *iri)

491 
uæ
 *
u
 = 
upos
->url;

492 c⁄° *
uæ
 = 
u
->url;

493 
boﬁ
 
u_scheme_like_hâp
;

495 
	`DEBUGP
 (("Decidög whëhîÅÿíqueuê\"%s\".\n", 
uæ
));

497 i‡(
	`°rög_£t_c⁄èös
 (
bœckli°
, 
uæ
))

499 i‡(
›t
.
•idî
)

501 *
ª„ºî
 = 
	`uæ_°rög
 (
∑ª¡
, 
URL_AUTH_HIDE_PASSWD
);

502 
	`DEBUGP
 (("dow∆ﬂd_chûd_p:Ö¨ít->uæ is: %s\n", 
	`quŸe
 (
∑ª¡
->
uæ
)));

503 
	`visôed_uæ
 (
uæ
, 
ª„ºî
);

504 
	`x‰ì
 (
ª„ºî
);

506 
	`DEBUGP
 (("Already onÅhe blackÜist.\n"));

507 
out
;

532 
u_scheme_like_hâp
 = 
	`schemes_¨e_simû¨_p
 (
u
->
scheme
, 
SCHEME_HTTP
);

535 i‡(!
u_scheme_like_hâp
 && !(
u
->
scheme
 =
SCHEME_FTP
 && 
›t
.
fﬁlow_·p
))

537 
	`DEBUGP
 (("Not followingÇon-HTTP schemes.\n"));

538 
out
;

543 i‡(
u_scheme_like_hâp
)

544 i‡(
›t
.
ªœtive_⁄ly
 && !
upos
->
lök_ªœtive_p
)

546 
	`DEBUGP
 (("It doesn'tÑeallyÜookÜikeáÑelativeÜink.\n"));

547 
out
;

552 i‡(!
	`ac˚±_domaö
 (
u
))

554 
	`DEBUGP
 (("The domain wasÇotáccepted.\n"));

555 
out
;

563 i‡(
›t
.
no_∑ª¡


564 && 
	`schemes_¨e_simû¨_p
 (
u
->
scheme
, 
°¨t_uæ_∑r£d
->scheme)

565 && 0 =
	`°rˇ£cmp
 (
u
->
ho°
, 
°¨t_uæ_∑r£d
->host)

566 && (
u
->
scheme
 !
°¨t_uæ_∑r£d
->scheme

567 || 
u
->
p‹t
 =
°¨t_uæ_∑r£d
->port)

568 && !(
›t
.
∑ge_ªquisôes
 && 
upos
->
lök_ölöe_p
))

570 i‡(!
	`subdú_p
 (
°¨t_uæ_∑r£d
->
dú
, 
u
->dir))

572 
	`DEBUGP
 (("GoingÅo \"%s\" wouldÉscape \"%s\" withÇo_parent on.\n",

573 
u
->
dú
, 
°¨t_uæ_∑r£d
->dir));

574 
out
;

581 i‡(
›t
.
ö˛udes
 || o±.
ex˛udes
)

583 i‡(!
	`accdú
 (
u
->
dú
))

585 
	`DEBUGP
 (("%†(%sËi†ex˛uded/nŸ-ö˛uded.\n", 
uæ
, 
u
->
dú
));

586 
out
;

595 i‡(
u
->
fûe
[0] != '\0'

596 && !(
	`has_html_suffix_p
 (
u
->
fûe
)

601 
›t
.
ª˛evñ
 =
INFINITE_RECURSION


603 || 
dïth
 < 
›t
.
ª˛evñ
 - 1

605 || 
›t
.
∑ge_ªquisôes
)))

607 i‡(!
	`ac˚±abÀ
 (
u
->
fûe
))

609 
	`DEBUGP
 (("%s (%s) doesÇot matchácc/rejÑules.\n",

610 
uæ
, 
u
->
fûe
));

611 
out
;

616 i‡(
	`schemes_¨e_simû¨_p
 (
u
->
scheme
, 
∑ª¡
->scheme))

617 i‡(!
›t
.
•™ho°
 && 0 !
	`°rˇ£cmp
 (
∑ª¡
->
ho°
, 
u
->host))

619 
	`DEBUGP
 (("This isÇotÅhe same hostnameásÅheÖarent's (%sánd %s).\n",

620 
u
->
ho°
, 
∑ª¡
->host));

621 
out
;

625 i‡(
›t
.
u£_robŸs
 && 
u_scheme_like_hâp
)

627 
robŸ_•ecs
 *
•ecs
 = 
	`ªs_gë_•ecs
 (
u
->
ho°
, u->
p‹t
);

628 i‡(!
•ecs
)

630 *
rfûe
;

631 i‡(
	`ªs_ªåõve_fûe
 (
uæ
, &
rfûe
, 
úi
))

633 
•ecs
 = 
	`ªs_∑r£_‰om_fûe
 (
rfûe
);

637 i‡(
›t
.
dñëe_a·î
 || o±.
•idî
)

639 
	`log¥ötf
 (
LOG_VERBOSE
, "Removög %s.\n", 
rfûe
);

640 i‡(
	`u∆ök
 (
rfûe
))

641 
	`log¥ötf
 (
LOG_NOTQUIET
, "unlink: %s\n",

642 
	`°ªº‹
 (
î∫o
));

645 
	`x‰ì
 (
rfûe
);

652 
•ecs
 = 
	`ªs_∑r£
 ("", 0);

654 
	`ªs_ªgi°î_•ecs
 (
u
->
ho°
, u->
p‹t
, 
•ecs
);

659 i‡(!
	`ªs_m©ch_∑th
 (
•ecs
, 
u
->
∑th
))

661 
	`DEBUGP
 (("NŸ fﬁlowög %†beˇu£ÑobŸs.txàf‹bid†ô.\n", 
uæ
));

662 
	`°rög_£t_add
 (
bœckli°
, 
uæ
);

663 
out
;

669 
	`DEBUGP
 (("DecidedÅoÜoad it.\n"));

671  
åue
;

673 
out
:

674 
	`DEBUGP
 (("Decided NOTÅoÜoad it.\n"));

676  
Ál£
;

677 
	}
}

684 
boﬁ


685 
	$des˚nd_ªdúe˘_p
 (c⁄° *
ªdúe˘ed
, 
uæ
 *
‹ig_∑r£d
, 
dïth
,

686 
uæ
 *
°¨t_uæ_∑r£d
, 
hash_èbÀ
 *
bœckli°
,

687 
úi
 *iri)

689 
uæ
 *
√w_∑r£d
;

690 
uæpos
 *
upos
;

691 
boﬁ
 
suc˚ss
;

693 
	`as£π
 (
‹ig_∑r£d
 !
NULL
);

695 
√w_∑r£d
 = 
	`uæ_∑r£
 (
ªdúe˘ed
, 
NULL
, NULL, 
Ál£
);

696 
	`as£π
 (
√w_∑r£d
 !
NULL
);

698 
upos
 = 
	`x√w0
 (
uæpos
);

699 
upos
->
uæ
 = 
√w_∑r£d
;

701 
suc˚ss
 = 
	`dow∆ﬂd_chûd_p
 (
upos
, 
‹ig_∑r£d
, 
dïth
,

702 
°¨t_uæ_∑r£d
, 
bœckli°
, 
úi
);

704 
	`uæ_‰ì
 (
√w_∑r£d
);

705 
	`x‰ì
 (
upos
);

707 i‡(!
suc˚ss
)

708 
	`DEBUGP
 (("Redúe˘i⁄ \"%s\" faûedÅhêã°.\n", 
ªdúe˘ed
));

710  
suc˚ss
;

711 
	}
}

	@src/recur.h

32 #i‚de‡
RECUR_H


33 
	#RECUR_H


	)

35 
	~"uæ.h
"

43 
	#INFINITE_RECURSION
 -1

	)

45 
	guæpos
;

47 
ªcursive_˛ónup
 ();

48 
uîr_t
 
ªåõve_åì
 (
uæ
 *, 
úi
 *);

	@src/res.c

71 
	~"wgë.h
"

73 
	~<°dio.h
>

74 
	~<°dlib.h
>

75 
	~<°rög.h
>

76 
	~<î∫o.h
>

77 
	~<as£π.h
>

79 
	~"utûs.h
"

80 
	~"hash.h
"

81 
	~"uæ.h
"

82 
	~"ªå.h
"

83 
	~"ªs.h
"

85 #ifde‡
TESTING


86 
	~"ã°.h
"

89 
	s∑th_öfo
 {

90 *
	m∑th
;

91 
boﬁ
 
	mÆlowedp
;

92 
boﬁ
 
	mu£r_agít_exa˘_p
;

95 
	srobŸ_•ecs
 {

96 
	mcou¡
;

97 
	msize
;

98 
∑th_öfo
 *
	m∑ths
;

108 
	$m©ch_u£r_agít
 (c⁄° *
agít
, 
Àngth
,

109 
boﬁ
 *
m©ches
, boﬁ *
exa˘_m©ch
)

111 i‡(
Àngth
 =1 && *
agít
 == '*')

113 *
m©ches
 = 
åue
;

114 *
exa˘_m©ch
 = 
Ál£
;

116 i‡(
	`BOUNDED_EQUAL_NO_CASE
 (
agít
,ágíà+ 
Àngth
, "wget"))

118 *
m©ches
 = 
åue
;

119 *
exa˘_m©ch
 = 
åue
;

123 *
m©ches
 = 
Ál£
;

124 *
exa˘_m©ch
 = 
Ál£
;

126 
	}
}

132 
	$add_∑th
 (
robŸ_•ecs
 *
•ecs
, c⁄° *
∑th_b
, c⁄° *
∑th_e
,

133 
boﬁ
 
Ælowedp
, boﬁ 
exa˘p
)

135 
∑th_öfo
 
µ
;

136 i‡(
∑th_b
 < 
∑th_e
 && *path_b == '/')

139 ++
∑th_b
;

140 
µ
.
∑th
 = 
	`°rdupdñim
 (
∑th_b
, 
∑th_e
);

141 
µ
.
Ælowedp
 =állowedp;

142 
µ
.
u£r_agít_exa˘_p
 = 
exa˘p
;

143 ++
•ecs
->
cou¡
;

144 i‡(
•ecs
->
cou¡
 > s≥cs->
size
)

146 i‡(
•ecs
->
size
 == 0)

147 
•ecs
->
size
 = 1;

149 
•ecs
->
size
 <<= 1;

150 
•ecs
->
∑ths
 = 
	`xªÆloc
 (specs->paths,

151 
•ecs
->
size
 *  (
∑th_öfo
));

153 
•ecs
->
∑ths
[•ecs->
cou¡
 - 1] = 
µ
;

154 
	}
}

160 
	$¥u√_n⁄_exa˘
 (
robŸ_•ecs
 *
•ecs
)

162 
∑th_öfo
 *
√w∑ths
;

163 
i
, 
j
, 
˙t
;

164 
˙t
 = 0;

165 
i
 = 0; i < 
•ecs
->
cou¡
; i++)

166 i‡(
•ecs
->
∑ths
[
i
].
u£r_agít_exa˘_p
)

167 ++
˙t
;

168 
√w∑ths
 = 
	`x√w_¨øy
 (
∑th_öfo
, 
˙t
);

169 
i
 = 0, 
j
 = 0; i < 
•ecs
->
cou¡
; i++)

170 i‡(
•ecs
->
∑ths
[
i
].
u£r_agít_exa˘_p
)

171 
√w∑ths
[
j
++] = 
•ecs
->
∑ths
[
i
];

172 
	`as£π
 (
j
 =
˙t
);

173 
	`x‰ì
 (
•ecs
->
∑ths
);

174 
•ecs
->
∑ths
 = 
√w∑ths
;

175 
•ecs
->
cou¡
 = 
˙t
;

176 
•ecs
->
size
 = 
˙t
;

177 
	}
}

179 
	#EOL
(
p
Ë(’Ë>
löìnd
)

	)

181 
	#SKIP_SPACE
(
p
) do { \

182 !
	`EOL
 (
p
Ë&& 
	`c_is•a˚
 (*p)) \

183 ++
p
; \

184 } 0)

	)

186 
	#FIELD_IS
(
°rög_lôîÆ
) \

187 
	`BOUNDED_EQUAL_NO_CASE
 (
fõld_b
, 
fõld_e
, 
°rög_lôîÆ
)

	)

219 
robŸ_•ecs
 *

220 
	$ªs_∑r£
 (c⁄° *
sour˚
, 
Àngth
)

222 
löe_cou¡
 = 1;

224 c⁄° *
p
 = 
sour˚
;

225 c⁄° *
íd
 = 
sour˚
 + 
Àngth
;

228 
boﬁ
 
u£r_agít_≠∂õs
 = 
Ál£
;

232 
boﬁ
 
u£r_agít_exa˘
 = 
Ál£
;

235 
boﬁ
 
found_exa˘
 = 
Ál£
;

239 
ªc‹d_cou¡
 = 0;

241 
robŸ_•ecs
 *
•ecs
 = 
	`x√w0
 (robot_specs);

245 c⁄° *
löìnd
, *
löìnd_ªÆ
;

246 c⁄° *
fõld_b
, *
fõld_e
;

247 c⁄° *
vÆue_b
, *
vÆue_e
;

249 i‡(
p
 =
íd
)

251 
löìnd_ªÆ
 = 
	`memchr
 (
p
, '\n', 
íd
 -Ö);

252 i‡(
löìnd_ªÆ
)

253 ++
löìnd_ªÆ
;

255 
löìnd_ªÆ
 = 
íd
;

256 
löìnd
 = 
löìnd_ªÆ
;

260 
	`SKIP_SPACE
 (
p
);

261 i‡(
	`EOL
 (
p
) || *p == '#')

262 
√xt
;

267 
löìnd
 = 
p
;Üöìnd < 
löìnd_ªÆ
;Üineend++)

268 i‡((
löìnd
 =
p
 || 
	`c_is•a˚
 (*(lineend - 1)))

269 && *
löìnd
 == '#')

273 
löìnd
 > 
p
 && 
	`c_is•a˚
 (*(lineend - 1)))

274 --
löìnd
;

276 
	`as£π
 (!
	`EOL
 (
p
));

278 
fõld_b
 = 
p
;

279 !
	`EOL
 (
p
Ë&& (
	`c_iß um
 (*p) || *p == '-'))

280 ++
p
;

281 
fõld_e
 = 
p
;

283 
	`SKIP_SPACE
 (
p
);

284 i‡(
fõld_b
 =
fõld_e
 || 
	`EOL
 (
p
) || *p != ':')

286 
	`DEBUGP
 (("Ign‹ög mÆf‹medÜöê%d\n", 
löe_cou¡
));

287 
√xt
;

289 ++
p
;

290 
	`SKIP_SPACE
 (
p
);

292 
vÆue_b
 = 
p
;

293 !
	`EOL
 (
p
))

294 ++
p
;

295 
vÆue_e
 = 
p
;

298 i‡(
	`FIELD_IS
 ("user-agent"))

325 i‡(
ªc‹d_cou¡
 !0 || 
u£r_agít_≠∂õs
 =
Ál£
)

326 
	`m©ch_u£r_agít
 (
vÆue_b
, 
vÆue_e
 - value_b,

327 &
u£r_agít_≠∂õs
, &
u£r_agít_exa˘
);

328 i‡(
u£r_agít_exa˘
)

329 
found_exa˘
 = 
åue
;

330 
ªc‹d_cou¡
 = 0;

332 i‡(
	`FIELD_IS
 ("allow"))

334 i‡(
u£r_agít_≠∂õs
)

336 
	`add_∑th
 (
•ecs
, 
vÆue_b
, 
vÆue_e
, 
åue
, 
u£r_agít_exa˘
);

338 ++
ªc‹d_cou¡
;

340 i‡(
	`FIELD_IS
 ("disallow"))

342 i‡(
u£r_agít_≠∂õs
)

344 
boﬁ
 
Ælowed
 = 
Ál£
;

345 i‡(
vÆue_b
 =
vÆue_e
)

347 
Ælowed
 = 
åue
;

348 
	`add_∑th
 (
•ecs
, 
vÆue_b
, 
vÆue_e
, 
Ælowed
, 
u£r_agít_exa˘
);

350 ++
ªc‹d_cou¡
;

354 
	`DEBUGP
 (("Ign‹ög unknow¿fõldáàlöê%d\n", 
löe_cou¡
));

355 
√xt
;

358 
√xt
:

359 
p
 = 
löìnd_ªÆ
;

360 ++
löe_cou¡
;

363 i‡(
found_exa˘
)

367 
	`¥u√_n⁄_exa˘
 (
•ecs
);

369 i‡(
•ecs
->
size
 > s≥cs->
cou¡
)

373 
•ecs
->
∑ths
 = 
	`xªÆloc
 (specs->paths,

374 
•ecs
->
cou¡
 *  (
∑th_öfo
));

375 
•ecs
->
size
 = s≥cs->
cou¡
;

378  
•ecs
;

379 
	}
}

384 
robŸ_•ecs
 *

385 
	$ªs_∑r£_‰om_fûe
 (c⁄° *
fûíame
)

387 
robŸ_•ecs
 *
•ecs
;

388 
fûe_mem‹y
 *
fm
 = 
	`wgë_ªad_fûe
 (
fûíame
);

389 i‡(!
fm
)

391 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Cannot open %s: %s"),

392 
fûíame
, 
	`°ªº‹
 (
î∫o
));

393  
NULL
;

395 
•ecs
 = 
	`ªs_∑r£
 (
fm
->
c⁄ã¡
, fm->
Àngth
);

396 
	`wgë_ªad_fûe_‰ì
 (
fm
);

397  
•ecs
;

398 
	}
}

401 
	$‰ì_•ecs
 (
robŸ_•ecs
 *
•ecs
)

403 
i
;

404 
i
 = 0; i < 
•ecs
->
cou¡
; i++)

405 
	`x‰ì
 (
•ecs
->
∑ths
[
i
].
∑th
);

406 
	`x‰ì_nuŒ
 (
•ecs
->
∑ths
);

407 
	`x‰ì
 (
•ecs
);

408 
	}
}

416 
	#DECODE_MAYBE
(
c
, 
±r
) do { \

417 i‡(
c
 ='%' && 
	`c_isxdigô
 (
±r
[1]) && c_isxdigit (ptr[2])) \

419 
decoded
 = 
	`X2DIGITS_TO_NUM
 (
±r
[1],Ötr[2]); \

420 i‡(
decoded
 != '/') \

422 
c
 = 
decoded
; \

423 
±r
 += 2; \

426 } 0)

	)

432 
boﬁ


433 
	$m©ches
 (c⁄° *
ªc‹d_∑th
, c⁄° *
uæ_∑th
)

435 c⁄° *
Ω
 = 
ªc‹d_∑th
;

436 c⁄° *
up
 = 
uæ_∑th
;

438 ; ; ++
Ω
, ++
up
)

440 
rc
 = *
Ω
;

441 
uc
 = *
up
;

442 i‡(!
rc
)

443  
åue
;

444 i‡(!
uc
)

445  
Ál£
;

446 
	`DECODE_MAYBE
(
rc
, 
Ω
);

447 
	`DECODE_MAYBE
(
uc
, 
up
);

448 i‡(
rc
 !
uc
)

449  
Ál£
;

451 
	}
}

457 
boﬁ


458 
	$ªs_m©ch_∑th
 (c⁄° 
robŸ_•ecs
 *
•ecs
, c⁄° *
∑th
)

460 
i
;

461 i‡(!
•ecs
)

462  
åue
;

463 
i
 = 0; i < 
•ecs
->
cou¡
; i++)

464 i‡(
	`m©ches
 (
•ecs
->
∑ths
[
i
].
∑th
,Öath))

466 
boﬁ
 
Ælowedp
 = 
•ecs
->
∑ths
[
i
].allowedp;

467 
	`DEBUGP
 (("%sÖath %s because ofÑule %s.\n",

468 
Ælowedp
 ? "Allowing" : "Rejecting",

469 
∑th
, 
	`quŸe
 (
•ecs
->
∑ths
[
i
].path)));

470  
Ælowedp
;

472  
åue
;

473 
	}
}

477 
hash_èbÀ
 *
	gªgi°îed_•ecs
;

480 
	#SET_HOSTPORT
(
ho°
, 
p‹t
, 
ªsu…
) do { \

481 
HP_Àn
 = 
	`°æí
 (
ho°
); \

482 
ªsu…
 = 
	`Æloˇ
 (
HP_Àn
 + 1 + 
	`numdigô
 (
p‹t
) + 1); \

483 
	`mem˝y
 (
ªsu…
, 
ho°
, 
HP_Àn
); \

484 
ªsu…
[
HP_Àn
] = ':'; \

485 
	`numbî_to_°rög
 (
ªsu…
 + 
HP_Àn
 + 1, 
p‹t
); \

486 } 0)

	)

492 
	$ªs_ªgi°î_•ecs
 (c⁄° *
ho°
, 
p‹t
, 
robŸ_•ecs
 *
•ecs
)

494 
robŸ_•ecs
 *
ﬁd
;

495 *
hp
, *
hp_ﬁd
;

496 
	`SET_HOSTPORT
 (
ho°
, 
p‹t
, 
hp
);

498 i‡(!
ªgi°îed_•ecs
)

499 
ªgi°îed_•ecs
 = 
	`make_noˇ£_°rög_hash_èbÀ
 (0);

501 i‡(
	`hash_èbÀ_gë_∑ú
 (
ªgi°îed_•ecs
, 
hp
, &
hp_ﬁd
, &
ﬁd
))

503 i‡(
ﬁd
)

504 
	`‰ì_•ecs
 (
ﬁd
);

505 
	`hash_èbÀ_put
 (
ªgi°îed_•ecs
, 
hp_ﬁd
, 
•ecs
);

509 
	`hash_èbÀ_put
 (
ªgi°îed_•ecs
, 
	`x°rdup
 (
hp
), 
•ecs
);

511 
	}
}

515 
robŸ_•ecs
 *

516 
	$ªs_gë_•ecs
 (c⁄° *
ho°
, 
p‹t
)

518 *
hp
;

519 
	`SET_HOSTPORT
 (
ho°
, 
p‹t
, 
hp
);

520 i‡(!
ªgi°îed_•ecs
)

521  
NULL
;

522  
	`hash_èbÀ_gë
 (
ªgi°îed_•ecs
, 
hp
);

523 
	}
}

527 
	#RES_SPECS_LOCATION
 "/robŸs.txt"

	)

535 
boﬁ


536 
	$ªs_ªåõve_fûe
 (c⁄° *
uæ
, **
fûe
, 
úi
 *iri)

538 
úi
 *
i
 = 
	`úi_√w
 ();

539 
uîr_t
 
îr
;

540 *
robŸs_uæ
 = 
	`uri_mîge
 (
uæ
, 
RES_SPECS_LOCATION
);

541 
ßved_ts_vÆ
 = 
›t
.
time°ampög
;

542 
ßved_•_vÆ
 = 
›t
.
•idî
, 
uæ_îr
;

543 
uæ
 * 
uæ_∑r£d
;

547 
	`£t_uri_ícodög
 (
i
, 
úi
->
uri_ícodög
, 
Ál£
);

548 
i
->
utf8_ícode
 = 
Ál£
;

550 
	`logputs
 (
LOG_VERBOSE
, 
	`_
("LoadingÑobots.txt;Ölease ignoreÉrrors.\n"));

551 *
fûe
 = 
NULL
;

552 
›t
.
time°ampög
 = 
Ál£
;

553 
›t
.
•idî
 = 
Ál£
;

555 
uæ_∑r£d
 = 
	`uæ_∑r£
 (
robŸs_uæ
, &
uæ_îr
, 
i
, 
åue
);

556 i‡(!
uæ_∑r£d
)

558 *
îr‹
 = 
	`uæ_îr‹
 (
robŸs_uæ
, 
uæ_îr
);

559 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s.\n", 
robŸs_uæ
, 
îr‹
);

560 
	`x‰ì
 (
îr‹
);

561 
îr
 = 
URLERROR
;

565 
îr
 = 
	`ªåõve_uæ
 (
uæ_∑r£d
, 
robŸs_uæ
, 
fûe
, 
NULL
, NULL, NULL,

566 
Ál£
, 
i
, false);

567 
	`uæ_‰ì
(
uæ_∑r£d
);

570 
›t
.
time°ampög
 = 
ßved_ts_vÆ
;

571 
›t
.
•idî
 = 
ßved_•_vÆ
;

572 
	`x‰ì
 (
robŸs_uæ
);

573 
	`úi_‰ì
 (
i
);

575 i‡(
îr
 !
RETROK
 && *
fûe
 !
NULL
)

580 
	`x‰ì
 (*
fûe
);

581 *
fûe
 = 
NULL
;

583  
îr
 =
RETROK
;

584 
	}
}

586 
boﬁ


587 
	$is_robŸs_txt_uæ
 (c⁄° *
uæ
)

589 *
robŸs_uæ
 = 
	`uri_mîge
 (
uæ
, 
RES_SPECS_LOCATION
);

590 
boﬁ
 
ªt
 = 
	`¨e_uæs_equÆ
 (
uæ
, 
robŸs_uæ
);

592 
	`x‰ì
 (
robŸs_uæ
);

594  
ªt
;

595 
	}
}

598 
	$ªs_˛ónup
 ()

600 i‡(
ªgi°îed_•ecs
)

602 
hash_èbÀ_ôî©‹
 
ôî
;

603 
	`hash_èbÀ_ôî©e
 (
ªgi°îed_•ecs
, &
ôî
);

604 
	`hash_èbÀ_ôî_√xt
 (&
ôî
);

607 
	`x‰ì
 (
ôî
.
key
);

608 
	`‰ì_•ecs
 (
ôî
.
vÆue
);

610 
	`hash_èbÀ_de°roy
 (
ªgi°îed_•ecs
);

611 
ªgi°îed_•ecs
 = 
NULL
;

613 
	}
}

615 #ifde‡
TESTING


618 
	$ã°_is_robŸs_txt_uæ
()

620 
i
;

622 *
uæ
;

623 
boﬁ
 
ex≥˘ed_ªsu…
;

624 } 
ã°_¨øy
[] = {

625 { "hâp://www.yoyody√.com/robŸs.txt", 
åue
 },

626 { "hâp://www.yoyody√.com/somï©h/", 
Ál£
 },

627 { "hâp://www.yoyody√.com/somï©h/robŸs.txt", 
Ál£
 },

630 
i
 = 0; i < (
ã°_¨øy
)/(test_array[0]); ++i)

632 
	`mu_as£π
 ("test_is_robots_txt_url: wrongÑesult",

633 
	`is_robŸs_txt_uæ
 (
ã°_¨øy
[
i
].
uæ
Ë=ã°_¨øy[i].
ex≥˘ed_ªsu…
);

636  
NULL
;

637 
	}
}

	@src/res.h

31 #i‚de‡
RES_H


32 
	#RES_H


	)

34 
	grobŸ_•ecs
;

36 
robŸ_•ecs
 *
ªs_∑r£
 (const *, );

37 
robŸ_•ecs
 *
ªs_∑r£_‰om_fûe
 (const *);

39 
boﬁ
 
ªs_m©ch_∑th
 (c⁄° 
robŸ_•ecs
 *, const *);

41 
ªs_ªgi°î_•ecs
 (c⁄° *, , 
robŸ_•ecs
 *);

42 
robŸ_•ecs
 *
ªs_gë_•ecs
 (const *, );

44 
boﬁ
 
ªs_ªåõve_fûe
 (c⁄° *, **, 
úi
 *);

46 
boﬁ
 
is_robŸs_txt_uæ
 (const *);

48 
ªs_˛ónup
 ();

	@src/retr.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<uni°d.h
>

37 
	~<î∫o.h
>

38 
	~<°rög.h
>

39 
	~<as£π.h
>

41 
	~"exôs.h
"

42 
	~"utûs.h
"

43 
	~"ªå.h
"

44 
	~"¥ogªss.h
"

45 
	~"uæ.h
"

46 
	~"ªcur.h
"

47 
	~"·p.h
"

48 
	~"hâp.h
"

49 
	~"ho°.h
"

50 
	~"c⁄√˘.h
"

51 
	~"hash.h
"

52 
	~"c⁄vît.h
"

53 
	~"±imî.h
"

54 
	~"html-uæ.h
"

55 
	~"úi.h
"

58 
SUM_SIZE_INT
 
	gtŸÆ_dow∆ﬂded_byãs
;

61 
	gtŸÆ_dow∆ﬂd_time
;

65 
FILE
 *
	gouçut_°ªam
;

69 
boﬁ
 
	gouçut_°ªam_ªguœr
;

72 
wgöt
 
	mchunk_byãs
;

73 
	mchunk_°¨t
;

74 
	m¶ìp_adju°
;

75 } 
	glimô_d©a
;

78 
	$limô_b™dwidth_ª£t
 ()

80 
	`xzîo
 (
limô_d©a
);

81 
	}
}

88 
	$limô_b™dwidth
 (
wgöt
 
byãs
, 
±imî
 *
timî
)

90 
dñè_t
 = 
	`±imî_ªad
 (
timî
Ë- 
limô_d©a
.
chunk_°¨t
;

91 
ex≥˘ed
;

93 
limô_d©a
.
chunk_byãs
 +
byãs
;

98 
ex≥˘ed
 = (Ë
limô_d©a
.
chunk_byãs
 / 
›t
.
limô_øã
;

100 i‡(
ex≥˘ed
 > 
dñè_t
)

102 
¶p
 = 
ex≥˘ed
 - 
dñè_t
 + 
limô_d©a
.
¶ìp_adju°
;

103 
t0
, 
t1
;

104 i‡(
¶p
 < 0.2)

106 
	`DEBUGP
 (("deferringá %.2f ms sleep (%s/%.2f).\n",

107 
¶p
 * 1000, 
	`numbî_to_°©ic_°rög
 (
limô_d©a
.
chunk_byãs
),

108 
dñè_t
));

111 
	`DEBUGP
 (("\nsleeping %.2f ms for %s bytes,ádjust %.2f ms\n",

112 
¶p
 * 1000, 
	`numbî_to_°©ic_°rög
 (
limô_d©a
.
chunk_byãs
),

113 
limô_d©a
.
¶ìp_adju°
));

115 
t0
 = 
	`±imî_ªad
 (
timî
);

116 
	`x¶ìp
 (
¶p
);

117 
t1
 = 
	`±imî_mósuª
 (
timî
);

123 
limô_d©a
.
¶ìp_adju°
 = 
¶p
 - (
t1
 - 
t0
);

126 i‡(
limô_d©a
.
¶ìp_adju°
 > 0.5)

127 
limô_d©a
.
¶ìp_adju°
 = 0.5;

128 i‡(
limô_d©a
.
¶ìp_adju°
 < -0.5)

129 
limô_d©a
.
¶ìp_adju°
 = -0.5;

132 
limô_d©a
.
chunk_byãs
 = 0;

133 
limô_d©a
.
chunk_°¨t
 = 
	`±imî_ªad
 (
timî
);

134 
	}
}

136 #i‚de‡
MIN


137 
	#MIN
(
i
, 
j
Ë((iË<(jË? (iË: (j))

	)

145 
	$wrôe_d©a
 (
FILE
 *
out
, c⁄° *
buf
, 
bufsize
, 
wgöt
 *
skù
,

146 
wgöt
 *
wrôãn
)

148 i‡(!
out
)

150 i‡(*
skù
 > 
bufsize
)

152 *
skù
 -
bufsize
;

155 i‡(*
skù
)

157 
buf
 +*
skù
;

158 
bufsize
 -*
skù
;

159 *
skù
 = 0;

160 i‡(
bufsize
 == 0)

164 
	`fwrôe
 (
buf
, 1, 
bufsize
, 
out
);

165 *
wrôãn
 +
bufsize
;

180 #i‚de‡
__VMS


181 
	`fÊush
 (
out
);

183  !
	`„º‹
 (
out
);

184 
	}
}

206 
	$fd_ªad_body
 (
fd
, 
FILE
 *
out
, 
wgöt
 
t‹ód
, wgöà
°¨ços
,

207 
wgöt
 *
qtyªad
, wgöà*
qtywrôãn
, *
ñ≠£d
, 
Êags
)

209 
ªt
 = 0;

210 
	#max
(
a
,
b
Ë(◊Ë> (bË? (aË: (b))

	)

211 
dlbufsize
 = 
	`max
 (
BUFSIZ
, 8 * 1024);

212 *
dlbuf
 = 
	`xmÆloc
 (
dlbufsize
);

214 
±imî
 *
timî
 = 
NULL
;

215 
œ°_suc˚ssful_ªad_tm
 = 0;

218 *
¥ogªss
 = 
NULL
;

224 
boﬁ
 
¥ogªss_öãø˘ive
 = 
Ál£
;

226 
boﬁ
 
exa˘
 = !!(
Êags
 & 
rb_ªad_exa˘ly
);

229 
boﬁ
 
chunked
 = 
Êags
 & 
rb_chunked_å™s„r_ícodög
;

230 
wgöt
 
skù
 = 0;

233 
wgöt
 
sum_ªad
 = 0;

234 
wgöt
 
sum_wrôãn
 = 0;

235 
wgöt
 
ªmaöög_chunk_size
 = 0;

237 i‡(
Êags
 & 
rb_skù_°¨ços
)

238 
skù
 = 
°¨ços
;

240 i‡(
›t
.
vîbo£
)

245 
wgöt
 
°¨t
 = 
skù
 ? 0 : 
°¨ços
;

246 
¥ogªss
 = 
	`¥ogªss_¸óã
 (
°¨t
, sèπ + 
t‹ód
);

247 
¥ogªss_öãø˘ive
 = 
	`¥ogªss_öãø˘ive_p
 (
¥ogªss
);

250 i‡(
›t
.
limô_øã
)

251 
	`limô_b™dwidth_ª£t
 ();

256 i‡(
¥ogªss
 || 
›t
.
limô_øã
 || 
ñ≠£d
)

258 
timî
 = 
	`±imî_√w
 ();

259 
œ°_suc˚ssful_ªad_tm
 = 0;

266 i‡(
›t
.
limô_øã
 && o±.limô_øã < 
dlbufsize
)

267 
dlbufsize
 = 
›t
.
limô_øã
;

273 !
exa˘
 || (
sum_ªad
 < 
t‹ód
))

275 
rdsize
;

276 
tmout
 = 
›t
.
ªad_timeout
;

278 i‡(
chunked
)

280 i‡(
ªmaöög_chunk_size
 == 0)

282 *
löe
 = 
	`fd_ªad_löe
 (
fd
);

283 *
ídl
;

284 i‡(
löe
 =
NULL
)

286 
ªt
 = -1;

290 
ªmaöög_chunk_size
 = 
	`°πﬁ
 (
löe
, &
ídl
, 16);

291 i‡(
ªmaöög_chunk_size
 == 0)

293 
ªt
 = 0;

294 i‡(
	`fd_ªad_löe
 (
fd
Ë=
NULL
)

295 
ªt
 = -1;

300 
rdsize
 = 
	`MIN
 (
ªmaöög_chunk_size
, 
dlbufsize
);

303 
rdsize
 = 
exa˘
 ? 
	`MIN
 (
t‹ód
 - 
sum_ªad
, 
dlbufsize
) : dlbufsize;

305 i‡(
¥ogªss_öãø˘ive
)

310 
tmout
 = 0.95;

311 i‡(
›t
.
ªad_timeout
)

313 
waôtm
;

314 
waôtm
 = 
	`±imî_ªad
 (
timî
Ë- 
œ°_suc˚ssful_ªad_tm
;

315 i‡(
waôtm
 + 
tmout
 > 
›t
.
ªad_timeout
)

318 
tmout
 = 
›t
.
ªad_timeout
 - 
waôtm
;

319 i‡(
tmout
 < 0)

322 
ªt
 = -1, 
î∫o
 = 
ETIMEDOUT
;

328 
ªt
 = 
	`fd_ªad
 (
fd
, 
dlbuf
, 
rdsize
, 
tmout
);

330 i‡(
¥ogªss_öãø˘ive
 && 
ªt
 < 0 && 
î∫o
 =
ETIMEDOUT
)

331 
ªt
 = 0;

332 i‡(
ªt
 <= 0)

335 i‡(
¥ogªss
 || 
›t
.
limô_øã
 || 
ñ≠£d
)

337 
	`±imî_mósuª
 (
timî
);

338 i‡(
ªt
 > 0)

339 
œ°_suc˚ssful_ªad_tm
 = 
	`±imî_ªad
 (
timî
);

342 i‡(
ªt
 > 0)

344 
sum_ªad
 +
ªt
;

345 i‡(!
	`wrôe_d©a
 (
out
, 
dlbuf
, 
ªt
, &
skù
, &
sum_wrôãn
))

347 
ªt
 = -2;

348 
out
;

350 i‡(
chunked
)

352 
ªmaöög_chunk_size
 -
ªt
;

353 i‡(
ªmaöög_chunk_size
 == 0)

354 i‡(
	`fd_ªad_löe
 (
fd
Ë=
NULL
)

356 
ªt
 = -1;

362 i‡(
›t
.
limô_øã
)

363 
	`limô_b™dwidth
 (
ªt
, 
timî
);

365 i‡(
¥ogªss
)

366 
	`¥ogªss_upd©e
 (
¥ogªss
, 
ªt
, 
	`±imî_ªad
 (
timî
));

367 #ifde‡
WINDOWS


368 i‡(
t‹ód
 > 0 && !
›t
.
quõt
)

369 
	`ws_≥r˚¡tôÀ
 (100.0 *

370 (
°¨ços
 + 
sum_ªad
Ë/ (°¨ço†+ 
t‹ód
));

373 i‡(
ªt
 < -1)

374 
ªt
 = -1;

376 
out
:

377 i‡(
¥ogªss
)

378 
	`¥ogªss_föish
 (
¥ogªss
, 
	`±imî_ªad
 (
timî
));

380 i‡(
ñ≠£d
)

381 *
ñ≠£d
 = 
	`±imî_ªad
 (
timî
);

382 i‡(
timî
)

383 
	`±imî_de°roy
 (
timî
);

385 i‡(
qtyªad
)

386 *
qtyªad
 +
sum_ªad
;

387 i‡(
qtywrôãn
)

388 *
qtywrôãn
 +
sum_wrôãn
;

390 
	`‰ì
 (
dlbuf
);

392  
ªt
;

393 
	}
}

447 
	$fd_ªad_hunk
 (
fd
, 
hunk_ãrmö©‹_t
 
ãrmö©‹
, 
sizehöt
, 
maxsize
)

449 
bufsize
 = 
sizehöt
;

450 *
hunk
 = 
	`xmÆloc
 (
bufsize
);

451 
èû
 = 0;

453 
	`as£π
 (!
maxsize
 || maxsizê>
bufsize
);

457 c⁄° *
íd
;

458 
pkÀn
, 
rdÀn
, 
ªmaö
;

462 
pkÀn
 = 
	`fd_≥ek
 (
fd
, 
hunk
 + 
èû
, 
bufsize
 - 1 -Åail, -1);

463 i‡(
pkÀn
 < 0)

465 
	`x‰ì
 (
hunk
);

466  
NULL
;

468 
íd
 = 
	`ãrmö©‹
 (
hunk
, hunk + 
èû
, 
pkÀn
);

469 i‡(
íd
)

473 
ªmaö
 = 
íd
 - (
hunk
 + 
èû
);

474 
	`as£π
 (
ªmaö
 >= 0);

475 i‡(
ªmaö
 == 0)

478 
hunk
[
èû
] = '\0';

479  
hunk
;

481 i‡(
bufsize
 - 1 < 
èû
 + 
ªmaö
)

483 
bufsize
 = 
èû
 + 
ªmaö
 + 1;

484 
hunk
 = 
	`xªÆloc
 (hunk, 
bufsize
);

490 
ªmaö
 = 
pkÀn
;

496 
rdÀn
 = 
	`fd_ªad
 (
fd
, 
hunk
 + 
èû
, 
ªmaö
, 0);

497 i‡(
rdÀn
 < 0)

499 
	`x‰ì_nuŒ
 (
hunk
);

500  
NULL
;

502 
èû
 +
rdÀn
;

503 
hunk
[
èû
] = '\0';

505 i‡(
rdÀn
 == 0)

507 i‡(
èû
 == 0)

510 
	`x‰ì
 (
hunk
);

511 
î∫o
 = 0;

512  
NULL
;

516  
hunk
;

518 i‡(
íd
 && 
rdÀn
 =
ªmaö
)

521  
hunk
;

525 i‡(
èû
 =
bufsize
 - 1)

529 i‡(
maxsize
 && 
bufsize
 >= maxsize)

531 
	`x‰ì
 (
hunk
);

532 
î∫o
 = 
ENOMEM
;

533  
NULL
;

535 
bufsize
 <<= 1;

536 i‡(
maxsize
 && 
bufsize
 > maxsize)

537 
bufsize
 = 
maxsize
;

538 
hunk
 = 
	`xªÆloc
 (hunk, 
bufsize
);

541 
	}
}

544 
	$löe_ãrmö©‹
 (c⁄° *
°¨t
, c⁄° *
≥eked
, 
≥ekÀn
)

546 c⁄° *
p
 = 
	`memchr
 (
≥eked
, '\n', 
≥ekÀn
);

547 i‡(
p
)

549  
p
 + 1;

550  
NULL
;

551 
	}
}

557 
	#FD_READ_LINE_MAX
 4096

	)

567 
	$fd_ªad_löe
 (
fd
)

569  
	`fd_ªad_hunk
 (
fd
, 
löe_ãrmö©‹
, 128, 
FD_READ_LINE_MAX
);

570 
	}
}

576 
	$ªå_øã
 (
wgöt
 
byãs
, 
£cs
)

578 
ªs
[20];

579 c⁄° *
øã_«mes
[] = {"B/s", "KB/s", "MB/s", "GB/s" };

580 
unôs
;

582 
dÃ©e
 = 
	`ˇlc_øã
 (
byãs
, 
£cs
, &
unôs
);

585 
	`•rötf
 (
ªs
, "%.*f %s",

586 
dÃ©e
 >= 99.95 ? 0 : dlrate >= 9.995 ? 1 : 2,

587 
dÃ©e
, 
øã_«mes
[
unôs
]);

589  
ªs
;

590 
	}
}

601 
	$ˇlc_øã
 (
wgöt
 
byãs
, 
£cs
, *
unôs
)

603 
dÃ©e
;

605 
	`as£π
 (
£cs
 >= 0);

606 
	`as£π
 (
byãs
 >= 0);

608 i‡(
£cs
 == 0)

613 
£cs
 = 
	`±imî_ªsﬁuti⁄
 () / 2.0;

615 
dÃ©e
 = 
byãs
 / 
£cs
;

616 i‡(
dÃ©e
 < 1024.0)

617 *
unôs
 = 0;

618 i‡(
dÃ©e
 < 1024.0 * 1024.0)

619 *
unôs
 = 1, 
dÃ©e
 /= 1024.0;

620 i‡(
dÃ©e
 < 1024.0 * 1024.0 * 1024.0)

621 *
unôs
 = 2, 
dÃ©e
 /= (1024.0 * 1024.0);

624 *
unôs
 = 3, 
dÃ©e
 /= (1024.0 * 1024.0 * 1024.0);

626  
dÃ©e
;

627 
	}
}

630 
	#SUSPEND_POST_DATA
 do { \

631 
po°_d©a_su•íded
 = 
åue
; \

632 
ßved_po°_d©a
 = 
›t
.
po°_d©a
; \

633 
ßved_po°_fûe_«me
 = 
›t
.
po°_fûe_«me
; \

634 
›t
.
po°_d©a
 = 
NULL
; \

635 
›t
.
po°_fûe_«me
 = 
NULL
; \

636 } 0)

	)

638 
	#RESTORE_POST_DATA
 do { \

639 i‡(
po°_d©a_su•íded
) \

641 
›t
.
po°_d©a
 = 
ßved_po°_d©a
; \

642 
›t
.
po°_fûe_«me
 = 
ßved_po°_fûe_«me
; \

643 
po°_d©a_su•íded
 = 
Ál£
; \

645 } 0)

	)

647 *
gë¥oxy
 (
uæ
 *);

655 
uîr_t


656 
	$ªåõve_uæ
 (
uæ
 * 
‹ig_∑r£d
, c⁄° *
‹iguæ
, **
fûe
,

657 **
√wloc
, c⁄° *
ªfuæ
, *
dt
, 
boﬁ
 
ªcursive
,

658 
úi
 *úi, 
boﬁ
 
ªgi°î_°©us
)

660 
uîr_t
 
ªsu…
;

661 *
uæ
;

662 
boﬁ
 
loˇti⁄_ch™ged
;

663 
boﬁ
 
úi_ÁŒbacked
 = 0;

664 
dummy
;

665 *
my√wloc
, *
¥oxy
;

666 
uæ
 *
u
 = 
‹ig_∑r£d
, *
¥oxy_uæ
;

667 
up_îr‹_code
;

668 *
loˇl_fûe
;

669 
ªdúe˘i⁄_cou¡
 = 0;

671 
boﬁ
 
po°_d©a_su•íded
 = 
Ál£
;

672 *
ßved_po°_d©a
 = 
NULL
;

673 *
ßved_po°_fûe_«me
 = 
NULL
;

676 i‡(!
dt
)

678 
dt
 = &
dummy
;

679 
dummy
 = 0;

682 
uæ
 = 
	`x°rdup
 (
‹iguæ
);

684 i‡(
√wloc
)

685 *
√wloc
 = 
NULL
;

687 i‡(
fûe
)

688 *
fûe
 = 
NULL
;

690 i‡(!
ªfuæ
)

691 
ªfuæ
 = 
›t
.
ª„ªr
;

693 
ªdúe˘ed
:

696 
ªsu…
 = 
NOCONERROR
;

697 
my√wloc
 = 
NULL
;

698 
loˇl_fûe
 = 
NULL
;

699 
¥oxy_uæ
 = 
NULL
;

702 
¥oxy
 = 
	`gë¥oxy
 (
u
);

703 i‡(
¥oxy
)

705 
úi
 *
pi
 = 
	`úi_√w
 ();

706 
	`£t_uri_ícodög
 (
pi
, 
›t
.
loˇÀ
, 
åue
);

707 
pi
->
utf8_ícode
 = 
Ál£
;

710 
¥oxy_uæ
 = 
	`uæ_∑r£
 (
¥oxy
, &
up_îr‹_code
, 
NULL
, 
åue
);

711 i‡(!
¥oxy_uæ
)

713 *
îr‹
 = 
	`uæ_îr‹
 (
¥oxy
, 
up_îr‹_code
);

714 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("ErrorÖarsingÖroxy URL %s: %s.\n"),

715 
¥oxy
, 
îr‹
);

716 
	`x‰ì
 (
uæ
);

717 
	`x‰ì
 (
îr‹
);

718 
RESTORE_POST_DATA
;

719 
ªsu…
 = 
PROXERR
;

720 
baû
;

722 i‡(
¥oxy_uæ
->
scheme
 !
SCHEME_HTTP
 &&Öroxy_uæ->schemê!
u
->scheme)

724 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("Eº‹ i¿¥oxy URL %s: Mu° bêHTTP.\n"), 
¥oxy
);

725 
	`uæ_‰ì
 (
¥oxy_uæ
);

726 
	`x‰ì
 (
uæ
);

727 
RESTORE_POST_DATA
;

728 
ªsu…
 = 
PROXERR
;

729 
baû
;

733 i‡(
u
->
scheme
 =
SCHEME_HTTP


734 #ifde‡
HAVE_SSL


735 || 
u
->
scheme
 =
SCHEME_HTTPS


737 || (
¥oxy_uæ
 &&Öroxy_uæ->
scheme
 =
SCHEME_HTTP
))

747 
ªsu…
 = 
	`hâp_lo›
 (
u
, 
‹ig_∑r£d
, &
my√wloc
, &
loˇl_fûe
, 
ªfuæ
, 
dt
,

748 
¥oxy_uæ
, 
úi
);

750 i‡(
u
->
scheme
 =
SCHEME_FTP
)

755 
boﬁ
 
ﬁdªc
 = 
ªcursive
, 
glob
 = 
›t
.
·p_glob
;

756 i‡(
ªdúe˘i⁄_cou¡
)

757 
ﬁdªc
 = 
glob
 = 
Ál£
;

759 
ªsu…
 = 
	`·p_lo›
 (
u
, &
loˇl_fûe
, 
dt
, 
¥oxy_uæ
, 
ªcursive
, 
glob
);

760 
ªcursive
 = 
ﬁdªc
;

766 i‡(
ªdúe˘i⁄_cou¡
 && 
loˇl_fûe
 && 
u
->
scheme
 =
SCHEME_FTP
)

768 i‡(
	`has_html_suffix_p
 (
loˇl_fûe
))

769 *
dt
 |
TEXTHTML
;

773 i‡(
¥oxy_uæ
)

775 
	`uæ_‰ì
 (
¥oxy_uæ
);

776 
¥oxy_uæ
 = 
NULL
;

779 
loˇti⁄_ch™ged
 = (
ªsu…
 =
NEWLOCATION
 ||Ñesu… =
NEWLOCATION_KEEP_POST
);

780 i‡(
loˇti⁄_ch™ged
)

782 *
c⁄°ru˚d_√wloc
;

783 
uæ
 *
√wloc_∑r£d
;

785 
	`as£π
 (
my√wloc
 !
NULL
);

787 i‡(
loˇl_fûe
)

788 
	`x‰ì
 (
loˇl_fûe
);

794 
c⁄°ru˚d_√wloc
 = 
	`uri_mîge
 (
uæ
, 
my√wloc
);

795 
	`x‰ì
 (
my√wloc
);

796 
my√wloc
 = 
c⁄°ru˚d_√wloc
;

800 
úi
->
utf8_ícode
 = 
›t
.
íabÀ_úi
;

801 
	`£t_c⁄ã¡_ícodög
 (
úi
, 
NULL
);

802 
	`x‰ì_nuŒ
 (
úi
->
‹ig_uæ
);

805 
√wloc_∑r£d
 = 
	`uæ_∑r£
 (
my√wloc
, &
up_îr‹_code
, 
úi
, 
åue
);

806 i‡(!
√wloc_∑r£d
)

808 *
îr‹
 = 
	`uæ_îr‹
 (
my√wloc
, 
up_îr‹_code
);

809 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s.\n", 
	`es˙⁄¥öt_uri
 (
my√wloc
),

810 
îr‹
);

811 i‡(
‹ig_∑r£d
 !
u
)

813 
	`uæ_‰ì
 (
u
);

815 
	`x‰ì
 (
uæ
);

816 
	`x‰ì
 (
my√wloc
);

817 
	`x‰ì
 (
îr‹
);

818 
RESTORE_POST_DATA
;

819 
baû
;

825 
	`x‰ì
 (
my√wloc
);

826 
my√wloc
 = 
	`x°rdup
 (
√wloc_∑r£d
->
uæ
);

829 i‡(++
ªdúe˘i⁄_cou¡
 > 
›t
.
max_ªdúe˘
)

831 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%dÑedirectionsÉxceeded.\n"),

832 
›t
.
max_ªdúe˘
);

833 
	`uæ_‰ì
 (
√wloc_∑r£d
);

834 i‡(
‹ig_∑r£d
 !
u
)

836 
	`uæ_‰ì
 (
u
);

838 
	`x‰ì
 (
uæ
);

839 
	`x‰ì
 (
my√wloc
);

840 
RESTORE_POST_DATA
;

841 
ªsu…
 = 
WRONGCODE
;

842 
baû
;

845 
	`x‰ì
 (
uæ
);

846 
uæ
 = 
my√wloc
;

847 i‡(
‹ig_∑r£d
 !
u
)

849 
	`uæ_‰ì
 (
u
);

851 
u
 = 
√wloc_∑r£d
;

863 i‡(
ªsu…
 !
NEWLOCATION_KEEP_POST
 && !
po°_d©a_su•íded
)

864 
SUSPEND_POST_DATA
;

866 
ªdúe˘ed
;

870 i‡(!(*
dt
 & 
RETROKF
Ë&& 
úi
->
utf8_ícode
)

872 
úi
->
utf8_ícode
 = 
Ál£
;

873 i‡(
‹ig_∑r£d
 !
u
)

875 
	`uæ_‰ì
 (
u
);

877 
u
 = 
	`uæ_∑r£
 (
‹iguæ
, 
NULL
, 
úi
, 
åue
);

878 i‡(
u
)

880 
	`DEBUGP
 (("[IRI fÆlbackögÅÿn⁄-utf8 f‹ %s\n", 
	`quŸe
 (
uæ
)));

881 
uæ
 = 
	`x°rdup
 (
u
->url);

882 
úi_ÁŒbacked
 = 1;

883 
ªdúe˘ed
;

886 
	`DEBUGP
 (("[Couldn'àÁŒbackÅÿn⁄-utf8 f‹ %s\n", 
	`quŸe
 (
uæ
)));

889 i‡(
loˇl_fûe
 && 
u
 && *
dt
 & 
RETROKF
)

891 
	`ªgi°î_dow∆ﬂd
 (
u
->
uæ
, 
loˇl_fûe
);

893 i‡(!
›t
.
•idî
 && 
ªdúe˘i⁄_cou¡
 && 0 !
	`°rcmp
 (
‹iguæ
, 
u
->
uæ
))

894 
	`ªgi°î_ªdúe˘i⁄
 (
‹iguæ
, 
u
->
uæ
);

896 i‡(*
dt
 & 
TEXTHTML
)

897 
	`ªgi°î_html
 (
u
->
uæ
, 
loˇl_fûe
);

899 i‡(*
dt
 & 
TEXTCSS
)

900 
	`ªgi°î_css
 (
u
->
uæ
, 
loˇl_fûe
);

903 i‡(
fûe
)

904 *
fûe
 = 
loˇl_fûe
 ?Üoˇl_fûê: 
NULL
;

906 
	`x‰ì_nuŒ
 (
loˇl_fûe
);

908 i‡(
‹ig_∑r£d
 !
u
)

910 
	`uæ_‰ì
 (
u
);

913 i‡(
ªdúe˘i⁄_cou¡
 || 
úi_ÁŒbacked
)

915 i‡(
√wloc
)

916 *
√wloc
 = 
uæ
;

918 
	`x‰ì
 (
uæ
);

922 i‡(
√wloc
)

923 *
√wloc
 = 
NULL
;

924 
	`x‰ì
 (
uæ
);

927 
RESTORE_POST_DATA
;

929 
baû
:

930 i‡(
ªgi°î_°©us
)

931 
	`öf‹m_exô_°©us
 (
ªsu…
);

932  
ªsu…
;

933 
	}
}

941 
uîr_t


942 
	$ªåõve_‰om_fûe
 (c⁄° *
fûe
, 
boﬁ
 
html
, *
cou¡
)

944 
uîr_t
 
°©us
;

945 
uæpos
 *
uæ_li°
, *
cur_uæ
;

946 
úi
 *úò
	`úi_√w
();

948 *
öput_fûe
, *
uæ_fûe
 = 
NULL
;

949 c⁄° *
uæ
 = 
fûe
;

951 
°©us
 = 
RETROK
;

952 *
cou¡
 = 0;

955 
	`£t_uri_ícodög
 (
úi
, 
›t
.
loˇÀ
, 
åue
);

956 
	`£t_c⁄ã¡_ícodög
 (
úi
, 
›t
.
loˇÀ
);

958 i‡(
	`uæ_vÆid_scheme
 (
uæ
))

960 
dt
,
uæ_îr
;

961 
uîr_t
 
°©us
;

962 
uæ
 *
uæ_∑r£d
 = 
	`uæ_∑r£
 (uæ, &
uæ_îr
, 
úi
, 
åue
);

963 i‡(!
uæ_∑r£d
)

965 *
îr‹
 = 
	`uæ_îr‹
 (
uæ
, 
uæ_îr
);

966 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s.\n", 
uæ
, 
îr‹
);

967 
	`x‰ì
 (
îr‹
);

968  
URLERROR
;

971 i‡(!
›t
.
ba£_hªf
)

972 
›t
.
ba£_hªf
 = 
	`x°rdup
 (
uæ
);

974 
°©us
 = 
	`ªåõve_uæ
 (
uæ_∑r£d
, 
uæ
, &
uæ_fûe
, 
NULL
, NULL, &
dt
,

975 
Ál£
, 
úi
, 
åue
);

976 
	`uæ_‰ì
 (
uæ_∑r£d
);

978 i‡(!
uæ_fûe
 || (
°©us
 !
RETROK
))

979  
°©us
;

981 i‡(
dt
 & 
TEXTHTML
)

982 
html
 = 
åue
;

986 i‡(
úi
->
c⁄ã¡_ícodög
 !
›t
.
loˇÀ
)

987 
	`£t_uri_ícodög
 (
úi
, iri->
c⁄ã¡_ícodög
, 
Ál£
);

990 
úi
->
utf8_ícode
 = 
›t
.
íabÀ_úi
;

991 
	`x‰ì_nuŒ
 (
úi
->
‹ig_uæ
);

992 
úi
->
‹ig_uæ
 = 
NULL
;

994 
öput_fûe
 = 
uæ_fûe
;

997 
öput_fûe
 = (*Ë
fûe
;

999 
uæ_li°
 = (
html
 ? 
	`gë_uæs_html
 (
öput_fûe
, 
NULL
, NULL, 
úi
)

1000 : 
	`gë_uæs_fûe
 (
öput_fûe
));

1002 
	`x‰ì_nuŒ
 (
uæ_fûe
);

1004 
cur_uæ
 = 
uæ_li°
; cur_uæ; cur_uæ = cur_uæ->
√xt
, ++*
cou¡
)

1006 *
fûíame
 = 
NULL
, *
√w_fûe
 = NULL;

1007 
dt
;

1008 
úi
 *
tmpúi
 = 
	`úi_dup
 (iri);

1009 
uæ
 *
∑r£d_uæ
 = 
NULL
;

1011 i‡(
cur_uæ
->
ign‹e_whí_dow∆ﬂdög
)

1014 i‡(
›t
.
quŸa
 && 
tŸÆ_dow∆ﬂded_byãs
 > opt.quota)

1016 
°©us
 = 
QUOTEXC
;

1020 
∑r£d_uæ
 = 
	`uæ_∑r£
 (
cur_uæ
->
uæ
->uæ, 
NULL
, 
tmpúi
, 
åue
);

1022 i‡((
›t
.
ªcursive
 || o±.
∑ge_ªquisôes
)

1023 && (
cur_uæ
->
uæ
->
scheme
 !
SCHEME_FTP
 || 
	`gë¥oxy
 (cur_url->url)))

1025 
ﬁd_fﬁlow_·p
 = 
›t
.
fﬁlow_·p
;

1028 i‡(
cur_uæ
->
uæ
->
scheme
 =
SCHEME_FTP
)

1029 
›t
.
fﬁlow_·p
 = 1;

1031 
°©us
 = 
	`ªåõve_åì
 (
∑r£d_uæ
 ?Ö¨£d_uæ : 
cur_uæ
->
uæ
,

1032 
tmpúi
);

1034 
›t
.
fﬁlow_·p
 = 
ﬁd_fﬁlow_·p
;

1037 
°©us
 = 
	`ªåõve_uæ
 (
∑r£d_uæ
 ?Ö¨£d_uæ : 
cur_uæ
->
uæ
,

1038 
cur_uæ
->
uæ
->uæ, &
fûíame
,

1039 &
√w_fûe
, 
NULL
, &
dt
, 
›t
.
ªcursive
, 
tmpúi
,

1040 
åue
);

1042 i‡(
∑r£d_uæ
)

1043 
	`uæ_‰ì
 (
∑r£d_uæ
);

1045 i‡(
fûíame
 && 
›t
.
dñëe_a·î
 && 
	`fûe_exi°s_p
 (filename))

1047 
	`DEBUGP
 (("\
 file dueÅo --delete-after inÑetrieve_from_file():\n"));

1049 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("Removög %s.\n"), 
fûíame
);

1050 i‡(
	`u∆ök
 (
fûíame
))

1051 
	`log¥ötf
 (
LOG_NOTQUIET
, "u∆ök: %s\n", 
	`°ªº‹
 (
î∫o
));

1052 
dt
 &~
RETROKF
;

1055 
	`x‰ì_nuŒ
 (
√w_fûe
);

1056 
	`x‰ì_nuŒ
 (
fûíame
);

1057 
	`úi_‰ì
 (
tmpúi
);

1061 
	`‰ì_uæpos
 (
uæ_li°
);

1063 
	`úi_‰ì
 (
úi
);

1065  
°©us
;

1066 
	}
}

1071 
	$¥ötwh©
 (
n1
, 
n2
)

1073 
	`logputs
 (
LOG_VERBOSE
, (
n1
 =
n2
Ë? 
	`_
("Giving up.\n\n") : _("Retrying.\n\n"));

1074 
	}
}

1083 
	$¶ìp_bëwìn_ªåõvÆs
 (
cou¡
)

1085 
boﬁ
 
fú°_ªåõvÆ
 = 
åue
;

1087 i‡(
fú°_ªåõvÆ
)

1090 
fú°_ªåõvÆ
 = 
Ál£
;

1094 i‡(
›t
.
waôªåy
 && 
cou¡
 > 1)

1098 i‡(
cou¡
 <
›t
.
waôªåy
)

1099 
	`x¶ìp
 (
cou¡
 - 1);

1101 
	`x¶ìp
 (
›t
.
waôªåy
);

1103 i‡(
›t
.
waô
)

1105 i‡(!
›t
.
øndom_waô
 || 
cou¡
 > 1)

1109 
	`x¶ìp
 (
›t
.
waô
);

1115 
waô£cs
 = (0.5 + 
	`øndom_Êﬂt
 ()Ë* 
›t
.
waô
;

1116 
	`DEBUGP
 (("sleep_between_retrievals:ávg=%f,sleep=%f\n",

1117 
›t
.
waô
, 
waô£cs
));

1118 
	`x¶ìp
 (
waô£cs
);

1121 
	}
}

1125 
	$‰ì_uæpos
 (
uæpos
 *
l
)

1127 
l
)

1129 
uæpos
 *
√xt
 = 
l
->next;

1130 i‡(
l
->
uæ
)

1131 
	`uæ_‰ì
 (
l
->
uæ
);

1132 
	`x‰ì_nuŒ
 (
l
->
loˇl_«me
);

1133 
	`x‰ì
 (
l
);

1134 
l
 = 
√xt
;

1136 
	}
}

1140 
	$rŸ©e_backups
(c⁄° *
‚ame
)

1142 
maxÀn
 = 
	`°æí
 (
‚ame
Ë+ 1 + 
	`numdigô
 (
›t
.
backups
) + 1;

1143 *
‰om
 = (*)
	`Æloˇ
 (
maxÀn
);

1144 *
to
 = (*)
	`Æloˇ
 (
maxÀn
);

1145 
°ru˘_°©
 
sb
;

1146 
i
;

1148 i‡(
	`°©
 (
‚ame
, &
sb
) == 0)

1149 i‡(
	`S_ISREG
 (
sb
.
°_mode
) == 0)

1152 
i
 = 
›t
.
backups
; i > 1; i--)

1154 
	`•rötf
 (
‰om
, "%s.%d", 
‚ame
, 
i
 - 1);

1155 
	`•rötf
 (
to
, "%s.%d", 
‚ame
, 
i
);

1156 
	`ª«me
 (
‰om
, 
to
);

1159 
	`•rötf
 (
to
, "%s.%d", 
‚ame
, 1);

1160 
	`ª«me
(
‚ame
, 
to
);

1161 
	}
}

1163 
boﬁ
 
no_¥oxy_m©ch
 (const *, const **);

1168 
	$gë¥oxy
 (
uæ
 *
u
)

1170 *
¥oxy
 = 
NULL
;

1171 *
ªwrôãn_uæ
;

1172 
ªwrôãn_°‹age
[1024];

1174 i‡(!
›t
.
u£_¥oxy
)

1175  
NULL
;

1176 i‡(
	`no_¥oxy_m©ch
 (
u
->
ho°
, (c⁄° **)
›t
.
no_¥oxy
))

1177  
NULL
;

1179 
u
->
scheme
)

1181 
SCHEME_HTTP
:

1182 
¥oxy
 = 
›t
.
hâp_¥oxy
 ? o±.hâp_¥oxy : 
	`gëív
 ("http_proxy");

1184 #ifde‡
HAVE_SSL


1185 
SCHEME_HTTPS
:

1186 
¥oxy
 = 
›t
.
hâps_¥oxy
 ? o±.hâps_¥oxy : 
	`gëív
 ("https_proxy");

1189 
SCHEME_FTP
:

1190 
¥oxy
 = 
›t
.
·p_¥oxy
 ? o±.·p_¥oxy : 
	`gëív
 ("ftp_proxy");

1192 
SCHEME_INVALID
:

1195 i‡(!
¥oxy
 || !*proxy)

1196  
NULL
;

1200 
ªwrôãn_uæ
 = 
	`ªwrôe_sh‹th™d_uæ
 (
¥oxy
);

1201 i‡(
ªwrôãn_uæ
)

1203 
	`°∫˝y
 (
ªwrôãn_°‹age
, 
ªwrôãn_uæ
,  (rewritten_storage));

1204 
ªwrôãn_°‹age
[ (rewritten_storage) - 1] = '\0';

1205 
¥oxy
 = 
ªwrôãn_°‹age
;

1208  
¥oxy
;

1209 
	}
}

1213 
boﬁ


1214 
	$uæ_u£s_¥oxy
 (
uæ
 * 
u
)

1216 
boﬁ
 
ªt
;

1217 i‡(!
u
)

1218  
Ál£
;

1219 
ªt
 = 
	`gë¥oxy
 (
u
Ë!
NULL
;

1220  
ªt
;

1221 
	}
}

1224 
boﬁ


1225 
	$no_¥oxy_m©ch
 (c⁄° *
ho°
, c⁄° **
no_¥oxy
)

1227 i‡(!
no_¥oxy
)

1228  
Ál£
;

1230  
	`sufm©ch
 (
no_¥oxy
, 
ho°
);

1231 
	}
}

1235 
	$£t_loˇl_fûe
 (c⁄° **
fûe
, c⁄° *
deÁu…_fûe
)

1237 i‡(
›t
.
ouçut_documít
)

1239 i‡(
ouçut_°ªam_ªguœr
)

1240 *
fûe
 = 
›t
.
ouçut_documít
;

1243 *
fûe
 = 
deÁu…_fûe
;

1244 
	}
}

1247 
boﬁ


1248 
	$öput_fûe_uæ
 (c⁄° *
öput_fûe
)

1250 
boﬁ
 
fú°
 = 
åue
;

1252 i‡(
öput_fûe


1253 && 
	`uæ_has_scheme
 (
öput_fûe
)

1254 && 
fú°
)

1256 
fú°
 = 
Ál£
;

1257  
åue
;

1260  
Ál£
;

1261 
	}
}

	@src/retr.h

32 #i‚de‡
RETR_H


33 
	#RETR_H


	)

35 
	~"uæ.h
"

39 
SUM_SIZE_INT
 
tŸÆ_dow∆ﬂded_byãs
;

40 
tŸÆ_dow∆ﬂd_time
;

41 
FILE
 *
ouçut_°ªam
;

42 
boﬁ
 
ouçut_°ªam_ªguœr
;

46 
	mrb_ªad_exa˘ly
 = 1,

47 
	mrb_skù_°¨ços
 = 2,

50 
	mrb_chunked_å™s„r_ícodög
 = 4

53 
fd_ªad_body
 (, 
FILE
 *, 
wgöt
, wgint, wgint *, wgint *, *, );

55 c⁄° *(*
	thunk_ãrmö©‹_t
) (const *, const *, );

57 *
fd_ªad_hunk
 (, 
hunk_ãrmö©‹_t
, , );

58 *
fd_ªad_löe
 ();

60 
uîr_t
 
ªåõve_uæ
 (
uæ
 *, const *, **, **,

61 c⁄° *, *, 
boﬁ
, 
úi
 *, bool);

62 
uîr_t
 
ªåõve_‰om_fûe
 (c⁄° *, 
boﬁ
, *);

64 c⁄° *
ªå_øã
 (
wgöt
, );

65 
ˇlc_øã
 (
wgöt
, , *);

66 
¥ötwh©
 (, );

68 
¶ìp_bëwìn_ªåõvÆs
 ();

70 
rŸ©e_backups
 (const *);

72 
boﬁ
 
uæ_u£s_¥oxy
 (
uæ
 *);

74 
£t_loˇl_fûe
 (const **, const *);

76 
boﬁ
 
öput_fûe_uæ
 (const *);

	@src/spider.c

31 
	~"wgë.h
"

33 
	~<°dio.h
>

34 
	~<î∫o.h
>

35 
	~<as£π.h
>

37 
	~"•idî.h
"

38 
	~"uæ.h
"

39 
	~"utûs.h
"

40 
	~"hash.h
"

41 
	~"ªs.h
"

44 
hash_èbÀ
 *
	gn⁄exi°ög_uæs_£t
;

49 
	$•idî_˛ónup
 ()

51 i‡(
n⁄exi°ög_uæs_£t
)

52 
	`°rög_£t_‰ì
 (
n⁄exi°ög_uæs_£t
);

53 
	}
}

57 
	$n⁄exi°ög_uæ
 (c⁄° *
uæ
)

60 i‡(
	`is_robŸs_txt_uæ
 (
uæ
))

62 i‡(!
n⁄exi°ög_uæs_£t
)

63 
n⁄exi°ög_uæs_£t
 = 
	`make_°rög_hash_èbÀ
 (0);

64 
	`°rög_£t_add
 (
n⁄exi°ög_uæs_£t
, 
uæ
);

65 
	}
}

68 
	$¥öt_brokí_löks
 ()

70 
hash_èbÀ_ôî©‹
 
ôî
;

71 
num_ñems
;

73 i‡(!
n⁄exi°ög_uæs_£t
)

75 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("FoundÇo brokenÜinks.\n\n"));

79 
num_ñems
 = 
	`hash_èbÀ_cou¡
 (
n⁄exi°ög_uæs_£t
);

80 
	`as£π
 (
num_ñems
 > 0);

82 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`ngëãxt
("Found %d brokenÜink.\n\n",

83 "Found %d brokíÜöks.\n\n", 
num_ñems
),

84 
num_ñems
);

86 
	`hash_èbÀ_ôî©e
 (
n⁄exi°ög_uæs_£t
, &
ôî
);

87 
	`hash_èbÀ_ôî_√xt
 (&
ôî
); )

90 c⁄° *
uæ
 = (c⁄° *Ë
ôî
.
key
;

92 
	`log¥ötf
 (
LOG_NOTQUIET
, 
	`_
("%s\n"), 
uæ
);

94 
	`logputs
 (
LOG_NOTQUIET
, "\n");

95 
	}
}

	@src/spider.h

31 #i‚de‡
SPIDER_H


32 
	#SPIDER_H


	)

34 
	#visôed_uæ
(
a
,
b
)

	)

35 
n⁄exi°ög_uæ
 (const *);

36 
¥öt_brokí_löks
 ();

	@src/ssl.h

32 #i‚de‡
GEN_SSLFUNC_H


33 
	#GEN_SSLFUNC_H


	)

35 
boﬁ
 
s¶_öô
 ();

36 
boﬁ
 
s¶_c⁄√˘_wgë
 ();

37 
boﬁ
 
s¶_check_˚πifiˇã
 (, const *);

	@src/sysdep.h

35 #i‚de‡
SYSDEP_H


36 
	#SYSDEP_H


	)

39 #ifde‡
__sun


40 #ifde‡
__SVR4


41 
	#sﬁ¨is


	)

45 #i‡
deföed
(
__INTERIX
Ë&& !deföed(
_ALL_SOURCE
)

46 
	#_ALL_SOURCE


	)

59 #unde‡
NAMESPACE_TWEAKS


61 #ifde‡
sﬁ¨is


62 
	#NAMESPACE_TWEAKS


	)

65 #i‡
deföed
(
__löux__
Ë|| deföed(
__GLIBC__
)

66 
	#NAMESPACE_TWEAKS


	)

69 #ifde‡
NAMESPACE_TWEAKS


72 
	#_XOPEN_SOURCE
 500

	)

81 #i‡
HAVE_ALLOCA_H


82 
	~<Æloˇ.h
>

83 #ñi‡
deföed
 
WINDOWS


84 
	~<mÆloc.h
>

85 #i‚de‡
Æloˇ


86 
	#Æloˇ
 
_Æloˇ


	)

88 #ñi‡
deföed
 
__GNUC__


89 
	#Æloˇ
 
__buûtö_Æloˇ


	)

90 #ñi‡
deföed
 
_AIX


91 
	#Æloˇ
 
__Æloˇ


	)

93 
	~<°ddef.h
>

94 #ifde‡ 
__˝lu•lus


97 *
Æloˇ
 (
size_t
);

102 
	~<sys/ty≥s.h
>

103 
	~<sys/°©.h
>

105 #ifde‡
HAVE_INTTYPES_H


107 
	~<°döt.h
>

108 
	~<öây≥s.h
>

111 #ifde‡
WINDOWS


118 
	~"mswödows.h
"

122 
	~<°dboﬁ.h
>

125 #i‡
deföed
(
__EMX__
Ë|| deföed(
MSDOS
)

126 #i‚de‡
S_ISLNK


127 
	#S_ISLNK
(
m
Ë0

	)

129 #i‚de‡
l°©


130 
	#l°©
 
°©


	)

140 #i‚de‡
S_ISLNK


141 
	#S_ISLNK
(
m
Ë(((mË& 
S_IFMT
Ë=
S_IFLNK
)

	)

143 #i‚de‡
S_ISDIR


144 
	#S_ISDIR
(
m
Ë(((mË& (
_S_IFMT
)Ë=(
_S_IFDIR
))

	)

146 #i‚de‡
S_ISREG


147 
	#S_ISREG
(
m
Ë(((mË& 
_S_IFMT
Ë=
_S_IFREG
)

	)

152 #i‚de‡
°ru˘_°©


153 
	#°ru˘_°©
 
°©


	)

155 #i‚de‡
°ru˘_f°©


156 
	#°ru˘_f°©
 
°©


	)

160 
	~<limôs.h
>

162 #i‚de‡
CHAR_BIT


163 
	#CHAR_BIT
 8

	)

167 
	#TYPE_MAXIMUM
(
t
Ë(—Ë(~ (~ (tË0 << ( (tË* 
CHAR_BIT
 - 1))))

	)

171 #i‚de‡
HAVE_STRCASECMP


172 
°rˇ£cmp
 ();

174 #i‚de‡
HAVE_STRNCASECMP


175 
°∫ˇ£cmp
 ();

177 #i‚de‡
HAVE_STRPTIME


178 *
°Ωtime
 ();

180 #i‚de‡
HAVE_TIMEGM


181 
	~<time.h
>

182 
time_t
 
timegm
 (
tm
 *);

184 #i‚de‡
HAVE_MEMRCHR


185 *
memrchr
 (c⁄° *, , 
size_t
);

190 #i‚de‡
HAVE_SNPRINTF


191 
¢¥ötf
 (*
°r
, 
size_t
 
cou¡
, c⁄° *
fmt
, ...);

193 #i‚de‡
HAVE_VSNPRINTF


194 
	~<°d¨g.h
>

195 
v¢¥ötf
 (*
°r
, 
size_t
 
cou¡
, c⁄° *
fmt
, 
va_li°
 
¨g
);

204 #i‚de‡
MAP_FAILED


205 
	#MAP_FAILED
 ((*Ë-1)

	)

211 #ifde‡
HAVE_WORKING_FNMATCH_H


212 
	#SYSTEM_FNMATCH


	)

215 #ifde‡
SYSTEM_FNMATCH


216 
	~<‚m©ch.h
>

220 #unde‡
FNM_PATHNAME


221 #unde‡
FNM_NOESCAPE


222 #unde‡
FNM_PERIOD


223 #unde‡
FNM_NOMATCH


225 
	#FNM_PATHNAME
 (1 << 0Ë

	)

226 
	#FNM_NOESCAPE
 (1 << 1Ë

	)

227 
	#FNM_PERIOD
 (1 << 2Ë

	)

228 
	#FNM_NOMATCH
 1

	)

230 
‚m©ch
 (const *, const *, );

234 #i‚de‡
HAVE_SIG_ATOMIC_T


235 
	tsig_©omic_t
;

244 #i‚de‡
HAVE_UINT32_T


245 #i‡
SIZEOF_INT
 == 4

246 
	tuöt32_t
;

248 #i‡
SIZEOF_LONG
 == 4

249 
	tuöt32_t
;

251 #i‡
SIZEOF_SHORT
 == 4

252 
	tuöt32_t
;

261 #i‚de‡
HAVE_UINTPTR_T


262 
	tuöçå_t
;

266 #i‚de‡
HAVE_INTPTR_T


267 
	töçå_t
;

	@src/test.c

31 
	~<°dio.h
>

33 
	~"ã°.h
"

35 #i‚de‡
TESTING


39 c⁄° *
ã°_∑r£_c⁄ã¡_di•osôi⁄
();

40 c⁄° *
ã°_subdú_p
();

41 c⁄° *
ã°_dú_m©ches_p
();

42 c⁄° *
ã°_comm™ds_s‹ãd
();

43 c⁄° *
ã°_cmd_•ec_ª°ri˘_fûe_«mes
();

44 c⁄° *
ã°_∑th_sim∂ify
 ();

45 c⁄° *
ã°_≠≥nd_uri_∑thñ
();

46 c⁄° *
ã°_¨e_uæs_equÆ
();

47 c⁄° *
ã°_is_robŸs_txt_uæ
();

49 
	gã°s_run
;

52 
	$Æl_ã°s
()

54 
	`mu_run_ã°
 (
ã°_∑r£_c⁄ã¡_di•osôi⁄
);

55 
	`mu_run_ã°
 (
ã°_subdú_p
);

56 
	`mu_run_ã°
 (
ã°_dú_m©ches_p
);

57 
	`mu_run_ã°
 (
ã°_comm™ds_s‹ãd
);

58 
	`mu_run_ã°
 (
ã°_cmd_•ec_ª°ri˘_fûe_«mes
);

59 
	`mu_run_ã°
 (
ã°_∑th_sim∂ify
);

60 
	`mu_run_ã°
 (
ã°_≠≥nd_uri_∑thñ
);

61 
	`mu_run_ã°
 (
ã°_¨e_uæs_equÆ
);

62 
	`mu_run_ã°
 (
ã°_is_robŸs_txt_uæ
);

64  
NULL
;

65 
	}
}

67 *
	g¥ogøm_«me
;

70 
	$maö
 (
¨gc
, *
¨gv
[])

72 c⁄° *
ªsu…
;

74 
¥ogøm_«me
 = 
¨gv
[0];

76 
ªsu…
 = 
	`Æl_ã°s
();

78 i‡(
ªsu…
 !
NULL
)

80 
	`puts
 (
ªsu…
);

84 
	`¥ötf
 ("ALL TESTS PASSED\n");

87 
	`¥ötf
 ("Te°†run: %d\n", 
ã°s_run
);

89  
ªsu…
 != 0;

90 
	}
}

	@src/test.h

31 #i‚de‡
TEST_H


32 
	#TEST_H


	)

35 
	#mu_as£π
(
mesßge
, 
ã°
Ëdÿ{ i‡(!—e°)Ë mesßge; } 0)

	)

36 
	#mu_run_ã°
(
ã°
) \

38 c⁄° *
mesßge
; \

39 
	`puts
("RUNNING TEST " #test "..."); \

40 
mesßge
 = 
	`ã°
(); \

41 
ã°s_run
++; \

42 i‡(
mesßge
)  message; \

43 
	`puts
("PASSED\n"); \

44 } 0)

	)

46 
ã°s_run
;

	@src/url.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<uni°d.h
>

38 
	~<î∫o.h
>

39 
	~<as£π.h
>

41 
	~"utûs.h
"

42 
	~"uæ.h
"

43 
	~"ho°.h
"

45 #ifde‡
__VMS


46 
	~"vms.h
"

49 #ifde‡
TESTING


50 
	~"ã°.h
"

54 
	mscm_dißbÀd
 = 1,

55 
	mscm_has_∑øms
 = 2,

56 
	mscm_has_quîy
 = 4,

57 
	mscm_has_‰agmít
 = 8

60 
	sscheme_d©a


63 c⁄° *
	m«me
;

65 c⁄° *
	mÀadög_°rög
;

67 
	mdeÁu…_p‹t
;

69 
	mÊags
;

73 
scheme_d©a
 
	gsuµ‹ãd_schemes
[] =

75 { "hâp", "hâp://", 
DEFAULT_HTTP_PORT
, 
scm_has_quîy
|
scm_has_‰agmít
 },

76 #ifde‡
HAVE_SSL


77 { "hâps", "hâps://", 
DEFAULT_HTTPS_PORT
, 
scm_has_quîy
|
scm_has_‰agmít
 },

79 { "·p", "·p://", 
DEFAULT_FTP_PORT
, 
scm_has_∑øms
|
scm_has_‰agmít
 },

82 { 
NULL
, NULL, -1, 0 }

87 
boﬁ
 
∑th_sim∂ify
 (
uæ_scheme
, *);

115 
	muæchr_ª£rved
 = 1,

118 
	muæchr_unß„
 = 2

121 
	#uæchr_ã°
(
c
, 
mask
Ë(
uæchr_èbÀ
[()(c)] & (mask))

	)

122 
	#URL_RESERVED_CHAR
(
c
Ë
	`uæchr_ã°
(c, 
uæchr_ª£rved
)

	)

123 
	#URL_UNSAFE_CHAR
(
c
Ë
	`uæchr_ã°
(c, 
uæchr_unß„
)

	)

126 
	#R
 
uæchr_ª£rved


	)

127 
	#U
 
uæchr_unß„


	)

128 
	#RU
 
R
|
U


	)

130 c⁄° 
	guæchr_èbÀ
[256] =

132 
U
, U, U, U, U, U, U, U,

133 
U
, U, U, U, U, U, U, U,

134 
U
, U, U, U, U, U, U, U,

135 
U
, U, U, U, U, U, U, U,

136 
U
, 0, U, 
RU
, 
R
, U, R, 0,

137 0, 0, 0, 
R
, R, 0, 0, R,

139 0, 0, 
RU
, 
R
, 
U
, R, U, R,

140 
RU
, 0, 0, 0, 0, 0, 0, 0,

143 0, 0, 0, 
RU
, 
U
, RU, U, 0,

144 
U
, 0, 0, 0, 0, 0, 0, 0,

147 0, 0, 0, 
U
, U, U, 0, U,

149 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

150 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

151 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

152 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

154 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

155 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

156 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

157 
U
, U, U, U, U, U, U, U, U, U, U, U, U, U, U, U,

159 #unde‡
R


160 #unde‡
U


161 #unde‡
RU


173 
	$uæ_u√sˇ≥
 (*
s
)

175 *
t
 = 
s
;

176 *
h
 = 
s
;

178 ; *
h
; h++, 
t
++)

180 i‡(*
h
 != '%')

182 
c›ych¨
:

183 *
t
 = *
h
;

187 
c
;

189 i‡(!
h
[1] || !h[2] || !(
	`c_isxdigô
 (h[1]) && c_isxdigit (h[2])))

190 
c›ych¨
;

191 
c
 = 
	`X2DIGITS_TO_NUM
 (
h
[1], h[2]);

194 i‡(
c
 == '\0')

195 
c›ych¨
;

196 *
t
 = 
c
;

197 
h
 += 2;

200 *
t
 = '\0';

201 
	}
}

211 
	$uæ_esˇ≥_1
 (c⁄° *
s
, 
mask
, 
boﬁ
 
Ælow_∑s°hrough
)

213 c⁄° *
p1
;

214 *
p2
, *
√w°r
;

215 
√wÀn
;

216 
addôi⁄
 = 0;

218 
p1
 = 
s
; *p1;Ö1++)

219 i‡(
	`uæchr_ã°
 (*
p1
, 
mask
))

220 
addôi⁄
 += 2;

222 i‡(!
addôi⁄
)

223  
Ælow_∑s°hrough
 ? (*)
s
 : 
	`x°rdup
 (s);

225 
√wÀn
 = (
p1
 - 
s
Ë+ 
addôi⁄
;

226 
√w°r
 = 
	`xmÆloc
 (
√wÀn
 + 1);

228 
p1
 = 
s
;

229 
p2
 = 
√w°r
;

230 *
p1
)

233 i‡(
	`uæchr_ã°
 (*
p1
, 
mask
))

235 
c
 = *
p1
++;

236 *
p2
++ = '%';

237 *
p2
++ = 
	`XNUM_TO_DIGIT
 (
c
 >> 4);

238 *
p2
++ = 
	`XNUM_TO_DIGIT
 (
c
 & 0xf);

241 *
p2
++ = *
p1
++;

243 
	`as£π
 (
p2
 - 
√w°r
 =
√wÀn
);

244 *
p2
 = '\0';

246  
√w°r
;

247 
	}
}

253 
	$uæ_esˇ≥
 (c⁄° *
s
)

255  
	`uæ_esˇ≥_1
 (
s
, 
uæchr_unß„
, 
Ál£
);

256 
	}
}

262 
	$uæ_esˇ≥_unß„_™d_ª£rved
 (c⁄° *
s
)

264  
	`uæ_esˇ≥_1
 (
s
, 
uæchr_unß„
|
uæchr_ª£rved
, 
Ál£
);

265 
	}
}

271 
	$uæ_esˇ≥_Ælow_∑s°hrough
 (c⁄° *
s
)

273  
	`uæ_esˇ≥_1
 (
s
, 
uæchr_unß„
, 
åue
);

274 
	}
}

282 
ölöe
 
boﬁ


283 
	$ch¨_√eds_esˇpög
 (c⁄° *
p
)

285 i‡(*
p
 == '%')

287 i‡(
	`c_isxdigô
 (*(
p
 + 1)) && c_isxdigit (*(p + 2)))

288  
Ál£
;

291  
åue
;

293 i‡(
	`URL_UNSAFE_CHAR
 (*
p
Ë&& !
	`URL_RESERVED_CHAR
 (*p))

294  
åue
;

296  
Ál£
;

297 
	}
}

378 
	$ªícode_esˇ≥s
 (c⁄° *
s
)

380 c⁄° *
p1
;

381 *
√w°r
, *
p2
;

382 
ﬁdÀn
, 
√wÀn
;

384 
ícode_cou¡
 = 0;

388 
p1
 = 
s
; *p1;Ö1++)

389 i‡(
	`ch¨_√eds_esˇpög
 (
p1
))

390 ++
ícode_cou¡
;

392 i‡(!
ícode_cou¡
)

394  (*Ë
s
;

396 
ﬁdÀn
 = 
p1
 - 
s
;

398 
√wÀn
 = 
ﬁdÀn
 + 2 * 
ícode_cou¡
;

399 
√w°r
 = 
	`xmÆloc
 (
√wÀn
 + 1);

403 
p1
 = 
s
;

404 
p2
 = 
√w°r
;

406 *
p1
)

407 i‡(
	`ch¨_√eds_esˇpög
 (
p1
))

409 
c
 = *
p1
++;

410 *
p2
++ = '%';

411 *
p2
++ = 
	`XNUM_TO_DIGIT
 (
c
 >> 4);

412 *
p2
++ = 
	`XNUM_TO_DIGIT
 (
c
 & 0xf);

415 *
p2
++ = *
p1
++;

417 *
p2
 = '\0';

418 
	`as£π
 (
p2
 - 
√w°r
 =
√wÀn
);

419  
√w°r
;

420 
	}
}

425 
uæ_scheme


426 
	$uæ_scheme
 (c⁄° *
uæ
)

428 
i
;

430 
i
 = 0; 
suµ‹ãd_schemes
[i].
Àadög_°rög
; i++)

431 i‡(0 =
	`°∫ˇ£cmp
 (
uæ
, 
suµ‹ãd_schemes
[
i
].
Àadög_°rög
,

432 
	`°æí
 (
suµ‹ãd_schemes
[
i
].
Àadög_°rög
)))

434 i‡(!(
suµ‹ãd_schemes
[
i
].
Êags
 & 
scm_dißbÀd
))

435  (
uæ_scheme
Ë
i
;

437  
SCHEME_INVALID
;

440  
SCHEME_INVALID
;

441 
	}
}

443 
	#SCHEME_CHAR
(
ch
Ë(
	`c_iß um
 (chË|| (chË='-' || (chË='+')

	)

449 
boﬁ


450 
	$uæ_has_scheme
 (c⁄° *
uæ
)

452 c⁄° *
p
 = 
uæ
;

455 i‡(!*
p
 || !
	`SCHEME_CHAR
 (*p))

456  
Ál£
;

457 ++
p
;

459 *
p
 && 
	`SCHEME_CHAR
 (*p))

460 ++
p
;

462  *
p
 == ':';

463 
	}
}

465 
boﬁ


466 
	$uæ_vÆid_scheme
 (c⁄° *
uæ
)

468 
uæ_scheme
 
scheme
 = 
	`uæ_scheme
 (
uæ
);

469  
scheme
 !
SCHEME_INVALID
;

470 
	}
}

473 
	$scheme_deÁu…_p‹t
 (
uæ_scheme
 
scheme
)

475  
suµ‹ãd_schemes
[
scheme
].
deÁu…_p‹t
;

476 
	}
}

479 
	$scheme_dißbÀ
 (
uæ_scheme
 
scheme
)

481 
suµ‹ãd_schemes
[
scheme
].
Êags
 |
scm_dißbÀd
;

482 
	}
}

491 
	$uæ_skù_¸edítüls
 (c⁄° *
uæ
)

496 c⁄° *
p
 = (c⁄° *)
	`°Ωbrk
 (
uæ
, "@/?#;");

497 i‡(!
p
 || *p != '@')

498  
uæ
;

499  
p
 + 1;

500 
	}
}

505 
boﬁ


506 
	$∑r£_¸edítüls
 (c⁄° *
beg
, c⁄° *
íd
, **
u£r
, **
∑sswd
)

508 *
cﬁ⁄
;

509 c⁄° *
u£ªnd
;

511 i‡(
beg
 =
íd
)

512  
Ál£
;

514 
cﬁ⁄
 = 
	`memchr
 (
beg
, ':', 
íd
 - beg);

515 i‡(
cﬁ⁄
 =
beg
)

516  
Ál£
;

518 i‡(
cﬁ⁄
)

520 *
∑sswd
 = 
	`°rdupdñim
 (
cﬁ⁄
 + 1, 
íd
);

521 
u£ªnd
 = 
cﬁ⁄
;

522 
	`uæ_u√sˇ≥
 (*
∑sswd
);

526 *
∑sswd
 = 
NULL
;

527 
u£ªnd
 = 
íd
;

529 *
u£r
 = 
	`°rdupdñim
 (
beg
, 
u£ªnd
);

530 
	`uæ_u√sˇ≥
 (*
u£r
);

531  
åue
;

532 
	}
}

549 
	$ªwrôe_sh‹th™d_uæ
 (c⁄° *
uæ
)

551 c⁄° *
p
;

552 *
ªt
;

554 i‡(
	`uæ_scheme
 (
uæ
Ë!
SCHEME_INVALID
)

555  
NULL
;

559 
p
 = 
	`°Ωbrk
 (
uæ
, ":/");

560 i‡(
p
 =
uæ
)

561  
NULL
;

566 i‡(
p
 &&Ö[0] == ':' &&Ö[1] == '/' &&Ö[2] == '/')

567  
NULL
;

569 i‡(
p
 && *p == ':')

573 
digôs
 = 
	`°r•n
 (
p
 + 1, "0123456789");

574 i‡(
digôs
 && (
p
[1 + digits] == '/' ||Ö[1 + digits] == '\0'))

575 
hâp
;

578 
ªt
 = 
	`≠rötf
 ("·p://%s", 
uæ
);

579 
ªt
[6 + (
p
 - 
uæ
)] = '/';

583 
hâp
:

585 
ªt
 = 
	`≠rötf
 ("hâp://%s", 
uæ
);

587  
ªt
;

588 
	}
}

590 
•lô_∑th
 (const *, **, **);

596 
ölöe
 *

597 
	$°Ωbrk_‹_eos
 (c⁄° *
s
, c⁄° *
ac˚±
)

599 *
p
 = 
	`°Ωbrk
 (
s
, 
ac˚±
);

600 i‡(!
p
)

601 
p
 = 
	`°rchr
 (
s
, '\0');

602  
p
;

603 
	}
}

608 
boﬁ


609 
	$lowîˇ£_°r
 (*
°r
)

611 
boﬁ
 
ch™ged
 = 
Ál£
;

612 ; *
°r
; str++)

613 i‡(
	`c_isuµî
 (*
°r
))

615 
ch™ged
 = 
åue
;

616 *
°r
 = 
	`c_tﬁowî
 (*str);

618  
ch™ged
;

619 
	}
}

622 
	$öô_£ps
 (
uæ_scheme
 
scheme
)

624 
£ps
[8] = ":/";

625 *
p
 = 
£ps
 + 2;

626 
Êags
 = 
suµ‹ãd_schemes
[
scheme
].flags;

628 i‡(
Êags
 & 
scm_has_∑øms
)

629 *
p
++ = ';';

630 i‡(
Êags
 & 
scm_has_quîy
)

631 *
p
++ = '?';

632 i‡(
Êags
 & 
scm_has_‰agmít
)

633 *
p
++ = '#';

634 *
p
 = '\0';

635  
£ps
;

636 
	}
}

638 c⁄° *
	g∑r£_îr‹s
[] = {

639 
	#PE_NO_ERROR
 0

	)

640 
N_
("NoÉrror"),

641 
	#PE_UNSUPPORTED_SCHEME
 1

	)

642 
N_
("Unsupported scheme %s"),

643 
	#PE_MISSING_SCHEME
 2

	)

644 
N_
("Scheme missing"),

645 
	#PE_INVALID_HOST_NAME
 3

	)

646 
N_
("Invalid hostÇame"),

647 
	#PE_BAD_PORT_NUMBER
 4

	)

648 
N_
("BadÖortÇumber"),

649 
	#PE_INVALID_USER_NAME
 5

	)

650 
N_
("Invalid userÇame"),

651 
	#PE_UNTERMINATED_IPV6_ADDRESS
 6

	)

652 
N_
("Unterminated IPv6Çumericáddress"),

653 
	#PE_IPV6_NOT_SUPPORTED
 7

	)

654 
N_
("IPv6áddressesÇot supported"),

655 
	#PE_INVALID_IPV6_ADDRESS
 8

	)

656 
N_
("Invalid IPv6Çumericáddress")

664 
uæ
 *

665 
	$uæ_∑r£
 (c⁄° *
uæ
, *
îr‹
, 
úi
 *úi, 
boﬁ
 
≥r˚¡_ícode
)

667 
uæ
 *
u
;

668 c⁄° *
p
;

669 
boﬁ
 
∑th_modifõd
, 
ho°_modifõd
;

671 
uæ_scheme
 
scheme
;

672 c⁄° *
£ps
;

674 c⁄° *
u«me_b
, *
u«me_e
;

675 c⁄° *
ho°_b
, *
ho°_e
;

676 c⁄° *
∑th_b
, *
∑th_e
;

677 c⁄° *
∑øms_b
, *
∑øms_e
;

678 c⁄° *
quîy_b
, *
quîy_e
;

679 c⁄° *
‰agmít_b
, *
‰agmít_e
;

681 
p‹t
;

682 *
u£r
 = 
NULL
, *
∑sswd
 = NULL;

684 c⁄° *
uæ_ícoded
 = 
NULL
;

685 *
√w_uæ
 = 
NULL
;

687 
îr‹_code
;

689 
scheme
 = 
	`uæ_scheme
 (
uæ
);

691 i‡(
scheme
 =
SCHEME_INVALID
)

693 i‡(
	`uæ_has_scheme
 (
uæ
))

694 
îr‹_code
 = 
PE_UNSUPPORTED_SCHEME
;

696 
îr‹_code
 = 
PE_MISSING_SCHEME
;

697 
îr‹
;

701 i‡(
úi
 && iri->
utf8_ícode
)

703 
úi
->
utf8_ícode
 = 
	`ªmŸe_to_utf8
 (úi, iri->
‹ig_uæ
 ? iri->‹ig_uæ : 
uæ
, (c⁄° **Ë&
√w_uæ
);

704 i‡(!
úi
->
utf8_ícode
)

705 
√w_uæ
 = 
NULL
;

707 
úi
->
‹ig_uæ
 = 
	`x°rdup
 (
uæ
);

712 i‡(
≥r˚¡_ícode
)

713 
uæ_ícoded
 = 
	`ªícode_esˇ≥s
 (
√w_uæ
 ?Çew_uæ : 
uæ
);

715 
uæ_ícoded
 = 
√w_uæ
 ?Çew_uæ : 
uæ
;

717 
p
 = 
uæ_ícoded
;

719 i‡(
√w_uæ
 && 
uæ_ícoded
 !=Çew_url)

720 
	`x‰ì
 (
√w_uæ
);

723 
p
 +
	`°æí
 (
suµ‹ãd_schemes
[
scheme
].
Àadög_°rög
);

724 
u«me_b
 = 
p
;

725 
p
 = 
	`uæ_skù_¸edítüls
 (p);

726 
u«me_e
 = 
p
;

736 
∑th_b
 = 
∑th_e
 = 
NULL
;

737 
∑øms_b
 = 
∑øms_e
 = 
NULL
;

738 
quîy_b
 = 
quîy_e
 = 
NULL
;

739 
‰agmít_b
 = 
‰agmít_e
 = 
NULL
;

744 
£ps
 = 
	`öô_£ps
 (
scheme
);

747 
ho°_b
 = 
p
;

749 i‡(*
p
 == '[')

756 
ho°_b
 = 
p
 + 1;

757 
ho°_e
 = 
	`°rchr
 (
ho°_b
, ']');

759 i‡(!
ho°_e
)

761 
îr‹_code
 = 
PE_UNTERMINATED_IPV6_ADDRESS
;

762 
îr‹
;

765 #ifde‡
ENABLE_IPV6


767 i‡(!
	`is_vÆid_ùv6_addªss
(
ho°_b
, 
ho°_e
))

769 
îr‹_code
 = 
PE_INVALID_IPV6_ADDRESS
;

770 
îr‹
;

774 
p
 = 
ho°_e
 + 1;

776 
îr‹_code
 = 
PE_IPV6_NOT_SUPPORTED
;

777 
îr‹
;

784 i‡(!
	`°rchr
 (
£ps
, *
p
))

787 
îr‹_code
 = 
PE_INVALID_HOST_NAME
;

788 
îr‹
;

793 
p
 = 
	`°Ωbrk_‹_eos
 (p, 
£ps
);

794 
ho°_e
 = 
p
;

796 ++
£ps
;

798 i‡(
ho°_b
 =
ho°_e
)

800 
îr‹_code
 = 
PE_INVALID_HOST_NAME
;

801 
îr‹
;

805 
p‹t
 = 
	`scheme_deÁu…_p‹t
 (
scheme
);

807 i‡(*
p
 == ':')

809 c⁄° *
p‹t_b
, *
p‹t_e
, *
µ
;

813 ++
p
;

814 
p‹t_b
 = 
p
;

815 
p
 = 
	`°Ωbrk_‹_eos
 (p, 
£ps
);

816 
p‹t_e
 = 
p
;

819 i‡(
p‹t_b
 !
p‹t_e
)

820 
p‹t
 = 0, 
µ
 = 
p‹t_b
;Ö∞< 
p‹t_e
;Öp++)

822 i‡(!
	`c_isdigô
 (*
µ
))

826 
îr‹_code
 = 
PE_BAD_PORT_NUMBER
;

827 
îr‹
;

829 
p‹t
 = 10 *Ö‹à+ (*
µ
 - '0');

832 i‡(
p‹t
 > 0xffff)

834 
îr‹_code
 = 
PE_BAD_PORT_NUMBER
;

835 
îr‹
;

841 ++
£ps
;

845 
	#GET_URL_PART
(
£pch¨
, 
v¨
) do { \

846 i‡(*
p
 =
£pch¨
) \

847 
v¨
##
_b
 = ++
p
, v¨##
_e
 =Ö = 
	`°Ωbrk_‹_eos
 (p, 
£ps
); \

848 ++
£ps
; \

849 } 0)

	)

851 
	`GET_URL_PART
 ('/', 
∑th
);

852 i‡(
suµ‹ãd_schemes
[
scheme
].
Êags
 & 
scm_has_∑øms
)

853 
	`GET_URL_PART
 (';', 
∑øms
);

854 i‡(
suµ‹ãd_schemes
[
scheme
].
Êags
 & 
scm_has_quîy
)

855 
	`GET_URL_PART
 ('?', 
quîy
);

856 i‡(
suµ‹ãd_schemes
[
scheme
].
Êags
 & 
scm_has_‰agmít
)

857 
	`GET_URL_PART
 ('#', 
‰agmít
);

859 #unde‡
GET_URL_PART


860 
	`as£π
 (*
p
 == 0);

862 i‡(
u«me_b
 !
u«me_e
)

867 i‡(!
	`∑r£_¸edítüls
 (
u«me_b
, 
u«me_e
 - 1, &
u£r
, &
∑sswd
))

869 
îr‹_code
 = 
PE_INVALID_USER_NAME
;

870 
îr‹
;

874 
u
 = 
	`x√w0
 (
uæ
);

875 
u
->
scheme
 = scheme;

876 
u
->
ho°
 = 
	`°rdupdñim
 (
ho°_b
, 
ho°_e
);

877 
u
->
p‹t
 =Öort;

878 
u
->
u£r
 = user;

879 
u
->
∑sswd
 =Öasswd;

881 
u
->
∑th
 = 
	`°rdupdñim
 (
∑th_b
, 
∑th_e
);

882 
∑th_modifõd
 = 
	`∑th_sim∂ify
 (
scheme
, 
u
->
∑th
);

883 
	`•lô_∑th
 (
u
->
∑th
, &u->
dú
, &u->
fûe
);

885 
ho°_modifõd
 = 
	`lowîˇ£_°r
 (
u
->
ho°
);

891 i‡(
	`°rchr
 (
u
->
ho°
, '%'))

893 
	`uæ_u√sˇ≥
 (
u
->
ho°
);

894 
ho°_modifõd
 = 
åue
;

897 i‡(
›t
.
íabÀ_úi
 && 
úi
)

899 *
√w
 = 
	`idn_ícode
 (
úi
, 
u
->
ho°
);

900 i‡(
√w
)

902 
	`x‰ì
 (
u
->
ho°
);

903 
u
->
ho°
 = 
√w
;

904 
ho°_modifõd
 = 
åue
;

909 i‡(
∑øms_b
)

910 
u
->
∑øms
 = 
	`°rdupdñim
 (
∑øms_b
, 
∑øms_e
);

911 i‡(
quîy_b
)

912 
u
->
quîy
 = 
	`°rdupdñim
 (
quîy_b
, 
quîy_e
);

913 i‡(
‰agmít_b
)

914 
u
->
‰agmít
 = 
	`°rdupdñim
 (
‰agmít_b
, 
‰agmít_e
);

916 i‡(
›t
.
íabÀ_úi
 || 
∑th_modifõd
 || 
u
->
‰agmít
 || 
ho°_modifõd
 || 
∑th_b
 =
∑th_e
)

921 
u
->
uæ
 = 
	`uæ_°rög
 (u, 
URL_AUTH_SHOW
);

923 i‡(
uæ_ícoded
 !
uæ
)

924 
	`x‰ì
 ((*Ë
uæ_ícoded
);

928 i‡(
uæ_ícoded
 =
uæ
)

929 
u
->
uæ
 = 
	`x°rdup
 (url);

931 
u
->
uæ
 = (*Ë
uæ_ícoded
;

934  
u
;

936 
îr‹
:

938 i‡(
uæ_ícoded
 && uæ_ícoded !
uæ
)

939 
	`x‰ì
 ((*Ë
uæ_ícoded
);

943 i‡(
îr‹
)

944 *
îr‹
 = 
îr‹_code
;

945  
NULL
;

946 
	}
}

952 
	$uæ_îr‹
 (c⁄° *
uæ
, 
îr‹_code
)

954 
	`as£π
 (
îr‹_code
 >0 && ((
size_t
Ëîr‹_codeË< 
	`cou¡of
 (
∑r£_îr‹s
));

956 i‡(
îr‹_code
 =
PE_UNSUPPORTED_SCHEME
)

958 *
îr‹
, *
p
;

959 *
scheme
 = 
	`x°rdup
 (
uæ
);

960 
	`as£π
 (
	`uæ_has_scheme
 (
uæ
));

962 i‡((
p
 = 
	`°rchr
 (
scheme
, ':')))

963 *
p
 = '\0';

964 i‡(!
	`°rˇ£cmp
 (
scheme
, "https"))

965 
îr‹
 = 
	`≠rötf
 (
	`_
("HTTPS supportÇot compiled in"));

967 
îr‹
 = 
	`≠rötf
 (
	`_
(
∑r£_îr‹s
[
îr‹_code
]), 
	`quŸe
 (
scheme
));

968 
	`x‰ì
 (
scheme
);

970  
îr‹
;

973  
	`x°rdup
 (
	`_
(
∑r£_îr‹s
[
îr‹_code
]));

974 
	}
}

992 
	$•lô_∑th
 (c⁄° *
∑th
, **
dú
, **
fûe
)

994 *
œ°_¶ash
 = 
	`°ºchr
 (
∑th
, '/');

995 i‡(!
œ°_¶ash
)

997 *
dú
 = 
	`x°rdup
 ("");

998 *
fûe
 = 
	`x°rdup
 (
∑th
);

1002 *
dú
 = 
	`°rdupdñim
 (
∑th
, 
œ°_¶ash
);

1003 *
fûe
 = 
	`x°rdup
 (
œ°_¶ash
 + 1);

1005 
	`uæ_u√sˇ≥
 (*
dú
);

1006 
	`uæ_u√sˇ≥
 (*
fûe
);

1007 
	}
}

1019 
	$fuŒ_∑th_Àngth
 (c⁄° 
uæ
 *url)

1021 
Àn
 = 0;

1023 
	#FROB
(
ñ
Ëi‡(
uæ
->ñË
Àn
 +1 + 
	`°æí
 (uæ->ñ)

	)

1025 
	`FROB
 (
∑th
);

1026 
	`FROB
 (
∑øms
);

1027 
	`FROB
 (
quîy
);

1029 #unde‡
FROB


1031  
Àn
;

1032 
	}
}

1037 
	$fuŒ_∑th_wrôe
 (c⁄° 
uæ
 *uæ, *
whîe
)

1039 
	#FROB
(
ñ
, 
chr
) do { \

1040 *
f_ñ
 = 
uæ
->
ñ
; \

1041 i‡(
f_ñ
) { \

1042 
l
 = 
	`°æí
 (
f_ñ
); \

1043 *
whîe
++ = 
chr
; \

1044 
	`mem˝y
 (
whîe
, 
f_ñ
, 
l
); \

1045 
whîe
 +
l
; \

1047 } 0)

	)

1049 
	`FROB
 (
∑th
, '/');

1050 
	`FROB
 (
∑øms
, ';');

1051 
	`FROB
 (
quîy
, '?');

1053 #unde‡
FROB


1054 
	}
}

1061 
	$uæ_fuŒ_∑th
 (c⁄° 
uæ
 *url)

1063 
Àngth
 = 
	`fuŒ_∑th_Àngth
 (
uæ
);

1064 *
fuŒ_∑th
 = 
	`xmÆloc
 (
Àngth
 + 1);

1066 
	`fuŒ_∑th_wrôe
 (
uæ
, 
fuŒ_∑th
);

1067 
fuŒ_∑th
[
Àngth
] = '\0';

1069  
fuŒ_∑th
;

1070 
	}
}

1077 
	$u√sˇ≥_sögÀ_ch¨
 (*
°r
, 
chr
)

1079 c⁄° 
c1
 = 
	`XNUM_TO_DIGIT
 (
chr
 >> 4);

1080 c⁄° 
c2
 = 
	`XNUM_TO_DIGIT
 (
chr
 & 0xf);

1081 *
h
 = 
°r
;

1082 *
t
 = 
°r
;

1083 ; *
h
; h++, 
t
++)

1085 i‡(
h
[0] ='%' && h[1] =
c1
 && h[2] =
c2
)

1087 *
t
 = 
chr
;

1088 
h
 += 2;

1091 *
t
 = *
h
;

1093 *
t
 = '\0';

1094 
	}
}

1100 
	$uæ_esˇ≥_dú
 (c⁄° *
dú
)

1102 *
√wdú
 = 
	`uæ_esˇ≥_1
 (
dú
, 
uæchr_unß„
 | 
uæchr_ª£rved
, 1);

1103 i‡(
√wdú
 =
dú
)

1104  (*)
dú
;

1106 
	`u√sˇ≥_sögÀ_ch¨
 (
√wdú
, '/');

1107  
√wdú
;

1108 
	}
}

1114 
	$sync_∑th
 (
uæ
 *
u
)

1116 *
√w∑th
, *
efûe
, *
edú
;

1118 
	`x‰ì
 (
u
->
∑th
);

1126 
edú
 = 
	`uæ_esˇ≥_dú
 (
u
->
dú
);

1127 
efûe
 = 
	`uæ_esˇ≥_1
 (
u
->
fûe
, 
uæchr_unß„
 | 
uæchr_ª£rved
, 1);

1129 i‡(!*
edú
)

1130 
√w∑th
 = 
	`x°rdup
 (
efûe
);

1133 
dúÀn
 = 
	`°æí
 (
edú
);

1134 
fûñí
 = 
	`°æí
 (
efûe
);

1137 *
p
 = 
√w∑th
 = 
	`xmÆloc
 (
dúÀn
 + 1 + 
fûñí
 + 1);

1138 
	`mem˝y
 (
p
, 
edú
, 
dúÀn
);

1139 
p
 +
dúÀn
;

1140 *
p
++ = '/';

1141 
	`mem˝y
 (
p
, 
efûe
, 
fûñí
);

1142 
p
 +
fûñí
;

1143 *
p
 = '\0';

1146 
u
->
∑th
 = 
√w∑th
;

1148 i‡(
edú
 !
u
->
dú
)

1149 
	`x‰ì
 (
edú
);

1150 i‡(
efûe
 !
u
->
fûe
)

1151 
	`x‰ì
 (
efûe
);

1154 
	`x‰ì
 (
u
->
uæ
);

1155 
u
->
uæ
 = 
	`uæ_°rög
 (u, 
URL_AUTH_SHOW
);

1156 
	}
}

1162 
	$uæ_£t_dú
 (
uæ
 *uæ, c⁄° *
√wdú
)

1164 
	`x‰ì
 (
uæ
->
dú
);

1165 
uæ
->
dú
 = 
	`x°rdup
 (
√wdú
);

1166 
	`sync_∑th
 (
uæ
);

1167 
	}
}

1170 
	$uæ_£t_fûe
 (
uæ
 *uæ, c⁄° *
√wfûe
)

1172 
	`x‰ì
 (
uæ
->
fûe
);

1173 
uæ
->
fûe
 = 
	`x°rdup
 (
√wfûe
);

1174 
	`sync_∑th
 (
uæ
);

1175 
	}
}

1178 
	$uæ_‰ì
 (
uæ
 *url)

1180 
	`x‰ì
 (
uæ
->
ho°
);

1181 
	`x‰ì
 (
uæ
->
∑th
);

1182 
	`x‰ì
 (
uæ
->url);

1184 
	`x‰ì_nuŒ
 (
uæ
->
∑øms
);

1185 
	`x‰ì_nuŒ
 (
uæ
->
quîy
);

1186 
	`x‰ì_nuŒ
 (
uæ
->
‰agmít
);

1187 
	`x‰ì_nuŒ
 (
uæ
->
u£r
);

1188 
	`x‰ì_nuŒ
 (
uæ
->
∑sswd
);

1190 
	`x‰ì
 (
uæ
->
dú
);

1191 
	`x‰ì
 (
uæ
->
fûe
);

1193 
	`x‰ì
 (
uæ
);

1194 
	}
}

1199 
	$mkÆldús
 (c⁄° *
∑th
)

1201 c⁄° *
p
;

1202 *
t
;

1203 
°ru˘_°©
 
°
;

1204 
ªs
;

1206 
p
 = 
∑th
 + 
	`°æí
 (path);

1207 ; *
p
 !'/' &&Ö !
∑th
;Ö--)

1211 i‡((
p
 =
∑th
) && (*p != '/'))

1213 
t
 = 
	`°rdupdñim
 (
∑th
, 
p
);

1216 i‡((
	`°©
 (
t
, &
°
) == 0))

1218 i‡(
	`S_ISDIR
 (
°
.
°_mode
))

1220 
	`x‰ì
 (
t
);

1237 
	`DEBUGP
 (("Removög %†beˇu£ o‡dúe˘‹y d™gî!\n", 
t
));

1238 
	`u∆ök
 (
t
);

1241 
ªs
 = 
	`make_dúe˘‹y
 (
t
);

1242 i‡(
ªs
 != 0)

1243 
	`log¥ötf
 (
LOG_NOTQUIET
, "%s: %s", 
t
, 
	`°ªº‹
 (
î∫o
));

1244 
	`x‰ì
 (
t
);

1245  
ªs
;

1246 
	}
}

1258 
	sgrowabÀ
 {

1259 *
	mba£
;

1260 
	msize
;

1261 
	mèû
;

1268 
	#GROW
(
g
, 
≠≥nd_size
) do { \

1269 
growabÀ
 *
G_
 = 
g
; \

1270 
	`DO_REALLOC
 (
G_
->
ba£
, G_->
size
, G_->
èû
 + 
≠≥nd_size
, ); \

1271 } 0)

	)

1274 
	#TAIL
(
r
Ë(‘)->
ba£
 + (r)->
èû
)

	)

1277 
	#TAIL_INCR
(
r
, 
≠≥nd_cou¡
Ë(‘)->
èû
 +≠≥nd_cou¡)

	)

1283 
	$≠≥nd_°rög
 (c⁄° *
°r
, 
growabÀ
 *
de°
)

1285 
l
 = 
	`°æí
 (
°r
);

1286 
	`GROW
 (
de°
, 
l
);

1287 
	`mem˝y
 (
	`TAIL
 (
de°
), 
°r
, 
l
);

1288 
	`TAIL_INCR
 (
de°
, 
l
);

1289 
	}
}

1295 
	$≠≥nd_ch¨
 (
ch
, 
growabÀ
 *
de°
)

1297 
	`GROW
 (
de°
, 1);

1298 *
	`TAIL
 (
de°
Ë
ch
;

1299 
	`TAIL_INCR
 (
de°
, 1);

1300 
	}
}

1303 
	mfûechr_nŸ_unix
 = 1,

1304 
	mfûechr_nŸ_wödows
 = 2,

1305 
	mfûechr_c⁄åﬁ
 = 4

1308 
	#FILE_CHAR_TEST
(
c
, 
mask
) \

1309 ((
›t
.
ª°ri˘_fûes_n⁄ascii
 && !
	`c_ißscii
 (()(
c
))) || \

1310 (
fûechr_èbÀ
[()(
c
)] & (
mask
)))

	)

1313 
	#U
 
fûechr_nŸ_unix


	)

1314 
	#W
 
fûechr_nŸ_wödows


	)

1315 
	#C
 
fûechr_c⁄åﬁ


	)

1317 
	#UW
 
U
|
W


	)

1318 
	#UWC
 
U
|
W
|
C


	)

1327 c⁄° 
	gfûechr_èbÀ
[256] =

1329 
UWC
, 
C
, C, C, C, C, C, C,

1330 
C
, C, C, C, C, C, C, C,

1331 
C
, C, C, C, C, C, C, C,

1332 
C
, C, C, C, C, C, C, C,

1333 0, 0, 
W
, 0, 0, 0, 0, 0,

1334 0, 0, 
W
, 0, 0, 0, 0, 
UW
,

1336 0, 0, 
W
, 0, W, 0, W, W,

1340 0, 0, 0, 0, 
W
, 0, 0, 0,

1344 0, 0, 0, 0, 
W
, 0, 0, 
C
,

1346 
C
, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C,

1347 
C
, C, C, C, C, C, C, C, C, C, C, C, C, C, C, C,

1356 #unde‡
U


1357 #unde‡
W


1358 #unde‡
C


1359 #unde‡
UW


1360 #unde‡
UWC


1366 
	#FN_PORT_SEP
 (
›t
.
ª°ri˘_fûes_os
 !
ª°ri˘_wödows
 ? ':' : '+')

	)

1371 
	#FN_QUERY_SEP
 (
›t
.
ª°ri˘_fûes_os
 !
ª°ri˘_wödows
 ? '?' : '@')

	)

1381 
	$≠≥nd_uri_∑thñ
 (c⁄° *
b
, c⁄° *
e
, 
boﬁ
 
esˇ≥d
,

1382 
growabÀ
 *
de°
)

1384 c⁄° *
p
;

1385 
quŸed
, 
ouéí
;

1387 
mask
;

1388 i‡(
›t
.
ª°ri˘_fûes_os
 =
ª°ri˘_unix
)

1389 
mask
 = 
fûechr_nŸ_unix
;

1391 
mask
 = 
fûechr_nŸ_wödows
;

1392 i‡(
›t
.
ª°ri˘_fûes_˘æ
)

1393 
mask
 |
fûechr_c⁄åﬁ
;

1396 i‡(
esˇ≥d
)

1398 *
u√sˇ≥d
;

1399 
	`BOUNDED_TO_ALLOCA
 (
b
, 
e
, 
u√sˇ≥d
);

1400 
	`uæ_u√sˇ≥
 (
u√sˇ≥d
);

1401 
b
 = 
u√sˇ≥d
;

1402 
e
 = 
u√sˇ≥d
 + 
	`°æí
 (unescaped);

1407 i‡(
e
 - 
b
 == 2 && b[0] == '.' && b[1] == '.')

1409 
b
 = "%2E%2E";

1410 
e
 = 
b
 + 6;

1415 
quŸed
 = 0;

1416 
p
 = 
b
;Ö < 
e
;Ö++)

1417 i‡(
	`FILE_CHAR_TEST
 (*
p
, 
mask
))

1418 ++
quŸed
;

1423 
ouéí
 = (
e
 - 
b
Ë+ (2 * 
quŸed
);

1424 
	`GROW
 (
de°
, 
ouéí
);

1426 i‡(!
quŸed
)

1430 
	`mem˝y
 (
	`TAIL
 (
de°
), 
b
, 
ouéí
);

1434 *
q
 = 
	`TAIL
 (
de°
);

1435 
p
 = 
b
;Ö < 
e
;Ö++)

1437 i‡(!
	`FILE_CHAR_TEST
 (*
p
, 
mask
))

1438 *
q
++ = *
p
;

1441 
ch
 = *
p
;

1442 *
q
++ = '%';

1443 *
q
++ = 
	`XNUM_TO_DIGIT
 (
ch
 >> 4);

1444 *
q
++ = 
	`XNUM_TO_DIGIT
 (
ch
 & 0xf);

1447 
	`as£π
 (
q
 - 
	`TAIL
 (
de°
Ë=
ouéí
);

1451 i‡(
›t
.
ª°ri˘_fûes_ˇ£
 =
ª°ri˘_lowîˇ£


1452 || 
›t
.
ª°ri˘_fûes_ˇ£
 =
ª°ri˘_uµîˇ£
)

1454 *
q
;

1455 
q
 = 
	`TAIL
 (
de°
); q < TAIL (de°Ë+ 
ouéí
; ++q)

1457 i‡(
›t
.
ª°ri˘_fûes_ˇ£
 =
ª°ri˘_lowîˇ£
)

1458 *
q
 = 
	`c_tﬁowî
 (*q);

1460 *
q
 = 
	`c_touµî
 (*q);

1464 
	`TAIL_INCR
 (
de°
, 
ouéí
);

1465 
	}
}

1482 
	$≠≥nd_dú_°ru˘uª
 (c⁄° 
uæ
 *
u
, 
growabÀ
 *
de°
)

1484 *
∑thñ
, *
√xt
;

1485 
cut
 = 
›t
.
cut_dús
;

1490 
∑thñ
 = 
u
->
∑th
;

1491 ; (
√xt
 = 
	`°rchr
 (
∑thñ
, '/')Ë!
NULL
;Öathel =Çext + 1)

1493 i‡(
cut
-- > 0)

1495 i‡(
∑thñ
 =
√xt
)

1499 i‡(
de°
->
èû
)

1500 
	`≠≥nd_ch¨
 ('/', 
de°
);

1501 
	`≠≥nd_uri_∑thñ
 (
∑thñ
, 
√xt
, 
åue
, 
de°
);

1503 
	}
}

1509 
	$uæ_fûe_«me
 (c⁄° 
uæ
 *
u
, *
ª∂a˚d_fûíame
)

1511 
growabÀ
 
‚ªs
;

1513 c⁄° *
u_fûe
, *
u_quîy
;

1514 *
‚ame
, *
unique
;

1515 *
ödex_fûíame
 = "index.html";

1517 
‚ªs
.
ba£
 = 
NULL
;

1518 
‚ªs
.
size
 = 0;

1519 
‚ªs
.
èû
 = 0;

1522 i‡(
›t
.
deÁu…_∑ge
)

1523 
ödex_fûíame
 = 
›t
.
deÁu…_∑ge
;

1527 i‡(
›t
.
dú_¥efix
)

1528 
	`≠≥nd_°rög
 (
›t
.
dú_¥efix
, &
‚ªs
);

1533 i‡(
›t
.
dú°ru˘
)

1535 i‡(
›t
.
¥Ÿocﬁ_dúe˘‹õs
)

1537 i‡(
‚ªs
.
èû
)

1538 
	`≠≥nd_ch¨
 ('/', &
‚ªs
);

1539 
	`≠≥nd_°rög
 (
suµ‹ãd_schemes
[
u
->
scheme
].
«me
, &
‚ªs
);

1541 i‡(
›t
.
add_ho°dú
)

1543 i‡(
‚ªs
.
èû
)

1544 
	`≠≥nd_ch¨
 ('/', &
‚ªs
);

1545 i‡(0 !
	`°rcmp
 (
u
->
ho°
, ".."))

1546 
	`≠≥nd_°rög
 (
u
->
ho°
, &
‚ªs
);

1551 
	`≠≥nd_°rög
 ("%2E%2E", &
‚ªs
);

1552 i‡(
u
->
p‹t
 !
	`scheme_deÁu…_p‹t
 (u->
scheme
))

1554 
p‹t°r
[24];

1555 
	`numbî_to_°rög
 (
p‹t°r
, 
u
->
p‹t
);

1556 
	`≠≥nd_ch¨
 (
FN_PORT_SEP
, &
‚ªs
);

1557 
	`≠≥nd_°rög
 (
p‹t°r
, &
‚ªs
);

1561 
	`≠≥nd_dú_°ru˘uª
 (
u
, &
‚ªs
);

1564 i‡(!
ª∂a˚d_fûíame
)

1567 i‡(
‚ªs
.
èû
)

1568 
	`≠≥nd_ch¨
 ('/', &
‚ªs
);

1569 
u_fûe
 = *
u
->
fûe
 ? u->fûê: 
ödex_fûíame
;

1570 
	`≠≥nd_uri_∑thñ
 (
u_fûe
, u_fûê+ 
	`°æí
 (u_fûe), 
Ál£
, &
‚ªs
);

1573 
u_quîy
 = 
u
->
quîy
 && *u->quîy ? u->quîy : 
NULL
;

1574 i‡(
u_quîy
)

1576 
	`≠≥nd_ch¨
 (
FN_QUERY_SEP
, &
‚ªs
);

1577 
	`≠≥nd_uri_∑thñ
 (
u_quîy
, u_quîy + 
	`°æí
 (u_query),

1578 
åue
, &
‚ªs
);

1583 i‡(
‚ªs
.
èû
)

1584 
	`≠≥nd_ch¨
 ('/', &
‚ªs
);

1585 
u_fûe
 = 
ª∂a˚d_fûíame
;

1586 
	`≠≥nd_uri_∑thñ
 (
u_fûe
, u_fûê+ 
	`°æí
 (u_fûe), 
Ál£
, &
‚ªs
);

1590 
	`≠≥nd_ch¨
 ('\0', &
‚ªs
);

1592 
‚ame
 = 
‚ªs
.
ba£
;

1603 i‡((
›t
.
no˛obbî
 || o±.
Æways_ª°
 || o±.
time°ampög
 || o±.
dú°ru˘
)

1604 && !(
	`fûe_exi°s_p
 (
‚ame
Ë&& !
	`fûe_n⁄_dúe˘‹y_p
 (fname)))

1606 
unique
 = 
‚ame
;

1610 
unique
 = 
	`unique_«me
 (
‚ame
, 
åue
);

1611 i‡(
unique
 !
‚ame
)

1612 
	`x‰ì
 (
‚ame
);

1616 #ifde‡
__VMS


1618 *
unique2
;

1620 
unique2
 = 
	`ods_c⁄f‹m
–
unique
);

1621 i‡(
unique2
 !
unique
)

1623 
	`x‰ì
 (
unique
);

1624 
unique
 = 
unique2
;

1629  
unique
;

1630 
	}
}

1646 
boﬁ


1647 
	$∑th_sim∂ify
 (
uæ_scheme
 
scheme
, *
∑th
)

1649 *
h
 = 
∑th
;

1650 *
t
 = 
∑th
;

1651 *
beg
 = 
∑th
;

1652 *
íd
 = 
	`°rchr
 (
∑th
, '\0');

1654 
h
 < 
íd
)

1658 i‡(
h
[0] == '.' && (h[1] == '/' || h[1] == '\0'))

1661 
h
 += 2;

1663 i‡(
h
[0] == '.' && h[1] == '.' && (h[2] == '/' || h[2] == '\0'))

1667 i‡(
t
 > 
beg
)

1671 --
t
;Å > 
beg
 &&Å[-1] != '/';Å--)

1674 i‡(
scheme
 =
SCHEME_FTP
)

1682 
beg
 = 
t
 + 3;

1683 
ªguœr
;

1685 
h
 += 3;

1689 
ªguœr
:

1693 i‡(
t
 =
h
)

1696 
h
 < 
íd
 && *h != '/')

1697 
t
++, 
h
++;

1698 i‡(
h
 < 
íd
)

1699 
t
++, 
h
++;

1704 
h
 < 
íd
 && *h != '/')

1705 *
t
++ = *
h
++;

1706 i‡(
h
 < 
íd
)

1707 *
t
++ = *
h
++;

1712 i‡(
t
 !
h
)

1713 *
t
 = '\0';

1715  
t
 !
h
;

1716 
	}
}

1723 
	$∑th_íd
 (c⁄° *
uæ
)

1725 
uæ_scheme
 
scheme
 = 
	`uæ_scheme
 (
uæ
);

1726 c⁄° *
£ps
;

1727 i‡(
scheme
 =
SCHEME_INVALID
)

1728 
scheme
 = 
SCHEME_HTTP
;

1730 
£ps
 = 
	`öô_£ps
 (
scheme
) + 2;

1731  
	`°Ωbrk_‹_eos
 (
uæ
, 
£ps
);

1732 
	}
}

1736 
	#föd_œ°_ch¨
(
b
, 
e
, 
c
Ë
	`memrchr
 ((b), (c), (eË- (b))

	)

1751 
	$uri_mîge
 (c⁄° *
ba£
, c⁄° *
lök
)

1753 
lökÀngth
;

1754 c⁄° *
íd
;

1755 *
mîge
;

1757 i‡(
	`uæ_has_scheme
 (
lök
))

1758  
	`x°rdup
 (
lök
);

1761 
íd
 = 
	`∑th_íd
 (
ba£
);

1762 
lökÀngth
 = 
	`°æí
 (
lök
);

1764 i‡(!*
lök
)

1767  
	`x°rdup
 (
ba£
);

1769 i‡(*
lök
 == '?')

1777 
ba£Àngth
 = 
íd
 - 
ba£
;

1778 
mîge
 = 
	`xmÆloc
 (
ba£Àngth
 + 
lökÀngth
 + 1);

1779 
	`mem˝y
 (
mîge
, 
ba£
, 
ba£Àngth
);

1780 
	`mem˝y
 (
mîge
 + 
ba£Àngth
, 
lök
, 
lökÀngth
);

1781 
mîge
[
ba£Àngth
 + 
lökÀngth
] = '\0';

1783 i‡(*
lök
 == '#')

1789 
ba£Àngth
;

1790 c⁄° *
íd1
 = 
	`°rchr
 (
ba£
, '#');

1791 i‡(!
íd1
)

1792 
íd1
 = 
ba£
 + 
	`°æí
 (base);

1793 
ba£Àngth
 = 
íd1
 - 
ba£
;

1794 
mîge
 = 
	`xmÆloc
 (
ba£Àngth
 + 
lökÀngth
 + 1);

1795 
	`mem˝y
 (
mîge
, 
ba£
, 
ba£Àngth
);

1796 
	`mem˝y
 (
mîge
 + 
ba£Àngth
, 
lök
, 
lökÀngth
);

1797 
mîge
[
ba£Àngth
 + 
lökÀngth
] = '\0';

1799 i‡(*
lök
 == '/' && *(link + 1) == '/')

1809 
•™
;

1810 c⁄° *
¶ash
;

1811 c⁄° *
°¨t_ö£π
;

1814 
¶ash
 = 
	`memchr
 (
ba£
, '/', 
íd
 - base);

1818 i‡(
¶ash
 && *(slash + 1) == '/')

1819 
°¨t_ö£π
 = 
¶ash
;

1821 
°¨t_ö£π
 = 
ba£
;

1823 
•™
 = 
°¨t_ö£π
 - 
ba£
;

1824 
mîge
 = 
	`xmÆloc
 (
•™
 + 
lökÀngth
 + 1);

1825 i‡(
•™
)

1826 
	`mem˝y
 (
mîge
, 
ba£
, 
•™
);

1827 
	`mem˝y
 (
mîge
 + 
•™
, 
lök
, 
lökÀngth
);

1828 
mîge
[
•™
 + 
lökÀngth
] = '\0';

1830 i‡(*
lök
 == '/')

1838 
•™
;

1839 c⁄° *
¶ash
;

1840 c⁄° *
°¨t_ö£π
 = 
NULL
;

1841 c⁄° *
pos
 = 
ba£
;

1842 
boﬁ
 
£í_¶ash_¶ash
 = 
Ál£
;

1845 
agaö
:

1846 
¶ash
 = 
	`memchr
 (
pos
, '/', 
íd
 -Öos);

1847 i‡(
¶ash
 && !
£í_¶ash_¶ash
)

1848 i‡(*(
¶ash
 + 1) == '/')

1850 
pos
 = 
¶ash
 + 2;

1851 
£í_¶ash_¶ash
 = 
åue
;

1852 
agaö
;

1861 i‡(!
¶ash
 && !
£í_¶ash_¶ash
)

1864 
°¨t_ö£π
 = 
ba£
;

1865 i‡(!
¶ash
 && 
£í_¶ash_¶ash
)

1868 
°¨t_ö£π
 = 
íd
;

1869 i‡(
¶ash
 && !
£í_¶ash_¶ash
)

1872 
°¨t_ö£π
 = 
ba£
;

1873 i‡(
¶ash
 && 
£í_¶ash_¶ash
)

1876 
°¨t_ö£π
 = 
¶ash
;

1878 
•™
 = 
°¨t_ö£π
 - 
ba£
;

1879 
mîge
 = 
	`xmÆloc
 (
•™
 + 
lökÀngth
 + 1);

1880 i‡(
•™
)

1881 
	`mem˝y
 (
mîge
, 
ba£
, 
•™
);

1882 
	`mem˝y
 (
mîge
 + 
•™
, 
lök
, 
lökÀngth
);

1883 
mîge
[
•™
 + 
lökÀngth
] = '\0';

1892 
boﬁ
 
√ed_ex∂icô_¶ash
 = 
Ál£
;

1893 
•™
;

1894 c⁄° *
°¨t_ö£π
;

1895 c⁄° *
œ°_¶ash
 = 
	`föd_œ°_ch¨
 (
ba£
, 
íd
, '/');

1896 i‡(!
œ°_¶ash
)

1899 
°¨t_ö£π
 = 
ba£
;

1901 i‡(
œ°_¶ash
 &&Üa°_¶ash >
ba£
 + 2

1902 && 
œ°_¶ash
[-2] == ':' &&Üast_slash[-1] == '/')

1906 
°¨t_ö£π
 = 
íd
 + 1;

1907 
√ed_ex∂icô_¶ash
 = 
åue
;

1913 
°¨t_ö£π
 = 
œ°_¶ash
 + 1;

1916 
•™
 = 
°¨t_ö£π
 - 
ba£
;

1917 
mîge
 = 
	`xmÆloc
 (
•™
 + 
lökÀngth
 + 1);

1918 i‡(
•™
)

1919 
	`mem˝y
 (
mîge
, 
ba£
, 
•™
);

1920 i‡(
√ed_ex∂icô_¶ash
)

1921 
mîge
[
•™
 - 1] = '/';

1922 
	`mem˝y
 (
mîge
 + 
•™
, 
lök
, 
lökÀngth
);

1923 
mîge
[
•™
 + 
lökÀngth
] = '\0';

1926  
mîge
;

1927 
	}
}

1929 
	#APPEND
(
p
, 
s
) do { \

1930 
Àn
 = 
	`°æí
 (
s
); \

1931 
	`mem˝y
 (
p
, 
s
, 
Àn
); \

1932 
p
 +
Àn
; \

1933 } 0)

	)

1939 
	#HIDDEN_PASSWORD
 "*∑ssw‹d*"

	)

1949 
	$uæ_°rög
 (c⁄° 
uæ
 *uæ, 
uæ_auth_mode
 
auth_mode
)

1951 
size
;

1952 *
ªsu…
, *
p
;

1953 *
quŸed_ho°
, *
quŸed_u£r
 = 
NULL
, *
quŸed_∑sswd
 = NULL;

1955 
scheme_p‹t
 = 
suµ‹ãd_schemes
[
uæ
->
scheme
].
deÁu…_p‹t
;

1956 c⁄° *
scheme_°r
 = 
suµ‹ãd_schemes
[
uæ
->
scheme
].
Àadög_°rög
;

1957 
ÂÀn
 = 
	`fuŒ_∑th_Àngth
 (
uæ
);

1959 
boﬁ
 
bøckës_¨ound_ho°
;

1961 
	`as£π
 (
scheme_°r
 !
NULL
);

1964 i‡(
uæ
->
u£r
)

1966 i‡(
auth_mode
 !
URL_AUTH_HIDE
)

1968 
quŸed_u£r
 = 
	`uæ_esˇ≥_Ælow_∑s°hrough
 (
uæ
->
u£r
);

1969 i‡(
uæ
->
∑sswd
)

1971 i‡(
auth_mode
 =
URL_AUTH_HIDE_PASSWD
)

1972 
quŸed_∑sswd
 = 
HIDDEN_PASSWORD
;

1974 
quŸed_∑sswd
 = 
	`uæ_esˇ≥_Ælow_∑s°hrough
 (
uæ
->
∑sswd
);

1981 
quŸed_ho°
 = 
	`uæ_esˇ≥_Ælow_∑s°hrough
 (
uæ
->
ho°
);

1986 i‡(
quŸed_ho°
 !
uæ
->
ho°
)

1987 
	`u√sˇ≥_sögÀ_ch¨
 (
quŸed_ho°
, ':');

1988 
bøckës_¨ound_ho°
 = 
	`°rchr
 (
quŸed_ho°
, ':'Ë!
NULL
;

1990 
size
 = (
	`°æí
 (
scheme_°r
)

1991 + 
	`°æí
 (
quŸed_ho°
)

1992 + (
bøckës_¨ound_ho°
 ? 2 : 0)

1993 + 
ÂÀn


1995 i‡(
uæ
->
p‹t
 !
scheme_p‹t
)

1996 
size
 +1 + 
	`numdigô
 (
uæ
->
p‹t
);

1997 i‡(
quŸed_u£r
)

1999 
size
 +1 + 
	`°æí
 (
quŸed_u£r
);

2000 i‡(
quŸed_∑sswd
)

2001 
size
 +1 + 
	`°æí
 (
quŸed_∑sswd
);

2004 
p
 = 
ªsu…
 = 
	`xmÆloc
 (
size
);

2006 
	`APPEND
 (
p
, 
scheme_°r
);

2007 i‡(
quŸed_u£r
)

2009 
	`APPEND
 (
p
, 
quŸed_u£r
);

2010 i‡(
quŸed_∑sswd
)

2012 *
p
++ = ':';

2013 
	`APPEND
 (
p
, 
quŸed_∑sswd
);

2015 *
p
++ = '@';

2018 i‡(
bøckës_¨ound_ho°
)

2019 *
p
++ = '[';

2020 
	`APPEND
 (
p
, 
quŸed_ho°
);

2021 i‡(
bøckës_¨ound_ho°
)

2022 *
p
++ = ']';

2023 i‡(
uæ
->
p‹t
 !
scheme_p‹t
)

2025 *
p
++ = ':';

2026 
p
 = 
	`numbî_to_°rög
 (p, 
uæ
->
p‹t
);

2029 
	`fuŒ_∑th_wrôe
 (
uæ
, 
p
);

2030 
p
 +
ÂÀn
;

2031 *
p
++ = '\0';

2033 
	`as£π
 (
p
 - 
ªsu…
 =
size
);

2035 i‡(
quŸed_u£r
 && quŸed_u£∏!
uæ
->
u£r
)

2036 
	`x‰ì
 (
quŸed_u£r
);

2037 i‡(
quŸed_∑sswd
 && 
auth_mode
 =
URL_AUTH_SHOW


2038 && 
quŸed_∑sswd
 !
uæ
->
∑sswd
)

2039 
	`x‰ì
 (
quŸed_∑sswd
);

2040 i‡(
quŸed_ho°
 !
uæ
->
ho°
)

2041 
	`x‰ì
 (
quŸed_ho°
);

2043  
ªsu…
;

2044 
	}
}

2051 
boﬁ


2052 
	$schemes_¨e_simû¨_p
 (
uæ_scheme
 
a
, uæ_schemê
b
)

2054 i‡(
a
 =
b
)

2055  
åue
;

2056 #ifde‡
HAVE_SSL


2057 i‡((
a
 =
SCHEME_HTTP
 && 
b
 =
SCHEME_HTTPS
)

2058 || (
a
 =
SCHEME_HTTPS
 && 
b
 =
SCHEME_HTTP
))

2059  
åue
;

2061  
Ál£
;

2062 
	}
}

2065 
	$gëch¨_‰om_esˇ≥d_°rög
 (c⁄° *
°r
, *
c
)

2067 c⁄° *
p
 = 
°r
;

2069 
	`as£π
 (
°r
 && *str);

2070 
	`as£π
 (
c
);

2072 i‡(
p
[0] == '%')

2074 i‡(!
	`c_isxdigô
(
p
[1]) || !c_isxdigit(p[2]))

2076 *
c
 = '%';

2081 i‡(
p
[2] == 0)

2084 *
c
 = 
	`X2DIGITS_TO_NUM
 (
p
[1],Ö[2]);

2085 i‡(
	`URL_RESERVED_CHAR
(*
c
))

2087 *
c
 = '%';

2096 *
c
 = 
p
[0];

2100 
	}
}

2102 
boﬁ


2103 
	$¨e_uæs_equÆ
 (c⁄° *
u1
, c⁄° *
u2
)

2105 c⁄° *
p
, *
q
;

2106 
µ
, 
qq
;

2107 
ch1
, 
ch2
;

2108 
	`as£π
(
u1
 && 
u2
);

2110 
p
 = 
u1
;

2111 
q
 = 
u2
;

2113 *
p
 && *
q


2114 && (
µ
 = 
	`gëch¨_‰om_esˇ≥d_°rög
 (
p
, &
ch1
))

2115 && (
qq
 = 
	`gëch¨_‰om_esˇ≥d_°rög
 (
q
, &
ch2
))

2116 && (
	`c_tﬁowî
(
ch1
Ë=c_tﬁowî(
ch2
)))

2118 
p
 +
µ
;

2119 
q
 +
qq
;

2122  (*
p
 =0 && *
q
 =0 ? 
åue
 : 
Ál£
);

2123 
	}
}

2125 #ifde‡
TESTING


2132 
	$ps
 (*
∑th
)

2134 *
c›y
 = 
	`x°rdup
 (
∑th
);

2135 
	`∑th_sim∂ify
 (
c›y
);

2136  
c›y
;

2137 
	}
}

2141 
	$run_ã°
 (*
ã°
, *
ex≥˘ed_ªsu…
, 
uæ_scheme
 
scheme
,

2142 
boﬁ
 
ex≥˘ed_ch™ge
)

2144 *
ã°_c›y
 = 
	`x°rdup
 (
ã°
);

2145 
boﬁ
 
modifõd
 = 
	`∑th_sim∂ify
 (
scheme
, 
ã°_c›y
);

2147 i‡(0 !
	`°rcmp
 (
ã°_c›y
, 
ex≥˘ed_ªsu…
))

2149 
	`¥ötf
 ("FailedÖath_simplify(\"%s\"):Éxpected \"%s\", got \"%s\".\n",

2150 
ã°
, 
ex≥˘ed_ªsu…
, 
ã°_c›y
);

2151 
	`mu_as£π
 ("", 0);

2153 i‡(
modifõd
 !
ex≥˘ed_ch™ge
)

2155 i‡(
ex≥˘ed_ch™ge
)

2156 
	`¥ötf
 ("Expected modification withÖath_simplify(\"%s\").\n",

2157 
ã°
);

2159 
	`¥ötf
 ("ExpectedÇo modification withÖath_simplify(\"%s\").\n",

2160 
ã°
);

2162 
	`x‰ì
 (
ã°_c›y
);

2163 
	`mu_as£π
 ("", 
modifõd
 =
ex≥˘ed_ch™ge
);

2164  
NULL
;

2165 
	}
}

2168 
	$ã°_∑th_sim∂ify
 ()

2171 *
ã°
, *
ªsu…
;

2172 
uæ_scheme
 
scheme
;

2173 
boﬁ
 
should_modify
;

2174 } 
ã°s
[] = {

2175 { "", "", 
SCHEME_HTTP
, 
Ál£
 },

2176 { ".", "", 
SCHEME_HTTP
, 
åue
 },

2177 { "./", "", 
SCHEME_HTTP
, 
åue
 },

2178 { "..", "", 
SCHEME_HTTP
, 
åue
 },

2179 { "../", "", 
SCHEME_HTTP
, 
åue
 },

2180 { "..", "..", 
SCHEME_FTP
, 
Ál£
 },

2181 { "../", "../", 
SCHEME_FTP
, 
Ál£
 },

2182 { "foo", "foo", 
SCHEME_HTTP
, 
Ál£
 },

2183 { "foo/b¨", "foo/b¨", 
SCHEME_HTTP
, 
Ál£
 },

2184 { "foo///b¨", "foo///b¨", 
SCHEME_HTTP
, 
Ál£
 },

2185 { "foo/.", "foo/", 
SCHEME_HTTP
, 
åue
 },

2186 { "foo/./", "foo/", 
SCHEME_HTTP
, 
åue
 },

2187 { "foo./", "foo./", 
SCHEME_HTTP
, 
Ál£
 },

2188 { "foo/../b¨", "b¨", 
SCHEME_HTTP
, 
åue
 },

2189 { "foo/../b¨/", "b¨/", 
SCHEME_HTTP
, 
åue
 },

2190 { "foo/b¨/..", "foo/", 
SCHEME_HTTP
, 
åue
 },

2191 { "foo/b¨/../x", "foo/x", 
SCHEME_HTTP
, 
åue
 },

2192 { "foo/b¨/../x/", "foo/x/", 
SCHEME_HTTP
, 
åue
 },

2193 { "foo/..", "", 
SCHEME_HTTP
, 
åue
 },

2194 { "foo/../..", "", 
SCHEME_HTTP
, 
åue
 },

2195 { "foo/../../..", "", 
SCHEME_HTTP
, 
åue
 },

2196 { "foo/../../b¨/../../baz", "baz", 
SCHEME_HTTP
, 
åue
 },

2197 { "foo/../..", "..", 
SCHEME_FTP
, 
åue
 },

2198 { "foo/../../..", "../..", 
SCHEME_FTP
, 
åue
 },

2199 { "foo/../../b¨/../../baz", "../../baz", 
SCHEME_FTP
, 
åue
 },

2200 { "a/b/../../c", "c", 
SCHEME_HTTP
, 
åue
 },

2201 { "./a/../b", "b", 
SCHEME_HTTP
, 
åue
 }

2203 
i
;

2205 
i
 = 0; i < 
	`cou¡of
 (
ã°s
); i++)

2207 c⁄° *
mesßge
;

2208 *
ã°
 = 
ã°s
[
i
].test;

2209 *
ex≥˘ed_ªsu…
 = 
ã°s
[
i
].
ªsu…
;

2210 
uæ_scheme
 
scheme
 = 
ã°s
[
i
].scheme;

2211 
boﬁ
 
ex≥˘ed_ch™ge
 = 
ã°s
[
i
].
should_modify
;

2212 
mesßge
 = 
	`run_ã°
 (
ã°
, 
ex≥˘ed_ªsu…
, 
scheme
, 
ex≥˘ed_ch™ge
);

2213 i‡(
mesßge
)  message;

2215  
NULL
;

2216 
	}
}

2219 
	$ã°_≠≥nd_uri_∑thñ
()

2221 
i
;

2223 *
‹igöÆ_uæ
;

2224 *
öput
;

2225 
boﬁ
 
esˇ≥d
;

2226 *
ex≥˘ed_ªsu…
;

2227 } 
ã°_¨øy
[] = {

2228 { "hâp://www.yoyody√.com/∑th/", "somïage.html", 
Ál£
, "http://www.yoyodyne.com/path/somepage.html" },

2231 
i
 = 0; i < (
ã°_¨øy
)/(test_array[0]); ++i)

2233 
growabÀ
 
de°
;

2234 c⁄° *
p
 = 
ã°_¨øy
[
i
].
öput
;

2236 
	`mem£t
 (&
de°
, 0,  (dest));

2238 
	`≠≥nd_°rög
 (
ã°_¨øy
[
i
].
‹igöÆ_uæ
, &
de°
);

2239 
	`≠≥nd_uri_∑thñ
 (
p
,Ö + 
	`°æí
’), 
ã°_¨øy
[
i
].
esˇ≥d
, &
de°
);

2240 
	`≠≥nd_ch¨
 ('\0', &
de°
);

2242 
	`mu_as£π
 ("test_append_uri_pathel: wrongÑesult",

2243 
	`°rcmp
 (
de°
.
ba£
, 
ã°_¨øy
[
i
].
ex≥˘ed_ªsu…
) == 0);

2246  
NULL
;

2247 
	}
}

2250 
	$ã°_¨e_uæs_equÆ
()

2252 
i
;

2254 *
uæ1
;

2255 *
uæ2
;

2256 
boﬁ
 
ex≥˘ed_ªsu…
;

2257 } 
ã°_¨øy
[] = {

2258 { "hâp://www.adomaö.com/≠©h/", "hâp://www.adomaö.com/≠©h/", 
åue
 },

2259 { "hâp://www.adomaö.com/≠©h/", "hâp://www.adomaö.com/™Ÿhî∑th/", 
Ál£
 },

2260 { "hâp://www.adomaö.com/≠©h/", "hâp://www.™Ÿhîdomaö.com/∑th/", 
Ál£
 },

2261 { "hâp://www.adomaö.com/~∑th/", "hâp://www.adomaö.com/%7ï©h/", 
åue
 },

2262 { "hâp://www.adomaö.com/l⁄gî-∑th/", "hâp://www.adomaö.com/∑th/", 
Ál£
 },

2263 { "hâp://www.adomaö.com/∑th%2f", "hâp://www.adomaö.com/∑th/", 
Ál£
 },

2266 
i
 = 0; i < (
ã°_¨øy
)/(test_array[0]); ++i)

2268 
	`mu_as£π
 ("test_are_urls_equal: wrongÑesult",

2269 
	`¨e_uæs_equÆ
 (
ã°_¨øy
[
i
].
uæ1
,Åe°_¨øy[i].
uæ2
Ë=ã°_¨øy[i].
ex≥˘ed_ªsu…
);

2272  
NULL
;

2273 
	}
}

	@src/url.h

32 #i‚de‡
URL_H


33 
	#URL_H


	)

36 
	#DEFAULT_HTTP_PORT
 80

	)

37 
	#DEFAULT_FTP_PORT
 21

	)

38 
	#DEFAULT_HTTPS_PORT
 443

	)

42 
	euæ_auth_mode
 {

43 
	mURL_AUTH_SHOW
,

44 
	mURL_AUTH_HIDE_PASSWD
,

45 
	mURL_AUTH_HIDE


51 
	euæ_scheme
 {

52 
	mSCHEME_HTTP
,

53 #ifde‡
HAVE_SSL


54 
	mSCHEME_HTTPS
,

56 
	mSCHEME_FTP
,

57 
	mSCHEME_INVALID


61 
	suæ


63 *
	muæ
;

64 
uæ_scheme
 
	mscheme
;

66 *
	mho°
;

67 
	mp‹t
;

70 *
	m∑th
;

71 *
	m∑øms
;

72 *
	mquîy
;

73 *
	m‰agmít
;

76 *
	mdú
;

77 *
	mfûe
;

80 *
	mu£r
;

81 *
	m∑sswd
;

86 *
uæ_esˇ≥
 (const *);

87 *
uæ_esˇ≥_unß„_™d_ª£rved
 (const *);

89 
uæ
 *
uæ_∑r£
 (c⁄° *, *, 
úi
 *úi, 
boﬁ
 
≥r˚¡_ícode
);

90 *
uæ_îr‹
 (const *, );

91 *
uæ_fuŒ_∑th
 (c⁄° 
uæ
 *);

92 
uæ_£t_dú
 (
uæ
 *, const *);

93 
uæ_£t_fûe
 (
uæ
 *, const *);

94 
uæ_‰ì
 (
uæ
 *);

96 
uæ_scheme
 url_scheme (const *);

97 
boﬁ
 
uæ_has_scheme
 (const *);

98 
boﬁ
 
uæ_vÆid_scheme
 (const *);

99 
scheme_deÁu…_p‹t
 (
uæ_scheme
);

100 
scheme_dißbÀ
 (
uæ_scheme
);

102 *
uæ_°rög
 (c⁄° 
uæ
 *, 
uæ_auth_mode
);

103 *
uæ_fûe_«me
 (c⁄° 
uæ
 *, *);

105 *
uri_mîge
 (const *, const *);

107 
mkÆldús
 (const *);

109 *
ªwrôe_sh‹th™d_uæ
 (const *);

110 
boﬁ
 
schemes_¨e_simû¨_p
 (
uæ_scheme
 
a
, uæ_schemê
b
);

112 
boﬁ
 
¨e_uæs_equÆ
 (c⁄° *
u1
, c⁄° *
u2
);

	@src/utils.c

32 
	~"wgë.h
"

34 
	~<°dio.h
>

35 
	~<°dlib.h
>

36 
	~<°rög.h
>

37 
	~<time.h
>

38 
	~<uni°d.h
>

39 #ifde‡
HAVE_MMAP


40 
	~<sys/mm™.h
>

42 #ifde‡
HAVE_PROCESS_H


43 
	~<¥o˚ss.h
>

45 #ifde‡
HAVE_UTIME_H


46 
	~<utime.h
>

48 
	~<î∫o.h
>

49 
	~<f˙é.h
>

50 
	~<as£π.h
>

51 
	~<°d¨g.h
>

52 
	~<loˇÀ.h
>

54 
	~<sys/°©.h
>

57 #ifde‡
HAVE_SYS_IOCTL_H


58 
	~<sys/io˘l.h
>

60 #ifde‡
HAVE_TERMIOS_H


61 
	~<ãrmios.h
>

65 
	~<sig«l.h
>

66 
	~<£tjmp.h
>

68 #i‚de‡
HAVE_SIGSETJMP


70 #ifde‡
sig£tjmp


71 
	#HAVE_SIGSETJMP


	)

75 #i‡
deföed
 
HAVE_SIGSETJMP
 || deföed 
HAVE_SIGBLOCK


76 
	#USE_SIGNAL_TIMEOUT


	)

79 
	~"utûs.h
"

80 
	~"hash.h
"

82 #ifde‡
__VMS


83 
	~"vms.h
"

86 #ifde‡
TESTING


87 
	~"ã°.h
"

91 
	$memÁèl
 (c⁄° *
c⁄ãxt
, 
©ãm±ed_size
)

95 
	`log_£t_ßve_c⁄ãxt
 (
Ál£
);

100 i‡(
©ãm±ed_size
 =
UNKNOWN_ATTEMPTED_SIZE
)

102 
	`log¥ötf
 (
LOG_ALWAYS
,

103 
	`_
("%s: %s: FailedÅoállocateÉnough memory; memoryÉxhausted.\n"),

104 
exec_«me
, 
c⁄ãxt
);

108 
	`log¥ötf
 (
LOG_ALWAYS
,

109 
	`_
("%s: %s: FailedÅoállocate %ld bytes; memoryÉxhausted.\n"),

110 
exec_«me
, 
c⁄ãxt
, 
©ãm±ed_size
);

113 
	`exô
 (1);

114 
	}
}

162 
	gch¨_¥›
[ 256] = {

201 
	$x°rdup_lowî
 (c⁄° *
s
)

203 *
c›y
 = 
	`x°rdup
 (
s
);

204 *
p
 = 
c›y
;

205 ; *
p
;Ö++)

206 *
p
 = 
	`c_tﬁowî
 (*p);

207  
c›y
;

208 
	}
}

214 
	$°rdupdñim
 (c⁄° *
beg
, c⁄° *
íd
)

216 *
ªs
 = 
	`xmÆloc
 (
íd
 - 
beg
 + 1);

217 
	`mem˝y
 (
ªs
, 
beg
, 
íd
 - beg);

218 
ªs
[
íd
 - 
beg
] = '\0';

219  
ªs
;

220 
	}
}

226 
	$£p°rög
 (c⁄° *
s
)

228 **
ªs
;

229 c⁄° *
p
;

230 
i
 = 0;

232 i‡(!
s
 || !*s)

233  
NULL
;

234 
ªs
 = 
NULL
;

235 
p
 = 
s
;

236 *
s
)

238 i‡(*
s
 == ',')

240 
ªs
 = 
	`xªÆloc
 (ªs, (
i
 + 2) *  (*));

241 
ªs
[
i
] = 
	`°rdupdñim
 (
p
, 
s
);

242 
ªs
[++
i
] = 
NULL
;

243 ++
s
;

245 
	`c_is•a˚
 (*
s
))

246 ++
s
;

247 
p
 = 
s
;

250 ++
s
;

252 
ªs
 = 
	`xªÆloc
 (ªs, (
i
 + 2) *  (*));

253 
ªs
[
i
] = 
	`°rdupdñim
 (
p
, 
s
);

254 
ªs
[
i
 + 1] = 
NULL
;

255  
ªs
;

256 
	}
}

274 
	#FMT_MAX_LENGTH
 1048576

	)

277 
	$≠rötf
 (c⁄° *
fmt
, ...)

279 #i‡
deföed
 
HAVE_VASPRINTF
 && !deföed 
DEBUG_MALLOC


281 
ªt
;

282 
va_li°
 
¨gs
;

283 *
°r
;

284 
	`va_°¨t
 (
¨gs
, 
fmt
);

285 
ªt
 = 
	`va•rötf
 (&
°r
, 
fmt
, 
¨gs
);

286 
	`va_íd
 (
¨gs
);

287 i‡(
ªt
 < 0 && 
î∫o
 =
ENOMEM
)

288 
	`memÁèl
 ("≠rötf", 
UNKNOWN_ATTEMPTED_SIZE
);

290 i‡(
ªt
 < 0)

291  
NULL
;

292  
°r
;

297 
size
 = 32;

298 *
°r
 = 
	`xmÆloc
 (
size
);

305 
n
;

306 
va_li°
 
¨gs
;

308 
	`va_°¨t
 (
¨gs
, 
fmt
);

309 
n
 = 
	`v¢¥ötf
 (
°r
, 
size
, 
fmt
, 
¨gs
);

310 
	`va_íd
 (
¨gs
);

313 i‡(
n
 > -1 &&Ç < 
size
)

314  
°r
;

317 i‡(
n
 > -1)

318 
size
 = 
n
 + 1;

319 i‡(
size
 >
FMT_MAX_LENGTH
)

322 
	`log¥ötf
 (
LOG_ALWAYS
,

323 
	`_
("%s:áprintf:Åext buffer isÅoo big (%ld bytes), "

325 
exec_«me
, 
size
);

326 
	`ab‹t
 ();

332 
size
 <<= 1;

334 
°r
 = 
	`xªÆloc
 (°r, 
size
);

337 
	}
}

343 
	$c⁄ˇt_°rögs
 (c⁄° *
°r0
, ...)

345 
va_li°
 
¨gs
;

346 
ßved_Àngths
[5];

347 *
ªt
, *
p
;

349 c⁄° *
√xt_°r
;

350 
tŸÆ_Àngth
 = 0;

351 
size_t
 
¨gcou¡
;

355 
¨gcou¡
 = 0;

356 
	`va_°¨t
 (
¨gs
, 
°r0
);

357 
√xt_°r
 = 
°r0
;Çext_°∏!
NULL
;Çext_°∏
	`va_¨g
 (
¨gs
, *))

359 
Àn
 = 
	`°æí
 (
√xt_°r
);

360 i‡(
¨gcou¡
 < 
	`cou¡of
 (
ßved_Àngths
))

361 
ßved_Àngths
[
¨gcou¡
++] = 
Àn
;

362 
tŸÆ_Àngth
 +
Àn
;

364 
	`va_íd
 (
¨gs
);

365 
p
 = 
ªt
 = 
	`xmÆloc
 (
tŸÆ_Àngth
 + 1);

369 
¨gcou¡
 = 0;

370 
	`va_°¨t
 (
¨gs
, 
°r0
);

371 
√xt_°r
 = 
°r0
;Çext_°∏!
NULL
;Çext_°∏
	`va_¨g
 (
¨gs
, *))

373 
Àn
;

374 i‡(
¨gcou¡
 < 
	`cou¡of
 (
ßved_Àngths
))

375 
Àn
 = 
ßved_Àngths
[
¨gcou¡
++];

377 
Àn
 = 
	`°æí
 (
√xt_°r
);

378 
	`mem˝y
 (
p
, 
√xt_°r
, 
Àn
);

379 
p
 +
Àn
;

381 
	`va_íd
 (
¨gs
);

382 *
p
 = '\0';

384  
ªt
;

385 
	}
}

391 
	$fmâime
 (
time_t
 
t
, c⁄° *
fmt
)

393 
ouçut
[32];

394 
tm
 *tm = 
	`loˇ…ime
(&
t
);

395 i‡(!
tm
)

396 
	`ab‹t
 ();

397 i‡(!
	`°r·ime
(
ouçut
, (ouçut), 
fmt
, 
tm
))

398 
	`ab‹t
 ();

399  
ouçut
;

400 
	}
}

408 
	$time_°r
 (
time_t
 
t
)

410  
	`fmâime
(
t
, "%H:%M:%S");

411 
	}
}

416 
	$d©ëime_°r
 (
time_t
 
t
)

418  
	`fmâime
(
t
, "%Y-%m-%d %H:%M:%S");

419 
	}
}

424 #ifde‡
__VMS


427 
	$f‹k_to_background
 ()

430 
	}
}

434 #i‡!
deföed
(
WINDOWS
Ë&& !deföed(
MSDOS
)

436 
	$f‹k_to_background
 ()

438 
pid_t
 
pid
;

440 
boﬁ
 
logfûe_ch™ged
 = 
Ál£
;

442 i‡(!
›t
.
lfûíame
 && (!›t.
quõt
 || o±.
£rvî_ª•⁄£
))

449 
FILE
 *
√w_log_Â
 = 
	`unique_¸óã
 (
DEFAULT_LOGFILE
, 
Ál£
, &
›t
.
lfûíame
);

450 i‡(
√w_log_Â
)

452 
logfûe_ch™ged
 = 
åue
;

453 
	`f˛o£
 (
√w_log_Â
);

456 
pid
 = 
	`f‹k
 ();

457 i‡(
pid
 < 0)

460 
	`≥º‹
 ("fork");

461 
	`exô
 (1);

463 i‡(
pid
 != 0)

466 
	`¥ötf
 (
	`_
("C⁄töuög i¿background,Öid %d.\n"), (Ë
pid
);

467 i‡(
logfûe_ch™ged
)

468 
	`¥ötf
 (
	`_
("Ouçuàwû»bêwrôã¿tÿ%s.\n"), 
	`quŸe
 (
›t
.
lfûíame
));

469 
	`exô
 (0);

473 
	`£tsid
 ();

474 
	`‰e›í
 ("/dev/nuŒ", "r", 
°dö
);

475 
	`‰e›í
 ("/dev/nuŒ", "w", 
°dout
);

476 
	`‰e›í
 ("/dev/nuŒ", "w", 
°dîr
);

477 
	}
}

488 
	$touch
 (c⁄° *
fûe
, 
time_t
 
tm
)

490 
time•ec
 
time•ecs
[2];

491 
fd
;

493 
fd
 = 
	`›í
 (
fûe
, 
O_WRONLY
);

494 i‡(
fd
 < 0)

496 
	`log¥ötf
 (
LOG_NOTQUIET
, "›í(%s): %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

500 
time•ecs
[0].
tv_£c
 = 
	`time
 (
NULL
);

501 
time•ecs
[0].
tv_n£c
 = 0L;

502 
time•ecs
[1].
tv_£c
 = 
tm
;

503 
time•ecs
[1].
tv_n£c
 = 0L;

505 i‡(
	`futimís
 (
fd
, 
time•ecs
) == -1)

506 
	`log¥ötf
 (
LOG_NOTQUIET
, "futimís(%s): %s\n", 
fûe
, 
	`°ªº‹
 (
î∫o
));

508 
	`˛o£
 (
fd
);

509 
	}
}

514 
	$ªmove_lök
 (c⁄° *
fûe
)

516 
îr
 = 0;

517 
°ru˘_°©
 
°
;

519 i‡(
	`l°©
 (
fûe
, &
°
Ë=0 && 
	`S_ISLNK
 (°.
°_mode
))

521 
	`DEBUGP
 (("U∆ökög %†(symlök).\n", 
fûe
));

522 
îr
 = 
	`u∆ök
 (
fûe
);

523 i‡(
îr
 != 0)

524 
	`log¥ötf
 (
LOG_VERBOSE
, 
	`_
("FailedÅo unlink symlink %s: %s\n"),

525 
	`quŸe
 (
fûe
), 
	`°ªº‹
 (
î∫o
));

527  
îr
;

528 
	}
}

537 
boﬁ


538 
	$fûe_exi°s_p
 (c⁄° *
fûíame
)

540 #ifde‡
HAVE_ACCESS


541  
	`ac˚ss
 (
fûíame
, 
F_OK
) >= 0;

543 
°ru˘_°©
 
buf
;

544  
	`°©
 (
fûíame
, &
buf
) >= 0;

546 
	}
}

550 
boﬁ


551 
	$fûe_n⁄_dúe˘‹y_p
 (c⁄° *
∑th
)

553 
°ru˘_°©
 
buf
;

556 i‡(
	`l°©
 (
∑th
, &
buf
) != 0)

557  
Ál£
;

558  
	`S_ISDIR
 (
buf
.
°_mode
Ë? 
Ál£
 : 
åue
;

559 
	}
}

563 
wgöt


564 
	$fûe_size
 (c⁄° *
fûíame
)

566 #i‡
	`deföed
(
HAVE_FSEEKO
Ë&& deföed(
HAVE_FTELLO
)

567 
wgöt
 
size
;

572 
FILE
 *
Â
 = 
	`f›í
 (
fûíame
, "rb");

573 i‡(!
Â
)

575 
	`f£eko
 (
Â
, 0, 
SEEK_END
);

576 
size
 = 
	`·ñlo
 (
Â
);

577 
	`f˛o£
 (
Â
);

578  
size
;

580 
°ru˘_°©
 
°
;

581 i‡(
	`°©
 (
fûíame
, &
°
) < 0)

583  
°
.
°_size
;

585 
	}
}

593 #ifde‡
UNIQ_SEP


600 
	$unique_«me_1
 (c⁄° *
¥efix
)

602 
cou¡
 = 1;

603 
∂í
 = 
	`°æí
 (
¥efix
);

604 *
ãm∂©e
 = (*)
	`Æloˇ
 (
∂í
 + 1 + 24);

605 *
ãm∂©e_èû
 = 
ãm∂©e
 + 
∂í
;

607 
	`mem˝y
 (
ãm∂©e
, 
¥efix
, 
∂í
);

608 *
ãm∂©e_èû
++ = 
UNIQ_SEP
;

611 
	`numbî_to_°rög
 (
ãm∂©e_èû
, 
cou¡
++);

612 
	`fûe_exi°s_p
 (
ãm∂©e
));

614  
	`x°rdup
 (
ãm∂©e
);

615 
	}
}

636 
	$unique_«me
 (c⁄° *
fûe
, 
boﬁ
 
Ælow_∑s°hrough
)

640 i‡(!
	`fûe_exi°s_p
 (
fûe
))

641  
Ælow_∑s°hrough
 ? (*)
fûe
 : 
	`x°rdup
 (file);

645  
	`unique_«me_1
 (
fûe
);

646 
	}
}

654 
	$unique_«me
 (c⁄° *
fûe
, 
boﬁ
 
Ælow_∑s°hrough
)

657  
Ælow_∑s°hrough
 ? (*)
fûe
 : 
	`x°rdup
 (file);

658 
	}
}

667 
FILE
 *

668 
	$unique_¸óã
 (c⁄° *
«me
, 
boﬁ
 
bö¨y
, **
›íed_«me
)

671 *
u«me
 = 
	`unique_«me
 (
«me
, 
Ál£
);

672 
FILE
 *
Â
;

673 (
Â
 = 
	`f›í_ex˛
 (
u«me
, 
bö¨y
)Ë=
NULL
 && 
î∫o
 =
EEXIST
)

675 
	`x‰ì
 (
u«me
);

676 
u«me
 = 
	`unique_«me
 (
«me
, 
Ál£
);

678 i‡(
›íed_«me
 && 
Â
 !
NULL
)

680 i‡(
Â
)

681 *
›íed_«me
 = 
u«me
;

684 *
›íed_«me
 = 
NULL
;

685 
	`x‰ì
 (
u«me
);

689 
	`x‰ì
 (
u«me
);

690  
Â
;

691 
	}
}

703 
FILE
 *

704 
	$f›í_ex˛
 (c⁄° *
‚ame
, 
bö¨y
)

706 
fd
;

707 #ifde‡
O_EXCL


714 #ifde‡
__VMS


718 
	#OPEN_OPT_ARGS
 "f›=sqo", "acc", 
acc_cb
, &
›í_id


	)

720 
›í_id
;

721 
Êags
 = 
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
;

723 i‡(
bö¨y
 > 1)

725 
›í_id
 = 11;

726 
fd
 = 
	`›í
–
‚ame
,

727 
Êags
,

731 
OPEN_OPT_ARGS
);

733 i‡(
bö¨y
)

735 
›í_id
 = 12;

736 
fd
 = 
	`›í
–
‚ame
,

737 
Êags
,

742 
OPEN_OPT_ARGS
);

746 
›í_id
 = 13;

747 
fd
 = 
	`›í
–
‚ame
,

748 
Êags
,

752 
OPEN_OPT_ARGS
);

755 
Êags
 = 
O_WRONLY
 | 
O_CREAT
 | 
O_EXCL
;

756 #ifde‡
O_BINARY


757 i‡(
bö¨y
)

758 
Êags
 |
O_BINARY
;

760 
fd
 = 
	`›í
 (
‚ame
, 
Êags
, 0666);

763 i‡(
fd
 < 0)

764  
NULL
;

765  
	`fd›í
 (
fd
, 
bö¨y
 ? "wb" : "w");

770 i‡(
	`fûe_exi°s_p
 (
‚ame
))

772 
î∫o
 = 
EEXIST
;

773  
NULL
;

775  
	`f›í
 (
‚ame
, 
bö¨y
 ? "wb" : "w");

777 
	}
}

786 
	$make_dúe˘‹y
 (c⁄° *
dúe˘‹y
)

788 
i
, 
ªt
, 
quô
 = 0;

789 *
dú
;

793 
	`STRDUP_ALLOCA
 (
dú
, 
dúe˘‹y
);

797 
i
 = (*
dú
 == '/'); 1; ++i)

799 ; 
dú
[
i
] && dir[i] != '/'; i++)

801 i‡(!
dú
[
i
])

802 
quô
 = 1;

803 
dú
[
i
] = '\0';

807 i‡(!
	`fûe_exi°s_p
 (
dú
))

808 
ªt
 = 
	`mkdú
 (
dú
, 0777);

810 
ªt
 = 0;

811 i‡(
quô
)

814 
dú
[
i
] = '/';

816  
ªt
;

817 
	}
}

829 
	$fûe_mîge
 (c⁄° *
ba£
, c⁄° *
fûe
)

831 *
ªsu…
;

832 c⁄° *
cut
 = (c⁄° *)
	`°ºchr
 (
ba£
, '/');

834 i‡(!
cut
)

835  
	`x°rdup
 (
fûe
);

837 
ªsu…
 = 
	`xmÆloc
 (
cut
 - 
ba£
 + 1 + 
	`°æí
 (
fûe
) + 1);

838 
	`mem˝y
 (
ªsu…
, 
ba£
, 
cut
 - base);

839 
ªsu…
[
cut
 - 
ba£
] = '/';

840 
	`°r˝y
 (
ªsu…
 + (
cut
 - 
ba£
Ë+ 1, 
fûe
);

842  
ªsu…
;

843 
	}
}

848 
	$‚m©ch_noˇ£
 (c⁄° *
∑âîn
, c⁄° *
°rög
, 
Êags
)

850 #ifde‡
FNM_CASEFOLD


853  
	`‚m©ch
 (
∑âîn
, 
°rög
, 
Êags
 | 
FNM_CASEFOLD
);

856 *
∑tc›y
 = (*Ë
	`Æloˇ
 (
	`°æí
 (
∑âîn
) + 1);

857 *
°rc›y
 = (*Ë
	`Æloˇ
 (
	`°æí
 (
°rög
) + 1);

858 *
p
;

859 
p
 = 
∑tc›y
; *
∑âîn
;Öattern++,Ö++)

860 *
p
 = 
	`c_tﬁowî
 (*
∑âîn
);

861 *
p
 = '\0';

862 
p
 = 
°rc›y
; *
°rög
; string++,Ö++)

863 *
p
 = 
	`c_tﬁowî
 (*
°rög
);

864 *
p
 = '\0';

865  
	`‚m©ch
 (
∑tc›y
, 
°rc›y
, 
Êags
);

867 
	}
}

869 
boﬁ
 
ö_ac˛i°
 (const *const *, const *, bool);

873 
boﬁ


874 
	$ac˚±abÀ
 (c⁄° *
s
)

876 
l
 = 
	`°æí
 (
s
);

878 i‡(
›t
.
ouçut_documít
 && 
	`°rcmp
 (
s
, opt.output_document) == 0)

879  
åue
;

881 
l
 && 
s
[l] != '/')

882 --
l
;

883 i‡(
s
[
l
] == '/')

884 
s
 +(
l
 + 1);

885 i‡(
›t
.
ac˚±s
)

887 i‡(
›t
.
ªje˘s
)

888  (
	`ö_ac˛i°
 ((c⁄° *c⁄° *)
›t
.
ac˚±s
, 
s
, 
åue
)

889 && !
	`ö_ac˛i°
 ((c⁄° *c⁄° *)
›t
.
ªje˘s
, 
s
, 
åue
));

891  
	`ö_ac˛i°
 ((c⁄° *c⁄° *)
›t
.
ac˚±s
, 
s
, 
åue
);

893 i‡(
›t
.
ªje˘s
)

894  !
	`ö_ac˛i°
 ((c⁄° *c⁄° *)
›t
.
ªje˘s
, 
s
, 
åue
);

895  
åue
;

896 
	}
}

901 
boﬁ


902 
	$subdú_p
 (c⁄° *
d1
, c⁄° *
d2
)

904 i‡(*
d1
 == '\0')

905  
åue
;

906 i‡(!
›t
.
ign‹e_ˇ£
)

907 ; *
d1
 && *
d2
 && (*d1 == *d2); ++d1, ++d2)

910 ; *
d1
 && *
d2
 && (
	`c_tﬁowî
 (*d1) == c_tolower (*d2)); ++d1, ++d2)

913  *
d1
 ='\0' && (*
d2
 == '\0' || *d2 == '/');

914 
	}
}

919 
boﬁ


920 
	$dú_m©ches_p
 (**
dúli°
, c⁄° *
dú
)

922 **
x
;

923 (*
m©chî
) (const *, const *, )

924 
›t
.
ign‹e_ˇ£
 ? 
‚m©ch_noˇ£
 : 
‚m©ch
;

926 
x
 = 
dúli°
; *x; x++)

929 *
p
 = *
x
 + (**x == '/');

930 i‡(
	`has_wûdˇrds_p
 (
p
))

932 i‡(
	`m©chî
 (
p
, 
dú
, 
FNM_PATHNAME
) == 0)

937 i‡(
	`subdú_p
 (
p
, 
dú
))

942  *
x
 ? 
åue
 : 
Ál£
;

943 
	}
}

951 
boﬁ


952 
	$accdú
 (c⁄° *
dúe˘‹y
)

955 i‡(*
dúe˘‹y
 == '/')

956 ++
dúe˘‹y
;

957 i‡(
›t
.
ö˛udes
)

959 i‡(!
	`dú_m©ches_p
 (
›t
.
ö˛udes
, 
dúe˘‹y
))

960  
Ál£
;

962 i‡(
›t
.
ex˛udes
)

964 i‡(
	`dú_m©ches_p
 (
›t
.
ex˛udes
, 
dúe˘‹y
))

965  
Ál£
;

967  
åue
;

968 
	}
}

978 
boﬁ


979 
	$m©ch_èû
 (c⁄° *
°rög
, c⁄° *
èû
, 
boﬁ
 
fﬁd_ˇ£
)

981 
i
, 
j
;

986 i‡(!
fﬁd_ˇ£
)

988 
i
 = 
	`°æí
 (
°rög
), 
j
 = såÀ¿(
èû
); i >= 0 && j >= 0; i--, j--)

989 i‡(
°rög
[
i
] !
èû
[
j
])

994 
i
 = 
	`°æí
 (
°rög
), 
j
 = såÀ¿(
èû
); i >= 0 && j >= 0; i--, j--)

995 i‡(
	`c_tﬁowî
 (
°rög
[
i
]Ë!c_tﬁowî (
èû
[
j
]))

1000 i‡(
j
 == -1)

1001  
åue
;

1003  
Ál£
;

1004 
	}
}

1012 
boﬁ


1013 
	$ö_ac˛i°
 (c⁄° *c⁄° *
ac˚±s
, c⁄° *
s
, 
boﬁ
 
backw¨d
)

1015 ; *
ac˚±s
;áccepts++)

1017 i‡(
	`has_wûdˇrds_p
 (*
ac˚±s
))

1019 
ªs
 = 
›t
.
ign‹e_ˇ£


1020 ? 
	`‚m©ch_noˇ£
 (*
ac˚±s
, 
s
, 0Ë: 
	`‚m©ch
 (*accepts, s, 0);

1022 i‡(
ªs
 == 0)

1023  
åue
;

1027 i‡(
backw¨d
)

1029 i‡(
	`m©ch_èû
 (
s
, *
ac˚±s
, 
›t
.
ign‹e_ˇ£
))

1030  
åue
;

1034 
cmp
 = 
›t
.
ign‹e_ˇ£


1035 ? 
	`°rˇ£cmp
 (
s
, *
ac˚±s
Ë: 
	`°rcmp
 (s, *accepts);

1036 i‡(
cmp
 == 0)

1037  
åue
;

1041  
Ál£
;

1042 
	}
}

1050 
	$suffix
 (c⁄° *
°r
)

1052 
i
;

1054 
i
 = 
	`°æí
 (
°r
); i && str[i] != '/' && str[i] != '.'; i--)

1057 i‡(
°r
[
i
++] == '.')

1058  (*)
°r
 + 
i
;

1060  
NULL
;

1061 
	}
}

1066 
boﬁ


1067 
	$has_wûdˇrds_p
 (c⁄° *
s
)

1069 ; *
s
; s++)

1070 i‡(*
s
 == '*' || *s == '?' || *s == '[' || *s == ']')

1071  
åue
;

1072  
Ál£
;

1073 
	}
}

1085 
boﬁ


1086 
	$has_html_suffix_p
 (c⁄° *
‚ame
)

1088 *
suf
;

1090 i‡((
suf
 = 
	`suffix
 (
‚ame
)Ë=
NULL
)

1091  
Ál£
;

1092 i‡(!
	`°rˇ£cmp
 (
suf
, "html"))

1093  
åue
;

1094 i‡(!
	`°rˇ£cmp
 (
suf
, "htm"))

1095  
åue
;

1096 i‡(
suf
[0] && !
	`°rˇ£cmp
 (suf + 1, "html"))

1097  
åue
;

1098  
Ál£
;

1099 
	}
}

1114 
	$ªad_whﬁe_löe
 (
FILE
 *
Â
)

1116 
Àngth
 = 0;

1117 
bufsize
 = 82;

1118 *
löe
 = 
	`xmÆloc
 (
bufsize
);

1120 
	`fgës
 (
löe
 + 
Àngth
, 
bufsize
 -Üígth, 
Â
))

1122 
Àngth
 +
	`°æí
 (
löe
 +Üength);

1123 i‡(
Àngth
 == 0)

1128 i‡(
löe
[
Àngth
 - 1] == '\n')

1134 
bufsize
 <<= 1;

1135 
löe
 = 
	`xªÆloc
 (löe, 
bufsize
);

1137 i‡(
Àngth
 =0 || 
	`„º‹
 (
Â
))

1139 
	`x‰ì
 (
löe
);

1140  
NULL
;

1142 i‡(
Àngth
 + 1 < 
bufsize
)

1147 
löe
 = 
	`xªÆloc
 (löe, 
Àngth
 + 1);

1148  
löe
;

1149 
	}
}

1167 
fûe_mem‹y
 *

1168 
	$wgë_ªad_fûe
 (c⁄° *
fûe
)

1170 
fd
;

1171 
fûe_mem‹y
 *
fm
;

1172 
size
;

1173 
boﬁ
 
öhibô_˛o£
 = 
Ál£
;

1177 i‡(
	`HYPHENP
 (
fûe
))

1179 
fd
 = 
	`fûío
 (
°dö
);

1180 
öhibô_˛o£
 = 
åue
;

1185 
fd
 = 
	`›í
 (
fûe
, 
O_RDONLY
);

1186 i‡(
fd
 < 0)

1187  
NULL
;

1188 
fm
 = 
	`x√w
 (
fûe_mem‹y
);

1190 #ifde‡
HAVE_MMAP


1192 
°ru˘_f°©
 
buf
;

1193 i‡(
	`f°©
 (
fd
, &
buf
) < 0)

1194 
mm≠_lo£
;

1195 
fm
->
Àngth
 = 
buf
.
°_size
;

1200 
fm
->
c⁄ã¡
 = 
	`mm≠
 (
NULL
, fm->
Àngth
, 
PROT_READ
 | 
PROT_WRITE
,

1201 
MAP_PRIVATE
, 
fd
, 0);

1202 i‡(
fm
->
c⁄ã¡
 =(*)
MAP_FAILED
)

1203 
mm≠_lo£
;

1204 i‡(!
öhibô_˛o£
)

1205 
	`˛o£
 (
fd
);

1207 
fm
->
mm≠_p
 = 1;

1208  
fm
;

1211 
mm≠_lo£
:

1218 
fm
->
Àngth
 = 0;

1219 
size
 = 512;

1221 
fm
->
c⁄ã¡
 = 
	`xmÆloc
 (
size
);

1224 
wgöt
 
ƒód
;

1225 i‡(
fm
->
Àngth
 > 
size
 / 2)

1241 
size
 <<= 1;

1242 
fm
->
c⁄ã¡
 = 
	`xªÆloc
 (fm->c⁄ã¡, 
size
);

1244 
ƒód
 = 
	`ªad
 (
fd
, 
fm
->
c⁄ã¡
 + fm->
Àngth
, 
size
 - fm->length);

1245 i‡(
ƒód
 > 0)

1247 
fm
->
Àngth
 +
ƒód
;

1248 i‡(
ƒód
 < 0)

1250 
lo£
;

1255 i‡(!
öhibô_˛o£
)

1256 
	`˛o£
 (
fd
);

1257 i‡(
size
 > 
fm
->
Àngth
 && fm->length != 0)

1260 
fm
->
c⁄ã¡
 = 
	`xªÆloc
 (fm->c⁄ã¡, fm->
Àngth
);

1261 
fm
->
mm≠_p
 = 0;

1262  
fm
;

1264 
lo£
:

1265 i‡(!
öhibô_˛o£
)

1266 
	`˛o£
 (
fd
);

1267 
	`x‰ì
 (
fm
->
c⁄ã¡
);

1268 
	`x‰ì
 (
fm
);

1269  
NULL
;

1270 
	}
}

1278 
	$wgë_ªad_fûe_‰ì
 (
fûe_mem‹y
 *
fm
)

1280 #ifde‡
HAVE_MMAP


1281 i‡(
fm
->
mm≠_p
)

1283 
	`munm≠
 (
fm
->
c⁄ã¡
, fm->
Àngth
);

1288 
	`x‰ì
 (
fm
->
c⁄ã¡
);

1290 
	`x‰ì
 (
fm
);

1291 
	}
}

1296 
	$‰ì_vec
 (**
vec
)

1298 i‡(
vec
)

1300 **
p
 = 
vec
;

1301 *
p
)

1302 
	`x‰ì
 (*
p
++);

1303 
	`x‰ì
 (
vec
);

1305 
	}
}

1311 
	$mîge_vecs
 (**
v1
, **
v2
)

1313 
i
, 
j
;

1315 i‡(!
v1
)

1316  
v2
;

1317 i‡(!
v2
)

1318  
v1
;

1319 i‡(!*
v2
)

1322 
	`x‰ì
 (
v2
);

1323  
v1
;

1326 
i
 = 0; 
v1
[i]; i++)

1329 
j
 = 0; 
v2
[j]; j++)

1332 
v1
 = 
	`xªÆloc
 (v1, (
i
 + 
j
 + 1) *  (**));

1333 
	`mem˝y
 (
v1
 + 
i
, 
v2
, (
j
 + 1) *  (*));

1334 
	`x‰ì
 (
v2
);

1335  
v1
;

1336 
	}
}

1342 
	$vec_≠≥nd
 (**
vec
, c⁄° *
°r
)

1344 
˙t
;

1346 i‡(
vec
 !
NULL
)

1348 
˙t
 = 0; 
vec
[cnt]; cnt++)

1350 ++
˙t
;

1353 
˙t
 = 1;

1355 
vec
 = 
	`xªÆloc
 (vec, (
˙t
 + 1) *  (*));

1357 
vec
[
˙t
 - 1] = 
	`x°rdup
 (
°r
);

1358 
vec
[
˙t
] = 
NULL
;

1359  
vec
;

1360 
	}
}

1368 
	$°rög_£t_add
 (
hash_èbÀ
 *
ht
, c⁄° *
s
)

1373 i‡(
	`hash_èbÀ_c⁄èös
 (
ht
, 
s
))

1380 
	`hash_èbÀ_put
 (
ht
, 
	`x°rdup
 (
s
), "1");

1381 
	}
}

1386 
	$°rög_£t_c⁄èös
 (
hash_èbÀ
 *
ht
, c⁄° *
s
)

1388  
	`hash_èbÀ_c⁄èös
 (
ht
, 
s
);

1389 
	}
}

1394 
	$°rög_£t_to_¨øy
 (
hash_èbÀ
 *
ht
, **
¨øy
)

1396 
hash_èbÀ_ôî©‹
 
ôî
;

1397 
	`hash_èbÀ_ôî©e
 (
ht
, &
ôî
); 
	`hash_èbÀ_ôî_√xt
 (&iter); )

1398 *
¨øy
++ = 
ôî
.
key
;

1399 
	}
}

1406 
	$°rög_£t_‰ì
 (
hash_èbÀ
 *
ht
)

1408 
hash_èbÀ_ôî©‹
 
ôî
;

1409 
	`hash_èbÀ_ôî©e
 (
ht
, &
ôî
); 
	`hash_èbÀ_ôî_√xt
 (&iter); )

1410 
	`x‰ì
 (
ôî
.
key
);

1411 
	`hash_èbÀ_de°roy
 (
ht
);

1412 
	}
}

1417 
	$‰ì_keys_™d_vÆues
 (
hash_èbÀ
 *
ht
)

1419 
hash_èbÀ_ôî©‹
 
ôî
;

1420 
	`hash_èbÀ_ôî©e
 (
ht
, &
ôî
); 
	`hash_èbÀ_ôî_√xt
 (&iter); )

1422 
	`x‰ì
 (
ôî
.
key
);

1423 
	`x‰ì
 (
ôî
.
vÆue
);

1425 
	}
}

1437 
	$gë_groupög_d©a
 (c⁄° **
£p
, c⁄° **
groupög
)

1439 c⁄° *
ˇched_£p
;

1440 c⁄° *
ˇched_groupög
;

1441 
boﬁ
 
öôülized
;

1442 i‡(!
öôülized
)

1445 
lc⁄v
 *lc⁄v = 
	`loˇÀc⁄v
 ();

1446 
ˇched_£p
 = 
lc⁄v
->
thoußnds_£p
;

1447 
ˇched_groupög
 = 
lc⁄v
->
groupög
;

1448 #i‡! 
USE_NLS_PROGRESS_BAR


1451 i‡(
	`°æí
(
ˇched_£p
) > 1)

1452 
ˇched_£p
 = "";

1454 i‡(!*
ˇched_£p
)

1461 i‡(*
lc⁄v
->
decimÆ_poöt
 != ',')

1462 
ˇched_£p
 = ",";

1464 
ˇched_£p
 = ".";

1465 
ˇched_groupög
 = "\x03";

1467 
öôülized
 = 
åue
;

1469 *
£p
 = 
ˇched_£p
;

1470 *
groupög
 = 
ˇched_groupög
;

1471 
	}
}

1483 
	$wôh_thoußnd_£ps
 (
wgöt
 
n
)

1485 
outbuf
[48];

1486 *
p
 = 
outbuf
 +  outbuf;

1489 c⁄° *
groupög
, *
£p
;

1490 
£∂í
;

1493 
i
 = 0, 
groupsize
;

1494 c⁄° *
©group
;

1496 
boﬁ
 
√g©ive
 = 
n
 < 0;

1499 
	`gë_groupög_d©a
 (&
£p
, &
groupög
);

1500 
£∂í
 = 
	`°æí
 (
£p
);

1501 
©group
 = 
groupög
;

1502 
groupsize
 = *
©group
++;

1506 i‡(
√g©ive
)

1507 
n
 = -n;

1511 *--
p
 = '\0';

1514 *--
p
 = 
n
 % 10 + '0';

1515 
n
 /= 10;

1516 i‡(
n
 == 0)

1519 i‡(++
i
 =
groupsize
)

1521 i‡(
£∂í
 == 1)

1522 *--
p
 = *
£p
;

1524 
	`mem˝y
 (
p
 -
£∂í
, 
£p
, seplen);

1525 
i
 = 0;

1526 i‡(*
©group
)

1527 
groupsize
 = *
©group
++;

1530 i‡(
√g©ive
)

1531 *--
p
 = '-';

1533  
p
;

1534 
	}
}

1553 
	$hum™_ªadabÀ
 (
HR_NUMTYPE
 
n
)

1556 
powîs
[] =

1565 
buf
[8];

1566 
size_t
 
i
;

1569 i‡(
n
 < 1024)

1571 
	`¢¥ötf
 (
buf
,  (buf), "%d", (Ë
n
);

1572  
buf
;

1578 
i
 = 0; i < 
	`cou¡of
 (
powîs
); i++)

1583 i‡((
n
 / 1024Ë< 1024 || 
i
 =
	`cou¡of
 (
powîs
) - 1)

1585 
vÆ
 = 
n
 / 1024.0;

1588 
	`¢¥ötf
 (
buf
,  (buf), "%.*f%c",

1589 
vÆ
 < 10 ? 1 : 0, vÆ, 
powîs
[
i
]);

1590  
buf
;

1592 
n
 /= 1024;

1594  
NULL
;

1595 
	}
}

1601 
	$numdigô
 (
wgöt
 
numbî
)

1603 
˙t
 = 1;

1604 i‡(
numbî
 < 0)

1605 ++
˙t
;

1606 (
numbî
 /= 10) != 0)

1607 ++
˙t
;

1608  
˙t
;

1609 
	}
}

1611 
	#PR
(
mask
Ë*
p
++ = 
n
 / (maskË+ '0'

	)

1618 
	#DIGITS_1
(
mask
Ë
	`PR
 (mask)

	)

1619 
	#DIGITS_2
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_1
 ((maskË/ 10)

	)

1620 
	#DIGITS_3
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_2
 ((maskË/ 10)

	)

1621 
	#DIGITS_4
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_3
 ((maskË/ 10)

	)

1622 
	#DIGITS_5
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_4
 ((maskË/ 10)

	)

1623 
	#DIGITS_6
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_5
 ((maskË/ 10)

	)

1624 
	#DIGITS_7
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_6
 ((maskË/ 10)

	)

1625 
	#DIGITS_8
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_7
 ((maskË/ 10)

	)

1626 
	#DIGITS_9
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_8
 ((maskË/ 10)

	)

1627 
	#DIGITS_10
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_9
 ((maskË/ 10)

	)

1631 
	#DIGITS_11
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_10
 ((maskË/ 10)

	)

1632 
	#DIGITS_12
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_11
 ((maskË/ 10)

	)

1633 
	#DIGITS_13
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_12
 ((maskË/ 10)

	)

1634 
	#DIGITS_14
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_13
 ((maskË/ 10)

	)

1635 
	#DIGITS_15
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_14
 ((maskË/ 10)

	)

1636 
	#DIGITS_16
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_15
 ((maskË/ 10)

	)

1637 
	#DIGITS_17
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_16
 ((maskË/ 10)

	)

1638 
	#DIGITS_18
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_17
 ((maskË/ 10)

	)

1639 
	#DIGITS_19
(
mask
Ë
	`PR
 (mask), 
n
 %(mask), 
	`DIGITS_18
 ((maskË/ 10)

	)

1642 
	#W
 
wgöt


	)

1664 
	$numbî_to_°rög
 (*
buf„r
, 
wgöt
 
numbî
)

1666 *
p
 = 
buf„r
;

1667 
wgöt
 
n
 = 
numbî
;

1669 
œ°_digô_ch¨
 = 0;

1671 #i‡(
SIZEOF_WGINT
 != 4) && (SIZEOF_WGINT != 8)

1674 
p
 +
	`•rötf
 (
buf
, "%j", (
ötmax_t
Ë(
n
));

1677 i‡(
n
 < 0)

1679 i‡(
n
 < -
WGINT_MAX
)

1684 
œ°_digô
 = 
n
 % 10;

1686 i‡(
œ°_digô
 < 0)

1687 
œ°_digô_ch¨
 = '0' - 
œ°_digô
;

1689 
œ°_digô_ch¨
 = '0' + 
œ°_digô
;

1691 
n
 /= 10;

1694 *
p
++ = '-';

1695 
n
 = -n;

1702 i‡(
n
 < 10Ë
	`DIGITS_1
 (1);

1703 i‡(
n
 < 100Ë
	`DIGITS_2
 (10);

1704 i‡(
n
 < 1000Ë
	`DIGITS_3
 (100);

1705 i‡(
n
 < 10000Ë
	`DIGITS_4
 (1000);

1706 i‡(
n
 < 100000Ë
	`DIGITS_5
 (10000);

1707 i‡(
n
 < 1000000Ë
	`DIGITS_6
 (100000);

1708 i‡(
n
 < 10000000Ë
	`DIGITS_7
 (1000000);

1709 i‡(
n
 < 100000000Ë
	`DIGITS_8
 (10000000);

1710 i‡(
n
 < 1000000000Ë
	`DIGITS_9
 (100000000);

1711 #i‡
SIZEOF_WGINT
 == 4

1713 
	`DIGITS_10
 (1000000000);

1719 i‡(
n
 < 10*(
W
)1000000000Ë
	`DIGITS_10
 (1000000000);

1720 i‡(
n
 < 100*(
W
)1000000000Ë
	`DIGITS_11
 (10*(W)1000000000);

1721 i‡(
n
 < 1000*(
W
)1000000000Ë
	`DIGITS_12
 (100*(W)1000000000);

1722 i‡(
n
 < 10000*(
W
)1000000000Ë
	`DIGITS_13
 (1000*(W)1000000000);

1723 i‡(
n
 < 100000*(
W
)1000000000Ë
	`DIGITS_14
 (10000*(W)1000000000);

1724 i‡(
n
 < 1000000*(
W
)1000000000Ë
	`DIGITS_15
 (100000*(W)1000000000);

1725 i‡(
n
 < 10000000*(
W
)1000000000Ë
	`DIGITS_16
 (1000000*(W)1000000000);

1726 i‡(
n
 < 100000000*(
W
)1000000000Ë
	`DIGITS_17
 (10000000*(W)1000000000);

1727 i‡(
n
 < 1000000000*(
W
)1000000000Ë
	`DIGITS_18
 (100000000*(W)1000000000);

1728 
	`DIGITS_19
 (1000000000*(
W
)1000000000);

1731 i‡(
œ°_digô_ch¨
)

1732 *
p
++ = 
œ°_digô_ch¨
;

1734 *
p
 = '\0';

1737  
p
;

1738 
	}
}

1740 #unde‡
PR


1741 #unde‡
W


1742 #unde‡
SPRINTF_WGINT


1743 #unde‡
DIGITS_1


1744 #unde‡
DIGITS_2


1745 #unde‡
DIGITS_3


1746 #unde‡
DIGITS_4


1747 #unde‡
DIGITS_5


1748 #unde‡
DIGITS_6


1749 #unde‡
DIGITS_7


1750 #unde‡
DIGITS_8


1751 #unde‡
DIGITS_9


1752 #unde‡
DIGITS_10


1753 #unde‡
DIGITS_11


1754 #unde‡
DIGITS_12


1755 #unde‡
DIGITS_13


1756 #unde‡
DIGITS_14


1757 #unde‡
DIGITS_15


1758 #unde‡
DIGITS_16


1759 #unde‡
DIGITS_17


1760 #unde‡
DIGITS_18


1761 #unde‡
DIGITS_19


1763 
	#RING_SIZE
 3

	)

1797 
	$numbî_to_°©ic_°rög
 (
wgöt
 
numbî
)

1799 
rög
[
RING_SIZE
][24];

1800 
rögpos
;

1801 *
buf
 = 
rög
[
rögpos
];

1802 
	`numbî_to_°rög
 (
buf
, 
numbî
);

1803 
rögpos
 = (rögpo†+ 1Ë% 
RING_SIZE
;

1804  
buf
;

1805 
	}
}

1811 
	$dëîmöe_s¸ìn_width
 ()

1815 #ifde‡
TIOCGWINSZ


1816 
fd
;

1817 
wösize
 
wsz
;

1819 i‡(
›t
.
lfûíame
 !
NULL
)

1822 
fd
 = 
	`fûío
 (
°dîr
);

1823 i‡(
	`io˘l
 (
fd
, 
TIOCGWINSZ
, &
wsz
) < 0)

1826  
wsz
.
ws_cﬁ
;

1827 #ñi‡
	`deföed
(
WINDOWS
)

1828 
CONSOLE_SCREEN_BUFFER_INFO
 
csbi
;

1829 i‡(!
	`GëC⁄sﬁeS¸ìnBuf„rInfo
 (
	`GëStdH™dÀ
 (
STD_ERROR_HANDLE
), &
csbi
))

1831  
csbi
.
dwSize
.
X
;

1835 
	}
}

1839 
	g∫d_£eded
;

1854 
	$øndom_numbî
 (
max
)

1856 #ifde‡
HAVE_DRAND48


1857 i‡(!
∫d_£eded
)

1859 
	`§™d48
 ((Ë
	`time
 (
NULL
Ë^ (Ë
	`gëpid
 ());

1860 
∫d_£eded
 = 1;

1862  
	`Ã™d48
 (Ë% 
max
;

1865 
bounded
;

1866 
∫d
;

1867 i‡(!
∫d_£eded
)

1869 
	`§™d
 ((Ë
	`time
 (
NULL
Ë^ (Ë
	`gëpid
 ());

1870 
∫d_£eded
 = 1;

1872 
∫d
 = 
	`ønd
 ();

1878 
bounded
 = (Ë
max
 * 
∫d
 / (
RAND_MAX
 + 1.0);

1879  (Ë
bounded
;

1882 
	}
}

1889 
	$øndom_Êﬂt
 ()

1891 #ifde‡
HAVE_DRAND48


1892 i‡(!
∫d_£eded
)

1894 
	`§™d48
 ((Ë
	`time
 (
NULL
Ë^ (Ë
	`gëpid
 ());

1895 
∫d_£eded
 = 1;

1897  
	`dønd48
 ();

1899  ( 
	`øndom_numbî
 (10000) / 10000.0

1900 + 
	`øndom_numbî
 (10000) / (10000.0 * 10000.0)

1901 + 
	`øndom_numbî
 (10000) / (10000.0 * 10000.0 * 10000.0)

1902 + 
	`øndom_numbî
 (10000) / (10000.0 * 10000.0 * 10000.0 * 10000.0));

1904 
	}
}

1909 #ifde‡
USE_SIGNAL_TIMEOUT


1910 #ifde‡
HAVE_SIGSETJMP


1911 
	#SETJMP
(
ív
Ë
	`sig£tjmp
 (ív, 1)

	)

1913 
sigjmp_buf
 
	grun_wôh_timeout_ív
;

1916 
	$ab‹t_run_wôh_timeout
 (
sig
)

1918 
	`as£π
 (
sig
 =
SIGALRM
);

1919 
	`sigl⁄gjmp
 (
run_wôh_timeout_ív
, -1);

1920 
	}
}

1922 
	#SETJMP
(
ív
Ë
	`£tjmp
 (ív)

	)

1924 
jmp_buf
 
	grun_wôh_timeout_ív
;

1927 
	$ab‹t_run_wôh_timeout
 (
sig
)

1929 
	`as£π
 (
sig
 =
SIGALRM
);

1933 
mask
 = 
	`siggëmask
 ();

1934 
mask
 &~
	`sigmask
 (
SIGALRM
);

1935 
	`sig£tmask
 (
mask
);

1938 
	`l⁄gjmp
 (
run_wôh_timeout_ív
, -1);

1939 
	}
}

1951 
	$Æ¨m_£t
 (
timeout
)

1953 #ifde‡
ITIMER_REAL


1955 
ôimîvÆ
 
ôv
;

1956 
	`xzîo
 (
ôv
);

1957 
ôv
.
ô_vÆue
.
tv_£c
 = (Ë
timeout
;

1958 
ôv
.
ô_vÆue
.
tv_u£c
 = 1000000 * (
timeout
 - ()timeout);

1959 i‡(
ôv
.
ô_vÆue
.
tv_£c
 =0 && itv.ô_vÆue.
tv_u£c
 == 0)

1962 
ôv
.
ô_vÆue
.
tv_u£c
 = 1;

1963 
	`£tôimî
 (
ITIMER_REAL
, &
ôv
, 
NULL
);

1966 
£cs
 = (Ë
timeout
;

1967 i‡(
£cs
 == 0)

1972 
£cs
 = 1;

1973 
	`Æ¨m
 (
£cs
);

1975 
	}
}

1980 
	$Æ¨m_ˇn˚l
 ()

1982 #ifde‡
ITIMER_REAL


1983 
ôimîvÆ
 
dißbÀ
;

1984 
	`xzîo
 (
dißbÀ
);

1985 
	`£tôimî
 (
ITIMER_REAL
, &
dißbÀ
, 
NULL
);

1987 
	`Æ¨m
 (0);

1989 
	}
}

2018 
boﬁ


2019 
run_wôh_timeout
 (
timeout
, (*
fun
Ë(*), *
¨g
)

2021 
ßved_î∫o
;

2023 i‡(
timeout
 == 0)

2025 
	`fun
 (
¨g
);

2026  
Ál£
;

2029 
	`sig«l
 (
SIGALRM
, 
ab‹t_run_wôh_timeout
);

2030 i‡(
	`SETJMP
 (
run_wôh_timeout_ív
) != 0)

2033 
	`sig«l
 (
SIGALRM
, 
SIG_DFL
);

2034  
åue
;

2036 
	`Æ¨m_£t
 (
timeout
);

2037 
	`fun
 (
¨g
);

2040 
ßved_î∫o
 = 
î∫o
;

2041 
	`Æ¨m_ˇn˚l
 ();

2042 
	`sig«l
 (
SIGALRM
, 
SIG_DFL
);

2043 
î∫o
 = 
ßved_î∫o
;

2045  
Ál£
;

2046 
	}
}

2050 #i‚de‡
WINDOWS


2055 
boﬁ


2056 
run_wôh_timeout
 (
timeout
, (*
fun
Ë(*), *
¨g
)

2058 
	`fun
 (
¨g
);

2059  
Ál£
;

2060 
	}
}

2064 #i‚de‡
WINDOWS


2070 
	$x¶ìp
 (
£c⁄ds
)

2072 #ifde‡
HAVE_NANOSLEEP


2078 
time•ec
 
¶ìp
, 
ªmaöög
;

2079 
¶ìp
.
tv_£c
 = (Ë
£c⁄ds
;

2080 
¶ìp
.
tv_n£c
 = 1000000000 * (
£c⁄ds
 - () seconds);

2081 
	`«no¶ìp
 (&
¶ìp
, &
ªmaöög
Ë< 0 && 
î∫o
 =
EINTR
)

2084 
¶ìp
 = 
ªmaöög
;

2085 #ñi‡
	`deföed
(
HAVE_USLEEP
)

2087 i‡(
£c⁄ds
 >= 1)

2092 
	`¶ìp
 (
£c⁄ds
);

2093 
£c⁄ds
 -= () seconds;

2095 
	`u¶ìp
 (
£c⁄ds
 * 1000000);

2101 
timevÆ
 
¶ìp
;

2102 
¶ìp
.
tv_£c
 = (Ë
£c⁄ds
;

2103 
¶ìp
.
tv_u£c
 = 1000000 * (
£c⁄ds
 - () seconds);

2104 
	`£À˘
 (0, 
NULL
, NULL, NULL, &
¶ìp
);

2110 
	}
}

2124 
	$ba£64_ícode
 (c⁄° *
d©a
, 
Àngth
, *
de°
)

2127 c⁄° 
tbl
[64] = {

2135 c⁄° *
s
 = 
d©a
;

2137 c⁄° *
íd
 = (c⁄° *Ë
d©a
 + 
Àngth
 - 2;

2138 *
p
 = 
de°
;

2141 ; 
s
 < 
íd
; s += 3)

2143 *
p
++ = 
tbl
[
s
[0] >> 2];

2144 *
p
++ = 
tbl
[((
s
[0] & 3) << 4) + (s[1] >> 4)];

2145 *
p
++ = 
tbl
[((
s
[1] & 0xf) << 2) + (s[2] >> 6)];

2146 *
p
++ = 
tbl
[
s
[2] & 0x3f];

2150 
Àngth
 % 3)

2153 *
p
++ = 
tbl
[
s
[0] >> 2];

2154 *
p
++ = 
tbl
[(
s
[0] & 3) << 4];

2155 *
p
++ = '=';

2156 *
p
++ = '=';

2159 *
p
++ = 
tbl
[
s
[0] >> 2];

2160 *
p
++ = 
tbl
[((
s
[0] & 3) << 4) + (s[1] >> 4)];

2161 *
p
++ = 
tbl
[((
s
[1] & 0xf) << 2)];

2162 *
p
++ = '=';

2166 *
p
 = '\0';

2168  
p
 - 
de°
;

2169 
	}
}

2173 
	#NEXT_CHAR
(
c
, 
p
) do { \

2174 
c
 = (Ë*
p
++; \

2175 } 
	`c_is•a˚
 (
c
))

	)

2177 
	#IS_ASCII
(
c
Ë(((cË& 0x80Ë=0)

	)

2192 
	$ba£64_decode
 (c⁄° *
ba£64
, *
de°
)

2196 c⁄° sig√d 
ba£64_ch¨_to_vÆue
[128] =

2212 
	#BASE64_CHAR_TO_VALUE
(
c
Ë((Ë
ba£64_ch¨_to_vÆue
[c])

	)

2213 
	#IS_BASE64
(
c
Ë((
	`IS_ASCII
 (cË&& 
	`BASE64_CHAR_TO_VALUE
 (cË>0Ë|| c ='=')

	)

2215 c⁄° *
p
 = 
ba£64
;

2216 *
q
 = 
de°
;

2220 
c
;

2221 
vÆue
;

2224 
	`NEXT_CHAR
 (
c
, 
p
);

2225 i‡(!
c
)

2227 i‡(
c
 ='=' || !
	`IS_BASE64
 (c))

2229 
vÆue
 = 
	`BASE64_CHAR_TO_VALUE
 (
c
) << 18;

2232 
	`NEXT_CHAR
 (
c
, 
p
);

2233 i‡(!
c
)

2235 i‡(
c
 ='=' || !
	`IS_BASE64
 (c))

2237 
vÆue
 |
	`BASE64_CHAR_TO_VALUE
 (
c
) << 12;

2238 *
q
++ = 
vÆue
 >> 16;

2241 
	`NEXT_CHAR
 (
c
, 
p
);

2242 i‡(!
c
)

2244 i‡(!
	`IS_BASE64
 (
c
))

2247 i‡(
c
 == '=')

2249 
	`NEXT_CHAR
 (
c
, 
p
);

2250 i‡(!
c
)

2252 i‡(
c
 != '=')

2257 
vÆue
 |
	`BASE64_CHAR_TO_VALUE
 (
c
) << 6;

2258 *
q
++ = 0xf‡& 
vÆue
 >> 8;

2261 
	`NEXT_CHAR
 (
c
, 
p
);

2262 i‡(!
c
)

2264 i‡(
c
 == '=')

2266 i‡(!
	`IS_BASE64
 (
c
))

2269 
vÆue
 |
	`BASE64_CHAR_TO_VALUE
 (
c
);

2270 *
q
++ = 0xf‡& 
vÆue
;

2272 #unde‡
IS_BASE64


2273 #unde‡
BASE64_CHAR_TO_VALUE


2275  
q
 - (*Ë
de°
;

2276 
	}
}

2278 #unde‡
IS_ASCII


2279 #unde‡
NEXT_CHAR


2285 
mîges‹t_öã∫Æ
 (*
ba£
, *
ãmp
, 
size_t
 
size
, size_à
‰om
, size_à
to
,

2286 (*
cmpfun
) (const *, const *))

2288 
	#ELT
(
¨øy
, 
pos
Ë((*)◊ºayË+ (posË* 
size
)

	)

2289 i‡(
‰om
 < 
to
)

2291 
size_t
 
i
, 
j
, 
k
;

2292 
size_t
 
mid
 = (
to
 + 
‰om
) / 2;

2293 
	`mîges‹t_öã∫Æ
 (
ba£
, 
ãmp
, 
size
, 
‰om
, 
mid
, 
cmpfun
);

2294 
	`mîges‹t_öã∫Æ
 (
ba£
, 
ãmp
, 
size
, 
mid
 + 1, 
to
, 
cmpfun
);

2295 
i
 = 
‰om
;

2296 
j
 = 
mid
 + 1;

2297 
k
 = 
‰om
; (
i
 <
mid
Ë&& (
j
 <
to
); k++)

2298 i‡(
	`cmpfun
 (
	`ELT
 (
ba£
, 
i
), ELT (ba£, 
j
)) <= 0)

2299 
	`mem˝y
 (
	`ELT
 (
ãmp
, 
k
), ELT (
ba£
, 
i
++), 
size
);

2301 
	`mem˝y
 (
	`ELT
 (
ãmp
, 
k
), ELT (
ba£
, 
j
++), 
size
);

2302 
i
 <
mid
)

2303 
	`mem˝y
 (
	`ELT
 (
ãmp
, 
k
++), ELT (
ba£
, 
i
++), 
size
);

2304 
j
 <
to
)

2305 
	`mem˝y
 (
	`ELT
 (
ãmp
, 
k
++), ELT (
ba£
, 
j
++), 
size
);

2306 
k
 = 
‰om
; k <
to
; k++)

2307 
	`mem˝y
 (
	`ELT
 (
ba£
, 
k
), ELT (
ãmp
, k), 
size
);

2309 #unde‡
ELT


2310 
	}
}

2317 
°abÀ_s‹t
 (*
ba£
, 
size_t
 
nmemb
, size_à
size
,

2318 (*
cmpfun
) (const *, const *))

2320 i‡(
size
 > 1)

2322 *
ãmp
 = 
	`Æloˇ
 (
nmemb
 * 
size
 *  (*));

2323 
	`mîges‹t_öã∫Æ
 (
ba£
, 
ãmp
, 
size
, 0, 
nmemb
 - 1, 
cmpfun
);

2325 
	}
}

2339 
	$¥öt_decimÆ
 (
numbî
)

2341 
buf
[32];

2342 
n
 = 
numbî
 >= 0 ?Çumber : -number;

2344 i‡(
n
 >= 9.95)

2347 
	`¢¥ötf
 (
buf
,  buf, "%.0f", 
numbî
);

2348 i‡(
n
 >= 0.95)

2349 
	`¢¥ötf
 (
buf
,  buf, "%.1f", 
numbî
);

2350 i‡(
n
 >= 0.001)

2351 
	`¢¥ötf
 (
buf
,  buf, "%.1g", 
numbî
);

2352 i‡(
n
 >= 0.0005)

2354 
	`¢¥ötf
 (
buf
,  buf, "%.3f", 
numbî
);

2357 
	`°r˝y
 (
buf
, "0");

2359  
buf
;

2360 
	}
}

2362 #ifde‡
TESTING


2365 
	$ã°_subdú_p
()

2367 
i
;

2369 *
d1
;

2370 *
d2
;

2371 
boﬁ
 
ªsu…
;

2372 } 
ã°_¨øy
[] = {

2373 { "/somedú", "/somedú", 
åue
 },

2374 { "/somedú", "/somedú/d2", 
åue
 },

2375 { "/somedú/d1", "/somedú", 
Ál£
 },

2378 
i
 = 0; i < 
	`cou¡of
(
ã°_¨øy
); ++i)

2380 
boﬁ
 
ªs
 = 
	`subdú_p
 (
ã°_¨øy
[
i
].
d1
,Åe°_¨øy[i].
d2
);

2382 
	`mu_as£π
 ("test_subdir_p: wrongÑesult",

2383 
ªs
 =
ã°_¨øy
[
i
].
ªsu…
);

2386  
NULL
;

2387 
	}
}

2390 
	$ã°_dú_m©ches_p
()

2392 
i
;

2394 *
dúli°
[3];

2395 *
dú
;

2396 
boﬁ
 
ªsu…
;

2397 } 
ã°_¨øy
[] = {

2398 { { "/somedú", "/someŸhîdú", 
NULL
 }, "somedú", 
åue
 },

2399 { { "/somedú", "/someŸhîdú", 
NULL
 }, "™Ÿhîdú", 
Ál£
 },

2400 { { "/somedú", "/*Ÿhîdú", 
NULL
 }, "™Ÿhîdú", 
åue
 },

2401 { { "/somedú/d1", "/someŸhîdú", 
NULL
 }, "somedú/d1", 
åue
 },

2402 { { "*/*d1", "/someŸhîdú", 
NULL
 }, "somedú/d1", 
åue
 },

2403 { { "/somedú/d1", "/someŸhîdú", 
NULL
 }, "d1", 
Ál£
 },

2404 { { "!COMPLETE", 
NULL
, NULL }, "!COMPLETE", 
åue
 },

2405 { { "*COMPLETE", 
NULL
, NULL }, "!COMPLETE", 
åue
 },

2406 { { "*/!COMPLETE", 
NULL
, NULL }, "foo/!COMPLETE", 
åue
 },

2407 { { "*COMPLETE", 
NULL
, NULL }, "foo/!COMPLETE", 
Ál£
 },

2408 { { "*/*COMPLETE", 
NULL
, NULL }, "foo/!COMPLETE", 
åue
 },

2409 { { "/dú wôh s∑˚s", 
NULL
, NULL }, "dú wôh s∑˚s", 
åue
 },

2410 { { "/dú*wôh*•a˚s", 
NULL
, NULL }, "dú wôh s∑˚s", 
åue
 },

2411 { { "/Tmp/has", 
NULL
, NULL }, "/Tmp/ha†•a˚", 
Ál£
 },

2412 { { "/Tmp/has", 
NULL
, NULL }, "/Tmp/has,comma", 
Ál£
 },

2415 
i
 = 0; i < 
	`cou¡of
(
ã°_¨øy
); ++i)

2417 
boﬁ
 
ªs
 = 
	`dú_m©ches_p
 (
ã°_¨øy
[
i
].
dúli°
,Åe°_¨øy[i].
dú
);

2419 
	`mu_as£π
 ("test_dir_matches_p: wrongÑesult",

2420 
ªs
 =
ã°_¨øy
[
i
].
ªsu…
);

2423  
NULL
;

2424 
	}
}

	@src/utils.h

32 #i‚de‡
UTILS_H


33 
	#UTILS_H


	)

36 
	#UNKNOWN_ATTEMPTED_SIZE
 -3

	)

43 
	#x√w
(
ty≥
Ë(
	`xmÆloc
 ( (ty≥)))

	)

44 
	#x√w0
(
ty≥
Ë(
	`xˇŒoc
 (1,  (ty≥)))

	)

45 
	#x√w_¨øy
(
ty≥
, 
Àn
Ë(
	`xmÆloc
 (÷íË*  (ty≥)))

	)

46 
	#x√w0_¨øy
(
ty≥
, 
Àn
Ë(
	`xˇŒoc
 (÷í),  (ty≥)))

	)

48 
	#Æloˇ_¨øy
(
ty≥
, 
size
Ë(—y≥ *Ë
	`Æloˇ
 ((sizeË*  (ty≥)))

	)

50 
	#x‰ì
 
‰ì


	)

55 
	#x‰ì_nuŒ
(
p
Ëi‡(!’)Ë; 
	`x‰ì
 (p)

	)

57 
	ghash_èbÀ
;

59 
	sfûe_mem‹y
 {

60 *
	mc⁄ã¡
;

61 
	mÀngth
;

62 
	mmm≠_p
;

65 
	#HYPHENP
(
x
Ë(*(xË='-' && !*((xË+ 1))

	)

67 *
time_°r
 (
time_t
);

68 *
d©ëime_°r
 (
time_t
);

70 *
x°rdup_lowî
 (const *);

72 *
°rdupdñim
 (const *, const *);

73 **
£p°rög
 (const *);

74 
boﬁ
 
subdú_p
 (const *, const *);

75 
f‹k_to_background
 ();

77 *
	$≠rötf
 (c⁄° *, ...Ë
	`GCC_FORMAT_ATTR
 (1, 2);

78 *
	`c⁄ˇt_°rögs
 (const *, ...);

80 
	`touch
 (c⁄° *, 
time_t
);

81 
	`ªmove_lök
 (const *);

82 
boﬁ
 
	`fûe_exi°s_p
 (const *);

83 
boﬁ
 
	`fûe_n⁄_dúe˘‹y_p
 (const *);

84 
wgöt
 
	`fûe_size
 (const *);

85 
	`make_dúe˘‹y
 (const *);

86 *
	`unique_«me
 (c⁄° *, 
boﬁ
);

87 
FILE
 *
	`unique_¸óã
 (c⁄° *, 
boﬁ
, **);

88 
FILE
 *
	`f›í_ex˛
 (const *, );

89 *
	`fûe_mîge
 (const *, const *);

91 
	`‚m©ch_noˇ£
 (const *, const *, );

92 
boﬁ
 
	`ac˚±abÀ
 (const *);

93 
boﬁ
 
	`accdú
 (c⁄° *
s
);

94 *
	`suffix
 (c⁄° *
s
);

95 
boﬁ
 
	`m©ch_èû
 (const *, const *, bool);

96 
boﬁ
 
	`has_wûdˇrds_p
 (const *);

98 
boﬁ
 
	`has_html_suffix_p
 (const *);

100 *
	`ªad_whﬁe_löe
 (
FILE
 *);

101 
fûe_mem‹y
 *
	`wgë_ªad_fûe
 (const *);

102 
	`wgë_ªad_fûe_‰ì
 (
fûe_mem‹y
 *);

104 
	`‰ì_vec
 (**);

105 **
	`mîge_vecs
 (**, **);

106 **
	`vec_≠≥nd
 (**, const *);

108 
	`°rög_£t_add
 (
hash_èbÀ
 *, const *);

109 
	`°rög_£t_c⁄èös
 (
hash_èbÀ
 *, const *);

110 
	`°rög_£t_to_¨øy
 (
hash_èbÀ
 *, **);

111 
	`°rög_£t_‰ì
 (
hash_èbÀ
 *);

112 
	`‰ì_keys_™d_vÆues
 (
hash_èbÀ
 *);

114 c⁄° *
	`wôh_thoußnd_£ps
 (
wgöt
);

119 #i‡
SIZEOF_WGINT
 >= 8

120 
	#HR_NUMTYPE
 
wgöt


	)

122 
	#HR_NUMTYPE
 

	)

124 *
	`hum™_ªadabÀ
 (
HR_NUMTYPE
);

127 
	`numdigô
 (
wgöt
);

128 *
	`numbî_to_°rög
 (*, 
wgöt
);

129 *
	`numbî_to_°©ic_°rög
 (
wgöt
);

131 
	`dëîmöe_s¸ìn_width
 ();

132 
	`øndom_numbî
 ();

133 
	`øndom_Êﬂt
 ();

135 
boﬁ
 
	`run_wôh_timeout
 (, (*) (*), *);

136 
	`x¶ìp
 ();

139 
	#BASE64_LENGTH
(
Àn
Ë(4 * ((÷íË+ 2Ë/ 3))

	)

141 
	`ba£64_ícode
 (const *, , *);

142 
	`ba£64_decode
 (const *, *);

144 
	`°abÀ_s‹t
 (*, 
size_t
, size_t, (*) (const *, const *));

146 c⁄° *
	`¥öt_decimÆ
 ();

148 
ch¨_¥›
[];

	@src/version.c

4 c⁄° *
	gvîsi⁄_°rög
 = "1.13"

6 c⁄° *
	gcompû©i⁄_°rög
 = "gcc -DHAVE_CONFIG_H -DSYSTEM_WGETRC=\"/home/liyankun/local/wget/etc/wgetrc\" -DLOCALEDIR=\"/home/liyankun/local/wget/share/locale\" -I. -I../lib -I../lib -g -ggdb -g -ggdb -Wall";

7 c⁄° *
	glök_°rög
 = "gcc -g -ggdb -Wall -lidn -lrt ftp-opie.o ../lib/libgnu.a";

	@src/wget.h

37 #i‚de‡
WGET_H


38 
	#WGET_H


	)

40 
	~"c⁄fig.h
"

42 #i‡((
deföed
 
_WIN32
 || deföed 
__WIN32__
Ë&& !deföed 
__CYGWIN__
)

43 
	#WINDOWS


	)

47 
	~"sysdï.h
"

50 #i‚de‡
ENABLE_DEBUG


51 
	#NDEBUG


	)

55 #i‡
deföed
 
HAVE_LIBSSL
 || deföed 
HAVE_LIBSSL32
 || deföed 
HAVE_LIBGNUTLS


56 
	#HAVE_SSL


	)

61 
	~"gëãxt.h
"

62 
	#_
(
°rög
Ë
	`gëãxt
 (°rög)

	)

73 
	#N_
(
°rög
Ë
	)
string

75 #i‡! 
ENABLE_NLS


76 #unde‡
HAVE_WCHAR_H


77 #unde‡
HAVE_WCWIDTH


78 #unde‡
HAVE_MBTOWC


81 #i‡
HAVE_WCWIDTH
 && 
HAVE_MBTOWC


82 
	#USE_NLS_PROGRESS_BAR
 1

	)

85 #unde‡
USE_NLS_PROGRESS_BAR


104 
	~"c-˘y≥.h
"

109 #i‡
deföed
(
__GNUC__
) && __GNUC__ >= 3

110 
	#GCC_FORMAT_ATTR
(
a
, 
b
Ë
	`__©åibuã__
 ((
	`f‹m©
 (
¥ötf
,á, b)))

	)

111 
	#LIKELY
(
exp
Ë
	`__buûtö_ex≥˘
 (!!”xp), 1)

	)

112 
	#UNLIKELY
(
exp
Ë
	`__buûtö_ex≥˘
 (”xp), 0)

	)

114 
	#GCC_FORMAT_ATTR
(
a
, 
b
)

	)

115 
	#LIKELY
(
exp
Ë”xp)

	)

116 
	#UNLIKELY
(
exp
Ë”xp)

	)

122 #ifde‡
ENABLE_DEBUG


123 
	#IF_DEBUG
 i‡(
	`UNLIKELY
 (
›t
.
debug
))

	)

125 
	#IF_DEBUG
 i‡(0)

	)

133 
	#DEBUGP
(
¨gs
Ëdÿ{ 
IF_DEBUG
 { 
debug_log¥ötf
árgs; } } 0)

	)

142 #ifde‡
WINDOWS


144 #ñi‡
SIZEOF_LONG
 >= 8

146 
	twgöt
;

147 
	#SIZEOF_WGINT
 
SIZEOF_LONG


	)

148 #ñi‡
SIZEOF_LONG_LONG
 >= 8

150 
	twgöt
;

151 
	#SIZEOF_WGINT
 
SIZEOF_LONG_LONG


	)

152 #ñi‡
HAVE_INT64_T


153 
öt64_t
 
	twgöt
;

154 
	#SIZEOF_WGINT
 8

	)

155 #ñi‡
SIZEOF_OFF_T
 >= 8

158 
off_t
 
	twgöt
;

159 
	#SIZEOF_WGINT
 
SIZEOF_OFF_T


	)

163 
	twgöt
;

164 
	#SIZEOF_WGINT
 
SIZEOF_LONG


	)

171 #ifde‡
WINDOWS


173 #ñi‡
SIZEOF_WGINT
 =
SIZEOF_LONG


174 
	#°r_to_wgöt
 
°πﬁ


	)

175 #ñi‡
SIZEOF_WGINT
 =
SIZEOF_LONG_LONG


176 
	#°r_to_wgöt
 
°πﬁl


	)

177 #i‚de‡
HAVE_STRTOLL


178 
	#NEED_STRTOLL


	)

179 
	#°πﬁl_ty≥
 

	)

183 
	#°r_to_wgöt
 
°πﬁl


	)

184 
	#NEED_STRTOLL


	)

185 
	#°πﬁl_ty≥
 
wgöt


	)

188 
	#WGINT_MAX
 
	`TYPE_MAXIMUM
 (
wgöt
)

	)

191 #ifde‡
NEED_STRTOLL


192 
°πﬁl_ty≥
 
°πﬁl
 (const *, **, );

205 #i‡
SIZEOF_WGINT
 >= 8

207 
wgöt
 
	tSUM_SIZE_INT
;

210 
	tSUM_SIZE_INT
;

213 
	~"›ti⁄s.h
"

216 
	~<Æloˇ.h
>

217 
	~"xÆloc.h
"

220 
	~"log.h
"

223 
	~"quŸe.h
"

224 
	~"quŸórg.h
"

227 
	~"úi.h
"

237 
	#cou¡of
(
¨øy
Ë( (¨øyË/  (◊ºay)[0]))

	)

240 
	#xzîo
(
x
Ë
	`mem£t
 (&(x), '\0',  (x))

	)

245 
	#XDIGIT_TO_NUM
(
h
Ë((hË< 'A' ? (hË- '0' : 
	`c_touµî
 (hË- 'A' + 10)

	)

246 
	#X2DIGITS_TO_NUM
(
h1
, 
h2
Ë((
	`XDIGIT_TO_NUM
 (h1Ë<< 4Ë+ XDIGIT_TO_NUM (h2))

	)

251 
	#XNUM_TO_DIGIT
(
x
Ë("0123456789ABCDEF"[x] + 0)

	)

252 
	#XNUM_TO_digô
(
x
Ë("0123456789abcdef"[x] + 0)

	)

257 
	#BOUNDED_TO_ALLOCA
(
beg
, 
íd
, 
∂a˚
) do { \

258 c⁄° *
BTA_beg
 = (
beg
); \

259 
BTA_Àn
 = (
íd
Ë- 
BTA_beg
; \

260 **
BTA_de°
 = &(
∂a˚
); \

261 *
BTA_de°
 = 
	`Æloˇ
 (
BTA_Àn
 + 1); \

262 
	`mem˝y
 (*
BTA_de°
, 
BTA_beg
, 
BTA_Àn
); \

263 (*
BTA_de°
)[
BTA_Àn
] = '\0'; \

264 } 0)

	)

268 
	#BOUNDED_EQUAL
(
beg
, 
íd
, 
°rög_lôîÆ
) \

269 ((
íd
Ë- (
beg
Ë= (
°rög_lôîÆ
) - 1 \

270 && !
	`memcmp
 (
beg
, 
°rög_lôîÆ
,  (°rög_lôîÆË- 1))

	)

273 
	#BOUNDED_EQUAL_NO_CASE
(
beg
, 
íd
, 
°rög_lôîÆ
) \

274 ((
íd
Ë- (
beg
Ë= (
°rög_lôîÆ
) - 1 \

275 && !
	`°∫ˇ£cmp
 (
beg
, 
°rög_lôîÆ
,  (°rög_lôîÆË- 1))

	)

283 
	#STRDUP_ALLOCA
(
±r
, 
°r
) do { \

284 **
SA_de°
 = &(
±r
); \

285 c⁄° *
SA_§c
 = (
°r
); \

286 *
SA_de°
 = (*)
	`Æloˇ
 (
	`°æí
 (
SA_§c
) + 1); \

287 
	`°r˝y
 (*
SA_de°
, 
SA_§c
); \

288 } 0)

	)

298 
	#DO_REALLOC
(
ba£v¨
, 
sizev¨
, 
√eded_size
, 
ty≥
) do { \

299 
DR_√eded_size
 = (
√eded_size
); \

300 
DR_√wsize
 = 0; \

301 (
sizev¨
Ë< (
DR_√eded_size
)) { \

302 
DR_√wsize
 = 
sizev¨
 << 1; \

303 i‡(
DR_√wsize
 < 16) \

304 
DR_√wsize
 = 16; \

305 (
sizev¨
Ë
DR_√wsize
; \

307 i‡(
DR_√wsize
) \

308 
ba£v¨
 = 
	`xªÆloc
 (ba£v¨, 
DR_√wsize
 *  (
ty≥
)); \

309 } 0)

	)

315 
	#PTR_FORMAT
(
p
Ë(Ë(2 *  (*)), (Ë’)

	)

317 c⁄° *
exec_«me
;

322 
	mTEXTHTML
 = 0x0001,

324 
	mRETROKF
 = 0x0002,

325 
	mHEAD_ONLY
 = 0x0004,

326 
	mSEND_NOCACHE
 = 0x0008,

327 
	mACCEPTRANGES
 = 0x0010,

328 
	mADDED_HTML_EXTENSION
 = 0x0020,

329 
	mTEXTCSS
 = 0x0040

338 
	mNOCONERROR
, 
	mHOSTERR
, 
	mCONSOCKERR
, 
	mCONERROR
, 
	mCONSSLERR
,

339 
	mCONIMPOSSIBLE
, 
	mNEWLOCATION
, 
	mNOTENOUGHMEM
 ,

340 
	mCONPORTERR
 , 
	mCONCLOSED
 ,

342 
	mFTPOK
, 
	mFTPLOGINC
, 
	mFTPLOGREFUSED
, 
	mFTPPORTERR
, 
	mFTPSYSERR
,

343 
	mFTPNSFOD
, 
	mFTPRETROK
 , 
	mFTPUNKNOWNTYPE
, 
	mFTPRERR
, 
	mFTPREXC
 ,

345 
	mFTPSRVERR
, 
	mFTPRETRINT
, 
	mFTPRESTFAIL
, 
	mURLERROR
, 
	mFOPENERR
,

346 
	mFOPEN_EXCL_ERR
, 
	mFWRITEERR
, 
	mHOK
 , 
	mHLEXC
 , 
	mHEOF
,

348 
	mHERR
, 
	mRETROK
, 
	mRECLEVELEXC
, 
	mFTPACCDENIED
 , 
	mWRONGCODE
,

349 
	mFTPINVPASV
, 
	mFTPNOPASV
, 
	mCONTNOTSUPPORTED
, 
	mRETRUNNEEDED
, 
	mRETRFINISHED
,

351 
	mREADERR
, 
	mTRYLIMEXC
, 
	mURLBADPATTERN
 , 
	mFILEBADFILE
 , 
	mRANGEERR
,

352 
	mRETRBADPATTERN
, 
	mRETNOTSUP
 , 
	mROBOTSOK
 , 
	mNOROBOTS
 ,

353 
	mPROXERR
,

355 
	mAUTHFAILED
, 
	mQUOTEXC
, 
	mWRITEFAILED
, 
	mSSLINITFAILED
, 
	mVERIFCERTERR
,

356 
	mUNLINKERR
, 
	mNEWLOCATION_KEEP_POST


357 } 
	tuîr_t
;

373 #ifde‡
__VMS


374 
	#ORIG_SFX
 "_‹ig"

	)

376 
	#ORIG_SFX
 ".‹ig"

	)

385 #i‚de‡
__VMS


386 
	#UNIQ_SEP
 '.'

	)

	@util/trunc.c

10 
	~<î∫o.h
>

11 
	~<f˙é.h
>

12 
	~<sys/°©.h
>

13 
	~<uni°d.h
>

14 
	~<°dlib.h
>

15 
	~<°dio.h
>

17 
	#PROGRAM_NAME
 "åunc"

	)

20 
	$ußge
 (
FILE
 *
f
)

22 
	`Âuts
 (

23 
PROGRAM_NAME
 " [-c] fûêsz\n\
\n\
Åhêfûesizêo‡FILEÅÿSIZE.\n\
\n\
-c: cª©êFILE i‡ô d€¢'àexi°.\n\
\n\
 suffixe†f‹ SIZE (ˇ£-ö£nsôive):\n\
: SIZE * 1024\n\
: SIZE * 1024 * 1024\n", 
f
);

32 
	}
}

34 
off_t


35 
	$gë_size
 (c⁄° 
°r
[])

37 
vÆ
;

38 
suffix
;

39 *
íd
;

41 
î∫o
 = 0;

42 
vÆ
 = 
	`°πoul
(
°r
, &
íd
, 10);

43 i‡(
íd
 =
°r
)

45 
	`Âuts
 (
PROGRAM_NAME
 ": sizêi†nŸáÇumbî.\n", 
°dîr
);

46 
	`ußge
 (
°dîr
);

47 
	`exô
 (
EXIT_FAILURE
);

49 i‡(
î∫o
 =
ERANGE


50 || ()(
off_t
)
vÆ
 != val)

52 
	`Âuts
 (
PROGRAM_NAME
 ": sizêi†ouào‡ønge.\n", 
°dîr
);

53 
	`exô
 (
EXIT_FAILURE
);

56 
suffix
 = 
	`tﬁowî
 ((Ë
íd
[0]);

57 i‡(
suffix
 == 'k')

59 
vÆ
 *= 1024;

61 i‡(
suffix
 == 'm')

63 
vÆ
 *= 1024 * 1024;

66  
vÆ
;

67 
	}
}

70 
	$maö
 (
¨gc
, *
¨gv
[])

72 c⁄° *
‚ame
;

73 c⁄° *
sz°r
;

74 
off_t
 
sz
;

75 
¸óã
 = 0;

76 
›ti⁄
;

77 
fd
;

80 (
›ti⁄
 = 
	`gë›t
 (
¨gc
, 
¨gv
, "c")) != -1)

82 
›ti⁄
) {

84 
¸óã
 = 1;

87 
	`Ârötf
 (
°dîr
, 
PROGRAM_NAME
 ": Unrecognized option `%c'.\n\n",

88 
›t›t
);

89 
	`ußge
 (
°dîr
);

90 
	`exô
 (
EXIT_FAILURE
);

93 
	`ab‹t
();

97 i‡(
¨gv
[
›töd
] =
NULL


98 || 
¨gv
[
›töd
+1] =
NULL


99 || 
¨gv
[
›töd
+2] !
NULL
)

101 
	`ußge
 (
°dîr
);

102 
	`exô
 (
EXIT_FAILURE
);

105 
‚ame
 = 
¨gv
[
›töd
];

106 
sz°r
 = 
¨gv
[
›töd
+1];

108 
sz
 = 
	`gë_size
(
sz°r
);

109 i‡(
¸óã
)

111 
mode_t
 
mode
 = 
S_IRUSR
 | 
S_IWUSR
 | 
S_IRGRP
 | 
S_IWGRP
 | 
S_IROTH
 | 
S_IWOTH
;

112 
fd
 = 
	`›í
(
‚ame
, 
O_WRONLY
 | 
O_CREAT
, 
mode
);

116 
fd
 = 
	`›í
(
‚ame
, 
O_WRONLY
);

119 i‡(
fd
 == -1)

121 
	`≥º‹
 (
PROGRAM_NAME
 ": open");

122 
	`exô
 (
EXIT_FAILURE
);

125 i‡(
	`·runˇã
(
fd
, 
sz
) == -1)

127 
	`≥º‹
 (
PROGRAM_NAME
 ":Åruncate");

128 
	`exô
 (
EXIT_FAILURE
);

132 
	}
}

	@
1
.
0
277
4215
build-aux/snippet/_Noreturn.h
build-aux/snippet/arg-nonnull.h
build-aux/snippet/c++defs.h
build-aux/snippet/warn-on-use.h
lib/accept.c
lib/alignof.h
lib/alloca.c
lib/alloca.h
lib/alloca.in.h
lib/arg-nonnull.h
lib/arpa/inet.h
lib/arpa_inet.in.h
lib/asnprintf.c
lib/asprintf.c
lib/basename-lgpl.c
lib/binary-io.h
lib/bind.c
lib/c++defs.h
lib/c-ctype.c
lib/c-ctype.h
lib/cloexec.c
lib/cloexec.h
lib/close.c
lib/configmake.h
lib/connect.c
lib/dirname-lgpl.c
lib/dirname.h
lib/dosname.h
lib/dup-safer-flag.c
lib/dup-safer.c
lib/dup2.c
lib/errno.in.h
lib/error.c
lib/error.h
lib/exitfail.c
lib/exitfail.h
lib/fatal-signal.c
lib/fatal-signal.h
lib/fcntl.c
lib/fcntl.h
lib/fcntl.in.h
lib/fd-hook.c
lib/fd-hook.h
lib/fd-safer-flag.c
lib/fd-safer.c
lib/float+.h
lib/float.c
lib/float.in.h
lib/fseek.c
lib/fseeko.c
lib/futimens.c
lib/gai_strerror.c
lib/getaddrinfo.c
lib/getdelim.c
lib/getdtablesize.c
lib/getline.c
lib/getopt.c
lib/getopt.h
lib/getopt.in.h
lib/getopt1.c
lib/getopt_int.h
lib/getpass.c
lib/getpass.h
lib/getpeername.c
lib/getsockname.c
lib/gettext.h
lib/gettime.c
lib/gettimeofday.c
lib/glthread/lock.c
lib/glthread/lock.h
lib/glthread/threadlib.c
lib/iconv.in.h
lib/inet_ntop.c
lib/intprops.h
lib/ioctl.c
lib/listen.c
lib/localcharset.c
lib/localcharset.h
lib/lseek.c
lib/lstat.c
lib/malloc.c
lib/mbrtowc.c
lib/mbsinit.c
lib/mbtowc-impl.h
lib/mbtowc.c
lib/md5.c
lib/md5.h
lib/memchr.c
lib/mkdir.c
lib/netdb.h
lib/netdb.in.h
lib/netinet_in.in.h
lib/open.c
lib/pipe-safer.c
lib/pipe.h
lib/pipe2-safer.c
lib/pipe2.c
lib/printf-args.c
lib/printf-args.h
lib/printf-parse.c
lib/printf-parse.h
lib/quote.c
lib/quote.h
lib/quotearg.c
lib/quotearg.h
lib/rawmemchr.c
lib/realloc.c
lib/recv.c
lib/sched.in.h
lib/select.c
lib/send.c
lib/setsockopt.c
lib/sig-handler.h
lib/sigaction.c
lib/signal.h
lib/signal.in.h
lib/sigprocmask.c
lib/size_max.h
lib/snprintf.c
lib/socket.c
lib/sockets.c
lib/sockets.h
lib/spawn-pipe.c
lib/spawn-pipe.h
lib/spawn.h
lib/spawn.in.h
lib/spawn_faction_addclose.c
lib/spawn_faction_adddup2.c
lib/spawn_faction_addopen.c
lib/spawn_faction_destroy.c
lib/spawn_faction_init.c
lib/spawn_int.h
lib/spawnattr_destroy.c
lib/spawnattr_init.c
lib/spawnattr_setflags.c
lib/spawnattr_setsigmask.c
lib/spawni.c
lib/spawnp.c
lib/stat-time.h
lib/stat.c
lib/stdbool.in.h
lib/stddef.in.h
lib/stdint.h
lib/stdint.in.h
lib/stdio-impl.h
lib/stdio-write.c
lib/stdio.h
lib/stdio.in.h
lib/stdlib.h
lib/stdlib.in.h
lib/str-two-way.h
lib/strcasestr.c
lib/strchrnul.c
lib/streq.h
lib/strerror-override.c
lib/strerror-override.h
lib/strerror.c
lib/strerror_r.c
lib/string.h
lib/string.in.h
lib/stripslash.c
lib/sys/ioctl.h
lib/sys/select.h
lib/sys/socket.h
lib/sys/stat.h
lib/sys/time.h
lib/sys/uio.h
lib/sys/wait.h
lib/sys_ioctl.in.h
lib/sys_select.in.h
lib/sys_socket.in.h
lib/sys_stat.in.h
lib/sys_time.in.h
lib/sys_uio.in.h
lib/sys_wait.in.h
lib/time.h
lib/time.in.h
lib/timespec.h
lib/unistd--.h
lib/unistd-safer.h
lib/unistd.h
lib/unistd.in.h
lib/unlocked-io.h
lib/utimens.c
lib/utimens.h
lib/vasnprintf.c
lib/vasnprintf.h
lib/vasprintf.c
lib/verify.h
lib/w32sock.h
lib/w32spawn.h
lib/wait-process.c
lib/wait-process.h
lib/waitpid.c
lib/warn-on-use.h
lib/wchar.h
lib/wchar.in.h
lib/wctype.h
lib/wctype.in.h
lib/write.c
lib/xalloc-die.c
lib/xalloc-oversized.h
lib/xalloc.h
lib/xmalloc.c
lib/xsize.h
msdos/config.h
src/build_info.c
src/cmpt.c
src/config.h
src/connect.c
src/connect.h
src/convert.c
src/convert.h
src/cookies.c
src/cookies.h
src/css-tokens.h
src/css-url.c
src/css-url.h
src/css.c
src/css.l
src/exits.c
src/exits.h
src/ftp-basic.c
src/ftp-ls.c
src/ftp-opie.c
src/ftp.c
src/ftp.h
src/gettext.h
src/gnutls.c
src/hash.c
src/hash.h
src/host.c
src/host.h
src/html-parse.c
src/html-parse.h
src/html-url.c
src/html-url.h
src/http-ntlm.c
src/http-ntlm.h
src/http.c
src/http.h
src/init.c
src/init.h
src/iri.c
src/iri.h
src/log.c
src/log.h
src/main.c
src/mswindows.c
src/mswindows.h
src/netrc.c
src/netrc.h
src/openssl.c
src/options.h
src/progress.c
src/progress.h
src/ptimer.c
src/ptimer.h
src/recur.c
src/recur.h
src/res.c
src/res.h
src/retr.c
src/retr.h
src/spider.c
src/spider.h
src/ssl.h
src/sysdep.h
src/test.c
src/test.h
src/url.c
src/url.h
src/utils.c
src/utils.h
src/version.c
src/wget.h
util/trunc.c
